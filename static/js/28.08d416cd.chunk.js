(this["webpackJsonpmelodition-typescript"]=this["webpackJsonpmelodition-typescript"]||[]).push([[28],{297:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(106),c=a(9),r=a(26),i=a(298),o=a(302),s=a(23),u=function(e){return function(t,a){e.guide;var u=Object(n.a)(e,["guide"]),m=a().bank.guides.data.find((function(t){return t.id===e.guide}));(null===m||void 0===m?void 0:m.guide_select)?(t({type:c.e.GUIDE,data:m}),t({type:c.d.COURSES,data:l(m.guide_select)}),t({type:c.d.EXERCISES,data:d(m.guide_select)}),e.course&&t(Object(i.a)(u)),e.exercise&&t(Object(o.a)(u))):(t({type:c.c.GUIDE}),r.a.get("/lesson/v2/guide?id=".concat(e.guide)).then((function(a){t({type:c.e.GUIDE,data:a.data[0]}),t({type:c.d.GUIDES,data:a.data}),t({type:c.d.COURSES,data:l(a.data[0].guide_select)}),t({type:c.d.EXERCISES,data:d(a.data[0].guide_select)}),e.course&&t(Object(i.a)(u)),e.exercise&&t(Object(o.a)(u))})).catch((function(e){return Object(s.a)(e,c.b.GUIDE)})))}},l=function(e){var t=[];return e.map((function(e){var a;return null===(a=e.course)||void 0===a?void 0:a.map((function(e){return t.push(e)}))})),t},d=function(e){var t=[];return e.map((function(e){var a;return null===(a=e.exercise)||void 0===a?void 0:a.map((function(e){return t.push(e)}))})),t}},298:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(106),c=a(9),r=a(26),i=a(297),o=a(307),s=a(302),u=a(23),l=function(e){return function(t,a){var l=a().bank.courses.data.find((function(t){return t.id===e.course})),m=(e.course,Object(n.a)(e,["course"]));if(null===l||void 0===l?void 0:l.course_select){var p=d(l.course_select),E=p.lessons,f=p.exercises;t({type:c.e.COURSE,data:l}),t({type:c.d.LESSONS,data:E}),t({type:c.d.EXERCISES,data:f}),e.lesson&&t(Object(o.a)(m)),e.exercise&&t(Object(s.a)(m))}else e.guide?t(Object(i.a)(e)):l||(t({type:c.c.COURSE}),r.a.get("/lesson/v2/course?id=".concat(e.course)).then((function(a){var n=d(a.data[0].course_select),r=n.lessons,i=n.exercises;t({type:c.e.COURSE,data:a.data[0]}),t({type:c.d.COURSES,data:a.data}),t({type:c.d.LESSONS,data:r}),t({type:c.d.EXERCISES,data:i}),e.lesson&&t(Object(o.a)(m)),e.exercise&&t(Object(s.a)(m))})).catch((function(e){return Object(u.a)(e,c.b.COURSE)})))}},d=function(e){var t=[],a=[];return e.map((function(e){var n;return"Exercise"===(null===(n=e.info.genre)||void 0===n?void 0:n.name)?a.push(e):t.push(e)})),{lessons:t,exercises:a}}},302:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(26),c=a(297),r=a(298),i=a(41),o=a(23),s=a(9),u=function(e){return function(t,a){var u=a().bank.exercises.data.find((function(t){return t.id===e.exercise}));u?(t({type:i.g}),t({type:s.e.EXERCISE,data:u})):e.guide?t(Object(c.a)(e)):e.course?t(Object(r.a)(e)):u||(t({type:s.c.EXERCISE}),n.a.get("/lesson/v2?id=".concat(e.exercise)).then((function(e){t({type:i.g}),t({type:s.e.EXERCISE,data:e.data[0]}),t({type:s.d.EXERCISES,data:e.data})})).catch((function(e){return Object(o.a)(e,s.b.EXERCISE)})))}}},307:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(26),c=a(297),r=a(298),i=a(23),o=a(9),s=function(e){return function(t,a){var s=a().bank.lessons.data.find((function(t){return t.id===e.lesson}));s?t({type:o.e.LESSON,data:s}):e.guide?t(Object(c.a)(e)):e.course?t(Object(r.a)(e)):s||(t({type:o.c.LESSON}),n.a.get("/lesson/v2?id=".concat(e.lesson)).then((function(e){t({type:o.e.LESSON,data:e.data[0]}),t({type:o.d.LESSONS,data:e.data})})).catch((function(e){return Object(i.a)(e,o.b.LESSON)})))}}},489:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(56),r=a(57),i=a(59),o=a(58),s=a(12),u=a(0),l=a.n(u),d=a(33),m=a(22),p=a(243),E=a(252),f=a(270),b=a(196),g=a(1),h=a(4),v=(a(5),a(3)),O=a(6),y=a(46),j=u.forwardRef((function(e,t){var a=e.classes,n=e.className,c=Object(h.a)(e,["classes","className"]),r=u.useContext(y.a);return u.createElement("div",Object(g.a)({className:Object(v.a)(a.root,n,"flex-start"===r.alignItems&&a.alignItemsFlexStart),ref:t},c))})),S=Object(O.a)({root:{minWidth:56,flexShrink:0},alignItemsFlexStart:{marginTop:8}},{name:"MuiListItemAvatar"})(j),x=a(292),C=a(197),I=a(286),N=a(263),R=a(76),k=a(38),U=a(297),_=a(24),X=a(247),w=a(248),L=a(249),D=a(250),G=a(143),F=a(21),M=Object(G.a)((function(e){return{root:{width:300,height:260,margin:e.spacing(1)},cardAction:{justifyContent:"space-between",margin:"inherit"},content:{minHeight:130},rightChip:{position:"absolute",cursor:"pointer",margin:e.spacing(1),backgroundColor:"green"},leftChip:{position:"absolute",right:0,cursor:"pointer",margin:e.spacing(1)}}})),H=function(e){var t,a=e.index,n=e.type,c=e.courseItem,r=e.path,i=M(),o=c.title,s=c.id,u=c.thumbnails,d=c.info;return l.a.createElement(X.a,{className:i.root},l.a.createElement(w.a,{onClick:function(e){F.b.dispatch(Object(_.e)(r+"/"+n+s))}},l.a.createElement(C.a,{label:a+1,className:i.rightChip}),l.a.createElement(C.a,{label:null===(t=d.grade)||void 0===t?void 0:t.name,className:i.leftChip,color:"secondary"}),l.a.createElement(L.a,{component:"img",alt:o,height:"130",image:Object(k.g)(u),title:o}),l.a.createElement(D.a,{className:i.content},l.a.createElement(R.a,{gutterBottom:!0,variant:"body1",component:"h6"},o))))},q=function(e){var t,a=e.exerciseItem,n=e.index,c=e.type,r=e.path,i=M(),o=a.title,s=a.id,u=a.thumbnails,d=a.info;return l.a.createElement(X.a,{className:i.root},l.a.createElement(w.a,{onClick:function(e){F.b.dispatch(Object(_.e)(r+"/"+c+s))}},l.a.createElement(C.a,{label:n+1,className:i.rightChip}),l.a.createElement(C.a,{label:null===(t=d.grade)||void 0===t?void 0:t.name,className:i.leftChip,color:"secondary"}),l.a.createElement(L.a,{component:"img",alt:o,height:"130",image:Object(k.g)(u),title:o}),l.a.createElement(D.a,{className:i.content},l.a.createElement(R.a,{gutterBottom:!0,variant:"body1",component:"h6"},o))))},A=a(61),B=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.e)(this.props.pathname);e.guide&&this.props.requestGuide(e)}},{key:"render",value:function(){var e,t=this.props,a=t.classes,n=t.data,c=t.loading,r=t.error,i=t.pathname,o=0;return l.a.createElement(E.a,{container:!0,justify:"center",className:a.root},c?l.a.createElement(A.a,null):n?null===(e=n.guide_select)||void 0===e?void 0:e.map((function(e,t){var a;return l.a.createElement(f.a,{key:t},e.exercise&&l.a.createElement(l.a.Fragment,null,l.a.createElement(b.a,null,l.a.createElement(S,null,l.a.createElement(x.a,null,l.a.createElement(C.a,{label:++o,color:"secondary"}))),l.a.createElement(I.a,{primary:k.f[o],secondary:e.exercise_description})),l.a.createElement(N.a,{variant:"inset",component:"li"}),l.a.createElement(E.a,{container:!0,justify:"center"},e.exercise.map((function(e,t){return l.a.createElement(q,{key:t,index:t,type:"exercise=",path:i,exerciseItem:e})})))),e.course&&l.a.createElement(l.a.Fragment,null,l.a.createElement(b.a,null,l.a.createElement(S,null,l.a.createElement(x.a,null,l.a.createElement(C.a,{label:++o,color:"secondary"}))),l.a.createElement(I.a,{primary:k.f[o],secondary:e.course_description})),l.a.createElement(N.a,{variant:"inset",component:"li"}),l.a.createElement(E.a,{container:!0,justify:"center"},null===(a=e.course)||void 0===a?void 0:a.map((function(e,t){return l.a.createElement(H,{key:t,index:t,type:"course=",path:i,courseItem:e})})))))})):l.a.createElement(R.a,{component:"div",className:a.autoMargin},r))}}]),a}(u.Component);t.default=Object(d.c)((function(e,t){return Object(n.a)({pathname:e.router.location.pathname,classes:t.classes},e.single.guide)}),(function(e){return{requestGuide:Object(m.b)(U.a,e)}}))(Object(O.a)((function(e){var t;return Object(p.a)({root:(t={width:"99vw",minHeight:"calc(100vh - 128px)"},Object(s.a)(t,e.breakpoints.down("xs"),{minHeight:"calc(100vh - 112px)",padding:e.spacing(1)}),Object(s.a)(t,"padding",e.spacing(2)),Object(s.a)(t,"display","flex"),Object(s.a)(t,"flexDirection","column"),t),autoMargin:{margin:"auto"}})}))(B))}}]);
//# sourceMappingURL=28.08d416cd.chunk.js.map