(this["webpackJsonpmelodition-typescript"]=this["webpackJsonpmelodition-typescript"]||[]).push([[20],{436:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(205),c=a(92),r=a(41),i=a(437),o=a(438),s=a(87),u=a(89),d=a(32),l=function(e){return function(t,a){e.guide;var l=Object(n.a)(e,["guide"]),f=a().bank.guides.data.find((function(t){return t.id===e.guide}));f?(t({type:c.f,data:f}),t({type:u.e,data:p(f.guide_select)}),t({type:s.e,data:m(f.guide_select)}),e.course&&t(Object(i.a)(l)),e.exercise&&t(Object(o.a)(l))):(t({type:c.c}),r.a.get("/lesson/v2/guide?id=".concat(e.guide)).then((function(a){t({type:c.f,data:a.data[0]}),t({type:c.e,data:a.data}),t({type:u.e,data:p(a.data[0].guide_select)}),t({type:s.e,data:m(a.data[0].guide_select)}),e.course&&t(Object(i.a)(l)),e.exercise&&t(Object(o.a)(l))})).catch((function(e){return Object(d.a)(e,c.a)})))}},p=function(e){var t=[];return e.map((function(e){var a;return null===(a=e.course)||void 0===a?void 0:a.map((function(e){return t.push(e)}))})),t},m=function(e){var t=[];return e.map((function(e){var a;return null===(a=e.exercise)||void 0===a?void 0:a.map((function(e){return t.push(e)}))})),t}},437:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(205),c=a(89),r=a(41),i=a(436),o=a(439),s=a(438),u=a(87),d=a(88),l=a(32),p=function(e){return function(t,a){var p=a().bank.courses.data.find((function(t){return t.id===e.course})),f=(e.course,Object(n.a)(e,["course"]));if(p){var g=m(p.course_select);t({type:c.f,data:p}),t({type:d.e,data:g.lessons}),t({type:u.e,data:g.exercises}),e.lesson&&t(Object(o.a)(f)),e.exercise&&t(Object(s.a)(f))}else e.guide?t(Object(i.a)(e)):p||(t({type:c.c}),r.a.get("/lesson/v2/course?id=".concat(e.course)).then((function(a){var n=m(a.data[0].course_select);t({type:c.f,data:a.data[0]}),t({type:c.e,data:a.data}),t({type:d.e,data:n.lessons}),t({type:u.e,data:n.exercises}),e.lesson&&t(Object(o.a)(f)),e.exercise&&t(Object(s.a)(f))})).catch((function(e){return Object(l.a)(e,c.a)})))}},m=function(e){var t=[],a=[];return e.map((function(e){return"Exercise"===e.info.genre.name?a.push(e):t.push(e)})),{lessons:t,exercises:a}}},438:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(87),c=a(41),r=a(436),i=a(437),o=a(31),s=a(32),u=function(e){return function(t,a){var u=a().bank.exercises.data.find((function(t){return t.id===e.exercise}));u?(t({type:o.g}),t({type:n.f,data:u})):e.guide?t(Object(r.a)(e)):e.course?t(Object(i.a)(e)):u||(t({type:n.c}),c.a.get("/lesson/v2?id=".concat(e.exercise)).then((function(e){t({type:o.g}),t({type:n.f,data:e.data[0]}),t({type:n.e,data:e.data})})).catch((function(e){return Object(s.a)(e,n.a)})))}}},439:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(88),c=a(41),r=a(436),i=a(437),o=a(32),s=function(e){return function(t,a){var s=a().bank.lessons.data.find((function(t){return t.id===e.lesson}));s?t({type:n.f,data:s}):e.guide?t(Object(r.a)(e)):e.course?t(Object(i.a)(e)):s||(t({type:n.c}),c.a.get("/lesson/v2?id=".concat(e.lesson)).then((function(e){t({type:n.f,data:e.data[0]}),t({type:n.e,data:e.data})})).catch((function(e){return Object(o.a)(e,n.a)})))}}},470:function(e,t,a){"use strict";a.r(t);var n=a(3),c=a(14),r=a(18),i=a(24),o=a(23),s=a(12),u=a(0),d=a.n(u),l=a(15),p=a(11),m=a(315),f=a(370),g=a(367),b=a(86),h=a(5),j=a(36),v=a(437),O=a(45),y=a(365),x=a(366),E=a(430),k=a(368),w=a(320),C=a(20),N=Object(w.a)((function(e){return Object(m.a)({root:{maxHeight:280,width:"100%",margin:e.spacing(1)},content:{minHeight:130},rightChip:{position:"absolute",cursor:"pointer",margin:e.spacing(1),backgroundColor:"green"}})})),_=function(e){var t=e.type,a=e.courseItem,n=e.path,c=N(),r=a.title,i=a.id,o=a.featured_img,s=a.info;return d.a.createElement(y.a,{className:c.root},d.a.createElement(x.a,{onClick:function(e){var a="Exercise"===t?"exercise":"lesson";C.b.dispatch(Object(O.e)(n+"/"+a+"="+i))}},d.a.createElement(f.a,{container:!0},d.a.createElement(f.a,{item:!0,lg:4,xs:4,sm:4,xl:4},d.a.createElement(E.a,{label:s.grade.name,className:c.rightChip}),d.a.createElement(g.a,{component:"img",alt:r,height:"200",image:Object(j.g)(o),title:r})),d.a.createElement(f.a,{item:!0,lg:8,xs:8,sm:8,xl:8},d.a.createElement(k.a,{className:c.content},d.a.createElement(b.a,{gutterBottom:!0,variant:"body1",component:"h6"},r))))))},H=a(40),M=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=Object(j.e)(this.props.pathname);this.props.requestCourse(e)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.data,n=e.loading,c=e.error,r=e.pathname;return d.a.createElement(f.a,{container:!0,justify:"center",className:t.root},n?d.a.createElement(H.a,null):a?d.a.createElement(f.a,{container:!0,spacing:2},d.a.createElement(f.a,{item:!0,lg:6,md:6,xl:6,xs:12},d.a.createElement("div",{className:t.content},d.a.createElement(g.a,{image:Object(j.g)(a.thumbnails),className:t.image}),d.a.createElement(b.a,{gutterBottom:!0,variant:"body1",component:"h6",className:t.text},a.description))),d.a.createElement(f.a,{item:!0,lg:6,md:6,xl:6,xs:12},d.a.createElement(f.a,{container:!0,justify:"flex-end"},null===a||void 0===a?void 0:a.course_select.map((function(e,t){return d.a.createElement(_,{key:t,type:e.info.genre.name,path:r,courseItem:e})}))))):d.a.createElement(b.a,{component:"div",className:t.autoMargin},c))}}]),a}(u.Component);t.default=Object(l.c)((function(e,t){return Object(n.a)({classes:t.classes,pathname:e.router.location.pathname},e.single.course)}),(function(e){return{requestCourse:Object(p.b)(v.a,e)}}))(Object(h.a)((function(e){var t,a;return Object(m.a)({root:(t={width:"99vw",minHeight:"calc(100vh - 128px)"},Object(s.a)(t,e.breakpoints.down("xs"),{minHeight:"calc(100vh - 112px)",padding:e.spacing(1)}),Object(s.a)(t,"padding",e.spacing(2)),Object(s.a)(t,"display","flex"),Object(s.a)(t,"flexDirection","column"),Object(s.a)(t,"justifyContent","flex-start"),t),autoMargin:{margin:"auto"},content:(a={position:"relative",minHeight:"calc(100vh - 160px)"},Object(s.a)(a,e.breakpoints.down("sm"),{minHeight:"100%"}),Object(s.a)(a,"border","1px solid ".concat(e.palette.secondary.main)),Object(s.a)(a,"height","100%"),Object(s.a)(a,"width","100%"),a),text:{padding:20},image:{width:"100%",height:"100%",opacity:"0.3",position:"absolute"}})}))(M))}}]);
//# sourceMappingURL=20.dcebb36a.chunk.js.map