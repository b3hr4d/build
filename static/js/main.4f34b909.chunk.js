(this["webpackJsonpmelodition-typescript"]=this["webpackJsonpmelodition-typescript"]||[]).push([[17],{123:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u}));var a=n(13),r=n(19),i=[1,2,4,6,7,9,11,13,14,16,18,19,21,23,25,26,28,30,31,33,35,37,38,40,42],o=[0,2,4,6,7,9,11,12,14,16,18,19,21,23,24,26,28,30,31,33,35,36,38,40,42,43,45,47],s=function(e){var t=e%12,n="C";return 1===t&&(n="Db"),2===t&&(n="D"),3===t&&(n="Eb"),4===t&&(n="E"),5===t&&(n="F"),6===t&&(n="Gb"),7===t&&(n="G"),8===t&&(n="Ab"),9===t&&(n="A"),10===t&&(n="Bb"),11===t&&(n="B"),""+n},l=function(e){return 101===e||81===e||60===e||40===e},c={z:48,s:49,x:50,d:51,c:52,v:53,g:54,b:55,h:56,n:57,j:58,m:59,",":60,l:61,".":62,";":63,"/":64,q:65,2:66,w:67,3:68,e:69,4:70,r:71,t:72,6:73,y:74,7:75,u:76,i:77,9:78,o:79,0:80,p:81,"-":82,"[":83,"]":84},u=function e(){var t=this;Object(a.a)(this,e),this.isDown=!1,this.playedKey=void 0,this.keyboardUp=function(e){var n=e.key;if(c.hasOwnProperty(n)){var a=c[n];Object(r.h)(a),t.playedKey=null}},this.keyboardDown=function(e){var n=e.key;if(c.hasOwnProperty(n)&&n!==t.playedKey){var a=c[n];Object(r.i)(a),t.playedKey=n}},this.mouseUpReset=function(){t.isDown=!1},this.mouseDown=function(e){e.preventDefault();var n=e.currentTarget.tabIndex;t.isDown=!0,t.playedKey=n,Object(r.i)(n)},this.mouseOver=function(e){e.preventDefault();var n=e.currentTarget.tabIndex;t.isDown&&n!==t.playedKey&&(t.playedKey=n,Object(r.i)(n))},this.mouseLeave=function(e){e.preventDefault();var n=e.currentTarget.tabIndex;t.isDown&&(Object(r.h)(n),t.playedKey=null)},this.mouseUp=function(e){e.preventDefault();var n=e.currentTarget.tabIndex;t.isDown=!1,Object(r.h)(n),t.playedKey=null}}},146:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var a="REQUEST_FAVORITES",r="SUCCESS_FAVORITES",i="FAILURE_FAVORITES"},180:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(52),r=n(0),i=n.n(r),o=n(178),s=n(286),l=n(287),c=n(19),u=function(e){var t=e.loading,n=Object(r.useState)(!1),u=Object(a.a)(n,2),d=u[0],f=u[1],h=function(){d?(Object(c.o)(),f(!1)):(Object(c.n)(),f(!0))},m=function(e){"Space"!==e.code||t||h()};return Object(r.useEffect)((function(){return document.addEventListener("keyup",m),function(){document.removeEventListener("keyup",m)}})),i.a.createElement(o.a,{id:"play-button",color:"secondary","aria-label":"play song",onClick:h},d?i.a.createElement(s.a,{style:{fontSize:"1.8em"}}):i.a.createElement(l.a,{style:{fontSize:"1.8em"}}))}},181:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(15),o=n(10),s=n(19),l=n(282),c=n(289),u=n(123),d=[{note:"C",xPos:47,yPos:210,id:"white",front:"M0.5 0.5H42.5V155.5C42.5 156.881 43.6193 158 45 158H79.5V245C79.5 247.485 77.4853 249.5 75 249.5H5C2.51472 249.5 0.5 247.485 0.5 245V0.5Z"},{note:"Db",xPos:77,yPos:100,id:"black",front:"M95 0H45V153C45 154.105 45.8954 155 47 155H93C94.1046 155 95 154.105 95 153V0Z",back:"M79 130H61C52 130 52 150 52 150H88C88 150 88 130 79 130Z"},{note:"D",xPos:130,yPos:210,id:"white",front:"M150.5 0.5H97.5V155.5C97.5 156.881 96.3807 158 95 158H84.5V245C84.5 247.485 86.5147 249.5 89 249.5H159C161.485 249.5 163.5 247.485 163.5 245V158H153C151.619 158 150.5 156.881 150.5 155.5V0.5Z"},{note:"Eb",xPos:185,yPos:100,id:"black",front:"M203 0H153V153C153 154.105 153.895 155 155 155H201C202.105 155 203 154.105 203 153V0Z",back:"M187 130H169C160 130 160 150 160 150H196C196 150 196 130 187 130Z"},{note:"E",xPos:214,yPos:210,id:"white",front:"M247.5 0.5H205.5V155.5C205.5 156.881 204.381 158 203 158H168.5V245C168.5 247.485 170.515 249.5 173 249.5H243C245.485 249.5 247.5 247.485 247.5 245V0.5Z"},{note:"F",xPos:298,yPos:210,id:"white",front:"M252.5 0.5H291.5V155.5C291.5 156.881 292.619 158 294 158H331.5V245C331.5 247.485 329.485 249.5 327 249.5H257C254.515 249.5 252.5 247.485 252.5 245V0.5Z"},{note:"Gb",xPos:327,yPos:100,id:"black",front:"M344 0H294V153C294 154.105 294.895 155 296 155H342C343.105 155 344 154.105 344 153V0Z",back:"M328 130H310C301 130 301 150 301 150H337C337 150 337 130 328 130Z"},{note:"G",xPos:383,yPos:210,id:"white",front:"M390.5 0.5H346.5V155.5C346.5 156.881 345.381 158 344 158H336.5V245C336.5 247.485 338.515 249.5 341 249.5H411C413.485 249.5 415.5 247.485 415.5 245V158H393C391.619 158 390.5 156.881 390.5 155.5V0.5Z"},{note:"Ab",xPos:427,yPos:100,id:"black",front:"M443 0H393V153C393 154.105 393.895 155 395 155H441C442.105 155 443 154.105 443 153V0Z",back:"M427 130H409C400 130 400 150 400 150H436C436 150 436 130 427 130Z"},{note:"A",xPos:466,yPos:210,id:"white",front:"M491.5 0.5H445.5V155.5C445.5 156.881 444.381 158 443 158H420.5V245C420.5 247.485 422.515 249.5 425 249.5H495C497.485 249.5 499.5 247.485 499.5 245V158H494C492.619 158 491.5 156.881 491.5 155.5V0.5Z"},{note:"Bb",xPos:526,yPos:100,id:"black",front:"M544 0H494V153C494 154.105 494.895 155 496 155H542C543.105 155 544 154.105 544 153V0Z",back:"M528 130H510C501 130 501 150 501 150H537C537 150 537 130 528 130Z"},{note:"B",xPos:551,yPos:210,id:"white",front:"M583.5 0.5H546.5V155.5C546.5 156.881 545.381 158 544 158H504.5V245C504.5 247.485 506.515 249.5 509 249.5H579C581.485 249.5 583.5 247.485 583.5 245V0.5Z"},{note:"last",xPos:637,yPos:210,id:"white",front:"M663 249.5H593C590.515 249.5 588.5 247.485 588.5 245V0.5H667.5V245C667.5 247.485 665.485 249.5 663 249.5Z"}],f=Object(l.a)((function(e){return Object(c.a)({root:{display:"flex",flexDirection:"row-reverse",justifyContent:"center",flexWrap:"nowrap",margin:"0 auto",minWidth:"215px",width:"100%",cursor:"default","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"},back:{margin:e.spacing(0,2)}})})),h=Object(i.c)((function(e){return{theme:e.auth.theme,Melo:e.melodition}}),(function(e){return{drawGamePiano:Object(o.b)(s.g,e),drawNotePiano:Object(o.b)(s.j,e)}}))((function(e){e.theme;var t=e.Melo,n=e.drawGamePiano,i=e.drawNotePiano,o=new u.a,s=o.keyboardDown,l=o.keyboardUp,c=o.mouseUpReset,h=o.mouseDown,m=o.mouseUp,p=o.mouseLeave,g=o.mouseOver,b=36,v=36,_={};Object(a.useEffect)((function(){return document.addEventListener("keydown",s),document.addEventListener("keyup",l),document.addEventListener("mouseup",c),function(){document.removeEventListener("keydown",s),document.removeEventListener("keyup",l)}}));var y,E=f(),O=function(e){if(e){var t=e.tabIndex;_[t]=e}};return(y=t.octave)>6?(b=24,v=24):y>3?(b=36,v=36):y>1?(b=48,v=48):(b=60,v=60),r.a.createElement("div",{ref:function(e){if(e&&t.pianoLoading){var a=e.getBoundingClientRect(),r=a.width,o=Math.floor(window.innerHeight-(a.height+64));if(t.playMode){var s=function(e){return e/16}(o),l=4*s+8,c=a.left;n(_,{width:r,height:o,baseLine:l,pianoLeft:c},s)}else if(t.noteMode&&t.neededLines){var d=t.neededLines.up>83?102:83,f=t.neededLines.down<58||t.neededLines.up>83?28:16,h=d>83?u.e:u.b,m=o/2.1/(f/2),p=r/(t.neededLines.notes+2),g=.5*p<7?7:.5*p>12?12:.5*p,b=Array.from(Array(f),(function(e,t){return d-h[t]})),v={};b.forEach((function(e,t){var n=(t+1)*m/2;v[e]={pos:n,note:Object(u.d)(e)},v[e-1]={pos:n,note:Object(u.d)(e-1)}})),i(_,{width:r,height:o/2.1,tapSize:m,spaceSize:p,fontSize:g,linesArray:b,notePos:v})}else n(_)}},className:E.root},Array.from(Array(t.octave),(function(e,t){return"oct"+(t+1)})).map((function(e,n){var a=t.octave-n===1?668:584;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",id:e,key:e,width:a,height:"100%",viewBox:"0 0 ".concat(a," 275"),fill:"none",style:n!==t.octave-1?{marginRight:8/t.octave}:void 0},d.map((function(a,i){var o,s=d.length,l=b===v?"first":a.note;t.octave-n===1&&s++;var c="white"===a.id?"#B5B5B5":void 0,u="white"===a.id?"black":"rgb(255 255 255 / 65%)",f=null===(o=t.neededTracks)||void 0===o?void 0:o.some((function(e){return e.pitch+36===b})),_="white"===a.id?a.xPos:a.xPos+6;return s!==i+1&&r.a.createElement("g",{id:a.id,ref:O,onMouseUp:m,onMouseOver:g,onMouseDown:h,onMouseLeave:p,key:e+"-"+a.note,className:l,tabIndex:b},r.a.createElement("path",{id:"back",d:a.front,fill:a.id,stroke:c}),"white"!==a.id&&r.a.createElement("path",{id:"front",d:a.back,fill:u}),f&&r.a.createElement(r.a.Fragment,null,r.a.createElement("text",{id:"front",x:_,y:a.yPos,fill:u,fontSize:"25"},a.note),r.a.createElement("circle",{cx:a.xPos-8,cy:a.yPos+15,r:"4",stroke:u,strokeWidth:"3"})),60===b++&&r.a.createElement("polygon",{points:"30,265 40,255 50,265",fill:"black"}))})))})))}));t.a=h},187:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(49),r=n(56),i=n(50),o=n(51),s=function(){return function(e,t){var n=t().bank.posts,s=Object(r.b)()-n.nextLoad;n.data&&s<=0||(e({type:a.d}),o.a.get("/post/v2").then((function(t){return e({type:a.f,payload:{data:t.data,nextLoad:Object(r.b)(10)}})})).catch((function(e){return Object(i.a)(e,a.b)})))}},l=function(e){return function(t,n){var r=n().bank.posts.data,s=null===r||void 0===r?void 0:r.find((function(t){return t.id===e}));s?t({type:a.e,data:s}):(t({type:a.c}),o.a.get("/post/v2?id=".concat(e)).then((function(e){return t({type:a.e,data:e.data[0]})})).catch((function(e){return Object(i.a)(e,a.a)})))}}},19:function(e,t,n){"use strict";n.d(t,"k",(function(){return M})),n.d(t,"g",(function(){return V})),n.d(t,"j",(function(){return U})),n.d(t,"c",(function(){return z})),n.d(t,"f",(function(){return F})),n.d(t,"d",(function(){return D})),n.d(t,"e",(function(){return q})),n.d(t,"m",(function(){return H})),n.d(t,"l",(function(){return W})),n.d(t,"b",(function(){return K})),n.d(t,"a",(function(){return Z})),n.d(t,"n",(function(){return Q})),n.d(t,"o",(function(){return X})),n.d(t,"i",(function(){return J})),n.d(t,"h",(function(){return Y}));var a=n(21),r=n(122),i=n.n(r),o=n(3),s=n(157),l=n(13),c=n(74),u=function e(t){var n=this;Object(l.a)(this,e),this.volume=1,this.tracks=[],this.analyserNode=void 0,this.sampleNodes=[],this.masterVolumeNode=void 0,this.paused=!0,this.muted=!1,this.loopEndTime=null,this.loopMode=!1,this.loopStartTime=null,this.audioContext=void 0,this.trackVolumeNodes=[],this.elapsedTimeSinceStart=null,this.decodedAudioBuffers=[],this.addTrack=function(e){n.tracks.push({decodedBuffer:e.buffer,peaks:null,volume:e.vol,panning:0,muted:!1,solo:!1,sampleNode:null,volumeNode:null})},this.loadBuffer=function(){var e=Object(s.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n,e.next=3,n.audioContext.decodeAudioData(t.buffer,(function(e){e||Promise.reject("error decoding file data: "),n.decodedAudioBuffers=[].concat(Object(c.a)(n.decodedAudioBuffers),[e]),n.addTrack({buffer:e,vol:t.vol}),Promise.resolve(a)}),(function(e){return Promise.reject(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.buildGraph=function(){for(var e=[],t=0;t<n.decodedAudioBuffers.length;t++){var a=n.decodedAudioBuffers[t];e[t]=n.audioContext.createBufferSource(),e[t].buffer=a,n.trackVolumeNodes[t]=n.audioContext.createGain(),n.trackVolumeNodes[t]&&(n.trackVolumeNodes[t].gain.value=n.tracks[t].volume),e[t].connect(n.trackVolumeNodes[t]),n.trackVolumeNodes[t].connect(n.masterVolumeNode),n.masterVolumeNode.connect(n.analyserNode),n.analyserNode.connect(n.audioContext.destination)}n.sampleNodes=e},this.play=function(e){n.buildGraph(),n.setTrackVolumesDependingOnMuteSoloStatus(),n.elapsedTimeSinceStart=e,n.sampleNodes.forEach((function(t){t.start(0,e)})),n.paused=!1},this.stop=function(){!0!==n.paused&&(n.sampleNodes.forEach((function(e){e.stop(0)})),n.paused=!0)},this.pause=function(){n.paused?n.play(n.elapsedTimeSinceStart):n.stop()},this.setVolume=function(e){n.volume=e,n.masterVolumeNode.gain.value=e},this.setMasterVolume=function(e){var t;t=void 0===e?.8:e/100,n.setVolume(t*t)},this.setVolumeOfTrack=function(e,t){void 0!==n.trackVolumeNodes[t]&&(n.trackVolumeNodes[t].gain.value=e,n.tracks[t].volume=e)},this.getUrlsOfTracks=function(){var e=[];return n.tracks.forEach((function(t){e.push(t.url)})),e},this.getDuration=function(){if(void 0!==n.decodedAudioBuffers){for(var e=0,t=0;t<n.decodedAudioBuffers.length;t++)e<n.decodedAudioBuffers[t].duration&&(e=n.decodedAudioBuffers[t].duration);return e}},this.getNbTracks=function(){return n.tracks.length},this.toggleLoopMode=function(){n.loopMode=!n.loopMode},this.toggleMute=function(){n.muted=!n.muted,n.muted?n.masterVolumeNode.gain.value=0:n.masterVolumeNode.gain.value=n.volume},this.togglePause=function(){n.paused=!n.paused},this.setTrackVolumesDependingOnMuteSoloStatus=function(){for(var e=!1,t=n.getNbTracks(),a=0;a<t;a++)if(n.tracks[a].solo){e=!0;break}if(e)for(var r=0;r<t;r++)n.tracks[r].solo?n.trackVolumeNodes[r].gain.value=n.tracks[r].volume:n.trackVolumeNodes[r].gain.value=0;else for(var i=0;i<t;i++)void 0!==n.trackVolumeNodes[i]&&(n.tracks[i].muted?n.trackVolumeNodes[i].gain.value=0:n.trackVolumeNodes[i].gain.value=n.tracks[i].volume)},this.audioContext=t,this.masterVolumeNode=this.audioContext.createGain(),this.analyserNode=this.audioContext.createAnalyser()},d=function e(t){var n=this;Object(l.a)(this,e),this.audioContext=void 0,this.input=void 0,this.band32=void 0,this.band64=void 0,this.band128=void 0,this.band256=void 0,this.band512=void 0,this.band1k=void 0,this.band2k=void 0,this.band4k=void 0,this.band8k=void 0,this.band16k=void 0,this.output=void 0,this.bandEqualizer=function(e,t){var a=n.audioContext.createBiquadFilter();return a.frequency.setTargetAtTime(t,0,1e-4),a.type="peaking",a.gain.setTargetAtTime(0,0,1e-4),a.Q.setTargetAtTime(1,0,1e-4),e.connect(a),a},console.log("WebAudioFont Channel v1.04"),this.audioContext=t,this.input=this.audioContext.createDynamicsCompressor(),this.input.threshold.setValueAtTime(-3,0),this.input.knee.setValueAtTime(30,0),this.input.ratio.setValueAtTime(12,0),this.input.attack.setValueAtTime(.05,0),this.input.release.setValueAtTime(.08,0),this.band32=this.bandEqualizer(this.input,32),this.band64=this.bandEqualizer(this.band32,64),this.band128=this.bandEqualizer(this.band64,128),this.band256=this.bandEqualizer(this.band128,256),this.band512=this.bandEqualizer(this.band256,512),this.band1k=this.bandEqualizer(this.band512,1024),this.band2k=this.bandEqualizer(this.band1k,2048),this.band4k=this.bandEqualizer(this.band2k,4096),this.band8k=this.bandEqualizer(this.band4k,8192),this.band16k=this.bandEqualizer(this.band8k,16384),this.output=t.createGain(),this.band16k.connect(this.output)},f=function e(t){var n=this;Object(l.a)(this,e),this.player=void 0,this.cached=void 0,this.choosenInfos=void 0,this.drumKeyArray=void 0,this.drumNamesArray=void 0,this.instrumentKeyArray=void 0,this.instrumentNamesArray=void 0,this.startLoad=function(e,t){if(!window[t]){for(var a=0;a<n.cached.length;a++)if(n.cached[a].variableName===t)return;n.cached.push({filePath:e,variableName:t});var r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",e),document.getElementsByTagName("head")[0].appendChild(r),n.decodeAfterLoading(t)}},this.decodeAfterLoading=function(e){n.waitOrFinish(e,(function(){n.player.adjustPreset(window[e])}))},this.waitOrFinish=function(e,t){if(window[e])t();else{var a=n;setTimeout((function(){a.waitOrFinish(e,t)}),111)}},this.loaded=function(e){if(!window[e])return!1;for(var t=window[e],n=0;n<t.zones.length;n++)if(!t.zones[n].buffer)return!1;return!0},this.progress=function(){if(n.cached.length>0){for(var e=0;e<n.cached.length;e++)if(!n.loaded(n.cached[e].variableName))return e/n.cached.length;return 1}return 1},this.waitLoad=function(e){var t=n;n.progress()>=1?e():setTimeout((function(){t.waitLoad(e)}),333)},this.instrumentTitles=function(){if(!n.instrumentNamesArray){var e=[];e[0]="Acoustic Grand Piano: Piano",e[1]="Bright Acoustic Piano: Piano",e[2]="Electric Grand Piano: Piano",e[3]="Honky-tonk Piano: Piano",e[4]="Electric Piano 1: Piano",e[5]="Electric Piano 2: Piano",e[6]="Harpsichord: Piano",e[7]="Clavinet: Piano",e[8]="Celesta: Chromatic Percussion",e[9]="Glockenspiel: Chromatic Percussion",e[10]="Music Box: Chromatic Percussion",e[11]="Vibraphone: Chromatic Percussion",e[12]="Marimba: Chromatic Percussion",e[13]="Xylophone: Chromatic Percussion",e[14]="Tubular Bells: Chromatic Percussion",e[15]="Dulcimer: Chromatic Percussion",e[16]="Drawbar Organ: Organ",e[17]="Percussive Organ: Organ",e[18]="Rock Organ: Organ",e[19]="Church Organ: Organ",e[20]="Reed Organ: Organ",e[21]="Accordion: Organ",e[22]="Harmonica: Organ",e[23]="Tango Accordion: Organ",e[24]="Acoustic Guitar (nylon): Guitar",e[25]="Acoustic Guitar (steel): Guitar",e[26]="Electric Guitar (jazz): Guitar",e[27]="Electric Guitar (clean): Guitar",e[28]="Electric Guitar (muted): Guitar",e[29]="Overdriven Guitar: Guitar",e[30]="Distortion Guitar: Guitar",e[31]="Guitar Harmonics: Guitar",e[32]="Acoustic Bass: Bass",e[33]="Electric Bass (finger): Bass",e[34]="Electric Bass (pick): Bass",e[35]="Fretless Bass: Bass",e[36]="Slap Bass 1: Bass",e[37]="Slap Bass 2: Bass",e[38]="Synth Bass 1: Bass",e[39]="Synth Bass 2: Bass",e[40]="Violin: Strings",e[41]="Viola: Strings",e[42]="Cello: Strings",e[43]="Contrabass: Strings",e[44]="Tremolo Strings: Strings",e[45]="Pizzicato Strings: Strings",e[46]="Orchestral Harp: Strings",e[47]="Timpani: Strings",e[48]="String Ensemble 1: Ensemble",e[49]="String Ensemble 2: Ensemble",e[50]="Synth Strings 1: Ensemble",n.instrumentNamesArray=e}return n.instrumentNamesArray},this.instrumentKeys=function(){return n.instrumentKeyArray||(n.instrumentKeyArray=["0000_Aspirin_sf2_file","0001_FluidR3_GM_sf2_file","0002_GeneralUserGS_sf2_file","0003_GeneralUserGS_sf2_file","0010_Aspirin_sf2_file","0011_Aspirin_sf2_file","0012_GeneralUserGS_sf2_file","0020_Aspirin_sf2_file","0021_Aspirin_sf2_file","0022_Aspirin_sf2_file","0030_Aspirin_sf2_file","0031_Aspirin_sf2_file","0040_Aspirin_sf2_file","0041_FluidR3_GM_sf2_file","0042_GeneralUserGS_sf2_file","0043_GeneralUserGS_sf2_file","0044_GeneralUserGS_sf2_file","0045_GeneralUserGS_sf2_file","0046_GeneralUserGS_sf2_file","0050_Aspirin_sf2_file","0051_FluidR3_GM_sf2_file","0052_GeneralUserGS_sf2_file","0053_GeneralUserGS_sf2_file","0054_GeneralUserGS_sf2_file","0060_Aspirin_sf2_file","0061_Aspirin_sf2_file","0062_GeneralUserGS_sf2_file","0070_Aspirin_sf2_file","0071_GeneralUserGS_sf2_file","0080_Aspirin_sf2_file","0080_Chaos_sf2_file","0081_FluidR3_GM_sf2_file","0090_Aspirin_sf2_file","0091_SoundBlasterOld_sf2","0100_Aspirin_sf2_file","0101_GeneralUserGS_sf2_file","0110_Aspirin_sf2_file","0111_FluidR3_GM_sf2_file","0120_Aspirin_sf2_file","0121_FluidR3_GM_sf2_file","0130_Aspirin_sf2_file","0131_FluidR3_GM_sf2_file","0140_Aspirin_sf2_file","0141_FluidR3_GM_sf2_file","0142_GeneralUserGS_sf2_file","0143_GeneralUserGS_sf2_file","0150_Aspirin_sf2_file","0151_FluidR3_GM_sf2_file","0160_Aspirin_sf2_file","0161_Aspirin_sf2_file","0170_Aspirin_sf2_file","0171_FluidR3_GM_sf2_file","0172_FluidR3_GM_sf2_file","0180_Aspirin_sf2_file","0181_Aspirin_sf2_file","0190_Aspirin_sf2_file","0191_Aspirin_sf2_file","0200_Aspirin_sf2_file","0201_Aspirin_sf2_file","0210_Aspirin_sf2_file","0211_Aspirin_sf2_file","0212_GeneralUserGS_sf2_file","0220_Aspirin_sf2_file","0221_FluidR3_GM_sf2_file","0230_Aspirin_sf2_file","0231_FluidR3_GM_sf2_file","0232_FluidR3_GM_sf2_file","0233_FluidR3_GM_sf2_file","0240_Aspirin_sf2_file","0241_GeneralUserGS_sf2_file","0241_JCLive_sf2_file","0242_JCLive_sf2_file","0243_JCLive_sf2_file","0253_Acoustic_Guitar_sf2_file","0250_Aspirin_sf2_file","0251_Acoustic_Guitar_sf2_file","0252_Acoustic_Guitar_sf2_file","0253_Acoustic_Guitar_sf2_file","0254_Acoustic_Guitar_sf2_file","0255_GeneralUserGS_sf2_file","0260_Aspirin_sf2_file","0261_GeneralUserGS_sf2_file","0262_Stratocaster_sf2_file","0270_Aspirin_sf2_file","0271_GeneralUserGS_sf2_file","0280_Aspirin_sf2_file","0281_Aspirin_sf2_file","0282_FluidR3_GM_sf2_file","0283_GeneralUserGS_sf2_file","0290_Aspirin_sf2_file","0291_Aspirin_sf2_file","0292_Aspirin_sf2_file","0300_Aspirin_sf2_file","0301_Aspirin_sf2_file","0302_Aspirin_sf2_file","0303_Aspirin_sf2_file","0304_Aspirin_sf2_file","0310_Aspirin_sf2_file","0311_FluidR3_GM_sf2_file","0320_Aspirin_sf2_file","0321_GeneralUserGS_sf2_file","0322_GeneralUserGS_sf2_file","0330_Aspirin_sf2_file","0331_GeneralUserGS_sf2_file","0332_GeneralUserGS_sf2_file","0340_Aspirin_sf2_file","0341_Aspirin_sf2_file","0350_Aspirin_sf2_file","0351_GeneralUserGS_sf2_file","0360_Aspirin_sf2_file","0361_GeneralUserGS_sf2_file","0370_Aspirin_sf2_file","0371_GeneralUserGS_sf2_file","0372_GeneralUserGS_sf2_file","0380_Aspirin_sf2_file","0381_FluidR3_GM_sf2_file","0382_FluidR3_GM_sf2_file","0383_GeneralUserGS_sf2_file","0384_GeneralUserGS_sf2_file","0385_GeneralUserGS_sf2_file","0386_GeneralUserGS_sf2_file","0387_GeneralUserGS_sf2_file","0390_Aspirin_sf2_file","0391_FluidR3_GM_sf2_file","0392_FluidR3_GM_sf2_file","0393_GeneralUserGS_sf2_file","0400_Aspirin_sf2_file","0401_Aspirin_sf2_file","0402_GeneralUserGS_sf2_file","0410_Aspirin_sf2_file","0410_Chaos_sf2_file","0411_FluidR3_GM_sf2_file","0420_Aspirin_sf2_file","0421_FluidR3_GM_sf2_file","0430_Aspirin_sf2_file","0431_FluidR3_GM_sf2_file","0440_Aspirin_sf2_file","0441_GeneralUserGS_sf2_file","0442_GeneralUserGS_sf2_file","0450_Aspirin_sf2_file","0451_FluidR3_GM_sf2_file","0460_Aspirin_sf2_file","0461_FluidR3_GM_sf2_file","0470_Aspirin_sf2_file","0471_FluidR3_GM_sf2_file","0480_Aspirin_sf2_file","0480_SoundBlasterOld_sf2","04810_GeneralUserGS_sf2_file","0481_Aspirin_sf2_file","0481_FluidR3_GM_sf2_file","0481_GeneralUserGS_sf2_file","0482_Aspirin_sf2_file","0482_GeneralUserGS_sf2_file","0483_GeneralUserGS_sf2_file","0484_GeneralUserGS_sf2_file","0485_GeneralUserGS_sf2_file","0486_GeneralUserGS_sf2_file","0487_GeneralUserGS_sf2_file","0488_GeneralUserGS_sf2_file","0489_GeneralUserGS_sf2_file","0490_Aspirin_sf2_file","0490_GeneralUserGS_sf2_file","0491_GeneralUserGS_sf2_file","0492_GeneralUserGS_sf2_file","0500_Aspirin_sf2_file"]),n.instrumentKeyArray},this.instrumentInfo=function(e){var t=n.instrumentKeys()[e],a=1*Number(t.substr(0,3));return{variable:"_tone_"+t,url:"https://surikov.github.io/webaudiofontdata/sound/"+t+".js",title:n.instrumentTitles()[a]}},this.findInstrument=function(e){n.choosenInfos||(n.choosenInfos=[[1,2],[2,14],[3,25],[4,37],[5,48],[6,58],[7,70],[8,83],[9,91],[10,99],[11,107],[12,118],[13,127],[14,136],[15,144],[16,152],[17,164],[18,170],[19,183],[20,194],[21,205],[22,215],[23,228],[24,241],[25,254],[26,263],[27,277],[28,296],[29,308],[30,319],[31,350],[32,356],[33,369],[34,379],[35,385],[36,399],[37,403],[38,412],[39,421],[40,438],[41,452],[42,461],[43,467],[44,477],[45,488],[46,493],[47,501],[48,511],[49,518],[50,547]]);for(var t=0;t<n.instrumentKeys().length;t++)if(e===1*Number(n.instrumentKeys()[t].substring(0,3)))return t;return console.log("program",e,"not found"),0},this.drumTitles=function(){if(!n.drumNamesArray){var e=[];e[35]="Bass Drum 2",e[36]="Bass Drum 1",e[37]="Side Stick/Rimshot",e[38]="Snare Drum 1",e[39]="Hand Clap",e[40]="Snare Drum 2",e[41]="Low Tom 2",e[42]="Closed Hi-hat",e[43]="Low Tom 1",e[44]="Pedal Hi-hat",e[45]="Mid Tom 2",e[46]="Open Hi-hat",e[47]="Mid Tom 1",e[48]="High Tom 2",e[49]="Crash Cymbal 1",e[50]="High Tom 1",e[51]="Ride Cymbal 1",e[52]="Chinese Cymbal",e[53]="Ride Bell",e[54]="Tambourine",e[55]="Splash Cymbal",e[56]="Cowbell",e[57]="Crash Cymbal 2",e[58]="Vibra Slap",e[59]="Ride Cymbal 2",e[60]="High Bongo",e[61]="Low Bongo",e[62]="Mute High Conga",e[63]="Open High Conga",e[64]="Low Conga",e[65]="High Timbale",e[66]="Low Timbale",e[67]="High Agogo",e[68]="Low Agogo",e[69]="Cabasa",e[70]="Maracas",e[71]="Short Whistle",e[72]="Long Whistle",e[73]="Short Guiro",e[74]="Long Guiro",e[75]="Claves",e[76]="High Wood Block",e[77]="Low Wood Block",e[78]="Mute Cuica",e[79]="Open Cuica",e[80]="Mute Triangle",e[81]="Open Triangle",n.drumNamesArray=e}return n.drumNamesArray},this.drumKeys=function(){return n.drumKeyArray||(n.drumKeyArray=["35_0_SBLive_sf2","36_0_SBLive_sf2","37_0_SBLive_sf2","38_0_SBLive_sf2","39_0_SBLive_sf2","40_0_SBLive_sf2","41_0_SBLive_sf2","42_0_SBLive_sf2","43_0_SBLive_sf2","44_0_SBLive_sf2","45_0_SBLive_sf2","46_0_SBLive_sf2","47_0_SBLive_sf2","48_0_SBLive_sf2","49_0_SBLive_sf2","50_0_SBLive_sf2","51_0_SBLive_sf2","52_0_SBLive_sf2","53_0_SBLive_sf2","54_0_SBLive_sf2","55_0_SBLive_sf2","56_0_SBLive_sf2","57_0_SBLive_sf2","58_0_SBLive_sf2","59_0_SBLive_sf2","60_0_SBLive_sf2","61_0_SBLive_sf2","62_0_SBLive_sf2","63_0_SBLive_sf2","64_0_SBLive_sf2","65_0_SBLive_sf2","66_0_SBLive_sf2","67_0_SBLive_sf2","68_0_SBLive_sf2","69_0_SBLive_sf2","70_0_SBLive_sf2","71_0_SBLive_sf2","72_0_SBLive_sf2","73_0_SBLive_sf2","74_0_SBLive_sf2","75_0_SBLive_sf2","76_0_SBLive_sf2","77_0_SBLive_sf2","78_0_SBLive_sf2","79_0_SBLive_sf2","80_0_SBLive_sf2","81_0_SBLive_sf2"]),n.drumKeyArray},this.drumInfo=function(e){var t=n.drumKeys()[e],a=1*Number(t.substr(0,2));return{variable:"_drum_"+t,url:"https://surikov.github.io/webaudiofontdata/sound/128"+t+".js",pitch:a,title:n.drumTitles()[a]}},this.findDrum=function(e){for(var t=0;t<n.drumKeys().length;t++)if(e===1*Number(n.drumKeys()[t].substring(0,2)))return t;return 0},console.log("WebAudioFont Loader v1.27"),this.player=t,this.cached=[]},h=function e(t){var a=this;Object(l.a)(this,e),this.audioContext=void 0,this.input=void 0,this.convolver=void 0,this.dry=void 0,this.wet=void 0,this.irrArrayBuffer=void 0,this.output=void 0,console.log("WebAudioFont Reverberator v1.08"),this.audioContext=t,this.input=this.audioContext.createBiquadFilter(),this.input.type="lowpass",this.input.frequency.setTargetAtTime(18e3,0,1e-4),this.convolver=null,this.output=t.createGain(),this.dry=t.createGain(),this.dry.gain.setTargetAtTime(.9,0,1e-4),this.dry.connect(this.output),this.wet=t.createGain(),this.wet.gain.setTargetAtTime(.5,0,1e-4),this.input.connect(this.dry),this.input.connect(this.wet),n.e(27).then(n.bind(null,422)).then((function(e){var n=e.reverbrator,r=n.length/2;a.irrArrayBuffer=new ArrayBuffer(r);for(var i,o=new Uint8Array(a.irrArrayBuffer),s=atob(n),l=0;l<s.length;l++)i=s.charCodeAt(l),o[l]=i;a.audioContext.decodeAudioData(a.irrArrayBuffer,(function(e){a.convolver=t.createConvolver(),a.convolver.buffer=e,a.wet.connect(a.convolver),a.convolver.connect(a.output),console.log("convolver audioBuffer",e)}))}))},m=[0,.25,.5,.75,1,1.25,1.5,1.75,2],p=new(window.AudioContext||window.webkitAudioContext),g=new d(p),b=new function e(t){var n=this;Object(l.a)(this,e),this.audioContext=void 0,this.envelopes=void 0,this.loader=void 0,this.onCacheFinish=void 0,this.onCacheProgress=void 0,this.afterTime=void 0,this.nearZero=void 0,this.createChannel=function(){return new d(n.audioContext)},this.createReverberator=function(){return new h(n.audioContext)},this.limitVolume=function(e){return e?e*=1:e=.5,e},this.queueChord=function(e){var t=e.target,a=e.preset,r=e.when,i=e.pitches,o=e.duration,s=e.volume,l=e.slides;s=n.limitVolume(s);for(var c=0;c<i.length;c++)n.queueWaveTable({target:t,preset:a,when:r,pitches:i[c],duration:o,volume:s-.01*Math.random(),slides:l})},this.queueStrumUp=function(e){var t=e.target,a=e.preset,r=e.when,i=e.pitches,o=e.duration,s=e.volume,l=e.slides;i.sort((function(e,t){return e-t})),n.queueStrum({target:t,preset:a,when:r,pitches:i,duration:o,volume:s,slides:l})},this.queueStrumDown=function(e){var t=e.target,a=e.preset,r=e.when,i=e.pitches,o=e.duration,s=e.volume,l=e.slides;i.sort((function(e,t){return e-t})),n.queueStrum({target:t,preset:a,when:r,pitches:i,duration:o,volume:s,slides:l})},this.queueStrum=function(e){var t=e.target,a=e.preset,r=e.when,i=e.pitches,o=e.duration,s=e.volume,l=e.slides;s=n.limitVolume(s),r<n.audioContext.currentTime&&(r=n.audioContext.currentTime);for(var c=0;c<i.length;c++)n.queueWaveTable({target:t,preset:a,when:r+.01*c,pitches:i[c],duration:o,volume:s-.01*Math.random(),slides:l}),s*=.9},this.queueSnap=function(e){var t=e.target,a=e.preset,r=e.when,i=e.pitches,o=(e.duration,e.volume),s=e.slides;o=1.5*((o=n.limitVolume(o))||1),n.queueChord({target:t,preset:a,when:r,pitches:i,duration:.05,volume:o,slides:s})},this.queueWaveTable=function(e){var t=e.target,a=e.preset,r=e.when,i=e.pitches,o=e.duration,s=e.volume,l=e.slides;"suspended"===n.audioContext.state&&(console.log("audioContext.resume"),n.audioContext.resume()),s=n.limitVolume(s);var c=n.findZone(a,i);if(c.buffer){var u=c.originalPitch-100*c.coarseTune-c.fineTune,d=1*Math.pow(2,(100*i-u)/1200),f=r;f<n.audioContext.currentTime&&(f=n.audioContext.currentTime);var h=o+n.afterTime,m=!0;(c.loopStart<1||c.loopStart>=c.loopEnd)&&(m=!1),m||h>c.buffer.duration/d&&(h=c.buffer.duration/d);var p=n.findEnvelope({target:t,when:f,duration:h});if(n.setupEnvelope({envelope:p,zone:c,volume:s,startWhen:f,waveDuration:h,duration:o}),p.audioBufferSourceNode=n.audioContext.createBufferSource(),p.audioBufferSourceNode.playbackRate.setValueAtTime(d,0),l&&l.length>0){p.audioBufferSourceNode.playbackRate.setValueAtTime(d,r);for(var g=0;g<l.length;g++){var b=1*Math.pow(2,(100*l[g].pitch-u)/1200),v=r+l[g].when;p.audioBufferSourceNode.playbackRate.linearRampToValueAtTime(b,v)}}return p.audioBufferSourceNode.buffer=c.buffer,m?(p.audioBufferSourceNode.loop=!0,p.audioBufferSourceNode.loopStart=c.loopStart/c.sampleRate+c.delay,p.audioBufferSourceNode.loopEnd=c.loopEnd/c.sampleRate+c.delay):p.audioBufferSourceNode.loop=!1,p.audioBufferSourceNode.connect(p),p.audioBufferSourceNode.start(f,c.delay),p.audioBufferSourceNode.stop(f+h),p.when=f,p.duration=h,p.pitch=i,p.preset=a,p}console.log("empty buffer ",c)},this.noZeroVolume=function(e){return e>n.nearZero?e:n.nearZero},this.setupEnvelope=function(e){var t=e.envelope,a=e.zone,r=e.volume,i=e.startWhen,o=e.waveDuration,s=e.duration;t.gain.setValueAtTime(n.noZeroVolume(0),n.audioContext.currentTime);var l=0,c=0,u=a.ahdsr;o<s+n.afterTime&&(s=o-n.afterTime),u?u.length>0||(u=[{duration:0,volume:1},{duration:.5,volume:1},{duration:1.5,volume:.5},{duration:3,volume:0}]):u=[{duration:0,volume:1},{duration:s,volume:1}],t.gain.cancelScheduledValues(i),t.gain.setValueAtTime(n.noZeroVolume(u[0].volume*r),i);for(var d=0;d<u.length;d++)if(u[d].duration>0){if(u[d].duration+l>s){var f=c-(1-(u[d].duration+l-s)/u[d].duration)*(c-u[d].volume);t.gain.linearRampToValueAtTime(n.noZeroVolume(r*f),i+s);break}l+=u[d].duration,c=u[d].volume,t.gain.linearRampToValueAtTime(n.noZeroVolume(r*c),i+l)}t.gain.linearRampToValueAtTime(n.noZeroVolume(0),i+s+n.afterTime)},this.numValue=function(e,t){return"number"===typeof e?e:t},this.findEnvelope=function(e){for(var t=e.target,a=(e.when,e.duration,null),r=0;r<n.envelopes.length;r++){var i=n.envelopes[r];if(i.target===t&&n.audioContext.currentTime>i.when+i.duration+.001){try{i.audioBufferSourceNode.disconnect(),i.audioBufferSourceNode.stop(0),i.audioBufferSourceNode=null}catch(o){}a=i;break}}return a||((a=n.audioContext.createGain()).target=t,a.connect(t),a.cancel=function(){a.when+a.duration>n.audioContext.currentTime&&(a.gain.cancelScheduledValues(0),a.gain.setTargetAtTime(1e-5,n.audioContext.currentTime,.1),a.when=n.audioContext.currentTime+1e-5,a.duration=0)},n.envelopes.push(a)),a},this.adjustPreset=function(e){for(var t=0;t<e.zones.length;t++)n.adjustZone(e.zones[t])},this.adjustZone=function(e){if(e.buffer);else{if(e.delay=0,e.sample){var t=atob(e.sample);e.buffer=n.audioContext.createBuffer(1,t.length/2,e.sampleRate);for(var a,r,i,o=e.buffer.getChannelData(0),s=0;s<t.length/2;s++)(a=t.charCodeAt(2*s))<0&&(a=256+a),(r=t.charCodeAt(2*s+1))<0&&(r=256+r),(i=256*r+a)>=32768&&(i-=65536),o[s]=i/65536}else if(e.file){for(var l,c=e.file.length,u=new ArrayBuffer(c),d=new Uint8Array(u),f=atob(e.file),h=0;h<f.length;h++)l=f.charCodeAt(h),d[h]=l;n.audioContext.decodeAudioData(u,(function(t){e.buffer=t}))}e.loopStart=n.numValue(e.loopStart,0),e.loopEnd=n.numValue(e.loopEnd,0),e.coarseTune=n.numValue(e.coarseTune,0),e.fineTune=n.numValue(e.fineTune,0),e.originalPitch=n.numValue(e.originalPitch,6e3),e.sampleRate=n.numValue(e.sampleRate,44100),e.sustain=n.numValue(e.originalPitch,0)}},this.findZone=function(e,t){for(var a=null,r=e.zones.length-1;r>=0&&!((a=e.zones[r]).keyRangeLow<=t&&a.keyRangeHigh+1>=t);r--);try{n.adjustZone(a)}catch(i){console.log("adjustZone",i)}return a},this.cancelQueue=function(){for(var e=0;e<n.envelopes.length;e++){var t=n.envelopes[e];t.gain.cancelScheduledValues(0),t.gain.setValueAtTime(n.nearZero,n.audioContext.currentTime),t.when=-1;try{t.audioBufferSourceNode.disconnect()}catch(a){console.log(a)}}},this.audioContext=t,this.envelopes=[],this.loader=new f(this),this.onCacheFinish=null,this.onCacheProgress=null,this.afterTime=.05,this.nearZero=1e-6}(p);if("undefined"===typeof window.orientation){console.log("Melo WebAudioFontReverberator");var v=new h(p);v.output.connect(p.destination),g.output.connect(v.input)}else console.log("skip WebAudioFontReverberator"),g.output.connect(p.destination);var _,y=function e(t){Object(l.a)(this,e),this.player=b,this.master=g,this.currentSong=void 0,this.loading=!0,this.onAir=!1,this.loaded=!1,this.playMode=!1,this.sL=16,this.TrackID=0,this.tempo=120,this.zaribTempo=1,this.neededLines=void 0,this.neededTracks=[],this.storeFingers=[],this.storeTracks=[],this.storeDrums=[],this.trackInfo=[],this.drumInfo=[],this.seekValue=0,this.songs=[],this.songLength=272,this.tapSize=32,this.fingerNotes={},this.equalizer=[0,0,0,0,0,0,0,0,0,0],this.drumVolumes=[70,70,70,70,70,70,70,70],Object.assign(this,t),this.master.band32.gain.setValueAtTime(this.equalizer[0],0),this.master.band64.gain.setValueAtTime(this.equalizer[1],0),this.master.band128.gain.setValueAtTime(this.equalizer[2],0),this.master.band256.gain.setValueAtTime(this.equalizer[3],0),this.master.band512.gain.setValueAtTime(this.equalizer[4],0),this.master.band1k.gain.setValueAtTime(this.equalizer[5],0),this.master.band2k.gain.setValueAtTime(this.equalizer[6],0),this.master.band4k.gain.setValueAtTime(this.equalizer[7],0),this.master.band8k.gain.setValueAtTime(this.equalizer[8],0),this.master.band16k.gain.setValueAtTime(this.equalizer[9],0)},E=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,r,s,l,c,d,f,h,g,b,v,_,E,O,w,x,A,C,T,L;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=new y,r=t.song.content,s=t.fingers,l=[],c=[],e.prev=5,a.TrackID=t.track.id,s&&(d=S(s),a.storeFingers=Object(o.a)({},d)),f=r.split("-"),a.tempo=parseInt(f[0],16),a.sL=parseInt(f[1])+1,h=parseInt(f[2]),a.zaribTempo=m[h],g=0;g<10;g++)b=f[5].substring(2*g,2*g+2),a.equalizer[g]=parseInt(b,16)-10;if(v=f[6].length/7,k(v,f[6]).forEach((function(e,t,n){t===n.findIndex((function(t){return t.drum===e.drum}))&&c.push(e.drum),a.storeDrums.push({drum:e.drum,beat:e.beat})})),_=f[7].length/10,E=j(_,f[7]),O=24,w=24,E.forEach((function(e,t,n){if(t===n.findIndex((function(t){return t.track===e.track}))&&l.push(e.track),a.storeTracks.push(Object(o.a)(Object(o.a)({},e),{},{beat:e.beat})),e.track===a.TrackID){a.neededTracks.push(Object(o.a)(Object(o.a)({},e),{},{beat:e.beat-12})),e.pitch>O&&(O=e.pitch),e.pitch<w&&(w=e.pitch);var r=e.beat;a.fingerNotes[r]||(a.fingerNotes[r]=[]),a.fingerNotes[r].push({pitch:e.pitch,length:e.length})}})),a.neededLines={up:O+36,number:O-w,down:w+36,notes:a.neededTracks.length},c.forEach((function(e,t){var r={audioNode:p.createGain(),id:e,replacement:parseInt(f[8].substring(3*e,3*e+3),16),sound:null,info:"",volume:70};if(r.replacement){var i=a.player.loader.drumInfo(r.replacement-1);console.log(i),a.player.loader.startLoad(i.url,i.variable),r.info=i}n(276)("./default_drum_0".concat(e)).then((function(t){(r=Object(o.a)(Object(o.a)({},r),t.default)).volume=10*parseInt(f[4].substring(e,e+1),16),r.audioNode.connect(a.master.input),a.player.adjustPreset(r.sound),a.drumInfo.push(r)}))})),l.forEach((function(e,t){var r={audioNode:p.createGain(),nn:e,replacement:parseInt(f[9].substring(3*(7-e),3*(7-e)+3),16),sound:null,info:"",volume:70};if(r.replacement){var i=a.player.loader.instrumentInfo(r.replacement-1);console.log(i),a.player.loader.startLoad(i.url,i.variable),r.info=i}n(277)("./default_tone_0".concat(e)).then((function(t){(r=Object(o.a)(Object(o.a)({},r),t.default)).volume=10*parseInt(f[3].substring(e,e+1),16),r.audioNode.connect(a.master.input),a.player.adjustPreset(r.sound),a.trackInfo.push(r)}))})),x=[],f[10]&&"000a"!==f[10])for(A=f[10].length/4,C=0;C<A;C++)T=parseInt(f[10].substring(4*C,4*C+3),32),L=parseInt(f[10].substring(4*C+3,4*C+4),16)/10,x.push({id:T,vol:L});x.length>0&&(a.currentSong=new u(p)),a.songs=x,e.next=34;break;case 31:e.prev=31,e.t0=e.catch(5),Promise.reject(e.t0);case 34:return e.prev=34,e.abrupt("return",a);case 37:case"end":return e.stop()}}),e,null,[[5,31,34,37]])})));return function(t){return e.apply(this,arguments)}}(),O=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=Math.ceil(n),r=n?6:2,i=Math.max.apply(Math,t.map((function(e){return e.beat+e.length}))),o=Math.max.apply(Math,e.map((function(e){return e.beat})));a=o>(a=i>a?i:a)?o:a,a+=r;do{a++}while(a%16!==0);return console.log(a,n,o,i),a},S=function(e){var t={};for(var n in e){var a=e[n].split("-");t[n]={};for(var r=0;r<a.length-1;r++)for(var i=a[r].split("+"),o=Number(i[0])+16,s=i[1].length/5,l=0;l<s;l++){var c=i[1].substring(5*l,5*l+2),u=i[1].substring(5*l+2,5*l+4);"e"!==i[1].substring(5*l+4,5*l+5)&&(t[n][u]||(t[n][u]={}),t[n][u][o]||(t[n][u][o]=[]),t[n][u][o].push(c))}}return t},k=function(e,t){for(var n=[],a=0;a<e;a++){var r=parseInt(t.substring(7*a,7*a+1)),i=parseInt(t.substring(7*a+1,7*a+3),32),o=parseInt(t.substring(7*a+3,7*a+7),32),s=i&parseInt("1111111",2);(o|parseInt("0000000000000001",2))===o&&n.push({drum:r,beat:16*s+0+16}),(o|parseInt("0000000000000010",2))===o&&n.push({drum:r,beat:16*s+1+16}),(o|parseInt("0000000000000100",2))===o&&n.push({drum:r,beat:16*s+2+16}),(o|parseInt("0000000000001000",2))===o&&n.push({drum:r,beat:16*s+3+16}),(o|parseInt("0000000000010000",2))===o&&n.push({drum:r,beat:16*s+4+16}),(o|parseInt("0000000000100000",2))===o&&n.push({drum:r,beat:16*s+5+16}),(o|parseInt("0000000001000000",2))===o&&n.push({drum:r,beat:16*s+6+16}),(o|parseInt("0000000010000000",2))===o&&n.push({drum:r,beat:16*s+7+16}),(o|parseInt("0000000100000000",2))===o&&n.push({drum:r,beat:16*s+8+16}),(o|parseInt("0000001000000000",2))===o&&n.push({drum:r,beat:16*s+9+16}),(o|parseInt("0000010000000000",2))===o&&n.push({drum:r,beat:16*s+10+16}),(o|parseInt("0000100000000000",2))===o&&n.push({drum:r,beat:16*s+11+16}),(o|parseInt("0001000000000000",2))===o&&n.push({drum:r,beat:16*s+12+16}),(o|parseInt("0010000000000000",2))===o&&n.push({drum:r,beat:16*s+13+16}),(o|parseInt("0100000000000000",2))===o&&n.push({drum:r,beat:16*s+14+16}),(o|parseInt("1000000000000000",2))===o&&n.push({drum:r,beat:16*s+15+16})}return n},j=function(e,t){for(var n=[],a=0;a<e;a++){var r=parseInt(t.substring(10*a,10*a+3),32),i=parseInt(t.substring(10*a+3,10*a+3+1),32),o=parseInt(t.substring(10*a+4,10*a+4+2),32),s=parseInt(t.substring(10*a+6,10*a+6+2),32),l=parseInt(t.substring(10*a+8,10*a+8+2),32)-64;n.push({track:i,beat:r+16,length:o,shift:l,pitch:s})}return n},w=n(30),x=new function e(){Object(l.a)(this,e),this.touchedKeys=[],this.score=[]},A=function(){function e(t){var n=t.note,a=t.len,r=t.hand,i=t.beat,o=t.num;Object(l.a)(this,e),this.len=void 0,this.note=void 0,this.finger=void 0,this.hand=void 0,this.color=void 0,this.bColor=void 0,this.end=void 0,this.num=void 0,this.showing=void 0,this.len=a,this.note=n,this.num=o,this.end=this.len-1+i,this.end<=i&&(this.end=i+1),this.hand=r.hand,this.finger=r.finger,this.bColor=n.id,"right"===this.hand?this.color="yellow":this.color="skyblue",this.showing=!0}return Object(w.a)(e,[{key:"show",value:function(e){var t=this.color;e&&(t=e),this.note.children.back.setAttribute("fill",t),this.finger.setAttribute("fill",t)}},{key:"hide",value:function(){this.note.children.back.setAttribute("fill",this.bColor),this.note.children.back.style.fill="",this.finger.setAttribute("fill","rgba(99, 99, 99, 0.25)"),this.showing=!1}}]),e}(),C=function e(t,n,a){var r=this;Object(l.a)(this,e),this.y=void 0,this.end=void 0,this.yPos=void 0,this.margin=void 0,this.update=function(e,t){e.drawImage(t,0,Math.floor(r.y-r.yPos-r.margin))},this.y=0,this.margin=a,this.yPos=t*n,this.end=this.yPos+n+a},T=function e(t){var n=this,a=t.width,r=t.color,i=t.x,o=t.y,s=t.lw;Object(l.a)(this,e),this.x=void 0,this.y=void 0,this.lw=void 0,this.color=void 0,this.width=void 0,this.draw=function(e){e.beginPath(),e.moveTo(0,n.y),e.lineTo(n.width,n.y),e.lineWidth=n.lw,e.strokeStyle=n.color,e.stroke(),e.fill()},this.x=i,this.y=o,this.width=a,this.color=r,this.lw=s},L=function e(t){var n=this,a=t.width,r=t.height,i=t.color,o=t.x,s=t.y,c=t.end,u=t.note,d=t.text,f=t.gap;Object(l.a)(this,e),this.y=void 0,this.x=void 0,this.r=void 0,this.gap=void 0,this.beg=void 0,this.end=void 0,this.start=void 0,this.height=void 0,this.width=void 0,this.mover=void 0,this.note=void 0,this.text=void 0,this.color=void 0,this.lineColor=void 0,this.crash=void 0,this.hit=void 0,this.move=function(){n.crash=!0,n.mover=n.y-n.gap,n.mover>-n.height&&(n.mover=-n.height)},this.update=function(e){e.beginPath(),e.moveTo(n.x,n.y+n.start),e.lineTo(n.x,n.y+n.height),e.lineWidth=.85*n.width,e.strokeStyle="black",e.lineCap="round",e.stroke(),e.beginPath(),e.moveTo(n.x,n.y+n.start),e.lineTo(n.x,n.y+n.height),e.lineWidth=.2*n.width,e.strokeStyle="white",e.stroke(),n.crash&&(e.beginPath(),e.moveTo(n.x,n.y+n.start),e.lineTo(n.x,n.y-n.mover),e.lineWidth=.2*n.width,e.strokeStyle="red",e.stroke()),n.hit&&(e.beginPath(),e.moveTo(n.x,n.y+n.start),e.lineTo(n.x,n.y-n.hit),e.lineWidth=.25*n.width,e.strokeStyle=n.color,e.stroke()),n.crash&&!n.hit&&(n.color="red"),e.beginPath(),e.arc(n.x,n.y+n.start,1.4*n.r,0,2*Math.PI),e.fillStyle="black",e.fill(),e.beginPath(),e.arc(n.x,n.y+n.start,n.r,0,2*Math.PI),e.fillStyle=n.color,e.fill(),e.font="bold "+1.3*n.r+"px arial",e.textAlign="center",e.textBaseline="middle",e.fillStyle="black",e.fillText(n.text,n.x,n.y+n.start+1)},this.y=s,this.start=-s,this.gap=f,this.beg=s+f,this.end=c,this.note=u,this.height=-r,this.x=o,this.text=d,this.width=a,this.r=a/2,this.color=i,this.lineColor="black",this.mover=r,this.crash=!1},N=function e(t){var n=this;Object(l.a)(this,e),this.x=void 0,this.y=void 0,this.r=void 0,this.note=void 0,this.pitch=void 0,this.color=void 0,this.outline=void 0,this.update=function(e){e.beginPath(),e.arc(n.x,n.y,n.r,0,2*Math.PI),e.fillStyle="rgba(0, 0, 0, 0.2)",e.fill(),e.beginPath(),e.arc(n.x,n.y,.6*n.r,0,2*Math.PI),e.fillStyle=n.color,e.fill(),2===n.note.length&&(e.font="bold "+1.8*n.r+"px arial",e.textAlign="center",e.textBaseline="middle",e.fillStyle="black",e.fillText("\u266d",n.x-1.2*n.r,n.y)),n.outline&&(e.globalCompositeOperation="destination-over",new G(e,n.outline),e.globalCompositeOperation="source-over")},Object.assign(this,t),this.color="white"},G=function e(t,n){var a=n.r,r=n.x,i=n.y;Object(l.a)(this,e),t.beginPath(),t.moveTo(r-a,i),t.lineTo(r+a,i),t.lineWidth=.5,t.strokeStyle="black",t.stroke()},I=function e(t){var n=this;Object(l.a)(this,e),this.counter=0,this.tapSize=void 0,this.spaceSize=void 0,this.width=void 0,this.height=void 0,this.notePos={},this.fullNotes=[],this.context=void 0,this.assigner=function(e){Object.assign(n,e),console.log(n)},this.playGame=function(e,t){n.clear(),n.updateFullSong(e,t)},this.clear=function(){n.context.clearRect(0,0,n.width,n.height)},this.drawNote=function(e){var t,a=1.6*n.spaceSize,r=.46*n.tapSize;r=n.spaceSize<20?.42*n.spaceSize:r,e.forEach((function(e,i){var o=a+i*n.spaceSize,s=e.pitch+36,l=n.notePos[s].pos,c=n.notePos[s].note;81!==s&&60!==s&&40!==s||(t={r:1.5*r,x:o,y:l}),59!==s&&58!==s||(t={r:1.2*r,x:o,y:n.notePos[60].pos});var u=new N({x:o,y:l,r:r,pitch:s,note:c,outline:t});u.update(n.context),n.fullNotes.push(u)}))},this.updateFullSong=function(e,t){n.fullNotes.forEach((function(a,r){0===e&&(a.color="white"),r===e&&(a.color=t),r===e-1&&(a.color="green"),a.update(n.context)}))},this.width=t.width,this.height=t.height,this.context=t.getContext("2d")},R=function e(t){var n=this;Object(l.a)(this,e),this.counter=0,this.tapSize=32,this.songLength=17,this.gap=void 0,this.margin=128,this.width=void 0,this.height=void 0,this.notes=[],this.image=void 0,this.backMover=[],this.barNotes=[],this.fullNotes=[],this.context=void 0,this.assigner=function(e){console.log(e),Object.assign(n,e)},this.playGame=function(e){n.clear(),n.updateBacks(e),n.updateNotes(e)},this.clear=function(){n.context.clearRect(0,0,n.width,n.height)},this.pitchName=function(e){var t=e%12,n="C";return 1===t&&(n="Db"),2===t&&(n="D"),3===t&&(n="Eb"),4===t&&(n="E"),5===t&&(n="F"),6===t&&(n="Gb"),7===t&&(n="G"),8===t&&(n="Ab"),9===t&&(n="A"),10===t&&(n="Bb"),11===t&&(n="B"),""+n},this.drawImage=function(){var e,t=document.createElement("canvas").getContext("2d");t.canvas.width=n.width,t.canvas.height=n.height,t.save(),Array.from(Array(17),(function(e,t){return t})).forEach((function(e,a){var r=a%16===0?1.5:a%8===0?1.2:a%4===0?1:a%2===0?.8:.5,i=a%16===0||a%8===0?"black":a%4===0||a%2===0?"rgba(0,0,0,0.5)":"rgba(0,0,0,0.2)",o=a*n.tapSize;new T({width:n.width,color:i,x:0,y:o,lw:r}).draw(t)})),n.image.src=t.canvas.toDataURL("image/png"),n.image.onload=function(){e||(e=new C(0,n.height,n.margin)).update(n.context,n.image)}},this.drawNote=function(e,t){var a=n.tapSize;Array.from(Array(n.songLength),(function(e,t){return t})).forEach((function(r){var i=t[1].width,o=a*(16*r);n.barNotes[r]=[],e.forEach((function(e){if(e.beat>=16*r&&e.beat<16*(r+1)){var s=o+a*(e.beat%16),l=t[e.pitch].center,c=s+a*e.length,u=new L({width:i,height:c,color:"yellow",x:l,y:s,end:c+3*n.height,text:n.pitchName(e.pitch),note:e.pitch+36,gap:n.gap});n.barNotes[r].push(u),n.fullNotes.push(u)}}))}))},this.drawBack=function(){n.backMover=[];for(var e=0;e<3;e++)n.backMover.push(new C(e,n.height,n.margin))},this.pushNote=function(e){e&&(n.counter=e),n.barNotes[n.counter]&&n.barNotes[n.counter].length>0&&n.barNotes[n.counter].forEach((function(e){n.notes.push(e)})),n.songLength>n.counter+3&&n.backMover.push(new C(n.counter+3,n.height,n.margin)),n.counter++},this.updateNotes=function(e){n.notes.forEach((function(t,a){var r;(t.y=e,t.update(n.context),t.end<e&&n.notes.splice(a,1),n.gap-t.y<=t.start)&&(x.touchedKeys.forEach((function(a){t.note===a.note&&a.y>t.beg-n.tapSize&&a.y<t.beg+n.tapSize&&(t.hit=e-n.gap+.1*n.tapSize,a.y-.3*n.tapSize<=t.beg&&a.y+.3*n.tapSize>=t.beg?(r="perfect",t.color="green"):a.y>t.beg?(r="late",t.color="purple"):a.y<t.beg&&(r="early",t.color="orange"),a.hit||(a.hit=r,x.score.push([t.note,a.hit]),console.log(x.score)))})),t.move())}))},this.updateBacks=function(e){n.backMover.forEach((function(t,a){t.y=e,t.update(n.context,n.image),t.y>t.end&&n.backMover.splice(a,1)}))},this.updateFullSong=function(e){n.clear(),Array.from(Array(n.songLength),(function(e,t){return t})).forEach((function(t,a){n.context.drawImage(n.image,0,Math.floor(e-a*n.image.height-4*n.tapSize))})),n.fullNotes.forEach((function(t){t.y=e,t.update(n.context)}))},this.image=new Image,this.width=t.width,this.height=t.height,this.context=t.getContext("2d")},B=function(){function e(t){var n=this;Object(l.a)(this,e),this.game=void 0,this.notes=void 0,this.master=void 0,this.player=void 0,this.currentSong=void 0,this.loaded=!1,this.onAir=!1,this.score=[],this.handRefs=[],this.seekBar=void 0,this.keyRefs=[],this.canvasSize=void 0,this.pianoSize=void 0,this.seekValue=0,this.songLength=272,this.tapSize=32,this.loading=!0,this.playMode=!1,this.noteMode=!1,this.TrackID=0,this.tempo=120,this.zaribTempo=1,this.fingerNotes={},this.drumInfo=[],this.trackInfo=[],this.storeDrums=[],this.storeTracks=[],this.storeFingers=[],this.equalizer=[0,0,0,0,0,0,0,0,0,0],this.drumVolumes=[70,70,70,70,70,70,70,70],this.noteInfo=void 0,this.neededTracks=void 0,this.firstDelay=void 0,this.tickID=void 0,this.currentBeat=0,this.tickerDelay=1,this.tickerStep=0,this.animeFrame=0,this.nextWhen=0,this.nextBeat=0,this.anime=[],this.yPos=0,this.sentWhen=0,this.finger=[],this.midiKeys=[],this.drawNote=function(e){n.noteMode=!0,n.notes=new I(e),n.notes.assigner(Object(o.a)({},n.noteInfo)),n.notes.drawNote(n.neededTracks),n.yPos=0,n.training()},this.drawGame=function(e){n.game=new R(e),n.game.assigner({tapSize:n.tapSize,songLength:Math.round(n.songLength/16),gap:12*n.tapSize,margin:4*n.tapSize}),n.game.clear(),n.game.drawImage(),n.pianoSize&&n.game.drawNote(n.neededTracks,n.pianoSize)},this.startPlay=function(){var e,t;if(!n.onAir&&n.loaded){var a;if(n.score=[],n.yPos=0,n.resetNodeValues(),n.nextBeat=0,n.nextWhen=0,null===(e=n.game)||void 0===e||e.assigner({counter:0}),"suspended"===(null===(t=n.player)||void 0===t?void 0:t.audioContext.state))console.log("audioContext.resume"),null===(a=n.player)||void 0===a||a.audioContext.resume();n.onAir=!0;var r,i,o=240/(n.tempo*n.zaribTempo)*1e3;if(n.firstDelay=setTimeout((function(){n.playAllTracks(.03)}),o),n.queueNextBeats(),n.playMode)null===(r=n.game)||void 0===r||r.drawBack(),null===(i=n.game)||void 0===i||i.pushNote(),n.animeFrame=requestAnimationFrame(n.moveSVG);else n.animeFrame=requestAnimationFrame(n.moveFingers);n.onAir=!0}else console.log("on air already")},this.stopPlay=function(){var e,t;n.onAir&&n.loaded?(null===(e=document.getElementById("play-button"))||void 0===e||e.click(),n.stopReset(),clearTimeout(n.firstDelay),n.stopAllTracks(),cancelAnimationFrame(n.animeFrame),clearTimeout(n.tickID),null===(t=n.player)||void 0===t||t.cancelQueue(),n.onAir=!1):console.log("Not On Air")},this.stopReset=function(){n.finger.forEach((function(e,t){n.noteMode&&n.notes&&n.notes.playGame(e.num,"yellow"),e.hide()})),n.seekValue=n.currentBeat-1,n.yPos=0,n.anime=[],n.finger=[],n.training()},this.training=function(){var e,t,a=n.finger[n.yPos-1];if((null===(e=a)||void 0===e?void 0:e.showing)&&a.hide(),n.yPos>=n.neededTracks.length)n.stopReset();else{n.seekMove(5.3333*n.yPos);var r=n.neededTracks[n.yPos].beat+12;n.anime.push(r),n.pushFinger(),(a=n.finger[n.yPos-1]).show(),null===(t=n.notes)||void 0===t||t.playGame(a.num,a.color)}},this.stopAllTracks=function(){n.currentSong&&(n.currentSong.stop(),n.currentSong.elapsedTimeSinceStart=0)},this.playAllTracks=function(e){if(n.currentSong){n.currentSong.setMasterVolume(100),n.currentSong.play(e);for(var t=0;t<n.currentSong.getNbTracks();t++);}},this.rakeMouseWheel=function(e){if(!n.onAir&&n.playMode){n.seekValue="number"!==typeof e?n.seekValue+(e.deltaY>0?-1:1):e,n.seekValue=n.seekValue<0?0:n.seekValue>n.songLength?n.songLength:n.seekValue;var t=n.seekValue*n.tapSize;n.seekMove(n.seekValue),n.seekSVG(t)}},this.seekMove=function(e){n.seekBar&&e<n.songLength&&n.seekBar.changeSeeker(e)},this.seekSVG=function(e){var t;n.onAir||(null===(t=n.game)||void 0===t||t.updateFullSong(e))},this.resetNodeValues=function(){for(var e,t,a,r,i,o,s,l,c,u,d=0;d<n.trackInfo.length;d++)n.trackInfo[d].audioNode.gain.setValueAtTime(n.trackInfo[d].volume/100,0);for(var f=0;f<n.drumInfo.length;f++)n.drumInfo[f].audioNode.gain.setValueAtTime(n.drumVolumes[f]/100,0);null===(e=n.master)||void 0===e||e.band32.gain.setValueAtTime(n.equalizer[0],0),null===(t=n.master)||void 0===t||t.band64.gain.setValueAtTime(n.equalizer[1],0),null===(a=n.master)||void 0===a||a.band128.gain.setValueAtTime(n.equalizer[2],0),null===(r=n.master)||void 0===r||r.band256.gain.setValueAtTime(n.equalizer[3],0),null===(i=n.master)||void 0===i||i.band512.gain.setValueAtTime(n.equalizer[4],0),null===(o=n.master)||void 0===o||o.band1k.gain.setValueAtTime(n.equalizer[5],0),null===(s=n.master)||void 0===s||s.band2k.gain.setValueAtTime(n.equalizer[6],0),null===(l=n.master)||void 0===l||l.band4k.gain.setValueAtTime(n.equalizer[7],0),null===(c=n.master)||void 0===c||c.band8k.gain.setValueAtTime(n.equalizer[8],0),null===(u=n.master)||void 0===u||u.band16k.gain.setValueAtTime(n.equalizer[9],0)},this.queueNextBeats=function(){if(n.onAir&&n.player){var e=240/(n.tempo*n.zaribTempo)/16,t=n.player.audioContext.currentTime;for(t&&n.nextWhen<t&&(n.nextWhen=t);n.sentWhen<t+e;){var a;if(n.sendNextBeats(n.nextWhen,n.nextBeat,n.nextBeat),n.nextWhen=n.sentWhen+e,n.nextBeat>n.songLength+1&&n.stopPlay(),n.nextBeat=n.nextBeat+1,n.playMode&&n.nextBeat/16%1===0)null===(a=n.game)||void 0===a||a.pushNote();n.seekMove(n.nextBeat),n.playMode||n.pushFinger()}var r=500*(n.nextWhen-t);n.tickerStep++,n.tickerStep>=n.tickerDelay&&(n.tickerStep=0),n.tickID=setTimeout((function(){n.queueNextBeats()}),r)}},this.sendNextBeats=function(e,t,a){n.sentWhen=e;var r=1/16*(240/(n.tempo*n.zaribTempo));n.currentBeat=t,n.storeDrums.forEach((function(i){if(i.beat>=t&&i.beat<=a){var o,s=n.findDrumInfoHand(i.drum),l=s.sound;s.info&&window[s.info.variable]&&(l=window[s.info.variable]);var c=1-.2*Math.random();null===(o=n.player)||void 0===o||o.queueWaveTable({target:s.audioNode,preset:l,when:e+r*(i.beat-t),pitches:s.pitch,duration:s.length,volume:c*s.volumeRatio})}}));for(var i=[],o=0;o<n.storeTracks.length;o++){var s=n.storeTracks[o];s.beat>=t&&s.beat<=a&&i.push(s)}i.sort((function(e,t){var n=1e3*(e.beat-t.beat)+1e5*(e.track-t.track);return e.beat===t.beat&&(n+=e.pitch-t.pitch),n}));var l=-1,c=-1,u=0;i.forEach((function(a){var i,o=n.trackInfo.find((function(e){return e.nn===a.track}));a.beat===l&&a.track===c||(l=a.beat,c=a.track,u=0,a.track===n.TrackID&&n.anime.push(a.beat));var s=o.sound;o.info&&window[o.info.variable]&&(s=window[o.info.variable]);var d=[{when:a.length*r,pitch:a.shift+12*o.octave+a.pitch}],f=.6-.2*Math.random();null===(i=n.player)||void 0===i||i.queueWaveTable({target:o.audioNode,preset:s,when:e+r*(a.beat-t)+u*o.inChordDelay,pitches:12*o.octave+a.pitch,duration:.075+a.length*r,volume:f*o.volumeRatio,slides:d}),u++}))},this.pushFinger=function(){var e=n.storeFingers[n.TrackID];0!==n.anime.length&&n.anime.forEach((function(t){var a=n.fingerNotes[t];if(a){var r={};for(var i in e)if(e[i][t]){var o=n.handRefs[i],s=e[i][t];o&&(r[s]={finger:o,hand:o.getAttribute("class")})}a.forEach((function(e){var t=e.length,a=e.pitch+36,i=n.keyRefs[a];r[a]&&(n.finger.push(new A({note:i,len:t,hand:r[a],beat:n.currentBeat,num:n.yPos})),n.yPos++)}))}n.anime=n.anime.filter((function(e){return e!==t}))}))},this.moveFingers=function(){n.onAir&&(n.finger.forEach((function(e){e.showing&&n.currentBeat>e.end?e.hide():e.showing&&(n.noteMode&&n.notes&&n.notes.playGame(e.num,"green"),e.show())})),requestAnimationFrame(n.moveFingers))},this.moveSVG=function(){if(n.player&&n.game&&n.onAir){for(var e=1/16*(240/(n.tempo*n.zaribTempo)),t=n.nextBeat+(n.player.audioContext.currentTime-n.nextWhen)/e;t<0;)t+=n.songLength;t>n.songLength&&(t=n.songLength),n.game.counter<4&&t>100&&(t=0);var a=t*n.tapSize;n.yPos=a,n.game.playGame(a),requestAnimationFrame(n.moveSVG)}},this.findTrackInfoHand=function(){var e=null;return n.trackInfo.forEach((function(t){t.nn===n.TrackID&&(e=t)})),e},this.findDrumInfoHand=function(e){var t=null;return n.drumInfo.forEach((function(n){n.id===e&&(t=n)})),t},this.midiNoteOn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.7;if(0===t)n.midiNoteOff(e);else{n.midiNoteOff(e),n.onAir&&x.touchedKeys.push({note:e,y:n.yPos});var a=n.findTrackInfoHand();if(a){var r,i=a.sound;if(a.info&&window[a.info.variable]&&(i=window[a.info.variable]),n.midiKeys[e]=null===(r=n.player)||void 0===r?void 0:r.queueWaveTable({target:a.audioNode,preset:i,when:0,pitches:e,duration:10,volume:t}),n.keyRefs[e]){var o=n.keyRefs[e],s=o.children.back.getAttribute("fill"),l="red";"white"!==s&&"black"!==s&&(l="green",n.training()),o.children.back.style.fill=l}}}},this.midiNoteOff=function(e){if(n.midiKeys[e]&&(n.midiKeys[e].cancel(),x.touchedKeys.forEach((function(t,n){var a=x.touchedKeys[n].note;e===a&&x.touchedKeys.splice(n,1)}))),n.keyRefs[e]){var t=n.keyRefs[e];t&&(t.children.back.style.fill="")}},Object.assign(this,t),console.log(this)}return Object(w.a)(e,[{key:"assigner",value:function(e){Object.assign(this,e),console.log(e)}}]),e}(),P=n(51),M=function(e){return function(t){E(e).then((function(e){if(e)if(e.songs.length>0)e.songs.forEach((function(n,r){return P.a.get("/song/v2/".concat(n.id)).then((function(i){var o=i.data;return Object(P.b)(o).then((function(i){var o;null===(o=e.currentSong)||void 0===o||o.loadBuffer({buffer:i.data,vol:n.vol}).then((function(){if(e.songs.length===r+1){var n=e.tempo*e.zaribTempo/60,i=e.currentSong.getDuration()/n;e.songLength=O(e.storeDrums,e.storeTracks,i),e.loaded=!0,_=new B(e);var o=e.songLength,s=e.neededLines,l=e.neededTracks;t({type:a.j,payload:{songLength:o,neededLines:s,neededTracks:l}})}}))})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}));else{e.songLength=O(e.storeDrums,e.storeTracks),e.loaded=!0,_=new B(e);var n=e.songLength,r=e.neededLines,i=e.neededTracks;t({type:a.j,payload:{songLength:n,neededLines:r,neededTracks:i}})}})).catch((function(e){return console.log(e)}))}},V=function(e,t,n){return function(r){if(t&&n){var i,o=function(e,t){var n=e[50].getBoundingClientRect().x-(e[48].getBoundingClientRect().x+e[48].getBoundingClientRect().width),a=t.pianoLeft,r=a||100,i=[];for(var o in e){var s=e[o],l=s.getBoundingClientRect(),c=l.x-r,u=l.width,d=c+u/2;s.classList.contains("C")||s.classList.contains("F")?i.push({left:c,center:d-3.5*n,width:u,key:"CF"}):s.classList.contains("last")?i.push({left:c,center:d,width:u,key:"last"}):"black"===s.id?i.push({left:c,center:d,width:u,key:"black"}):s.classList.contains("E")||s.classList.contains("B")?i.push({left:c,center:d+3.5*n,width:u,key:"EB"}):s.classList.contains("A")?i.push({left:c,center:d+1.8*n,width:u,key:"A"}):s.classList.contains("G")?i.push({left:c,center:d+1.4*n,width:u,key:"G"}):i.push({left:c,center:d,width:u,key:"white"})}return i.push({left:-100,center:0,width:n,key:"lineWidth"}),i}(e,t);null===(i=_)||void 0===i||i.assigner({pianoSize:o,keyRefs:e,canvasSize:t,tapSize:n}),r({type:a.c,payload:{pianoSize:o,canvasSize:t,tapSize:n}})}else{var s;null===(s=_)||void 0===s||s.assigner({keyRefs:e}),r({type:a.c})}}},U=function(e,t){return function(n){var r;null===(r=_)||void 0===r||r.assigner({noteInfo:t,keyRefs:e}),n({type:a.e,payload:{noteInfo:t}})}},z=function(e){return function(t){var n;null===(n=_)||void 0===n||n.assigner(e),t({type:a.a})}},F=function(e){return function(t){var n;null===(n=_)||void 0===n||n.assigner(e),t({type:a.f})}},D=function(e){return function(t){var n;null===(n=_)||void 0===n||n.drawGame(e),t({type:a.b})}},q=function(e){return function(t){var n;null===(n=_)||void 0===n||n.drawNote(e),t({type:a.d})}},H=function(){return function(e){var t;null===(t=_)||void 0===t||t.stopPlay(),e({type:a.l})}},W=function(){return function(e){var t;null===(t=_)||void 0===t||t.stopPlay(),e({type:a.k})}},K=function(e){return function(t){var n,r;null===(n=_)||void 0===n||n.assigner({playMode:e}),null===(r=_)||void 0===r||r.stopPlay(),t(e?{type:a.h}:{type:a.i})}},Z=function(e){var t;null===(t=_)||void 0===t||t.rakeMouseWheel(e)},Q=function(){var e;null===(e=_)||void 0===e||e.startPlay()},X=function(){var e;null===(e=_)||void 0===e||e.stopPlay()},J=function(e){var t;null===(t=_)||void 0===t||t.midiNoteOn(e,.7)},Y=function(e){var t;null===(t=_)||void 0===t||t.midiNoteOff(e)}},196:function(e,t,n){"use strict";var a=n(52),r=n(0),i=n.n(r),o=n(15),s=n(10),l=n(290),c=n(19),u=Object(o.c)((function(e){return{Melo:e.melodition}}),(function(e){return{drawSeekBar:Object(s.b)(c.f,e)}}))((function(e){var t=e.Melo,n=e.drawSeekBar,a=Object(r.useCallback)((function(e){return e&&t.seekLoading&&n({seekBar:e}),function(){}}),[t.seekLoading,n]);return i.a.createElement("div",{style:{height:"40%"}},i.a.createElement(d,{ref:a,Melo:t}))}));t.a=u;var d=Object(r.forwardRef)((function(e,t){var n=e.Melo,o=Object(r.useState)(1),s=Object(a.a)(o,2),u=s[0],d=s[1];Object(r.useImperativeHandle)(t,(function(){return{changeSeeker:f}}));var f=function(e){"number"===typeof e&&d(e)};return i.a.createElement(l.a,{color:"secondary",orientation:"vertical","aria-label":"seekbar",defaultValue:0,max:n.songLength,min:0,onChange:function(e,t){var n;"number"===typeof(n=t)&&Object(c.a)(n)},"aria-labelledby":"vertical-slider",value:u})}))},203:function(e,t,n){e.exports=n.p+"static/media/melodition.7fdc0c11.jpg"},21:function(e,t,n){"use strict";n.d(t,"j",(function(){return a})),n.d(t,"g",(function(){return r})),n.d(t,"h",(function(){return i})),n.d(t,"i",(function(){return o})),n.d(t,"l",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return m}));var a="REQUEST_PLAYER",r="ENTER_NOTEMODE",i="ENTER_PLAYMODE",o="EXIT_PLAYMODE",s="RESIZE_PLAYER",l="RESET_PLAYER",c="DRAW_GAME_PIANO",u="DRAW_NOTE_PIANO",d="DRAW_SEEKBAR",f="DRAW_FINGER",h="DRAW_NOTES",m="DRAW_GAME"},246:function(e,t,n){e.exports=n(278)},25:function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"j",(function(){return r})),n.d(t,"h",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"k",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return h}));var a="USER_REGISTER_REQUEST",r="USER_REGISTER_SUCCESS",i="USER_REGISTER_FAILURE",o="USER_LOGIN_REQUEST",s="USER_LOGIN_SUCCESS",l="USER_LOGIN_FAILURE",c="USER_LOGOUT",u="USER_LOST_REQUEST",d="USER_LOST_SUCCESS",f="USER_LOST_FAILURE",h="CHANGE_THEME"},274:function(e,t,n){},276:function(e,t,n){var a={"./default_drum_00":[215,1],"./default_drum_00.ts":[215,1],"./default_drum_01":[216,2],"./default_drum_01.ts":[216,2],"./default_drum_02":[217,3],"./default_drum_02.ts":[217,3],"./default_drum_03":[218,4],"./default_drum_03.ts":[218,4],"./default_drum_04":[219,5],"./default_drum_04.ts":[219,5],"./default_drum_05":[220,6],"./default_drum_05.ts":[220,6],"./default_drum_06":[221,7],"./default_drum_06.ts":[221,7],"./default_drum_07":[222,8],"./default_drum_07.ts":[222,8]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=276,e.exports=r},277:function(e,t,n){var a={"./default_tone_00":[223,9],"./default_tone_00.ts":[223,9],"./default_tone_01":[224,10],"./default_tone_01.ts":[224,10],"./default_tone_02":[225,11],"./default_tone_02.ts":[225,11],"./default_tone_03":[226,12],"./default_tone_03.ts":[226,12],"./default_tone_04":[227,13],"./default_tone_04.ts":[227,13],"./default_tone_05":[228,14],"./default_tone_05.ts":[228,14],"./default_tone_06":[229,15],"./default_tone_06.ts":[229,15],"./default_tone_07":[230,16],"./default_tone_07.ts":[230,16]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=277,e.exports=r},278:function(e,t,n){"use strict";n.r(t);var a=n(74),r=n(0),i=n.n(r),o=n(40),s=n(197),l=n.n(s),c=n(15),u=n(66),d=n(159),f=n(29),h=n(18),m=n(73),p=Object(c.c)((function(e){return{loggedIn:e.auth.loggedIn}}))((function(e){var t="";if(e.loggedIn||(t=e.authenticationPath),e.loggedIn&&!e.isAllowed&&(t=e.restrictedPath),t){return r.createElement(h.b,Object.assign({},e,{component:function(){return r.createElement(h.a,{to:{pathname:t}})},render:void 0}))}return r.createElement(h.b,e)})),g=n(52),b=n(333),v=n(38),_=n(50),y=function(){var e=Object(r.useState)(""),t=Object(g.a)(e,2),n=t[0],a=t[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement("h1",null,"About"),i.a.createElement("p",null," ","Lorem ipsum dolor sit amet consectetur adipisicing elit. Atque ipsum praesentium rem asperiores fuga illo et, architecto doloremque nulla. Magni perspiciatis praesentium facere facilis, ullam officiis saepe sunt amet nulla?"),i.a.createElement("input",{type:"text",onChange:function(e){return function(e){var t=e.target.value;a(t)}(e)},value:n}),i.a.createElement(b.a,{onClick:function(){return f.b.dispatch({type:v.c,snackbar:Object(_.b)(n,"success")})}},"Snack"),i.a.createElement(b.a,{onClick:function(){return f.b.dispatch({type:v.a,dismissAll:!0})}},"Clear"))},E=n(3),O=n(13),S=n(30),k=n(43),j=n(42),w=n(10),x=n(187),A=n(14),C=n(31),T=n(334),L=n(335),N=n(336),G=n(337),I=n(78),R=n(338),B=n(282),P=n(289),M=n(56),V=Object(B.a)((function(e){return Object(P.a)({root:Object(A.a)({width:300,maxHeight:360,margin:e.spacing(2)},e.breakpoints.down(350),{margin:e.spacing(1)}),cardAction:{justifyContent:"space-between",margin:"inherit"},content:{minHeight:"140px"}})})),U=function(e){var t=e.post,n=V(),a=t.title,r=t.featured_img,o=t.excerpt,s=t.author,l=function(e){f.b.dispatch(Object(C.f)("/post/".concat(t.id)))};return i.a.createElement(T.a,{className:n.root},i.a.createElement(L.a,{onClick:l},i.a.createElement(N.a,{height:"140",component:"img",alt:t.title,title:t.title,image:Object(M.f)(r)}),i.a.createElement(G.a,{className:n.content},i.a.createElement(I.a,{gutterBottom:!0,variant:"h5",component:"h2"},a),i.a.createElement(I.a,{variant:"body2",color:"textSecondary",component:"p"},o))),i.a.createElement(R.a,{className:n.cardAction},i.a.createElement(I.a,{variant:"body2",color:"textSecondary",component:"p"},"\u0627\u0632 ",s),i.a.createElement(b.a,{size:"medium",color:"secondary",onClick:l},"\u0627\u062f\u0627\u0645\u0647 \u0645\u0637\u0644\u0628")))},z=n(396),F=n(339),D=n(5),q=function(e){Object(k.a)(n,e);var t=Object(j.a)(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"componentDidMount",value:function(){this.props.requestAllPost()}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.data,a=e.error,r=e.classes,o=n?n.length:0;return i.a.createElement("div",{className:r.root},i.a.createElement("div",{className:r.header},i.a.createElement(I.a,{variant:"h3"},"\u067e\u0633\u062a \u0647\u0627"),i.a.createElement(z.a,{className:r.chip,color:"secondary",label:"\u062a\u0639\u062f\u0627\u062f: "+o})),i.a.createElement(F.a,{container:!0,justify:"center",className:r.cardList},t?i.a.createElement(m.a,null):n.length?n.map((function(e){return i.a.createElement(U,{key:e.id,post:e})})):i.a.createElement(I.a,{component:"div",className:r.autoMargin},a)))}}]),n}(r.Component),H=Object(c.c)((function(e,t){return Object(E.a)({classes:t.classes},e.bank.posts)}),(function(e){return{requestAllPost:Object(w.b)(x.a,e)}}))(Object(D.a)((function(e){return Object(P.a)({root:{padding:e.spacing(2,1,0,2)},header:{position:"relative"},cardList:{minHeight:"calc(100vh - 143px)"},chip:{position:"absolute",right:0,top:e.spacing(1)},autoMargin:{margin:"auto"}})}))(q)),W=n(35),K=n(22),Z=n(65),Q=n(28),X=n(115),J=n.n(X),Y=n(345),$=n(346),ee=n(398),te=n(389),ne=n(344),ae=n(347),re=function(e){Object(k.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0},e.script=void 0,e.loadScript=function(){window.captchaOnLoad=e.onLoad;var t=document.createElement("script");t.type="text/javascript",t.src="https://www.google.com/recaptcha/api.js?onload=captchaOnLoad&render=explicit&hl=fa",t.async=!0,t.defer=!0,e.script=document.body.appendChild(t)},e.callback=function(){e.props.onChange(!0)},e.onLoad=function(){window.grecaptcha.render("g-recaptcha",{callback:e.callback,sitekey:"6Le8wccUAAAAAA0kNONoUC-NKPecGnUGKRY7zMno",size:"normal",theme:e.props.theme}),window.grecaptcha.ready((function(){e.setState({loading:!1})}))},e}return Object(S.a)(n,[{key:"componentDidMount",value:function(){this.loadScript()}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.script)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.onError;return r.createElement("div",{className:t.root},this.state.loading&&r.createElement(ne.a,{color:"secondary"}),r.createElement("div",{id:"g-recaptcha",className:n?t.captchaWarning:t.captcha}),r.createElement(I.a,{color:"error",variant:"caption"},n))}}]),n}(r.PureComponent),ie=Object(D.a)((function(e){return Object(P.a)({root:{position:"relative",minHeight:80},captcha:{zIndex:2,"& > div:first-child":{margin:"auto","& > div > iframe":{borderRadius:4,border:"1px solid"}}},captchaWarning:{"& > div:first-child":{margin:"auto","& > div > iframe":{borderRadius:4,border:"1px solid red"}}}})}))(re);function oe(e){var t=e.form,n=t.setFieldValue,a=t.errors,o=t.touched,s=e.field.name,l=f.b.getState().auth.theme,c=Object(r.useCallback)((function(e){n(s,!!e)}),[n,s]);return i.a.createElement(ie,{action:"login",theme:l,onChange:c,onError:o.recaptcha&&a.recaptcha})}var se=n(64),le=function(e){Object(k.a)(n,e);var t=Object(j.a)(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"componentDidMount",value:function(){this.props.loggedIn&&this.props.push("/profile")}},{key:"render",value:function(){var e=this,t=this.props,n=t.loading;return t.loggedIn?null:i.a.createElement(Y.a,{component:"main",maxWidth:"xs",style:{paddingTop:"10px"}},i.a.createElement($.a,null),i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement(ee.a,{style:{margin:"auto"}},i.a.createElement(J.a,null)),i.a.createElement(I.a,{component:"h1",variant:"h5"},"Sign in"),i.a.createElement(K.c,{initialValues:{username:"",password:"",recaptcha:""},validationSchema:W.b().shape({username:W.d().max(255).required("Email or Username is required"),password:W.d().max(255).required("Password is required"),recaptcha:W.a().required("ReCAPTCHA is required")}),onSubmit:function(t,n){var a=n.resetForm;t.username&&t.password&&(e.props.login({username:t.username,password:t.password}),a({}))}},i.a.createElement(K.b,null,i.a.createElement(te.a,{mb:3},i.a.createElement(I.a,{color:"textSecondary",align:"center",gutterBottom:!0,variant:"body2"},"Sign in on the internal platform")),i.a.createElement(F.a,{item:!0},i.a.createElement(b.a,{fullWidth:!0,size:"large",variant:"contained",type:"submit",disabled:!0},"Login with Google")),i.a.createElement(te.a,{mt:3,mb:1},i.a.createElement(I.a,{align:"center",color:"textSecondary",variant:"body1"},"or login with username / email address")),i.a.createElement(te.a,{my:1},i.a.createElement(K.a,{component:Z.a,color:"secondary",fullWidth:!0,label:"Email Address/Username",margin:"normal",name:"username",id:"username",placeholder:"John",type:"username",variant:"outlined"})),i.a.createElement(te.a,{my:1},i.a.createElement(K.a,{component:Z.a,color:"secondary",fullWidth:!0,label:"Password",margin:"normal",name:"password",type:"password",variant:"outlined"})),i.a.createElement(te.a,{my:1},i.a.createElement(K.a,{component:oe,color:"secondary",fullWidth:!0,label:"Recaptcha",margin:"normal",name:"recaptcha",type:"recaptcha",variant:"outlined"})),n&&i.a.createElement(ne.a,{color:"secondary"}),i.a.createElement(te.a,{my:1},i.a.createElement(b.a,{color:"secondary",disabled:n,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Sign in")),i.a.createElement(F.a,{container:!0,style:{textAlign:"initial"}},i.a.createElement(F.a,{item:!0,xs:!0},i.a.createElement(ae.a,{color:"secondary",component:Q.a,to:"/lostpassword",variant:"body2"},"Forgot password?")),i.a.createElement(F.a,{item:!0},i.a.createElement(I.a,{color:"textSecondary",variant:"body2"},"Don't have an account?",i.a.createElement(ae.a,{color:"secondary",component:Q.a,to:"/register",variant:"body2"},"Sign up"))))))))}}]),n}(i.a.Component),ce=Object(c.c)((function(e){var t=e.auth;return{loggedIn:t.loggedIn,loading:t.loading}}),(function(e){return{login:Object(w.b)(se.b,e),logout:Object(w.b)(se.c,e),push:Object(w.b)(C.f,e)}}))(le),ue=function(e){Object(k.a)(n,e);var t=Object(j.a)(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"componentDidMount",value:function(){this.props.loggedIn&&this.props.push("/")}},{key:"render",value:function(){var e=this,t=this.props,n=t.loading;return t.loggedIn?null:i.a.createElement(Y.a,{component:"main",maxWidth:"xs",style:{paddingTop:"10px"}},i.a.createElement($.a,null),i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement(ee.a,{style:{margin:"auto"}},i.a.createElement(J.a,null)),i.a.createElement(I.a,{component:"h1",variant:"h5"},"Lost Password"),i.a.createElement(K.c,{initialValues:{user_login:"",recaptcha:""},validationSchema:W.b().shape({user_login:W.d().max(255).required("Email or Username is required"),recaptcha:W.a().required("ReCAPTCHA is required")}),onSubmit:function(t,n){var a=n.resetForm;t.user_login&&e.props.lostRequest(t),a({})}},i.a.createElement(K.b,null,i.a.createElement(te.a,{my:2},i.a.createElement(I.a,{color:"textSecondary",align:"center",gutterBottom:!0,variant:"body2"},"Enter your email or user_login")),i.a.createElement(te.a,{my:1},i.a.createElement(K.a,{component:Z.a,color:"secondary",fullWidth:!0,label:"Email Address/Username",margin:"normal",name:"user_login",id:"user_login",placeholder:"John",type:"user_login",variant:"outlined"})),i.a.createElement(te.a,{my:1},i.a.createElement(K.a,{component:oe,color:"secondary",fullWidth:!0,label:"Recaptcha",margin:"normal",name:"recaptcha",type:"recaptcha",variant:"outlined"})),n&&i.a.createElement(ne.a,{color:"secondary"}),i.a.createElement(te.a,{my:1},i.a.createElement(b.a,{color:"secondary",disabled:n,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Recover"))))))}}]),n}(i.a.Component),de=Object(c.c)((function(e,t){var n=e.auth;return{loggedIn:n.loggedIn,loading:n.loading}}),(function(e,t){return{lostRequest:Object(w.b)(se.d,e),push:Object(w.b)(C.f,e)}}))(ue),fe=n(393),he=n(343),me=function(e){Object(k.a)(n,e);var t=Object(j.a)(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"componentDidMount",value:function(){this.props.loggedIn&&this.props.push("/")}},{key:"render",value:function(){var e=this,t=this.props,n=t.loading;return t.loggedIn?null:i.a.createElement(Y.a,{component:"main",maxWidth:"xs",style:{paddingTop:"10px"}},i.a.createElement($.a,null),i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement(ee.a,{style:{margin:"auto"}},i.a.createElement(J.a,null)),i.a.createElement(I.a,{component:"h1",variant:"h5"},"Sign Up"),i.a.createElement(K.c,{initialValues:{email:"",firstname:"",lastname:"",username:"",password:"",confirm_password:"",recaptcha:!1,policy:!1},validationSchema:W.b().shape({email:W.d().email("Must be a valid email").max(255).required("Email is required"),firstname:W.d().max(255).required("First name is required"),lastname:W.d().max(255).required("Last name is required"),username:W.d().max(255).required("User name is required"),password:W.d().max(255).required("Password is required"),confirm_password:W.d().oneOf([W.c("password"),""],"Both password need to be the same"),policy:W.a().oneOf([!0],"This field must be checked"),recaptcha:W.a().oneOf([!0],"This field must be checked")}),onSubmit:function(t,n){var a=n.resetForm;t.firstname&&t.lastname&&t.username&&t.email&&t.password&&e.props.registerRequest({firstname:t.firstname,lastname:t.lastname,username:t.username,password:t.password,email:t.email}),a({})}},(function(e){var t=e.handleChange,a=e.values,r=e.touched,o=e.errors;return i.a.createElement(K.b,null,i.a.createElement(te.a,{mb:3},i.a.createElement(I.a,{color:"textSecondary",align:"center",gutterBottom:!0,variant:"body2"},"Use your email to create new account"),i.a.createElement(K.a,{component:Z.a,color:"secondary",fullWidth:!0,label:"\u0646\u0627\u0645",margin:"normal",name:"firstname",variant:"outlined"}),i.a.createElement(K.a,{component:Z.a,color:"secondary",fullWidth:!0,label:"\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc",margin:"normal",name:"lastname",variant:"outlined"}),i.a.createElement(K.a,{component:Z.a,color:"secondary",fullWidth:!0,label:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc",margin:"normal",name:"username",variant:"outlined"}),i.a.createElement(K.a,{component:Z.a,color:"secondary",fullWidth:!0,label:"\u0622\u062f\u0631\u0633 \u0627\u06cc\u0645\u06cc\u0644",margin:"normal",name:"email",dir:"ltr",type:"email",variant:"outlined"}),i.a.createElement(K.a,{component:Z.a,color:"secondary",fullWidth:!0,label:"\u067e\u0633\u0648\u0631\u062f",margin:"normal",name:"password",type:"password",variant:"outlined"}),i.a.createElement(K.a,{component:Z.a,color:"secondary",fullWidth:!0,label:"\u062a\u0627\u0626\u06cc\u062f \u067e\u0633\u0648\u0631\u062f",margin:"normal",name:"confirm_password",type:"password",variant:"outlined"}),i.a.createElement(te.a,{alignItems:"center",display:"flex",ml:-1},i.a.createElement(fe.a,{checked:a.policy,name:"policy",onChange:t}),i.a.createElement(I.a,{color:"textSecondary",variant:"body1"},"I have read the"," ",i.a.createElement(ae.a,{color:"secondary",component:Q.a,to:"#",underline:"always",variant:"body1"},"Terms and Conditions"," "))),Boolean(r.policy&&o.policy)&&i.a.createElement(he.a,{error:!0},o.policy),i.a.createElement(te.a,{my:1},i.a.createElement(K.a,{component:oe,color:"secondary",fullWidth:!0,label:"Recaptcha",margin:"normal",name:"recaptcha",type:"recaptcha",variant:"outlined"})),n&&i.a.createElement(ne.a,{color:"secondary"}),i.a.createElement(te.a,{my:2},i.a.createElement(b.a,{color:"secondary",disabled:n,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Sign up now")),i.a.createElement(I.a,{align:"center",color:"textSecondary",variant:"body2"},"Have an account?",i.a.createElement(ae.a,{color:"secondary",component:Q.a,to:"/login",variant:"body2"},"Sign in"))))}))))}}]),n}(i.a.Component),pe=Object(c.c)((function(e){var t=e.auth;return{loggedIn:t.loggedIn,loading:t.loading}}),(function(e){return{registerRequest:Object(w.b)(se.e,e),push:Object(w.b)(C.f,e)}}))(me),ge=n(76),be=n(51),ve=function(e){return function(t){t({type:ge.b});var n=_e(e),a=n.userID;be.a.get("/wp/v2/users/".concat(a)).then((function(e){t({type:ge.c,profile:Object(E.a)(Object(E.a)({},e.data),{},{info:n})})})).catch((function(e){return Object(_.a)(e,ge.a)}))}},_e=function(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")),a=JSON.parse(n);return{userID:a.data.user.id,expire:1e3*a.exp,issued:1e3*a.iat,before:1e3*a.nbf}},ye=n(2),Ee=n(32),Oe=n(178),Se=n(352),ke=n(353),je=n(354),we=n(355),xe=n(356),Ae=n(357),Ce=n(358),Te=n(359),Le=n(399),Ne=n(348),Ge=n(349),Ie=n(350),Re=n(351),Be=Object(B.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));function Pe(e){var t=Be(),n=Object(Ee.a)(),a=e.count,r=e.page,o=e.rowsPerPage,s=e.onChangePage;return i.a.createElement("div",{className:t.root},i.a.createElement(Oe.a,{onClick:function(e){s(e,0)},disabled:0===r,"aria-label":"first page"},"rtl"===n.direction?i.a.createElement(Ne.a,null):i.a.createElement(Ge.a,null)),i.a.createElement(Oe.a,{onClick:function(e){s(e,r-1)},disabled:0===r,"aria-label":"previous page"},"rtl"===n.direction?i.a.createElement(Ie.a,null):i.a.createElement(Re.a,null)),i.a.createElement(Oe.a,{onClick:function(e){s(e,r+1)},disabled:r>=Math.ceil(a/o)-1,"aria-label":"next page"},"rtl"===n.direction?i.a.createElement(Re.a,null):i.a.createElement(Ie.a,null)),i.a.createElement(Oe.a,{onClick:function(e){s(e,Math.max(0,Math.ceil(a/o)-1))},disabled:r>=Math.ceil(a/o)-1,"aria-label":"last page"},"rtl"===n.direction?i.a.createElement(Ge.a,null):i.a.createElement(Ne.a,null)))}var Me=Object(B.a)((function(e){return{table:{minWidth:300},toolbar:{"& div":Object(A.a)({flexFlow:"wrap",justifyContent:"flex-end"},e.breakpoints.only("xs"),{justifyContent:"space-around"})}}}));function Ve(e){var t=e.res,n=Me(),a=i.a.useState(0),r=Object(g.a)(a,2),o=r[0],s=r[1],l=i.a.useState(5),c=Object(g.a)(l,2),u=c[0],d=c[1],f=u-Math.min(u,t.length-o*u),h=t.length>500?"higher":t.length>=100?"high":t.length>=30?"average":t.length>5?"low":"lower",m=function(e,t){var n,a;return e&&(n=e),t&&(a=t),n||a};return i.a.createElement(T.a,{className:Object(ye.a)(n.root)},i.a.createElement(Se.a,{title:"\u0622\u062e\u0631\u06cc\u0646 \u0622\u0647\u0646\u06af \u0647\u0627"}),i.a.createElement(ke.a,null),i.a.createElement(te.a,null,i.a.createElement(je.a,{className:n.table,"aria-label":"custom pagination table"},i.a.createElement(we.a,null,i.a.createElement(xe.a,null,i.a.createElement(Ae.a,null,"\u0646\u0627\u0645 \u0622\u0647\u0646\u06af"),i.a.createElement(Ae.a,null,"\u0633\u0627\u0639\u062a"),i.a.createElement(Ae.a,null,"\u062a\u0627\u0631\u06cc\u062e"),i.a.createElement(Ae.a,null,"\u062f\u0642\u062a"))),i.a.createElement(Ce.a,null,(u>0?t.slice(o*u,o*u+u):t).map((function(e){return i.a.createElement(xe.a,{key:Object(M.a)()},0!==e.song.id?i.a.createElement(Ae.a,null,i.a.createElement(ae.a,{to:"/lesson/".concat(e.song.id),color:"secondary",component:Q.a},e.song.name)):i.a.createElement(Ae.a,null,i.a.createElement(ae.a,{to:"/guide",color:"secondary",component:Q.a},e.song.name)),i.a.createElement(Ae.a,null,m(!1,e.time)),i.a.createElement(Ae.a,null,m(e.date)),i.a.createElement(Ae.a,null,i.a.createElement(z.a,{color:"secondary",label:e.progress,size:"small"})))})),f>0&&i.a.createElement(xe.a,{style:{height:57*f}},i.a.createElement(Ae.a,{colSpan:6}))),i.a.createElement(Te.a,null,i.a.createElement(xe.a,null,i.a.createElement(Le.a,{className:n.toolbar,rowsPerPageOptions:{lower:[{label:"\u0647\u0645\u0647",value:-1}],low:[{label:"\u06f5",value:5},{label:"\u0647\u0645\u0647",value:-1}],average:[{label:"\u06f5",value:5},{label:"\u06f1\u06f0",value:10},{label:"\u0647\u0645\u0647",value:-1}],high:[{label:"\u06f5",value:5},{label:"\u06f1\u06f0",value:10},{label:"\u06f2\u06f5",value:25},{label:"\u0647\u0645\u0647",value:-1}],higher:[{label:"\u06f5",value:5},{label:"\u06f1\u06f0",value:10},{label:"\u06f2\u06f5",value:25},{label:"\u06f5\u06f0",value:50},{label:"\u0647\u0645\u0647",value:-1}]}[h],colSpan:4,count:t.length,rowsPerPage:u,page:o,SelectProps:{inputProps:{"aria-label":"row per page"},native:!0},onChangePage:function(e,t){s(t)},onChangeRowsPerPage:function(e){d(parseInt(e.target.value,10)),s(0)},ActionsComponent:Pe}))))))}var Ue=function(e){Object(k.a)(n,e);var t=Object(j.a)(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"componentDidMount",value:function(){var e,t=null===(e=this.props.auth.user)||void 0===e?void 0:e.token;t&&this.props.getProfile(t)}},{key:"render",value:function(){var e=this.props.profile,t=e.profile;return e.loading?i.a.createElement(m.a,null):t?i.a.createElement(Y.a,{maxWidth:!1,style:{paddingTop:"10px"}},i.a.createElement(F.a,{container:!0,spacing:3},i.a.createElement(F.a,{item:!0,lg:12,md:12,xl:12,xs:12},i.a.createElement(Ve,{res:t.meta.playtime})))):i.a.createElement("div",null,"not signed...")}}]),n}(i.a.Component),ze=Object(c.c)((function(e,t){return{profile:e.user.profile,auth:e.auth}}),(function(e,t){return{getProfile:Object(w.b)(ve,e)}}))(Ue),Fe=Object(r.lazy)((function(){return Promise.all([n.e(23),n.e(22)]).then(n.bind(null,423))})),De=Object(r.lazy)((function(){return n.e(26).then(n.bind(null,420))})),qe=Object(r.lazy)((function(){return n.e(21).then(n.bind(null,425))})),He=Object(r.lazy)((function(){return n.e(20).then(n.bind(null,427))})),We=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(25)]).then(n.bind(null,421))})),Ke=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(24)]).then(n.bind(null,426))})),Ze=function(){return i.a.createElement(h.d,null,i.a.createElement(r.Suspense,{fallback:i.a.createElement(m.a,null)},i.a.createElement(h.b,{exact:!0,path:["/","/post"],component:H}),i.a.createElement(h.b,{exact:!0,path:"/learning",component:Fe}),i.a.createElement(h.b,{exact:!0,path:["/guide","/course","/exercise","/favorite","/lesson"],component:Fe}),i.a.createElement(h.b,{exact:!0,path:"/post/:id",component:De}),i.a.createElement(h.b,{exact:!0,path:"/guide/:id",component:qe}),i.a.createElement(h.b,{exact:!0,path:["/course/:id","/guide/:id/course=:id"],component:He}),i.a.createElement(h.b,{exact:!0,path:["/lesson/:id","/course/:id/lesson=:id","/guide/:id/lesson=:id","/guide/:id/course=:id/lesson=:id"],component:We}),i.a.createElement(h.b,{exact:!0,path:["/exercise/:id","/course/:id/exercise=:id","/guide/:id/exercise=:id","/guide/:id/course=:id/exercise=:id"],component:Ke}),i.a.createElement(h.b,{exact:!0,path:"/login",component:ce}),i.a.createElement(h.b,{exact:!0,path:"/register",component:pe}),i.a.createElement(h.b,{exact:!0,path:"/lostpassword",component:de}),i.a.createElement(p,{exact:!0,path:"/dashboard",component:ze,isAllowed:!0,restrictedPath:"/dashboard",authenticationPath:"/login"}),i.a.createElement(h.b,{exact:!0,path:"/about",component:y})))},Qe=(n(274),n(390)),Xe=n(400),Je=n(401),Ye=n(388),$e=n(281),et=n(213),tt=n(364),nt=n(19),at=function(e){var t,n,a=e.Melo,r=e.drawGame;return i.a.createElement("canvas",{ref:function(e){return function(e){e&&a.gameLoading&&a.canvasSize&&r(e)}(e)},width:null===(t=a.canvasSize)||void 0===t?void 0:t.width,height:null===(n=a.canvasSize)||void 0===n?void 0:n.height,style:{position:"absolute",top:0,left:0,zIndex:2},onWheel:function(e){return Object(nt.a)(e)}})},rt=function(e){var t,n,a=e.Melo;return i.a.createElement("canvas",{ref:function(e){return function(e){if(e&&a.canvasSize&&a.gameLoading){var t=e.getContext("2d");t.clearRect(0,0,a.canvasSize.width,a.canvasSize.height);var n=a.pianoSize,r=n?n.length-1:61,i=n?n[r].width:.5,o=a.canvasSize.height;null===n||void 0===n||n.forEach((function(e,n){t.beginPath();var a=e.left;"CF"===e.key||"last"===e.key?(t.moveTo(a,0),t.lineTo(a,o),t.lineWidth=i,t.strokeStyle="rgba(50,50,50,0.8)",t.stroke()):"black"===e.key&&(t.rect(a,0,e.width,o),t.fillStyle="rgba(0,0,0,0.4)",t.fill())}))}}(e)},width:null===(t=a.canvasSize)||void 0===t?void 0:t.width,height:null===(n=a.canvasSize)||void 0===n?void 0:n.height,style:{zIndex:1}})},it=function(e){var t=e.width,n=e.baseLine;return i.a.createElement("svg",{width:t+7,height:n,onWheel:function(e){return Object(nt.a)(e)},style:{bottom:0,left:-7,zIndex:3,position:"absolute",filter:"drop-shadow(rgba(0, 0, 0, 0.7) 0px 1px 1px)"}},i.a.createElement("style",null,"@keyframes draw{to{stroke-dashoffset:0}}"),i.a.createElement("polygon",{points:"0,0 10,8 0,16",fill:"red"}),i.a.createElement("line",{style:{strokeDasharray:t+7,strokeDashoffset:t+7,animation:"draw 1s linear forwards"},x1:0,y1:8,x2:t+7,y2:8,strokeWidth:2.5,stroke:"red"}))},ot=Object(c.c)((function(e){return{Melo:e.melodition}}),(function(e){return{drawGame:Object(w.b)(nt.d,e)}}))((function(e){var t,n,a=e.Melo,r=e.drawGame;return i.a.createElement("div",{style:{width:null===(t=a.canvasSize)||void 0===t?void 0:t.width,height:null===(n=a.canvasSize)||void 0===n?void 0:n.height,position:"relative",boxShadow:"inset 0 1px 4px 0px black"}},i.a.createElement(at,{Melo:a,drawGame:r}),i.a.createElement(rt,{Melo:a}),a.canvasSize&&i.a.createElement(it,a.canvasSize))})),st=n(181),lt=n(180),ct=n(362),ut=n(361),dt=n(363),ft=Object(B.a)((function(e){return Object(P.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},divider:{margin:e.spacing(0,2)}})}));function ht(e){var t=e.lesson,n=e.modeChanger,a=ft();return i.a.createElement(ct.a,{position:"static",color:"default",className:a.root},i.a.createElement(ut.a,null,i.a.createElement(Oe.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:n},i.a.createElement(dt.a,null)),i.a.createElement(ke.a,{orientation:"vertical",flexItem:!0,className:a.divider}),i.a.createElement(I.a,{variant:"h6",color:"inherit",className:a.title},null===t||void 0===t?void 0:t.title)))}var mt=n(196),pt=function(e){Object(k.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).svgWidth=function(e){return 1===e?668:584},a.toggleDrawer=function(e){"keydown"!==e.type&&(a.state.list?a.setState({list:!1}):a.setState({list:!0}))},a.playmodeChanger=function(){a.props.changeMode(!1)},a.updateDimensions=function(){a.props.melodition.pianoLoading||a.props.resizePlayer()},a.state={list:!1},a}return Object(S.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.melodition,a=e.lesson;return i.a.createElement("div",{className:t.root},i.a.createElement(ht,{modeChanger:this.playmodeChanger,lesson:a}),n.playMode?i.a.createElement(F.a,{container:!0,className:t.main},i.a.createElement(F.a,{item:!0,xs:1},i.a.createElement(F.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:t.content},i.a.createElement(lt.a,{loading:n.loading}))),i.a.createElement(F.a,{item:!0,xs:10},i.a.createElement(F.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:t.content},i.a.createElement(F.a,{item:!0,xs:12},n.pianoLoading?i.a.createElement(m.a,{noPad:!0}):i.a.createElement(ot,null),i.a.createElement(st.a,null)))),i.a.createElement(F.a,{item:!0,xs:1},i.a.createElement(F.a,{container:!0,direction:"column",justify:"space-around",alignItems:"center",className:t.content},i.a.createElement(mt.a,null),i.a.createElement(Oe.a,{color:"secondary","aria-label":"play mode"},i.a.createElement(tt.a,null))))):i.a.createElement(F.a,{container:!0,className:t.main},i.a.createElement(m.a,null)))}}]),n}(r.Component),gt=Object(c.c)((function(e,t){return{history:e.router.location.pathname,classes:t.classes,melodition:e.melodition,theme:e.auth.theme,lesson:e.single.lesson.data,course:e.single.course.data}}),(function(e){return{changeMode:Object(w.b)(nt.b,e),drawGame:Object(w.b)(nt.d,e),drawPiano:Object(w.b)(nt.g,e),resizePlayer:Object(w.b)(nt.m,e)}}))(Object(D.a)((function(e){var t;return Object(P.a)({root:{width:"100vw",height:"100vh",overflow:"hidden",backgroundColor:e.palette.background.paper},main:(t={width:"100vw",overflow:"hidden",minHeight:"calc(100vh - 64px)"},Object(A.a)(t,e.breakpoints.down("xs"),{minHeight:"calc(100vh - 56px)"}),Object(A.a)(t,"display","flex"),t),content:{height:"100%",width:"100%",flexWrap:"nowrap"},doubleGrid:{flexWrap:"nowrap",width:"100%",maxWidth:"100%","& > div":{margin:"auto",padding:0,height:"100%"}},centerText:{textAlign:"center"},loading:{display:"flex",height:"83%",boxShadow:"inset 0 1px 4px 0px black"}})}))(pt)),bt=n(209),vt=n(166),_t=n(165),yt=n(164),Et=n(158),Ot=Object(bt.a)({direction:"rtl",typography:{fontFamily:"Vazir"},overrides:{MuiBreadcrumbs:{root:{width:"calc(100vw - 64px)"},ol:{flexWrap:"nowrap",overflowX:"scroll",scrollbarWidth:"none",whiteSpace:"nowrap","&::-webkit-scrollbar":{display:"none"}}},MuiCardActions:{root:{padding:void 0}},MuiCssBaseline:{"@global":{"*":{scrollbarWidth:"thin",scrollbarColor:"rgb(245, 0, 87) #0000"},"*::-webkit-scrollbar":{width:"10px"},"*::-webkit-scrollbar-track":{"-webkit-border-radius":"10px",borderRadius:"8px"},"*::-webkit-scrollbar-thumb":{"-webkit-border-radius":"10px",borderRadius:"10px",background:"rgb(245, 0, 87)"},"*::-webkit-scrollbar-thumb:window-inactive":{background:"rgb(245, 0, 87)"}}},MuiIconButton:{colorSecondary:{"&:hover":{backgroundColor:"rgb(200 200 200 / 0.5)"}}}}}),St=Object(bt.a)(Object(E.a)(Object(E.a)({},Ot),{},{palette:{type:"dark",primary:vt.a,error:_t.a,secondary:{main:yt.a[300]}}}),Et.faIR),kt=Object(bt.a)(Object(E.a)(Object(E.a)({},Ot),{},{palette:{error:_t.a}}),Et.faIR),jt=n(394),wt=n(365),xt=n(366),At=n(367),Ct=n(368),Tt=n(369),Lt=n(370),Nt=Object(B.a)((function(e){return Object(P.a)({bracrumbs:{padding:e.spacing(1,2,0,2),"& > ol > li":{padding:e.spacing(1,.5)}},back:{margin:e.spacing(0,2)}})})),Gt={post:i.a.createElement(wt.a,null),guide:i.a.createElement(xt.a,null),course:i.a.createElement(At.a,null),lesson:i.a.createElement(Ct.a,null),exercise:i.a.createElement(Tt.a,null),favorite:i.a.createElement(Lt.a,null)},It=Object(c.c)((function(e,t){return{pathname:e.router.location.pathname,single:e.single}}),(function(e){return{push:Object(w.b)(C.f,e),back:Object(w.b)(C.d,e)}}))((function(e){var t=e.single,n=e.pathname,a=e.push,o=e.back,s=Object(r.useState)([]),l=Object(g.a)(s,2),c=l[0],u=l[1],d=Object(r.useState)(!1),f=Object(g.a)(d,2),h=f[0],m=f[1],p=Nt();Object(r.useEffect)((function(){var e=Object(M.d)(n),a=Object.keys(e),r=[];return a.forEach((function(e,i){var o,s=t[a[i-1]],l=null===s||void 0===s||null===(o=s.data)||void 0===o?void 0:o.title,c=0===i?Gt[e]:l||"...";r[i]={url:n.split("/").slice(0,i+2).join("/"),name:c}})),e.length>0&&(m(!0),u(r)),function(){m(!1)}}),[n,t]);var b=function(e){e.preventDefault(),a(e.currentTarget.pathname)};return h?i.a.createElement(ct.a,{position:"static"},i.a.createElement(et.a,{square:!0,style:{overflow:"hidden"}},i.a.createElement(ut.a,{disableGutters:!0},i.a.createElement(Oe.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:o,className:p.back},i.a.createElement(dt.a,null)),i.a.createElement(ke.a,{orientation:"vertical",flexItem:!0}),i.a.createElement(jt.a,{"aria-label":"breadcrumb",className:p.bracrumbs},c.map((function(e,t){return i.a.createElement(ae.a,{key:t+e.name,href:e.url,color:"inherit","aria-label":e.name,onClick:b},e.name)})))))):null})),Rt=n(208),Bt=n.n(Rt),Pt=n(372),Mt=n(373),Vt=n(374),Ut=n(375),zt=n(371),Ft=Object(B.a)((function(e){return Object(P.a)({sectionDesktop:Object(A.a)({display:"none"},e.breakpoints.up("sm"),{display:"flex"}),sectionMobile:Object(A.a)({display:"flex"},e.breakpoints.up("sm"),{display:"none"})})})),Dt=function(e){var t=Ft(),n=e.state,a=n.menuId,r=n.mobileMenuId,o=function(t){e.dispatch({type:"profile-anchor",payload:t.currentTarget})};return e.loggedIn?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:t.sectionDesktop},i.a.createElement(Oe.a,{"aria-label":"show 4 new mails",color:"inherit"},i.a.createElement(zt.a,{badgeContent:4,color:"secondary"},i.a.createElement(Pt.a,null))),i.a.createElement(Oe.a,{"aria-label":"show 17 new alerts",color:"inherit"},i.a.createElement(zt.a,{badgeContent:17,color:"secondary"},i.a.createElement(Mt.a,null))),i.a.createElement(Oe.a,{edge:"end","aria-label":"account of current user","aria-controls":a,"aria-haspopup":"true",onClick:o,color:"inherit"},i.a.createElement(Vt.a,null))),i.a.createElement("div",{className:t.sectionMobile},i.a.createElement(Oe.a,{"aria-label":"show more","aria-controls":r,"aria-haspopup":"true",onClick:function(t){e.dispatch({type:"mobile-anchor",payload:t.currentTarget})},color:"inherit"},i.a.createElement(Ut.a,null)))):i.a.createElement(Oe.a,{edge:"end","aria-label":"account of current user","aria-controls":a,"aria-haspopup":"true",onClick:o,color:"inherit"},i.a.createElement(Vt.a,null))},qt=n(214),Ht=n(207),Wt=n.n(Ht),Kt=n(8),Zt=function(e){Object(k.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).handleOnInputChange=function(e){var t=e.target.value;a.setState({query:t,loading:!0})},a.fetchSearchResult=function(){},a.state={query:"",results:{},loading:!1,message:""},a}return Object(S.a)(n,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state.query;return i.a.createElement("div",{className:t.search},i.a.createElement("div",{className:t.searchIcon},i.a.createElement(Wt.a,null)),i.a.createElement(qt.a,{placeholder:"\u062c\u0633\u062a\u062c\u0648...",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"},type:"text",value:n,onChange:function(t){return e.handleOnInputChange(t)}}))}}]),n}(i.a.Component),Qt=Object(D.a)((function(e){var t;return Object(P.a)({search:Object(A.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Kt.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Kt.c)(e.palette.common.white,.25)},width:"100%",marginLeft:e.spacing(1)},e.breakpoints.up(420),{width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",top:0,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},inputRoot:{color:"inherit"},inputInput:(t={padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"0","&:focus":{width:"12ch"}},Object(A.a)(t,e.breakpoints.down(420),{width:"7ch"}),Object(A.a)(t,e.breakpoints.down(350),{width:"0"}),t)})}))(Zt),Xt=n(210),Jt=n(360),Yt=n(376),$t=function(e){var t=e.state,n=t.mobileMenuId,a=t.mobileMoreAnchor,r=Boolean(a),o=function(){e.dispatch({type:"mobile-close"})};return e.loggedIn?i.a.createElement(Xt.a,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},id:n,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:r,onClose:o},i.a.createElement(Jt.a,null,i.a.createElement(Oe.a,{"aria-label":"show 4 new mails",color:"inherit"},i.a.createElement(zt.a,{badgeContent:4,color:"secondary"},i.a.createElement(Yt.a,null))),i.a.createElement("p",null,"Messages")),i.a.createElement(Jt.a,null,i.a.createElement(Oe.a,{"aria-label":"show 11 new alerts",color:"inherit"},i.a.createElement(zt.a,{badgeContent:11,color:"secondary"},i.a.createElement(Mt.a,null))),i.a.createElement("p",null,"Notification")),i.a.createElement(Jt.a,{onClick:function(t){e.dispatch({type:"profile-anchor",payload:t.currentTarget})}},i.a.createElement(Oe.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},i.a.createElement(Vt.a,null)),i.a.createElement("p",null,"Account")),i.a.createElement(Jt.a,{onClick:function(){o(),e.logout&&e.logout()}},i.a.createElement(Oe.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},i.a.createElement(Vt.a,null)),i.a.createElement("p",null,"Sign Out"))):i.a.createElement(Xt.a,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},id:n,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:r,onClose:o},i.a.createElement(ae.a,{to:"/login",component:Q.a,color:"secondary"},i.a.createElement(Jt.a,{onClick:o},i.a.createElement(Oe.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},i.a.createElement(Vt.a,null)),i.a.createElement("p",null,"\u0648\u0631\u0648\u062f"))),i.a.createElement(ae.a,{to:"/register",component:Q.a,color:"secondary"},i.a.createElement(Jt.a,{onClick:o},i.a.createElement(Oe.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},i.a.createElement(Vt.a,null)),i.a.createElement("p",null,"\u062b\u0628\u062a \u0646\u0627\u0645"))))},en=n(377),tn=n(378),nn=n(379),an=n(380),rn=n(381),on={in:[{name:"\u067e\u0631\u0648\u0641\u0627\u06cc\u0644",to:"/profile",icon:i.a.createElement(en.a,null)},{name:"\u06a9\u0627\u0628\u0631\u06cc \u0645\u0646",to:"/dashboard",icon:i.a.createElement(tn.a,null)}],out:[{name:"\u0648\u0631\u0648\u062f",to:"/login",icon:i.a.createElement(tn.a,null)},{name:"\u062b\u0628\u062a \u0646\u0627\u0645",to:"/register",icon:i.a.createElement(tn.a,null)}]},sn=[{to:"/",title:"\u062e\u0627\u0646\u0647\u200c",icon:i.a.createElement(nn.a,null)},{to:"/learning",title:"\u062f\u0631\u0633 \u0647\u0627\u200c",icon:i.a.createElement(an.a,null)},{to:"/about",title:"\u062f\u0631\u0628\u0627\u0631\u0647\u200c",icon:i.a.createElement(rn.a,null)}],ln=function(e){var t=e.loggedIn,n=e.state,a=e.logout,r=e.dispatch,o=n.profileMoreAnchor,s=n.menuId,l=Boolean(o),c=function(){r({type:"profile-close"})},u=t?on.in:on.out;return i.a.createElement(Xt.a,{anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},id:s,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:l,onClose:c},u.map((function(e,t){return i.a.createElement(ae.a,{to:e.to,key:"menuitem-"+t,onClick:c,component:Q.a,color:"secondary"},i.a.createElement(Jt.a,{onClick:c},e.name))})),t&&i.a.createElement(Jt.a,{onClick:function(){a&&a(),c()}},"\u062e\u0631\u0648\u062c"))},cn=n(395),un=n(342),dn=n(382),fn=n(383),hn=n(384),mn=n(385),pn=n(285),gn=n(386),bn=n(387),vn=Object(B.a)((function(e){return Object(P.a)({root:{display:"flex"},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(E.a)(Object(E.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-start"}),toolbar:Object(E.a)({display:"flex",alignItems:"center",justifyContent:"space-between",padding:e.spacing(0,1,0,4)},e.mixins.toolbar)})}));function _n(e){var t=e.state,n=e.loggedIn,a=e.theme,r=e.changeTheme,o=e.dispatch,s=vn(),l=Object(Ee.a)().direction,c=function(){o({type:"menu-toggle"})},u=n?on.in:on.out;return i.a.createElement("div",{className:s.root},i.a.createElement($.a,null),i.a.createElement(cn.a,{className:s.drawer,variant:"temporary",anchor:"ltr"===l?"right":"left",open:t.menuIsOpen,onClose:c,classes:{paper:s.drawerPaper}},i.a.createElement("div",{className:s.toolbar},i.a.createElement(Oe.a,{color:"inherit","aria-label":"open drawer",onClick:function(){r("light"===a?"dark":"light")},edge:"start"},"light"===a?i.a.createElement(dn.a,null):i.a.createElement(fn.a,null)),i.a.createElement(Oe.a,{onClick:c},"ltr"===l?i.a.createElement(hn.a,null):i.a.createElement(mn.a,null))),i.a.createElement(ke.a,null),i.a.createElement(un.a,null,sn.map((function(e,t){return i.a.createElement(ae.a,{to:e.to,key:"sidelink-"+t,onClick:c,component:Q.a,color:"secondary"},i.a.createElement(pn.a,{button:!0},i.a.createElement(gn.a,null,e.icon),i.a.createElement(bn.a,{primary:e.title})))}))),i.a.createElement(ke.a,null),i.a.createElement(un.a,null,u.map((function(e,t){return i.a.createElement(ae.a,{to:e.to,key:"sidelink-"+t,onClick:c,component:Q.a,color:"secondary"},i.a.createElement(pn.a,{button:!0},i.a.createElement(gn.a,null,e.icon),i.a.createElement(bn.a,{primary:e.name})))})))))}var yn=n(331),En=Object(B.a)((function(e){var t;return Object(P.a)({root:(t={display:"none"},Object(A.a)(t,e.breakpoints.up(420),{marginLeft:e.spacing(1),display:"inline-block"}),Object(A.a)(t,e.breakpoints.up("sm"),{marginLeft:e.spacing(2),display:"inline-block"}),Object(A.a)(t,e.breakpoints.up("md"),{marginLeft:e.spacing(4),display:"inline-block"}),Object(A.a)(t,e.breakpoints.up("lg"),{marginLeft:e.spacing(8),display:"inline-block"}),t),linkKeeper:{overflow:"hidden",height:"1.2em",lineHeight:"1.2em"},links:{textAlign:"center",flexGrow:1}})})),On=function(e){var t=e.openStatus,n=En();return i.a.createElement(yn.a,{in:!t,className:n.links},i.a.createElement("div",{className:n.linkKeeper},sn.map((function(e,t){return i.a.createElement(ae.a,{key:"link-"+t,to:e.to,className:n.root,component:Q.a,color:"secondary"},e.title)}))))},Sn=Object(B.a)((function(e){return Object(P.a)({appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},hide:{display:"none"},menuButton:{marginRight:e.spacing(2)}})})),kn=function(e){var t=Sn(),n=e.state.menuIsOpen;return i.a.createElement(ct.a,{color:"default",position:"relative",className:Object(ye.a)(t.appBar,Object(A.a)({},t.appBarShift,n))},i.a.createElement(ut.a,null,i.a.createElement(Oe.a,{color:"inherit","aria-label":"open drawer",onClick:function(){e.dispatch({type:"menu-toggle"})},edge:"start",className:Object(ye.a)(t.menuButton,Object(A.a)({},t.hide,n))},i.a.createElement(Bt.a,null)),i.a.createElement(ae.a,{component:Q.a,color:"secondary",to:"/"},"\u0645\u0644\u0648\u062f\u06cc\u0634\u0646"),i.a.createElement("p",{onClick:function(){return sessionStorage.clear()}},"(","0.5.6",")"),i.a.createElement(On,{openStatus:n}),i.a.createElement(Qt,null),i.a.createElement(Dt,e)),i.a.createElement(_n,e),i.a.createElement($t,e),i.a.createElement(ln,e))},jn={menuId:"primary-search-account-menu",mobileMenuId:"primary-search-account-menu-mobile",profileMoreAnchor:null,mobileMoreAnchor:null,menuIsOpen:!1};function wn(e,t){switch(t.type){case"field":return Object(E.a)(Object(E.a)({},e),{},Object(A.a)({},t.fieldName,t.payload));case"menu-toggle":return Object(E.a)(Object(E.a)({},e),{},{menuIsOpen:!e.menuIsOpen});case"profile-close":return Object(E.a)(Object(E.a)({},e),{},{profileMoreAnchor:null});case"mobile-close":return Object(E.a)(Object(E.a)({},e),{},{mobileMoreAnchor:null});case"mobile-anchor":return Object(E.a)(Object(E.a)({},e),{},{mobileMoreAnchor:t.payload});case"profile-anchor":return Object(E.a)(Object(E.a)({},e),{},{profileMoreAnchor:t.payload});default:return e}}var xn=Object(c.c)((function(e){var t=e.auth;return{loggedIn:t.loggedIn,theme:t.theme}}),(function(e){return{logout:Object(w.b)(se.c,e),changeTheme:Object(w.b)(se.a,e)}}))((function(e){var t=Object.assign({},e),n=Object(r.useReducer)(wn,jn),a=Object(g.a)(n,2),o=a[0],s=a[1];return i.a.createElement(kn,Object.assign({state:o,dispatch:s},t))})),An=function(e){return{type:v.b,key:e}},Cn=[],Tn=Object(c.c)((function(e){return{snackbars:e.snackbar.snackbars}}),(function(e){return{removeSnack:Object(w.b)(An,e)}}))((function(e){var t=e.snackbars,n=e.removeSnack,i=Object(d.b)(),o=i.enqueueSnackbar,s=i.closeSnackbar;return Object(r.useEffect)((function(){null===t||void 0===t||t.forEach((function(e){var t,r=e.key,i=e.message,l=e.options,c=void 0===l?{}:l,u=e.dismissed;void 0!==u&&u?s(r):Cn.includes(r)||(o(i,Object(E.a)(Object(E.a)({key:r},c),{},{onClose:function(e,t,n){c.onClose&&c.onClose(e,t,n)},onExited:function(e,t){var r;n&&n(String(t)),r=String(t),Cn=Object(a.a)(Cn.filter((function(e){return r!==e})))}})),t=r,Cn=[].concat(Object(a.a)(Cn),[t]))}))}),[t,s,o,n]),null})),Ln=Object(o.b)({plugins:[].concat(Object(a.a)(Object(Qe.a)().plugins),[l()()])}),Nn=Object(B.a)((function(e){return Object(P.a)({app:{width:"100vw",height:"100vh",overflowX:"hidden",display:"flex",flexDirection:"column",overflow:"hidden"},mainBody:{height:"inherit",overflowX:"hidden",overflowY:"auto"},paper:{zIndex:999999,position:"absolute"}})})),Gn=Object(c.c)((function(e){return{theme:e.auth.theme,playMode:e.melodition.playMode}}),{})((function(e){var t=e.theme,n=e.playMode,a=Nn(),r="light"===t?kt:St,o=Object(Xe.a)(r);return i.a.createElement(u.a,{history:f.a},i.a.createElement(Je.b,{jss:Ln},i.a.createElement(Ye.a,{theme:o},i.a.createElement(d.a,null,i.a.createElement($e.a,{direction:"right",in:n,mountOnEnter:!0,unmountOnExit:!0},i.a.createElement(et.a,{elevation:4,className:a.paper},i.a.createElement(gt,null))),i.a.createElement(te.a,{className:a.app},i.a.createElement(xn,null),i.a.createElement(It,null),i.a.createElement(Tn,null),i.a.createElement(te.a,{id:"main-body",className:a.mainBody},i.a.createElement(Ze,null)))))))})),In=n(16);Object(In.render)(i.a.createElement(c.a,{store:f.b},i.a.createElement(Gn,null)),document.getElementById("root"))},29:function(e,t,n){"use strict";n.d(t,"a",(function(){return ne})),n.d(t,"b",(function(){return ae}));var a=n(55),r=n(202),i=n(10),o=n(186),s=n(66),l=n(3),c=n(25),u=n(56),d=Object(u.c)("user"),f="dark"===localStorage.getItem("theme")?"dark":"light",h=d?{loggedIn:!0,loading:!1,user:d,theme:f}:{loggedIn:!1,loading:!1,theme:f};function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.c:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case c.d:return Object(l.a)(Object(l.a)({},e),{},{loggedIn:!0,loading:!1,user:t.user});case c.b:return Object(l.a)(Object(l.a)({},e),{},{loading:!1});case c.i:return Object(l.a)(Object(l.a)({},e),{},{loggedIn:!1,loading:!0});case c.j:case c.h:return Object(l.a)(Object(l.a)({},e),{},{loading:!1});case c.f:return Object(l.a)(Object(l.a)({},e),{},{loggedIn:!1,loading:!0});case c.g:case c.e:return Object(l.a)(Object(l.a)({},e),{},{loading:!1});case c.k:return Object(l.a)(Object(l.a)({},e),{},{loggedIn:!1,loading:!1});case c.a:return localStorage.setItem("theme",t.theme),Object(l.a)(Object(l.a)({},e),{},{theme:t.theme});default:return e}}var p=n(76),g={loading:!0};function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.d:return{loading:!0,profile:t.userData};case p.b:return e;case p.c:return{loading:!1,profile:t.profile};case p.a:return{loading:!1,error:t.error};default:return e}}var v=n(146),_={data:[],loading:!0,error:"Not Found",nextLoad:0},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.b:return e;case v.c:return Object(l.a)(Object(l.a)({},e),{},{nextLoad:t.payload.nextLoad,data:t.payload.data,loading:!1});case v.a:return{data:[],error:t.error,nextLoad:0,loading:!1};default:return e}},E=n(74),O=n(38),S={snackbars:[]},k=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case O.c:return Object(l.a)(Object(l.a)({},n),{},{snackbars:[].concat(Object(E.a)(n.snackbars),[Object(l.a)({},a.snackbar)])});case O.a:return Object(l.a)(Object(l.a)({},n),{},{snackbars:null===(e=n.snackbars)||void 0===e?void 0:e.map((function(e){return a.dismissAll||e.key===a.key?Object(l.a)(Object(l.a)({},e),{},{dismissed:!0}):Object(l.a)({},e)}))});case O.b:return Object(l.a)(Object(l.a)({},n),{},{snackbars:null===(t=n.snackbars)||void 0===t?void 0:t.filter((function(e){return e.key!==a.key}))});default:return n}},j=n(21),w={fingerLoading:!0,notesLoading:!0,pianoLoading:!0,gameLoading:!0,seekLoading:!0,loading:!0},x=Object(l.a)(Object(l.a)({},w),{},{playMode:!1,noteMode:!1,octave:5,songLength:272,tapSize:32}),A=JSON.parse(JSON.stringify(x)),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.j:return Object(l.a)(Object(l.a)(Object(l.a)({},e),t.payload),{},{loading:!1});case j.c:case j.e:return Object(l.a)(Object(l.a)(Object(l.a)({},e),t.payload),{},{pianoLoading:!1});case j.b:return Object(l.a)(Object(l.a)({},e),{},{gameLoading:!1});case j.a:return Object(l.a)(Object(l.a)({},e),{},{fingerLoading:!1});case j.d:return Object(l.a)(Object(l.a)({},e),{},{notesLoading:!1});case j.f:return Object(l.a)(Object(l.a)({},e),{},{seekLoading:!1});case j.g:return Object(l.a)(Object(l.a)({},e),{},{noteMode:!0});case j.h:return Object(l.a)(Object(l.a)(Object(l.a)({},e),w),{},{loading:!1,playMode:!0,canvasSize:void 0});case j.i:return Object(l.a)(Object(l.a)(Object(l.a)({},e),w),{},{loading:!1,playMode:!1});case j.l:return Object(l.a)(Object(l.a)({},e),{},{pianoLoading:!0,gameLoading:!0,notesLoading:!0});case j.k:return A;default:return e}},T=n(49),L={data:[],loading:!0,error:"Not Found",nextLoad:0},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.d:return e;case T.f:return Object(l.a)(Object(l.a)({},e),{},{data:t.payload.data,nextLoad:t.payload.nextLoad,loading:!1});case T.b:return{data:[],error:t.error,nextLoad:0,loading:!1};default:return e}},G={loading:!0,error:"Not Found"},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.c:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,data:void 0});case T.e:return t.data,Object(l.a)(Object(l.a)({},e),{},{data:t.data,loading:!1});case T.a:return Object(l.a)(Object(l.a)({},e),{},{error:t.error,loading:!1});default:return e}},R=n(83),B={data:[],loading:!0,error:"Not Found",nextLoad:0},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.d:return e;case R.g:return Object(l.a)(Object(l.a)({},e),{},{data:t.payload.data,nextLoad:t.payload.nextLoad,loading:!1});case R.e:var n=!1;return e.data.length&&(n=t.data.every((function(t){return e.data.map((function(e){return e.id===t.id}))}))),Object(l.a)(Object(l.a)({},e),{},{data:n?e.data:t.data});case R.b:return{data:[],error:t.error,nextLoad:0,loading:!1};default:return e}},M={loading:!0,error:"Not Found"},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.c:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,data:void 0});case R.f:return Object(l.a)(Object(l.a)({},e),{},{data:t.data,loading:!1});case R.a:return Object(l.a)(Object(l.a)({},e),{},{error:t.error,loading:!1});default:return e}},U=n(81),z={data:[],loading:!0,error:"Not Found",nextLoad:0},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U.d:return e;case U.g:return Object(l.a)(Object(l.a)({},e),{},{data:t.payload.data,nextLoad:t.payload.nextLoad,loading:!1});case U.e:var n=!1;return e.data.length&&(n=t.data.every((function(t){return e.data.map((function(e){return e.id===t.id}))}))),Object(l.a)(Object(l.a)({},e),{},{data:n?e.data:t.data});case U.b:return{data:[],error:t.error,nextLoad:0,loading:!1};default:return e}},D={loading:!0,error:"Not Found"},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U.c:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,data:void 0});case U.f:return Object(l.a)(Object(l.a)({},e),{},{data:t.data,loading:!1});case U.a:return Object(l.a)(Object(l.a)({},e),{},{error:t.error,loading:!1});default:return e}},H=n(82),W={data:[],loading:!0,error:"Not Found",nextLoad:0},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H.d:return e;case H.g:return Object(l.a)(Object(l.a)({},e),{},{data:t.payload.data,nextLoad:t.payload.nextLoad,loading:!1});case H.e:var n=!1;return e.data.length&&(n=t.data.every((function(t){return e.data.map((function(e){return e.id===t.id}))}))),Object(l.a)(Object(l.a)({},e),{},{data:n?e.data:t.data});case H.b:return{data:[],nextLoad:0,error:t.error,loading:!1};default:return e}},Z={loading:!0,error:"Not Found"},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H.c:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,data:void 0});case H.f:return void 0===t.data?Object(l.a)(Object(l.a)({},e),{},{loading:!1}):Object(l.a)(Object(l.a)({},e),{},{data:t.data,loading:!1});case H.a:return Object(l.a)(Object(l.a)({},e),{},{error:t.error,loading:!1});default:return e}},X=n(79),J={data:[],loading:!0,error:"Not Found",nextLoad:0},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X.d:return e;case X.g:return Object(l.a)(Object(l.a)({},e),{},{data:t.payload.data,nextLoad:t.payload.nextLoad,loading:!1});case X.e:var n=!1;return e.data.length&&(n=t.data.every((function(t){return e.data.map((function(e){return e.id===t.id}))}))),Object(l.a)(Object(l.a)({},e),{},{data:n?e.data:t.data});case X.b:return{data:[],error:t.error,nextLoad:0,loading:!1};default:return e}},$={loading:!0,error:"Not Found"},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X.c:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,data:void 0});case X.f:return t.data,Object(l.a)(Object(l.a)({},e),{},{data:t.data,loading:!1});case X.a:return Object(l.a)(Object(l.a)({},e),{},{error:t.error,loading:!1});default:return e}},te=function(e){return Object(i.c)({router:Object(s.b)(e),single:Object(i.c)({post:I,guide:V,course:Q,lesson:q,exercise:ee}),bank:Object(i.c)({posts:N,guides:P,courses:K,lessons:F,exercises:Y}),melodition:C,user:Object(i.c)({profile:b,favorites:y}),snackbar:k,auth:m})},ne=Object(a.a)(),ae=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d;return Object(i.e)(te(ne),e,t(Object(i.a)(Object(o.a)(ne),r.a)))}()},38:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var a="SHOW_SNACKBAR",r="CLEAR_SNACKBAR",i="REMOVE_SNACKBAR"},49:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return l}));var a="REQUEST_POSTS",r="SUCCESS_POSTS",i="FAILURE_POSTS",o="REQUEST_POST",s="SUCCESS_POST",l="FAILURE_POST"},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f}));var a=n(0),r=n.n(a),i=n(284),o=n(29),s=n(281),l=n(178),c=n(56),u=n(38),d=function(e,t){var n,a=null===(n=e.response)||void 0===n?void 0:n.data.message.toString();a&&(o.b.dispatch({type:t,error:a}),o.b.dispatch({type:u.c,snackbar:f(a,"error")}))},f=function(e,t){return{message:e.replace(/<[^>]+>/g,""),key:Object(c.a)(),options:{TransitionComponent:function(e){return r.a.createElement(s.a,Object.assign({},e,{direction:"left"}))},anchorOrigin:{horizontal:"left",vertical:"bottom"},variant:t,autoHideDuration:"error"===t?null:5e3,action:function(e){return r.a.createElement(l.a,{style:{borderRadius:5},color:"inherit",size:"small","aria-label":"close",component:"span",onClick:function(){return o.b.dispatch({type:u.a,dismissAll:!e,key:e})}},r.a.createElement(i.a,null))}}}}},51:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(176),r=n.n(a),i=n(29),o=n(64),s=r.a.create({baseURL:"https://panel.melodition.com/wp-json",headers:function(){var e=localStorage.getItem("user"),t=e?JSON.parse(e):null;return(null===t||void 0===t?void 0:t.token)?{Authorization:"Bearer "+t.token}:{}}()});s.interceptors.response.use((function(e){return e}),(function(e){return console.log(e),403===e.response.status&&/invalid_token/.test(e.response.data.code)&&i.b.dispatch(Object(o.c)()),Promise.reject(e)}));var l=r.a.create({method:"get",responseType:"arraybuffer"})},56:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return d}));var a=n(14),r=n(203),i=n.n(r),o=function(e){var t,n=e.split("/"),r={length:0};if(3===n.length)t={},Object(a.a)(t,n[1],Number(n[2])),Object(a.a)(t,"length",1),r=t;else if(4===n.length){var i,o=n[3].split("=");i={},Object(a.a)(i,n[1],Number(n[2])),Object(a.a)(i,o[0],Number(o[1])),Object(a.a)(i,"length",2),r=i}else if(5===n.length){var s,l=n[3].split("="),c=n[4].split("=");s={},Object(a.a)(s,n[1],Number(n[2])),Object(a.a)(s,l[0],Number(l[1])),Object(a.a)(s,c[0],Number(c[1])),Object(a.a)(s,"length",3),r=s}return r},s=function(e){var t=localStorage.getItem(e);return null!==t?JSON.parse(t):void 0},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new Date,n=t.getTime(),a=6e4*e;return n+a},c=function(){return l(Math.random()).toString(36)},u=function(e){var t=i.a;return e&&("object"===typeof e?t=e.medium:"string"===typeof e&&(t=e)),t},d=["","\u0634\u0631\u0648\u0639","\u0628\u062e\u0634 \u0627\u0648\u0644","\u0628\u062e\u0634 \u062f\u0648\u0645","\u0628\u062e\u0634 \u0633\u0648\u0645","\u0628\u062e\u0634 \u0686\u0647\u0627\u0631\u0645","\u0628\u062e\u0634 \u067e\u0646\u062c\u0645","\u0628\u062e\u0634 \u0634\u0634\u0645","\u0628\u062e\u0634 \u0647\u0641\u062a\u0645","\u0628\u062e\u0634 \u0647\u0634\u062a\u0645","\u0628\u062e\u0634 \u0646\u0647\u0645","\u0628\u062e\u0634 \u062f\u0647\u0645"]},64:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return f}));var a=n(31),r=n(25),i=n(38),o=n(50),s=n(51),l=function(e){return function(t){t({type:r.c}),s.a.post("/jwt-auth/v1/token",e).then((function(e){t({type:r.d,user:e.data}),localStorage.setItem("user",JSON.stringify(e.data)),s.a.defaults.headers.common={Authorization:"Bearer "+e.data.token},t(Object(a.d)()),t({type:i.c,snackbar:Object(o.b)("".concat(e.data.user_display_name," logged in successfully."),"success")})})).catch((function(e){return Object(o.a)(e,r.b)}))}},c=function(e){return function(t){t({type:r.a,theme:e})}},u=function(){return function(e){localStorage.removeItem("user"),s.a.defaults.headers.common={},e(Object(a.c)(0)),e({type:r.k})}},d=function(e){return function(t){t({type:r.i}),s.a.post("/jwt-auth/v1/register",e).then((function(e){t({type:r.j,user:e.data}),t(Object(a.f)("/login")),t({type:i.c,snackbar:Object(o.b)(e.data.message,"success")})})).catch((function(e){return Object(o.a)(e,r.h)}))}},f=function(e){return function(t){t({type:r.f}),s.a.post("/jwt-auth/v1/lostpassword",e).then((function(e){var n=e.data.message.toString();t({type:r.g,message:n}),t(Object(a.f)("/login")),t({type:i.c,snackbar:Object(o.b)(n,"success")})})).catch((function(e){Object(o.a)(e,r.e)}))}}},73:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n.n(a),i=n(282),o=n(289),s=n(283),l=Object(i.a)((function(e){return Object(o.a)({loading:{display:"flex",height:"83%",boxShadow:"inset 0 1px 4px 0px black"},loadingPad:{display:"flex",width:"100vw",minHeight:"calc(100vh - 160px)",overflow:"hidden"}})})),c=function(e){var t=e.noPad,n=l();return r.a.createElement("div",{className:t?n.loading:n.loadingPad},r.a.createElement(s.a,{color:"secondary",style:{margin:"auto"}}))}},76:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o}));var a="PROFILE_INFO_REQUEST",r="PROFILE_INFO_SUCCESS",i="PROFILE_INFO_FAILURE",o="SAVE_PROFILE"},79:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"g",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return c}));var a="REQUEST_EXERCISES",r="SUCCESS_EXERCISES",i="FAILURE_EXERCISES",o="SAVE_EXERCISES",s="REQUEST_EXERCISE",l="SUCCESS_EXERCISE",c="FAILURE_EXERCISE"},81:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"g",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return c}));var a="REQUEST_LESSONS",r="SUCCESS_LESSONS",i="FAILURE_LESSONS",o="SAVE_LESSONS",s="REQUEST_LESSON",l="SUCCESS_LESSON",c="FAILURE_LESSON"},82:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"g",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return c}));var a="REQUEST_COURSES",r="SUCCESS_COURSES",i="FAILURE_COURSES",o="SAVE_COURSES",s="REQUEST_COURSE",l="SUCCESS_COURSE",c="FAILURE_COURSE"},83:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"g",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return c}));var a="REQUEST_GUIDES",r="SUCCESS_GUIDES",i="FAILURE_GUIDES",o="SAVE_GUIDES",s="REQUEST_GUIDE",l="SUCCESS_GUIDE",c="FAILURE_GUIDE"}},[[246,18,19]]]);
//# sourceMappingURL=main.4f34b909.chunk.js.map