(this["webpackJsonpmelodition-typescript"]=this["webpackJsonpmelodition-typescript"]||[]).push([[19],{401:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return p}));var a=n(404),c=n(82),r=n(51),i=n(50),o=n(56),u=n(78),s=n(80),d=n(403),l=n(402),b=function(){return function(e,t){var n=t().bank.guides,a=Object(o.b)()-n.nextLoad;n.data&&a<=0||(e({type:c.d}),r.a.get("/lesson/v2/guide").then((function(t){return e({type:c.g,payload:{data:t.data,nextLoad:Object(o.b)(10)}})})).catch((function(e){return Object(i.a)(e,c.b)})))}},p=function(e){return function(t,n){e.guide;var o=Object(a.a)(e,["guide"]),b=n().bank.guides.data.find((function(t){return t.id===e.guide}));b?(t({type:c.f,data:b}),t({type:s.e,data:f(b.guide_select)}),t({type:u.e,data:m(b.guide_select)}),e.course&&t(Object(l.b)(o)),e.exercise&&t(Object(d.b)(o))):(t({type:c.c}),r.a.get("/lesson/v2/guide?id=".concat(e.guide)).then((function(n){t({type:c.f,data:n.data[0]}),t({type:c.e,data:n.data}),t({type:s.e,data:f(n.data[0].guide_select)}),t({type:u.e,data:m(n.data[0].guide_select)}),e.course&&t(Object(l.b)(o)),e.exercise&&t(Object(d.b)(o))})).catch((function(e){return Object(i.a)(e,c.a)})))}},f=function(e){var t=[];return e.map((function(e){var n;return null===(n=e.course)||void 0===n?void 0:n.map((function(e){return t.push(e)}))})),t},m=function(e){var t=[];return e.map((function(e){var n;return null===(n=e.exercise)||void 0===n?void 0:n.map((function(e){return t.push(e)}))})),t}},402:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f}));var a=n(404),c=n(80),r=n(51),i=n(50),o=n(56),u=n(78),s=n(79),d=n(401),l=n(405),b=n(403),p=function(){return function(e,t){var n=t().bank.courses,a=Object(o.b)()-n.nextLoad;n.data&&a<=0||(e({type:c.d}),r.a.get("/lesson/v2/course").then((function(t){return e({type:c.g,payload:{data:t.data,nextLoad:Object(o.b)(10)}})})).catch((function(e){return Object(i.a)(e,c.b)})))}},f=function(e){return function(t,n){var o=n().bank.courses.data.find((function(t){return t.id===e.course})),p=(e.course,Object(a.a)(e,["course"]));if(o){var f=m(o.course_select);t({type:c.f,data:o}),t({type:s.e,data:f.lessons}),t({type:u.e,data:f.exercises}),e.lesson&&t(Object(l.b)(p)),e.exercise&&t(Object(b.b)(p))}else e.guide?t(Object(d.b)(e)):o||(t({type:c.c}),r.a.get("/lesson/v2/course?id=".concat(e.course)).then((function(n){var a=m(n.data[0].course_select);t({type:c.f,data:n.data[0]}),t({type:c.e,data:n.data}),t({type:s.e,data:a.lessons}),t({type:u.e,data:a.exercises}),e.lesson&&t(Object(l.b)(p)),e.exercise&&t(Object(b.b)(p))})).catch((function(e){return Object(i.a)(e,c.a)})))}},m=function(e){var t=[],n=[];return e.map((function(e){return"Exercise"===e.info.genre.name?n.push(e):t.push(e)})),{lessons:t,exercises:n}}},403:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d}));var a=n(78),c=n(51),r=n(56),i=n(50),o=n(401),u=n(402),s=function(){return function(e,t){var n=t().bank.exercises,o=Object(r.b)()-n.nextLoad;n.data&&o<=0||(e({type:a.d}),c.a.get("/lesson/v2?course=125").then((function(t){return e({type:a.g,payload:{data:t.data,nextLoad:Object(r.b)(10)}})})).catch((function(e){return Object(i.a)(e,a.b)})))}},d=function(e){return function(t,n){var r=n().bank.exercises.data.find((function(t){return t.id===e.exercise}));console.log(e),r?t({type:a.f,data:r}):e.guide?t(Object(o.b)(e)):e.course?t(Object(u.b)(e)):r||(t({type:a.c}),c.a.get("/lesson/v2?id=".concat(e.exercise)).then((function(e){t({type:a.f,data:e.data[0]}),t({type:a.e,data:e.data})})).catch((function(e){return Object(i.a)(e,a.a)})))}}},404:function(e,t,n){"use strict";function a(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}n.d(t,"a",(function(){return a}))},405:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d}));var a=n(79),c=n(51),r=n(56),i=n(50),o=n(401),u=n(402),s=function(){return function(e,t){var n=t().bank.lessons,o=Object(r.b)()-n.nextLoad;n.data&&o<=0||(e({type:a.d}),c.a.get("/lesson/v2").then((function(t){return e({type:a.g,payload:{data:t.data,nextLoad:Object(r.b)(10)}})})).catch((function(e){return Object(i.a)(e,a.b)})))}},d=function(e){return function(t,n){var r=n().bank.lessons.data.find((function(t){return t.id===e.lesson}));r?t({type:a.f,data:r}):e.guide?t(Object(o.b)(e)):e.course?t(Object(u.b)(e)):r||(t({type:a.c}),c.a.get("/lesson/v2?id=".concat(e.lesson)).then((function(e){t({type:a.f,data:e.data[0]}),t({type:a.e,data:e.data})})).catch((function(e){return Object(i.a)(e,a.a)})))}}},423:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(13),r=n(30),i=n(43),o=n(42),u=n(14),s=n(0),d=n.n(s),l=n(15),b=n(10),p=n(393),f=n(335),m=n(336),g=n(332),h=n(77),O=n(5),j=n(56),y=n(402),v=n(31),x=n(330),E=n(331),k=n(394),w=n(333),N=n(328),C=n(29),L=Object(N.a)((function(e){return Object(p.a)({root:{maxHeight:280,width:"100%",margin:e.spacing(1)},content:{minHeight:130},rightChip:{position:"absolute",cursor:"pointer",margin:e.spacing(1),backgroundColor:"green"}})})),_=function(e){var t=e.type,n=e.courseItem,a=e.path,c=L(),r=n.title,i=n.id,o=n.featured_img,u=n.info;return d.a.createElement(x.a,{className:c.root},d.a.createElement(E.a,{onClick:function(e){var n="Exercise"===t?"exercise":"lesson";C.b.dispatch(Object(v.f)(a+"/"+n+"="+i))}},d.a.createElement(f.a,{container:!0},d.a.createElement(f.a,{item:!0,lg:4,xs:4,sm:4,xl:4},d.a.createElement(k.a,{label:u.grade.name,className:c.rightChip}),d.a.createElement(g.a,{component:"img",alt:r,height:"200",image:Object(j.f)(o),title:r})),d.a.createElement(f.a,{item:!0,lg:8,xs:8,sm:8,xl:8},d.a.createElement(w.a,{className:c.content},d.a.createElement(h.a,{gutterBottom:!0,variant:"body1",component:"h6"},r))))))},H=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=Object(j.d)(this.props.pathname);this.props.requestCourse(e)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.data,a=e.loading,c=e.error,r=e.pathname;return d.a.createElement(f.a,{container:!0,justify:"center",className:t.root},a?d.a.createElement(m.a,{color:"secondary",className:t.autoMargin}):n?d.a.createElement(f.a,{container:!0,spacing:2},d.a.createElement(f.a,{item:!0,lg:6,md:6,xl:6,xs:12},d.a.createElement("div",{className:t.content},d.a.createElement(g.a,{image:Object(j.f)(n.thumbnails),className:t.image}),d.a.createElement(h.a,{gutterBottom:!0,variant:"body1",component:"h6",className:t.text},n.description))),d.a.createElement(f.a,{item:!0,lg:6,md:6,xl:6,xs:12},d.a.createElement(f.a,{container:!0,justify:"flex-end"},null===n||void 0===n?void 0:n.course_select.map((function(e,t){return d.a.createElement(_,{key:t,type:e.info.genre.name,path:r,courseItem:e})}))))):d.a.createElement(h.a,{component:"div",className:t.autoMargin},c))}}]),n}(s.Component);t.default=Object(l.c)((function(e,t){return Object(a.a)({classes:t.classes,pathname:e.router.location.pathname},e.single.course)}),(function(e){return{requestCourse:Object(b.b)(y.b,e)}}))(Object(O.a)((function(e){var t,n;return Object(p.a)({root:(t={width:"99vw",minHeight:"calc(100vh - 128px)"},Object(u.a)(t,e.breakpoints.down("xs"),{minHeight:"calc(100vh - 112px)",padding:e.spacing(1)}),Object(u.a)(t,"padding",e.spacing(2)),Object(u.a)(t,"display","flex"),Object(u.a)(t,"flexDirection","column"),Object(u.a)(t,"justifyContent","flex-start"),t),autoMargin:{margin:"auto"},content:(n={position:"relative",minHeight:"calc(100vh - 160px)"},Object(u.a)(n,e.breakpoints.down("sm"),{minHeight:"100%"}),Object(u.a)(n,"border","1px solid ".concat(e.palette.secondary.main)),Object(u.a)(n,"height","100%"),Object(u.a)(n,"width","100%"),n),text:{padding:20},image:{width:"100%",height:"100%",opacity:"0.3",position:"absolute"}})}))(H))}}]);
//# sourceMappingURL=19.46d8706e.chunk.js.map