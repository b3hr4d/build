(this["webpackJsonpmelodition-typescript"]=this["webpackJsonpmelodition-typescript"]||[]).push([[31],{311:function(e,a,t){"use strict";var n=t(97);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),o=(0,n(t(110)).default)(r.default.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined");a.default=o},316:function(e,a,t){"use strict";t.d(a,"a",(function(){return v}));var n=t(0),r=t.n(n),o=t(56),c=t(57),i=t(59),l=t(58),s=t(243),d=t(458),m=t(76),u=t(6),p=function(e){Object(i.a)(t,e);var a=Object(l.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r))).state={loading:!0},e.script=void 0,e.loadScript=function(){window.captchaOnLoad=e.onLoad;var a=document.createElement("script");a.type="text/javascript",a.src="https://www.google.com/recaptcha/api.js?onload=captchaOnLoad&render=explicit&hl=fa",a.async=!0,a.defer=!0,e.script=document.body.appendChild(a)},e.callback=function(){e.props.onChange(!0)},e.onLoad=function(){window.grecaptcha.render("g-recaptcha",{callback:e.callback,sitekey:"6Le8wccUAAAAAA0kNONoUC-NKPecGnUGKRY7zMno",size:"normal",theme:e.props.theme}),window.grecaptcha.ready((function(){e.setState({loading:!1})}))},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){this.loadScript()}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.script)}},{key:"render",value:function(){var e=this.props,a=e.classes,t=e.onError;return n.createElement("div",{className:a.root},this.state.loading&&n.createElement(d.a,{color:"secondary"}),n.createElement("div",{id:"g-recaptcha",className:t?a.captchaWarning:a.captcha}),n.createElement(m.a,{color:"error",variant:"caption"},t))}}]),t}(n.PureComponent),h=Object(u.a)((function(e){return Object(s.a)({root:{position:"relative",minHeight:80},captcha:{zIndex:2,"& > div:first-child":{margin:"auto","& > div > iframe":{borderRadius:4,border:"1px solid"}}},captchaWarning:{"& > div:first-child":{margin:"auto","& > div > iframe":{borderRadius:4,border:"1px solid red"}}}})}))(p),g=t(21);function v(e){var a=e.form,t=a.setFieldValue,o=a.errors,c=a.touched,i=e.field.name,l=g.b.getState().auth.theme,s=Object(n.useCallback)((function(e){t(i,!!e)}),[t,i]);return r.a.createElement(h,{action:"login",theme:l,onChange:s,onError:c.recaptcha&&o.recaptcha})}},456:function(e,a,t){"use strict";t.r(a);var n=t(56),r=t(57),o=t(59),c=t(58),i=t(0),l=t.n(i),s=t(321),d=t(33),m=t(22),u=t(314),p=t(323),h=t(34),g=t(311),v=t.n(g),b=t(253),y=t(280),f=t(292),E=t(76),w=t(295),O=t(252),j=t(193),x=t(458),k=t(194),S=t(316),A=t(71),C=t(24),z=function(e){Object(o.a)(t,e);var a=Object(c.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.loggedIn&&this.props.push("/profile")}},{key:"render",value:function(){var e=this,a=this.props,t=a.loading;return a.loggedIn?null:l.a.createElement(b.a,{component:"main",maxWidth:"xs",style:{paddingTop:"10px"}},l.a.createElement(y.a,null),l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(f.a,{style:{margin:"auto"}},l.a.createElement(v.a,null)),l.a.createElement(E.a,{component:"h1",variant:"h5"},"Sign in"),l.a.createElement(u.c,{initialValues:{username:"",password:"",recaptcha:!1},validationSchema:s.c().shape({username:s.e().max(255).required("Email or Username is required"),password:s.e().max(255).required("Password is required"),recaptcha:s.a().required("ReCAPTCHA is required")}),onSubmit:function(a,t){var n=t.resetForm;e.props.login({username:a.username,password:a.password}),n({values:{username:a.username,password:"",recaptcha:a.recaptcha}})}},l.a.createElement(u.b,null,l.a.createElement(w.a,{mb:3},l.a.createElement(E.a,{color:"textSecondary",align:"center",gutterBottom:!0,variant:"body2"},"Sign in on the internal platform")),l.a.createElement(O.a,{item:!0},l.a.createElement(j.a,{fullWidth:!0,size:"large",variant:"contained",type:"submit",disabled:!0},"Login with Google")),l.a.createElement(w.a,{mt:3,mb:1},l.a.createElement(E.a,{align:"center",color:"textSecondary",variant:"body1"},"or login with username / email address")),l.a.createElement(w.a,{my:1},l.a.createElement(u.a,{component:p.a,color:"secondary",fullWidth:!0,label:"Email Address/Username",margin:"normal",name:"username",id:"username",placeholder:"John",type:"username",variant:"outlined"})),l.a.createElement(w.a,{my:1},l.a.createElement(u.a,{component:p.a,color:"secondary",fullWidth:!0,label:"Password",margin:"normal",name:"password",type:"password",variant:"outlined"})),l.a.createElement(w.a,{my:1},l.a.createElement(u.a,{component:S.a,color:"secondary",fullWidth:!0,label:"Recaptcha",margin:"normal",name:"recaptcha",type:"recaptcha",variant:"outlined"})),t&&l.a.createElement(x.a,{color:"secondary"}),l.a.createElement(w.a,{my:1},l.a.createElement(j.a,{color:"secondary",disabled:t,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Sign in")),l.a.createElement(O.a,{container:!0,style:{textAlign:"initial"}},l.a.createElement(O.a,{item:!0,xs:!0},l.a.createElement(k.a,{color:"secondary",component:h.a,to:"/lostpassword",variant:"body2"},"Forgot password?")),l.a.createElement(O.a,{item:!0},l.a.createElement(E.a,{color:"textSecondary",variant:"body2"},"Don't have an account? ",l.a.createElement(k.a,{color:"secondary",component:h.a,to:"/register",variant:"body2"},"Sign up"))))))))}}]),t}(l.a.Component);a.default=Object(d.c)((function(e){var a=e.auth;return{loggedIn:a.loggedIn,loading:a.loading}}),(function(e){return{login:Object(m.b)(A.b,e),logout:Object(m.b)(A.c,e),push:Object(m.b)(C.e,e)}}))(z)}}]);
//# sourceMappingURL=31.3ead4a79.chunk.js.map