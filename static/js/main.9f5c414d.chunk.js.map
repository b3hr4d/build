{"version":3,"sources":["_types/post.types.ts","components/Layout/Instruments/Piano/constant.ts","_actions/midi.actions.ts","_reducers/user.reducer.ts","_reducers/profile.reducer.ts","_reducers/snackbar.reducer.ts","_reducers/player.reducer.ts","_reducers/post.reducer.ts","_reducers/guide.reducer.ts","_reducers/lesson.reducer.ts","_reducers/course.reducer.ts","_reducers/exercise.reducer.ts","_reducers/index.ts","_store/store.config.ts","components/Layout/Player/Buttons.tsx","components/Layout/Instruments/Piano/SvgKeys.ts","components/Layout/Instruments/Piano/index.tsx","components/Layout/Player/SeekBar.tsx","assets/img/melodition.jpg","_actions/player.actions.ts","_helpers/midiContext.ts","plugin/Game/Canvas.ts","plugin/Game/Notes.ts","plugin/Game/Game.ts","plugin/Melodition/Melodition.ts","_helpers/pianoSizes.ts","_types/profile.types.ts","_types/player.types.ts","router/ProtectedRoute.tsx","components/InfoPages/About.tsx","components/PostPages/PostCard.tsx","_types/index.ts","_actions/index.ts","components/PostPages/PostList.tsx","components/Layout/Captcha/ReCaptcha.tsx","components/Layout/Captcha/Captcha.tsx","components/AuthPages/LoginPage.tsx","components/AuthPages/LostPage.tsx","components/AuthPages/RegisterPage.tsx","components/UserPages/Dashboard/LatestSongs.js","components/UserPages/Dashboard/index.tsx","components/UserPages/Profile/ImageInput.tsx","components/UserPages/Profile/index.tsx","components/LearningPages/Guide/GuideCard.tsx","components/LearningPages/Guide/GuideList.tsx","components/Layout/Buttons/CardFavorite.tsx","components/LearningPages/Lesson/LessonCard.tsx","components/LearningPages/Lesson/LessonList.tsx","components/LearningPages/Course/CourseCard.tsx","components/LearningPages/Course/CourseList.tsx","components/LearningPages/Favorite/FavoriteCard.tsx","components/LearningPages/Favorite/FavoriteList.tsx","components/LearningPages/Exercise/ExerciseList.tsx","components/LearningPages/index.tsx","router/Test.jsx","router/index.tsx","components/Layout/Instruments/Piano/PlayMode/PlayerHeader.tsx","components/Layout/Instruments/Piano/GameCanvas/GameFront.tsx","components/Layout/Instruments/Piano/GameCanvas/GameBack.tsx","components/Layout/Instruments/Piano/GameCanvas/SvgLine.tsx","components/Layout/Instruments/Piano/GameCanvas/index.tsx","components/Layout/Instruments/Piano/PlayMode/LessonPlayMode.tsx","_actions/snackbar.actions.ts","components/Layout/SnackBar/Notifier.ts","components/Layout/Breadcrumbs.tsx","components/Layout/Themes/GlobalTheme.ts","components/Layout/Themes/DarkTheme.ts","components/Layout/Themes/LightTheme.ts","components/Layout/Header/LeftIcons.tsx","components/Layout/Header/SearchInput.tsx","components/Layout/Header/MobileMenu.tsx","components/Layout/Header/Links.tsx","components/Layout/Header/MenuRender.tsx","components/Layout/Header/MiniDrawer.tsx","components/Layout/Header/LinkConst.tsx","components/Layout/Header/MainAppBar.tsx","_reducers/header.reducer.ts","components/Layout/Header/Header.tsx","App.tsx","index.tsx","components/Layout/SnackBar/alert.tsx","_types/auth.types.ts","_helpers/constants.ts","components/Layout/Loadings.tsx","_helpers/api.ts","_types/snackbar.types.ts","_actions/profile.actions.ts","_actions/user.actions.ts","_types/exercise.types.ts","_types/lesson.types.ts","_types/course.types.ts","_types/guide.types.ts"],"names":["REQUEST_POSTS","SUCCESS_POSTS","FAILURE_POSTS","REQUEST_POST","SUCCESS_POST","FAILURE_POST","rightLine","leftLine","pitchName","pitch","n","t","outLine","v","emulatedKeys","z","s","x","d","c","g","b","h","j","m","l","q","2","w","3","e","4","r","6","y","7","u","i","9","o","0","p","PianoEvent","isDown","playedKey","keyboardUp","preventDefault","key","hasOwnProperty","note","midiNoteOff","keyboardDown","midiNoteOn","mouseUpReset","mouseDown","currentTarget","tabIndex","mouseOver","mouseLeave","mouseUp","midiInput","requsetMidi","navigator","requestMIDIAccess","then","midiAccess","console","log","inputs","entry","seccessHandler","name","onmidimessage","onMidiMessage","onstatechange","catch","error","errorHandler","changeMidi","enable","midiState","notes","hold","midiEvent","data","length","command","velocity","holder","push","vol","forEach","user","getUserLocal","theme","localStorage","getItem","initialState","loggedIn","loading","authReducer","state","action","type","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","REGISTER_REQUEST","REGISTER_SUCCESS","REGISTER_FAILURE","LOST_REQUEST","LOST_SUCCESS","LOST_FAILURE","USER_LOGOUT","undefined","CHANGE_THEME","setItem","profileReducerDefaultState","profileReducer","INFO_REQUEST","INFO_SUCCESS","profile","INFO_FAILURE","PLAYTIME_SUCCESS","playtime","FAVORITE_SUCCESS","favorite","DELETE_PROFILE","snackbarReducerDefaultState","snackbars","snackbarReducer","SHOW_SNACKBAR","snackbar","CLEAR_SNACKBAR","map","dismissAll","dismissed","REMOVE_SNACKBAR","filter","loadings","fingerLoading","notesLoading","pianoLoading","gameLoading","seekLoading","defaultPlayer","playMode","noteMode","octave","bpm","songLength","tapSize","resetState","JSON","parse","stringify","playerReducer","REQUEST_PLAYER","payload","DRAW_GAME_PIANO","DRAW_NOTE_PIANO","DRAW_GAME","DRAW_FINGER","DRAW_NOTES","DRAW_SEEKBAR","ENTER_NOTEMODE","ENTER_PLAYMODE","canvasSize","EXIT_PLAYMODE","RESIZE_PLAYER","RESET_PLAYER","postsReducerDefaultState","nextLoad","postsReducer","postReducerDefaultState","postReducer","guidesReducerDefaultState","guidesReducer","REQUEST_GUIDES","SUCCESS_GUIDES","SAVE_GUIDES","match","every","item","_","id","FAILURE_GUIDES","guideReducerDefaultState","guideReducer","REQUEST_GUIDE","SUCCESS_GUIDE","FAILURE_GUIDE","lessonsReducerDefaultState","lessonsReducer","REQUEST_LESSONS","SUCCESS_LESSONS","SAVE_LESSONS","FAILURE_LESSONS","lessonReducerDefaultState","lessonReducer","REQUEST_LESSON","SUCCESS_LESSON","FAILURE_LESSON","coursesReducerDefaultState","coursesReducer","REQUEST_COURSES","SUCCESS_COURSES","SAVE_COURSES","FAILURE_COURSES","courseReducerDefaultState","courseReducer","REQUEST_COURSE","SUCCESS_COURSE","FAILURE_COURSE","exercisesReducerDefaultState","exercisesReducer","REQUEST_EXERCISES","SUCCESS_EXERCISES","SAVE_EXERCISES","FAILURE_EXERCISES","exerciseReducerDefaultState","exerciseReducer","REQUEST_EXERCISE","SUCCESS_EXERCISE","FAILURE_EXERCISE","rootReducer","history","combineReducers","router","connectRouter","single","post","guide","course","lesson","exercise","bank","posts","guides","courses","lessons","exercises","melodition","auth","createBrowserHistory","store","preloadingState","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","createRootReducer","applyMiddleware","routerMiddleware","thunk","configureStore","PlayButton","useState","onAir","setOnAir","playHandler","stopPlayer","startPlayer","code","useEffect","document","addEventListener","removeEventListener","color","aria-label","onClick","style","fontSize","SvgKeys","xPos","yPos","front","back","useStyles","makeStyles","createStyles","root","display","flexDirection","justifyContent","flexWrap","margin","minWidth","width","cursor","touchAction","spacing","connectedPiano","connect","Melo","dispatch","drawGamePiano","bindActionCreators","gamePiano","drawNotePiano","notePiano","props","counter","firstkey","keyRefs","octSize","classes","setKeyRef","ref","pianoSize","getBoundingClientRect","height","Math","floor","innerHeight","rythm","detectSize","baseLine","pianoLeft","left","neededLines","need","up","lines","down","lineSide","spaceSize","linesArray","Array","from","notePos","pos","className","oct","xmlns","viewBox","fill","marginRight","k","lastKey","backFill","frontFill","active","neededTracks","some","el","textPos","onMouseUp","onMouseDown","onMouseLeave","onTouchEnd","onTouchMove","onTouchStart","stroke","fontWeight","cx","cy","strokeWidth","points","connectedSeekbar","drawSeekBar","callback","useCallback","node","seekBar","SeekInput","forwardRef","seek","setSeek","useImperativeHandle","changeSeeker","value","orientation","defaultValue","max","min","onChange","canvasWheel","aria-labelledby","module","exports","MidiState","touchedKeys","score","trackLen","FingersClass","len","hand","beat","num","finger","bColor","fColor","cColor","end","showing","this","children","getAttribute","setAttribute","BackMover","update","ctx","img","drawImage","MusicLine","lw","draw","beginPath","moveTo","lineTo","lineWidth","strokeStyle","LessonNote","text","gap","beg","start","mover","lineColor","crash","hit","move","lineCap","arc","PI","fillStyle","font","textAlign","textBaseline","fillText","ExerciseNote","outline","globalCompositeOperation","OutLine","Object","assign","Notes","canvas","fullNotes","context","assigner","options","playGame","clear","updateFullSong","clearRect","drawNote","showTrack","memo","noteMemo","values","noteArr","prevNote","prevState","find","includes","getContext","Game","image","backMover","barNotes","updateBacks","updateNotes","firstLine","myLine","createElement","save","src","toDataURL","onload","tap","yy","cc","center","le","drawBack","pushNote","splice","touch","Image","Melodition","game","master","player","song","songDetails","loaded","handRefs","seekValue","TrackID","tempo","drumInfo","trackInfo","storeDrums","storeTracks","storeFingers","equalizer","drumVolumes","noteInfo","fingerNotes","firstDelay","tickID","currentBeat","tickerDelay","tickerStep","animeFrame","nextWhen","nextBeat","sentWhen","anime","midiKeys","trainNotes","stopReset","drawGame","line","round","startPlay","resetNodeValues","audioContext","resume","beatDur","setTimeout","playAllTracks","queueNextBeats","requestAnimationFrame","moveSVG","moveFingers","stopPlay","getElementById","click","clearTimeout","stopAllTracks","cancelAnimationFrame","cancelQueue","resetGame","fin","hide","training","seekMove","next","Number","keys","pushFinger","show","stop","elapsedTimeSinceStart","startTime","setMasterVolume","play","getNbTracks","rakeMouseWheel","deltaY","seekY","seekSVG","audioNode","gain","setValueAtTime","volume","band32","band64","band128","band256","band512","band1k","band2k","band4k","band8k","band16k","beat16duration","currentTime","sendNextBeats","wait","when","startBeat","endBeat","N","beatLen","channel","findDrumInfoHand","drum","zones","sound","info","variable","random","queueWaveTable","target","preset","pitches","duration","volumeRatio","sort","n1","n2","track","currentTrack","inChordCount","trc","nn","shift","inChordDelay","slides","fingers","nBeat","handArr","diff","findTrackInfoHand","order","drm","elem","cancel","notePitch","requestPlayer","newMelodition","Melodi","songbeat","cauntMeasures","lessonCompiler","songs","index","API","get","AudioApi","res","loadBuffer","buffer","realTempo","getDuration","bufferError","urlError","err","keyXPos","padLeft","rect","centerX","classList","contains","sizeCalculator","drawFinger","drawNotes","resizePlayer","resetPlayer","changeMode","mode","details","progress","saveData","title","time","Date","toLocaleTimeString","date","toLocaleDateString","addPlayTimes","redirectPath","authenticationPath","isAllowed","restrictedPath","component","to","pathname","render","About","input","setInput","handleChange","Button","snackBarMaker","maxHeight","breakpoints","cardAction","content","minHeight","PostCard","featured_img","excerpt","author","clickHandler","Card","CardActionArea","CardMedia","alt","thumbnailsFinder","CardContent","Typography","gutterBottom","variant","CardActions","size","BankPages","api","requestBank","page","getState","bankState","resetTime","getTheTime","PostList","header","Chip","chip","label","Grid","container","justify","cardList","autoMargin","Component","ownProps","withStyles","padding","position","right","top","ReCaptcha","script","loadScript","captchaOnLoad","onLoad","url","async","defer","body","appendChild","grecaptcha","sitekey","ready","setState","removeChild","onError","LinearProgress","captchaWarning","captcha","React","zIndex","borderRadius","border","Captcha","form","setFieldValue","errors","touched","field","event","recaptcha","LoginPage","Container","maxWidth","paddingTop","CssBaseline","Avatar","initialValues","username","password","validationSchema","Yup","shape","required","onSubmit","resetForm","login","Box","mb","align","fullWidth","disabled","mt","my","TextField","placeholder","xs","Link","RouterLink","loginRequest","logout","logoutRequest","LostPage","user_login","lostRequest","RegisterPage","email","firstname","lastname","confirm_password","policy","oneOf","registerRequest","dir","alignItems","ml","Checkbox","checked","underline","Boolean","FormHelperText","useStyles1","flexShrink","marginLeft","TablePaginationActions","useTheme","count","rowsPerPage","onChangePage","IconButton","direction","LastPage","FirstPage","KeyboardArrowRight","KeyboardArrowLeft","ceil","useStyles2","table","toolbar","flexFlow","only","LatestSongs","setPage","setRowsPerPage","emptyRows","sel","dateChanger","clsx","CardHeader","Divider","Table","TableHead","TableRow","TableCell","TableBody","slice","row","UniqId","colSpan","TableFooter","TablePagination","rowsPerPageOptions","lower","low","average","high","higher","SelectProps","inputProps","native","newPage","onChangeRowsPerPage","parseInt","ActionsComponent","Dashboard","getPlayTimes","lg","md","xl","ImageInput","fileUpload","showFileUpload","current","handleImageChange","reader","FileReader","files","file","onloadend","imagePreviewUrl","result","readAsDataURL","createRef","errorMessage","avatarStyle","bigAvatar","whiteBack","primaryBack","errorBack","hidden","accept","ErrorOutline","AccountCircle","borderColor","palette","secondary","main","borderStyle","background","phoneRegExp","Profile","getProfile","initData","image_select","first_name","last_name","nickname","mobile","test","FILE_SIZE","matches","val","updateProfile","profileRequest","GuideCard","thumbnails","description","teacher","GuideList","rightChip","backgroundColor","default","svgSize","primary","CardFavorite","isFavorite","handleFavorite","changed","setChanged","CircularProgress","Favorite","FavoriteBorder","LessonCard","fav","addFavorites","LessonList","CourseCard","CourseList","FavoriteCard","FavoriteList","nextProps","reverse","ExerciseList","pages","link","icon","LibraryMusic","child","QueueMusic","MusicNote","EmojiSymbols","pageName","pageNumber","obj","indexOf","tabControl","tabPanel","pathName","location","setValue","useMediaQuery","AppBar","Paper","square","Tabs","newValue","indicatorColor","textColor","scrollButtons","Tab","aria-controls","role","Test","keyTarget","setKeyTarget","setPlayedKey","keyDone","setKeyDone","keyUp","keyDown","useKeyEvent","Post","lazy","Guide","Course","Lesson","Exercise","AppRouter","fallback","exact","path","LearningPage","LostPassPage","flexGrow","menuButton","divider","MenuAppBar","modeChanger","Toolbar","edge","ArrowForward","flexItem","GameFront","drawFrontContext","onWheel","GameBack","backCtx","drawBackContext","SvgLine","bottom","strokeDasharray","strokeDashoffset","animation","x1","y1","x2","y2","connectedPianoCanvas","boxShadow","LessonPlayerMode","svgWidth","toggleDrawer","list","playmodeChanger","updateDimensions","noPad","Piano","ArrowBackIos","drawPiano","overflow","paper","doubleGrid","centerText","snackbarRemove","displayed","removeSnack","useSnackbar","enqueueSnackbar","closeSnackbar","message","onClose","reason","myKey","onExited","String","bracrumbs","AllInbox","conectedBreadcrumb","goBack","linkPath","setLinkPath","trigger","setTrigger","pathFinder","linkArray","split","join","handleClick","disableGutters","Breadcrumbs","href","globalStyle","createMuiTheme","typography","fontFamily","overrides","MuiBreadcrumbs","ol","overflowX","scrollbarWidth","whiteSpace","MuiCardActions","MuiCssBaseline","scrollbarColor","MuiIconButton","colorSecondary","DarkTheme","blue","red","pink","faIR","LightTheme","sectionDesktop","sectionMobile","avatarSmall","imageBorder","IconController","menuId","mobileMenuId","profileMenuOpen","Fragment","Badge","badgeContent","Star","Notifications","aria-haspopup","MoreHoriz","SearchInput","handleOnInputChange","query","fetchSearchResult","results","search","searchIcon","InputBase","inputRoot","inputInput","fade","common","white","pointerEvents","paddingLeft","transition","transitions","create","MobileMenu","mobileMoreAnchor","mobileMenuIsOpen","handleMobileMenu","anchorEl","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","MenuItem","Stars","sideLink","in","SettingsApplications","AccountBox","out","links","Home","FileCopy","Info","MenuRender","profileMoreAnchor","profileMenuIsOpen","handleDrawerClose","botLinks","drawer","drawerPaper","drawerHeader","mixins","MiniDrawer","changeTheme","Drawer","anchor","menuIsOpen","Brightness7","Brightness4","ChevronLeft","ChevronRight","List","ListItem","button","ListItemIcon","ListItemText","linkKeeper","lineHeight","LinkConst","openStatus","Collapse","appBar","easing","sharp","leavingScreen","appBarShift","enteringScreen","MainAppBar","sessionStorage","process","HeaderReducer","fieldName","rest","useReducer","jss","plugins","jssPreset","jssRTL","App","currentTheme","responsTheme","responsiveFontSizes","StylesProvider","ThemeProvider","Slide","mountOnEnter","unmountOnExit","app","mainBody","connectedApp","overflowY","response","toString","loginErrorHandler","msg","replace","TransitionComponent","autoHideDuration","pathSplit","compiledPath","typeSplit","type1Split","type2Split","minutes","getTime","ms","fallImg","medium","season","songdur","mx","add","mxT","apply","mxD","loadingPad","LoadingCircle","Axios","baseURL","headers","localUser","token","Authorization","authHeader","interceptors","use","status","Promise","reject","method","responseType","requestUpdate","userData","put","FormData","append","defaults","user_display_name","removeItem"],"mappings":"uIAAA,4MAAO,IAAMA,EAAgB,gBAChBC,EAAgB,gBAChBC,EAAgB,gBAEhBC,EAAe,eACfC,EAAe,eACfC,EAAe,gB,+NCJfC,EAAY,CACrB,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IAESC,EAAW,CACpB,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IAESC,EAAY,SAACC,GACtB,IAAIC,EAAID,EAAQ,GACZE,EAAI,IAkCR,OAjCU,IAAND,IACAC,EAAI,MAEE,IAAND,IACAC,EAAI,KAEE,IAAND,IACAC,EAAI,MAEE,IAAND,IACAC,EAAI,KAEE,IAAND,IACAC,EAAI,KAEE,IAAND,IACAC,EAAI,MAEE,IAAND,IACAC,EAAI,KAEE,IAAND,IACAC,EAAI,MAEE,IAAND,IACAC,EAAI,KAEE,KAAND,IACAC,EAAI,MAEE,KAAND,IACAC,EAAI,KAED,GAAKA,GAEHC,EAAU,SAACC,GAAD,OAAqB,MAANA,GAAmB,KAANA,GAAkB,KAANA,GAAkB,KAANA,GAErEC,EAAe,CACjBC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHN,EAAG,GACHO,EAAG,GACHC,EAAG,GACHC,EAAG,GACHZ,EAAG,GACHa,EAAG,GACHC,EAAG,GACH,IAAK,GACLC,EAAG,GACH,IAAK,GACL,IAAK,GACL,IAAK,GACLC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHrB,EAAG,GACHsB,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACH,IAAK,GACL,IAAK,GACL,IAAK,IAIIC,EAAb,iDACIC,QAAS,E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","file":"static/js/main.9f5c414d.chunk.js","sourcesContent":["export const REQUEST_POSTS = \"REQUEST_POSTS\";\r\nexport const SUCCESS_POSTS = \"SUCCESS_POSTS\";\r\nexport const FAILURE_POSTS = \"FAILURE_POSTS\";\r\n\r\nexport const REQUEST_POST = \"REQUEST_POST\";\r\nexport const SUCCESS_POST = \"SUCCESS_POST\";\r\nexport const FAILURE_POST = \"FAILURE_POST\";\r\n\r\nexport interface DefaultPostsState {\r\n  data: IPost[];\r\n  error: string;\r\n  loading: boolean;\r\n  nextLoad: number;\r\n}\r\nexport interface DefaultPostState {\r\n  data?: IPost;\r\n  error: string;\r\n  loading: boolean;\r\n}\r\n\r\nexport interface IPost {\r\n  id: number,\r\n  title: string,\r\n  content: string,\r\n  slug: string,\r\n  excerpt: string,\r\n  date: string,\r\n  author: string,\r\n  featured_img: string,\r\n  categories: string[]\r\n  tags: string[]\r\n}\r\n\r\nexport interface RequestPosts {\r\n  type: typeof REQUEST_POSTS;\r\n}\r\nexport interface SeccessPosts {\r\n  type: typeof SUCCESS_POSTS;\r\n  payload: {\r\n    data: IPost[];\r\n    nextLoad: number;\r\n  }\r\n}\r\nexport interface FailurePosts {\r\n  type: typeof FAILURE_POSTS;\r\n  error: string;\r\n}\r\n\r\nexport interface RequestPost {\r\n  type: typeof REQUEST_POST;\r\n}\r\nexport interface SeccessPost {\r\n  type: typeof SUCCESS_POST;\r\n  data: IPost;\r\n}\r\nexport interface FailurePost {\r\n  type: typeof FAILURE_POST;\r\n  error: string;\r\n}\r\n\r\nexport type PostActionTypes =\r\n  | RequestPosts\r\n  | SeccessPosts\r\n  | FailurePosts\r\n  | RequestPost\r\n  | SeccessPost\r\n  | FailurePost;\r\n","import { midiNoteOff, midiNoteOn } from \"../../../../_actions/player.actions\";\r\n\r\nexport const rightLine = [\r\n    1,\r\n    2,\r\n    4,\r\n    6,\r\n    7,\r\n    9,\r\n    11,\r\n    13,\r\n    14,\r\n    16,\r\n    18,\r\n    19,\r\n    21,\r\n    23,\r\n    25,\r\n    26,\r\n    28,\r\n    30,\r\n    31,\r\n    33,\r\n    35,\r\n    37,\r\n    38,\r\n    40,\r\n    42,\r\n];\r\nexport const leftLine = [\r\n    0,\r\n    2,\r\n    4,\r\n    6,\r\n    7,\r\n    9,\r\n    11,\r\n    12,\r\n    14,\r\n    16,\r\n    18,\r\n    19,\r\n    21,\r\n    23,\r\n    24,\r\n    26,\r\n    28,\r\n    30,\r\n    31,\r\n    33,\r\n    35,\r\n    36,\r\n    38,\r\n    40,\r\n    42,\r\n    43,\r\n    45,\r\n    47,\r\n];\r\nexport const pitchName = (pitch: number) => {\r\n    let n = pitch % 12;\r\n    let t = \"C\";\r\n    if (n === 1) {\r\n        t = \"Db\";\r\n    }\r\n    if (n === 2) {\r\n        t = \"D\";\r\n    }\r\n    if (n === 3) {\r\n        t = \"Eb\";\r\n    }\r\n    if (n === 4) {\r\n        t = \"E\";\r\n    }\r\n    if (n === 5) {\r\n        t = \"F\";\r\n    }\r\n    if (n === 6) {\r\n        t = \"Gb\";\r\n    }\r\n    if (n === 7) {\r\n        t = \"G\";\r\n    }\r\n    if (n === 8) {\r\n        t = \"Ab\";\r\n    }\r\n    if (n === 9) {\r\n        t = \"A\";\r\n    }\r\n    if (n === 10) {\r\n        t = \"Bb\";\r\n    }\r\n    if (n === 11) {\r\n        t = \"B\";\r\n    }\r\n    return \"\" + t;\r\n};\r\nexport const outLine = (v: number) => v === 101 || v === 81 || v === 60 || v === 40;\r\n\r\nconst emulatedKeys = {\r\n    z: 48,\r\n    s: 49,\r\n    x: 50,\r\n    d: 51,\r\n    c: 52,\r\n    v: 53,\r\n    g: 54,\r\n    b: 55,\r\n    h: 56,\r\n    n: 57,\r\n    j: 58,\r\n    m: 59,\r\n    \",\": 60,\r\n    l: 61,\r\n    \".\": 62,\r\n    \";\": 63,\r\n    \"/\": 64,\r\n    q: 65,\r\n    2: 66,\r\n    w: 67,\r\n    3: 68,\r\n    e: 69,\r\n    4: 70,\r\n    r: 71,\r\n    t: 72,\r\n    6: 73,\r\n    y: 74,\r\n    7: 75,\r\n    u: 76,\r\n    i: 77,\r\n    9: 78,\r\n    o: 79,\r\n    0: 80,\r\n    p: 81,\r\n    \"-\": 82,\r\n    \"[\": 83,\r\n    \"]\": 84,\r\n}\r\n\r\ntype IPianoEvent = React.TouchEvent<SVGGElement> | React.MouseEvent<SVGGElement, MouseEvent>\r\nexport class PianoEvent {\r\n    isDown = false\r\n    playedKey: number | string | null;\r\n    keyboardUp = (e: KeyboardEvent) => {\r\n        e.preventDefault();\r\n        const key = e.key as keyof typeof emulatedKeys;\r\n        if (emulatedKeys.hasOwnProperty(key)) {\r\n            const note = emulatedKeys[key];\r\n            midiNoteOff(note);\r\n            this.playedKey = null;\r\n        }\r\n    };\r\n    keyboardDown = (e: KeyboardEvent) => {\r\n        e.preventDefault();\r\n        const key = e.key as keyof typeof emulatedKeys;\r\n        if (emulatedKeys.hasOwnProperty(key)) {\r\n            if (key !== this.playedKey) {\r\n                const note = emulatedKeys[key];\r\n                midiNoteOn(note);\r\n                this.playedKey = key;\r\n            }\r\n        }\r\n    };\r\n    mouseUpReset = () => {\r\n        this.isDown = false;\r\n    };\r\n    mouseDown = (e: IPianoEvent) => {\r\n        e.preventDefault();\r\n        const ref: SVGGElement = e.currentTarget;\r\n        const note = ref.tabIndex;\r\n        this.isDown = true;\r\n        this.playedKey = note;\r\n        midiNoteOn(note);\r\n    };\r\n    mouseOver = (e: IPianoEvent) => {\r\n        e.preventDefault();\r\n        const ref: SVGGElement = e.currentTarget;\r\n        const note = ref.tabIndex;\r\n        if (this.isDown && note !== this.playedKey) {\r\n            this.playedKey = note;\r\n            midiNoteOn(note);\r\n        }\r\n    };\r\n    mouseLeave = (e: IPianoEvent) => {\r\n        e.preventDefault();\r\n        const ref: SVGGElement = e.currentTarget;\r\n        const note = ref.tabIndex;\r\n        if (this.isDown) {\r\n            midiNoteOff(note);\r\n            this.playedKey = null;\r\n        }\r\n    };\r\n    mouseUp = (e: IPianoEvent) => {\r\n        e.preventDefault();\r\n        const ref: SVGGElement = e.currentTarget;\r\n        const note = ref.tabIndex;\r\n        this.isDown = false;\r\n        midiNoteOff(note);\r\n        this.playedKey = null;\r\n    };\r\n}","import { midiNoteOff, midiNoteOn } from \"./player.actions\";\r\nimport { errorHandler, seccessHandler } from \"../components/Layout/SnackBar/alert\";\r\n\r\nlet midiInput: WebMidi.MIDIInput;\r\n\r\nexport const requsetMidi = () => {\r\n    if (!navigator.requestMIDIAccess) errorHandler(\"لطفاً برای استفاده کامل از امکانات سایت از گوگل کروم یا مایکروسافت اج استفاده کنید.\");\r\n    else navigator.requestMIDIAccess()\r\n        .then((midiAccess) => {\r\n            console.log(\"MIDI Ready!\");\r\n            for (let entry of midiAccess.inputs) {\r\n                midiInput = entry[1]\r\n                seccessHandler(\"MIDI input device: \" + midiInput.name)\r\n                console.log(midiInput)\r\n                midiInput.onmidimessage = onMidiMessage;\r\n                midiInput.onstatechange = onstatechange;\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            errorHandler(\"Error accessing MIDI devices: \" + error);\r\n        });\r\n}\r\nexport const changeMidi = (enable: boolean) => {\r\n    if (midiInput)\r\n        midiInput.onmidimessage = enable ? onMidiMessage : () => { };\r\n}\r\n\r\n// const noteNames: string[] = [\"C\", \"C#\", \"D\", \"D#\", \"E\", \"F\", \"F#\", \"G\", \"G#\", \"A\", \"A#\", \"B\"];\r\n\r\nconst onstatechange = (midiState: WebMidi.MIDIConnectionEvent): void => {\r\n    console.log(midiState)\r\n    // warningHandler(midiState.)\r\n}\r\n\r\nlet notes: number[] = [];\r\nlet hold = false;\r\n\r\nconst onMidiMessage = (midiEvent: WebMidi.MIDIMessageEvent): void => {\r\n    let data: Uint8Array = midiEvent.data;\r\n    if (data.length === 3) {\r\n        // status is the first byte.\r\n        let status = data[0];\r\n        // command is the four most significant bits of the status byte.\r\n        let command = status >>> 4;\r\n        // channel 0-15 is the lower four bits.\r\n        // let channel = status & 0xF;\r\n\r\n        if (command === 11) {\r\n            let velocity = data[2];\r\n            if (velocity === 127 || velocity === 0)\r\n                hold = holder(velocity)\r\n        }\r\n        // just look at note on and note off messages.\r\n        if (command === 0x9 || command === 0x8) {\r\n            // note number is the second byte.\r\n            let note = data[1];\r\n            // velocity is the thrid byte.\r\n            let velocity = data[2];\r\n\r\n            // let commandName = command === 0x9 ? \"Note On \" : \"Note Off\";\r\n            // calculate octave and note name.\r\n            // let noteName = noteNames[note % 12];\r\n            // let octave = Math.trunc(note / 12);\r\n\r\n            if (command === 0x9 && velocity) {\r\n                midiNoteOn(note, velocity / 100)\r\n                notes.push(note)\r\n            } else {\r\n                if (!hold) {\r\n                    midiNoteOff(note)\r\n                    notes = [];\r\n                }\r\n            }\r\n            // console.log(`${commandName} ${noteName}${octave} ${velocity}`);\r\n        }\r\n    }\r\n}\r\nconst holder = (vol: number) => {\r\n    if (vol === 0) {\r\n        notes.forEach(n => {\r\n            midiNoteOff(n)\r\n        })\r\n        notes = []\r\n        return false\r\n    } else {\r\n        return true\r\n    }\r\n}","import {\r\n  LOST_FAILURE,\r\n  LOST_REQUEST,\r\n  LOST_SUCCESS,\r\n  LOGIN_REQUEST,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAILURE,\r\n  REGISTER_FAILURE,\r\n  REGISTER_REQUEST,\r\n  REGISTER_SUCCESS,\r\n  USER_LOGOUT,\r\n  CHANGE_THEME,\r\n  UserActionTypes,\r\n  DefaultUserState,\r\n} from \"../_types/auth.types\";\r\nimport { getUserLocal } from \"../_helpers/constants\";\r\n\r\nconst user = getUserLocal(\"user\");\r\nconst storedTheme = localStorage.getItem(\"theme\");\r\nconst theme = storedTheme === \"dark\" ? \"dark\" : \"light\"\r\n\r\nconst initialState: DefaultUserState = user\r\n  ? { loggedIn: true, loading: false, user, theme }\r\n  : { loggedIn: false, loading: false, theme };\r\n\r\nexport function authReducer(\r\n  state = initialState,\r\n  action: UserActionTypes\r\n): DefaultUserState {\r\n  switch (action.type) {\r\n    case LOGIN_REQUEST:\r\n      return { ...state, loading: true };\r\n    case LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loggedIn: true,\r\n        loading: false,\r\n        user: action.user,\r\n      };\r\n    case LOGIN_FAILURE:\r\n      return { ...state, loading: false };\r\n    case REGISTER_REQUEST:\r\n      return { ...state, loggedIn: false, loading: true };\r\n    case REGISTER_SUCCESS:\r\n      return { ...state, loading: false };\r\n    case REGISTER_FAILURE:\r\n      return { ...state, loading: false };\r\n    case LOST_REQUEST:\r\n      return { ...state, loggedIn: false, loading: true };\r\n    case LOST_SUCCESS:\r\n      return { ...state, loading: false };\r\n    case LOST_FAILURE:\r\n      return { ...state, loading: false };\r\n    case USER_LOGOUT:\r\n      return { ...state, user: undefined, loggedIn: false, loading: false };\r\n    case CHANGE_THEME:\r\n      localStorage.setItem(\"theme\", action.theme);\r\n      return { ...state, theme: action.theme };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  INFO_REQUEST,\r\n  INFO_FAILURE,\r\n  INFO_SUCCESS,\r\n  DELETE_PROFILE,\r\n  PLAYTIME_SUCCESS,\r\n  ProfileActionTypes,\r\n  DefaultProfileState,\r\n  FAVORITE_SUCCESS,\r\n} from \"../_types/profile.types\";\r\n\r\nconst profileReducerDefaultState: DefaultProfileState = {\r\n  loading: true,\r\n  error: \"User not found!\"\r\n};\r\n\r\nexport function profileReducer(\r\n  state = profileReducerDefaultState,\r\n  action: ProfileActionTypes\r\n): DefaultProfileState {\r\n  switch (action.type) {\r\n    case INFO_REQUEST:\r\n      return { ...state, loading: true };\r\n    case INFO_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        data: action.profile,\r\n      };\r\n    case INFO_FAILURE:\r\n      return {\r\n        loading: false,\r\n        error: action.error,\r\n      };\r\n    case PLAYTIME_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        playtime: action.playtime,\r\n      };\r\n    case FAVORITE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        favorite: action.favorite,\r\n      };\r\n    case DELETE_PROFILE:\r\n      return {\r\n        loading: true,\r\n        error: \"User not found!\",\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  DefaultSnackState,\r\n  CLEAR_SNACKBAR,\r\n  SHOW_SNACKBAR,\r\n  SnackActionTypes,\r\n  REMOVE_SNACKBAR,\r\n} from \"../_types/snackbar.types\";\r\n\r\nconst snackbarReducerDefaultState: DefaultSnackState = {\r\n  snackbars: [],\r\n};\r\n\r\nexport const snackbarReducer = (\r\n  state = snackbarReducerDefaultState,\r\n  action: SnackActionTypes\r\n): DefaultSnackState => {\r\n  switch (action.type) {\r\n    case SHOW_SNACKBAR:\r\n      return {\r\n        ...state,\r\n        snackbars: [\r\n          ...state.snackbars,\r\n          {\r\n            ...action.snackbar,\r\n          },\r\n        ],\r\n      };\r\n    case CLEAR_SNACKBAR:\r\n      return {\r\n        ...state,\r\n        snackbars: state.snackbars?.map((snackbar) =>\r\n          action.dismissAll || snackbar.key === action.key\r\n            ? { ...snackbar, dismissed: true }\r\n            : { ...snackbar }\r\n        ),\r\n      };\r\n    case REMOVE_SNACKBAR:\r\n      return {\r\n        ...state,\r\n        snackbars: state.snackbars?.filter(\r\n          (snackbar) => snackbar.key !== action.key\r\n        ),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  PlayerActionTypes,\r\n  REQUEST_PLAYER,\r\n  RESET_PLAYER,\r\n  ENTER_PLAYMODE,\r\n  ENTER_NOTEMODE,\r\n  EXIT_PLAYMODE,\r\n  DRAW_GAME_PIANO,\r\n  DRAW_NOTE_PIANO,\r\n  DRAW_NOTES,\r\n  IMelodition,\r\n  DRAW_GAME,\r\n  DRAW_FINGER,\r\n  RESIZE_PLAYER,\r\n  DRAW_SEEKBAR\r\n} from \"../_types/player.types\";\r\nconst loadings = {\r\n  fingerLoading: true,\r\n  notesLoading: true,\r\n  pianoLoading: true,\r\n  gameLoading: true,\r\n  seekLoading: true,\r\n  loading: true,\r\n};\r\nconst defaultPlayer: IMelodition = {\r\n  ...loadings,\r\n  playMode: false,\r\n  noteMode: false,\r\n  octave: 5,\r\n  bpm: 4,\r\n  songLength: 272,\r\n  tapSize: 32,\r\n};\r\nconst resetState: IMelodition = JSON.parse(JSON.stringify(defaultPlayer))\r\n\r\nexport const playerReducer = (\r\n  state = defaultPlayer,\r\n  action: PlayerActionTypes\r\n): IMelodition => {\r\n  switch (action.type) {\r\n    case REQUEST_PLAYER:\r\n      return { ...state, ...action.payload, loading: false };\r\n    case DRAW_GAME_PIANO:\r\n      return { ...state, ...action.payload, pianoLoading: false };\r\n    case DRAW_NOTE_PIANO:\r\n      return { ...state, ...action.payload, pianoLoading: false };\r\n    case DRAW_GAME:\r\n      return { ...state, gameLoading: false };\r\n    case DRAW_FINGER:\r\n      return { ...state, fingerLoading: false };\r\n    case DRAW_NOTES:\r\n      return { ...state, notesLoading: false };\r\n    case DRAW_SEEKBAR:\r\n      return { ...state, seekLoading: false };\r\n    case ENTER_NOTEMODE:\r\n      return { ...state, noteMode: true };\r\n    case ENTER_PLAYMODE:\r\n      return {\r\n        ...state,\r\n        ...loadings,\r\n        loading: false,\r\n        playMode: true,\r\n        canvasSize: undefined\r\n      };\r\n    case EXIT_PLAYMODE:\r\n      return {\r\n        ...state,\r\n        ...loadings,\r\n        loading: false,\r\n        playMode: false,\r\n      };\r\n    case RESIZE_PLAYER:\r\n      return { ...state, pianoLoading: true, gameLoading: true, notesLoading: true };\r\n    case RESET_PLAYER:\r\n      return resetState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  REQUEST_POST,\r\n  SUCCESS_POST,\r\n  FAILURE_POST,\r\n  REQUEST_POSTS,\r\n  SUCCESS_POSTS,\r\n  FAILURE_POSTS,\r\n  PostActionTypes,\r\n  DefaultPostState,\r\n  DefaultPostsState,\r\n} from \"../_types/post.types\";\r\n\r\nconst postsReducerDefaultState: DefaultPostsState = {\r\n  data: [],\r\n  loading: true,\r\n  error: 'Not Found',\r\n  nextLoad: 0,\r\n};\r\n\r\nexport const postsReducer = (\r\n  state = postsReducerDefaultState,\r\n  action: PostActionTypes\r\n): DefaultPostsState => {\r\n  switch (action.type) {\r\n    case REQUEST_POSTS:\r\n      return state;\r\n    case SUCCESS_POSTS:\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n        nextLoad: action.payload.nextLoad,\r\n        loading: false,\r\n      };\r\n    case FAILURE_POSTS:\r\n      return {\r\n        data: [],\r\n        error: action.error,\r\n        nextLoad: 0,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst postReducerDefaultState: DefaultPostState = {\r\n  loading: true,\r\n  error: 'Not Found'\r\n};\r\n\r\nexport const postReducer = (\r\n  state = postReducerDefaultState,\r\n  action: PostActionTypes\r\n): DefaultPostState => {\r\n  switch (action.type) {\r\n    case REQUEST_POST:\r\n      return { ...state, loading: true, data: undefined };\r\n    case SUCCESS_POST:\r\n      if (action.data === undefined) {\r\n        return {\r\n          ...state,\r\n          data: action.data,\r\n          loading: false,\r\n        }\r\n      } else {\r\n        return {\r\n          ...state,\r\n          data: action.data,\r\n          loading: false,\r\n        };\r\n      }\r\n    case FAILURE_POST:\r\n      return {\r\n        ...state,\r\n        error: action.error,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  SAVE_GUIDES,\r\n  REQUEST_GUIDE,\r\n  SUCCESS_GUIDE,\r\n  FAILURE_GUIDE,\r\n  REQUEST_GUIDES,\r\n  SUCCESS_GUIDES,\r\n  FAILURE_GUIDES,\r\n  GuideActionTypes,\r\n  DefaultGuideState,\r\n  DefaultGuidesState,\r\n} from \"../_types/guide.types\";\r\n\r\nconst guidesReducerDefaultState: DefaultGuidesState = {\r\n  data: [],\r\n  loading: true,\r\n  error: \"Not Found\",\r\n  nextLoad: 0,\r\n};\r\n\r\nexport const guidesReducer = (\r\n  state = guidesReducerDefaultState,\r\n  action: GuideActionTypes\r\n): DefaultGuidesState => {\r\n  switch (action.type) {\r\n    case REQUEST_GUIDES:\r\n      return state;\r\n    case SUCCESS_GUIDES:\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n        nextLoad: action.payload.nextLoad,\r\n        loading: false,\r\n      };\r\n    case SAVE_GUIDES:\r\n      let match = false;\r\n      if (state.data.length)\r\n        match = action.data.every(item => state.data.map(_ => _.id === item.id));\r\n      return {\r\n        ...state,\r\n        data: match ? state.data : action.data,\r\n      };\r\n    case FAILURE_GUIDES:\r\n      return {\r\n        data: [],\r\n        error: action.error,\r\n        nextLoad: 0,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst guideReducerDefaultState: DefaultGuideState = {\r\n  loading: true,\r\n  error: \"Not Found\",\r\n};\r\n\r\nexport const guideReducer = (\r\n  state = guideReducerDefaultState,\r\n  action: GuideActionTypes\r\n): DefaultGuideState => {\r\n  switch (action.type) {\r\n    case REQUEST_GUIDE:\r\n      return { ...state, loading: true, data: undefined };\r\n    case SUCCESS_GUIDE:\r\n      return {\r\n        ...state,\r\n        data: action.data,\r\n        loading: false,\r\n      };\r\n    case FAILURE_GUIDE:\r\n      return {\r\n        ...state,\r\n        error: action.error,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  SAVE_LESSONS,\r\n  REQUEST_LESSON,\r\n  SUCCESS_LESSON,\r\n  FAILURE_LESSON,\r\n  REQUEST_LESSONS,\r\n  SUCCESS_LESSONS,\r\n  FAILURE_LESSONS,\r\n  LessonActionTypes,\r\n  DefaultLessonState,\r\n  DefaultLessonsState,\r\n} from \"../_types/lesson.types\";\r\n\r\nconst lessonsReducerDefaultState: DefaultLessonsState = {\r\n  data: [],\r\n  loading: true,\r\n  error: \"Not Found\",\r\n  nextLoad: 0,\r\n};\r\n\r\nexport const lessonsReducer = (\r\n  state = lessonsReducerDefaultState,\r\n  action: LessonActionTypes\r\n): DefaultLessonsState => {\r\n  switch (action.type) {\r\n    case REQUEST_LESSONS:\r\n      return state;\r\n    case SUCCESS_LESSONS:\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n        nextLoad: action.payload.nextLoad,\r\n        loading: false,\r\n      };\r\n    case SAVE_LESSONS:\r\n      let match = false;\r\n      if (state.data.length)\r\n        match = action.data.every(item => state.data.map(_ => _.id === item.id));\r\n      return {\r\n        ...state,\r\n        data: match ? state.data : action.data,\r\n      };\r\n    case FAILURE_LESSONS:\r\n      return {\r\n        data: [],\r\n        error: action.error,\r\n        nextLoad: 0,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst lessonReducerDefaultState: DefaultLessonState = {\r\n  loading: true,\r\n  error: \"Not Found\",\r\n};\r\n\r\nexport const lessonReducer = (\r\n  state = lessonReducerDefaultState,\r\n  action: LessonActionTypes\r\n): DefaultLessonState => {\r\n  switch (action.type) {\r\n    case REQUEST_LESSON:\r\n      return { ...state, loading: true, data: undefined };\r\n    case SUCCESS_LESSON:\r\n      return {\r\n        ...state,\r\n        data: action.data,\r\n        loading: false,\r\n      };\r\n    case FAILURE_LESSON:\r\n      return {\r\n        ...state,\r\n        error: action.error,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  SAVE_COURSES,\r\n  REQUEST_COURSE,\r\n  SUCCESS_COURSE,\r\n  FAILURE_COURSE,\r\n  REQUEST_COURSES,\r\n  SUCCESS_COURSES,\r\n  FAILURE_COURSES,\r\n  CourseActionTypes,\r\n  DefaultCourseState,\r\n  DefaultCoursesState,\r\n} from \"../_types/course.types\";\r\n\r\nconst coursesReducerDefaultState: DefaultCoursesState = {\r\n  data: [],\r\n  loading: true,\r\n  error: \"Not Found\",\r\n  nextLoad: 0,\r\n};\r\n\r\nexport const coursesReducer = (\r\n  state = coursesReducerDefaultState,\r\n  action: CourseActionTypes\r\n): DefaultCoursesState => {\r\n  switch (action.type) {\r\n    case REQUEST_COURSES:\r\n      return state;\r\n    case SUCCESS_COURSES:\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n        nextLoad: action.payload.nextLoad,\r\n        loading: false,\r\n      };\r\n    case SAVE_COURSES:\r\n      let match = false;\r\n      if (state.data.length)\r\n        match = action.data.every(item => state.data.map(_ => _.id === item.id));\r\n      return {\r\n        ...state,\r\n        data: match ? state.data : action.data,\r\n      };\r\n    case FAILURE_COURSES:\r\n      return {\r\n        data: [],\r\n        nextLoad: 0,\r\n        error: action.error,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst courseReducerDefaultState: DefaultCourseState = {\r\n  loading: true,\r\n  error: 'Not Found',\r\n};\r\n\r\nexport const courseReducer = (\r\n  state = courseReducerDefaultState,\r\n  action: CourseActionTypes\r\n): DefaultCourseState => {\r\n  switch (action.type) {\r\n    case REQUEST_COURSE:\r\n      return { ...state, loading: true, data: undefined };\r\n    case SUCCESS_COURSE:\r\n      if (action.data === undefined) {\r\n        return {\r\n          ...state,\r\n          loading: false,\r\n        }\r\n      } else {\r\n        return {\r\n          ...state,\r\n          data: action.data,\r\n          loading: false,\r\n        };\r\n      }\r\n    case FAILURE_COURSE:\r\n      return {\r\n        ...state,\r\n        error: action.error,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  SAVE_EXERCISES,\r\n  REQUEST_EXERCISE,\r\n  SUCCESS_EXERCISE,\r\n  FAILURE_EXERCISE,\r\n  REQUEST_EXERCISES,\r\n  SUCCESS_EXERCISES,\r\n  FAILURE_EXERCISES,\r\n  ExerciseActionTypes,\r\n  DefaultExerciseState,\r\n  DefaultExercisesState,\r\n} from \"../_types/exercise.types\";\r\n\r\nconst exercisesReducerDefaultState: DefaultExercisesState = {\r\n  data: [],\r\n  loading: true,\r\n  error: \"Not Found\",\r\n  nextLoad: 0,\r\n};\r\n\r\nexport const exercisesReducer = (\r\n  state = exercisesReducerDefaultState,\r\n  action: ExerciseActionTypes\r\n): DefaultExercisesState => {\r\n  switch (action.type) {\r\n    case REQUEST_EXERCISES:\r\n      return state;\r\n    case SUCCESS_EXERCISES:\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n        nextLoad: action.payload.nextLoad,\r\n        loading: false,\r\n      };\r\n    case SAVE_EXERCISES:\r\n      let match = false;\r\n      if (state.data.length)\r\n        match = action.data.every(item => state.data.map(_ => _.id === item.id));\r\n      return {\r\n        ...state,\r\n        data: match ? state.data : action.data,\r\n      };\r\n    case FAILURE_EXERCISES:\r\n      return {\r\n        data: [],\r\n        error: action.error,\r\n        nextLoad: 0,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst exerciseReducerDefaultState: DefaultExerciseState = {\r\n  loading: true,\r\n  error: \"Not Found\",\r\n};\r\n\r\nexport const exerciseReducer = (\r\n  state = exerciseReducerDefaultState,\r\n  action: ExerciseActionTypes\r\n): DefaultExerciseState => {\r\n  switch (action.type) {\r\n    case REQUEST_EXERCISE:\r\n      return { ...state, loading: true, data: undefined };\r\n    case SUCCESS_EXERCISE:\r\n      if (action.data === undefined) {\r\n        return {\r\n          ...state,\r\n          data: action.data,\r\n          loading: false,\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n          data: action.data,\r\n          loading: false,\r\n        };;\r\n      }\r\n    case FAILURE_EXERCISE:\r\n      return {\r\n        ...state,\r\n        error: action.error,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { History } from 'history';\r\nimport { combineReducers } from \"redux\";\r\nimport { connectRouter } from 'connected-react-router'\r\n\r\nimport { authReducer } from \"./user.reducer\";\r\nimport { profileReducer } from \"./profile.reducer\";\r\nimport { snackbarReducer } from \"./snackbar.reducer\";\r\nimport { playerReducer } from './player.reducer';\r\nimport { postReducer, postsReducer } from \"./post.reducer\";\r\nimport { guideReducer, guidesReducer } from \"./guide.reducer\";\r\nimport { lessonReducer, lessonsReducer } from \"./lesson.reducer\";\r\nimport { courseReducer, coursesReducer } from \"./course.reducer\";\r\nimport { exerciseReducer, exercisesReducer } from \"./exercise.reducer\";\r\n\r\nconst rootReducer = (history: History) => combineReducers({\r\n    router: connectRouter(history),\r\n    single: combineReducers({\r\n        post: postReducer,\r\n        guide: guideReducer,\r\n        course: courseReducer,\r\n        lesson: lessonReducer,\r\n        exercise: exerciseReducer,\r\n    }),\r\n    bank: combineReducers({\r\n        posts: postsReducer,\r\n        guides: guidesReducer,\r\n        courses: coursesReducer,\r\n        lessons: lessonsReducer,\r\n        exercises: exercisesReducer,\r\n    }),\r\n    melodition: playerReducer,\r\n    user: profileReducer,\r\n    snackbar: snackbarReducer,\r\n    auth: authReducer,\r\n});\r\n\r\nexport default rootReducer","import { createBrowserHistory } from 'history'\nimport thunk, { ThunkMiddleware } from \"redux-thunk\";\n\nimport { applyMiddleware, compose, createStore } from 'redux'\nimport { routerMiddleware } from 'connected-react-router'\nimport createRootReducer from '../_reducers'\nimport { AppActions, AppState } from '../_types';\n\nexport const history = createBrowserHistory()\n\nexport const store = configureStore();\n\nexport default function configureStore(preloadingState?: any) {\n  const composeEnhancer: typeof compose = (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\n  const store = createStore(\n    createRootReducer(history),\n    preloadingState,\n    composeEnhancer(\n      applyMiddleware(\n        routerMiddleware(history),\n        thunk as ThunkMiddleware<AppState, AppActions>,\n      ),\n    ),\n  )\n\n  return store\n}","import React, { useEffect, useState } from \"react\";\r\nimport { IconButton } from \"@material-ui/core\";\r\nimport { PauseCircleOutline, PlayCircleOutline } from \"@material-ui/icons\";\r\nimport { startPlayer, stopPlayer } from \"../../../_actions/player.actions\";\r\n\r\ninterface IPlayProps {\r\n  loading: boolean;\r\n}\r\nexport const PlayButton: React.FC<IPlayProps> = ({ loading }) => {\r\n  const [onAir, setOnAir] = useState(false);\r\n\r\n  const playHandler = () => {\r\n    if (onAir) {\r\n      stopPlayer();\r\n      setOnAir(false);\r\n    } else {\r\n      startPlayer();\r\n      setOnAir(true);\r\n    }\r\n  };\r\n  const keyboardUp = (e: KeyboardEvent) => {\r\n    if (e.code === \"Space\" && !loading) {\r\n      playHandler();\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    document.addEventListener(\"keyup\", keyboardUp);\r\n    return () => {\r\n      document.removeEventListener(\"keyup\", keyboardUp);\r\n    };\r\n  });\r\n  return (\r\n    <IconButton\r\n      id=\"play-button\"\r\n      color=\"secondary\"\r\n      aria-label=\"play song\"\r\n      onClick={playHandler}\r\n    >\r\n      {onAir ? (\r\n        <PauseCircleOutline style={{ fontSize: \"1.8em\" }} />\r\n      ) : (\r\n        <PlayCircleOutline style={{ fontSize: \"1.8em\" }} />\r\n      )}\r\n    </IconButton>\r\n  );\r\n};\r\n","const SvgKeys = [{\r\n  note: \"C\",\r\n  xPos: 47,\r\n  yPos: 205,\r\n  id: \"white\",\r\n  front: \"M0.5 0.5H42.5V155.5C42.5 156.881 43.6193 158 45 158H79.5V245C79.5 247.485 77.4853 249.5 75 249.5H5C2.51472 249.5 0.5 247.485 0.5 245V0.5Z\",\r\n}, {\r\n  note: \"Db\",\r\n  xPos: 77,\r\n  yPos: 95,\r\n  id: \"black\",\r\n  front: \"M95 0H45V153C45 154.105 45.8954 155 47 155H93C94.1046 155 95 154.105 95 153V0Z\",\r\n  back: \"M79 130H61C52 130 52 150 52 150H88C88 150 88 130 79 130Z\",\r\n}, {\r\n  note: \"D\",\r\n  xPos: 130,\r\n  yPos: 205,\r\n  id: \"white\",\r\n  front: \"M150.5 0.5H97.5V155.5C97.5 156.881 96.3807 158 95 158H84.5V245C84.5 247.485 86.5147 249.5 89 249.5H159C161.485 249.5 163.5 247.485 163.5 245V158H153C151.619 158 150.5 156.881 150.5 155.5V0.5Z\",\r\n}, {\r\n  note: \"Eb\",\r\n  xPos: 185,\r\n  yPos: 95,\r\n  id: \"black\",\r\n  front: \"M203 0H153V153C153 154.105 153.895 155 155 155H201C202.105 155 203 154.105 203 153V0Z\",\r\n  back: \"M187 130H169C160 130 160 150 160 150H196C196 150 196 130 187 130Z\",\r\n}, {\r\n  note: \"E\",\r\n  xPos: 214,\r\n  yPos: 205,\r\n  id: \"white\",\r\n  front: \"M247.5 0.5H205.5V155.5C205.5 156.881 204.381 158 203 158H168.5V245C168.5 247.485 170.515 249.5 173 249.5H243C245.485 249.5 247.5 247.485 247.5 245V0.5Z\",\r\n}, {\r\n  note: \"F\",\r\n  xPos: 298,\r\n  yPos: 205,\r\n  id: \"white\",\r\n  front: \"M252.5 0.5H291.5V155.5C291.5 156.881 292.619 158 294 158H331.5V245C331.5 247.485 329.485 249.5 327 249.5H257C254.515 249.5 252.5 247.485 252.5 245V0.5Z\",\r\n}, {\r\n  note: \"Gb\",\r\n  xPos: 327,\r\n  yPos: 95,\r\n  id: \"black\",\r\n  front: \"M344 0H294V153C294 154.105 294.895 155 296 155H342C343.105 155 344 154.105 344 153V0Z\",\r\n  back: \"M328 130H310C301 130 301 150 301 150H337C337 150 337 130 328 130Z\",\r\n}, {\r\n  note: \"G\",\r\n  xPos: 383,\r\n  yPos: 205,\r\n  id: \"white\",\r\n  front: \"M390.5 0.5H346.5V155.5C346.5 156.881 345.381 158 344 158H336.5V245C336.5 247.485 338.515 249.5 341 249.5H411C413.485 249.5 415.5 247.485 415.5 245V158H393C391.619 158 390.5 156.881 390.5 155.5V0.5Z\",\r\n}, {\r\n  note: \"Ab\",\r\n  xPos: 427,\r\n  yPos: 95,\r\n  id: \"black\",\r\n  front: \"M443 0H393V153C393 154.105 393.895 155 395 155H441C442.105 155 443 154.105 443 153V0Z\",\r\n  back: \"M427 130H409C400 130 400 150 400 150H436C436 150 436 130 427 130Z\",\r\n}, {\r\n  note: \"A\",\r\n  xPos: 466,\r\n  yPos: 205,\r\n  id: \"white\",\r\n  front: \"M491.5 0.5H445.5V155.5C445.5 156.881 444.381 158 443 158H420.5V245C420.5 247.485 422.515 249.5 425 249.5H495C497.485 249.5 499.5 247.485 499.5 245V158H494C492.619 158 491.5 156.881 491.5 155.5V0.5Z\",\r\n}, {\r\n  note: \"Bb\",\r\n  xPos: 526,\r\n  yPos: 95,\r\n  id: \"black\",\r\n  front: \"M544 0H494V153C494 154.105 494.895 155 496 155H542C543.105 155 544 154.105 544 153V0Z\",\r\n  back: \"M528 130H510C501 130 501 150 501 150H537C537 150 537 130 528 130Z\",\r\n}, {\r\n  note: \"B\",\r\n  xPos: 551,\r\n  yPos: 205,\r\n  id: \"white\",\r\n  front: \"M583.5 0.5H546.5V155.5C546.5 156.881 545.381 158 544 158H504.5V245C504.5 247.485 506.515 249.5 509 249.5H579C581.485 249.5 583.5 247.485 583.5 245V0.5Z\",\r\n}, {\r\n  note: \"C\",\r\n  xPos: 637,\r\n  yPos: 205,\r\n  id: \"white\",\r\n  front: \"M663 249.5H593C590.515 249.5 588.5 247.485 588.5 245V0.5H667.5V245C667.5 247.485 665.485 249.5 663 249.5Z\",\r\n}];\r\n\r\nexport default SvgKeys;\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { gamePiano, notePiano } from \"../../../../_actions/player.actions\";\r\nimport { leftLine, PianoEvent, pitchName, rightLine } from \"./constant\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core\";\r\nimport { changeMidi } from \"../../../../_actions/midi.actions\";\r\nimport { INotePos } from \"../../../../_types/player.types\";\r\nimport { AppActions, AppState } from \"../../../../_types\";\r\nimport SvgKeys from \"./SvgKeys\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      flexDirection: \"row-reverse\",\r\n      justifyContent: \"center\",\r\n      flexWrap: \"nowrap\",\r\n      margin: \"0 auto\",\r\n      minWidth: \"215px\",\r\n      width: \"100%\",\r\n      cursor: \"default\",\r\n      \"-webkit-touch-callout\": \"none\",\r\n      \"-webkit-user-select\": \"none\",\r\n      \"-khtml-user-select\": \"none\",\r\n      \"-moz-user-select\": \"none\",\r\n      \"-ms-user-select\": \"none\",\r\n      \"user-select\": \"none\",\r\n      touchAction: \"none\",\r\n    },\r\n    back: {\r\n      margin: theme.spacing(0, 2),\r\n    },\r\n  })\r\n);\r\n\r\ntype Props = ReturnType<typeof mapStateToProps> &\r\n  ReturnType<typeof mapDispatchToProps>;\r\n\r\nconst Piano: React.FC<Props> = (props) => {\r\n  const { /*theme,*/ Melo, drawGamePiano, drawNotePiano } = props;\r\n\r\n  const {\r\n    keyboardDown,\r\n    keyboardUp,\r\n    mouseDown,\r\n    mouseUp,\r\n    mouseLeave,\r\n    mouseOver,\r\n  } = new PianoEvent();\r\n\r\n  let counter = 36;\r\n  let firstkey = 36;\r\n  const keyRefs = {} as SVGGElement[];\r\n\r\n  useEffect(() => {\r\n    console.log(\"Piano mounted\");\r\n    changeMidi(true);\r\n    document.addEventListener(\"keydown\", keyboardDown);\r\n    document.addEventListener(\"keyup\", keyboardUp);\r\n    return () => {\r\n      console.log(\"Piano disMounted\");\r\n      changeMidi(false);\r\n      document.removeEventListener(\"keydown\", keyboardDown);\r\n      document.removeEventListener(\"keyup\", keyboardUp);\r\n    };\r\n  }, [Melo.loading, keyboardDown, keyboardUp]);\r\n\r\n  const classes = useStyles();\r\n\r\n  const counterFunction = (octSize: number) => {\r\n    if (octSize > 6) {\r\n      counter = 24;\r\n      firstkey = 24;\r\n    } else if (octSize > 3) {\r\n      counter = 36;\r\n      firstkey = 36;\r\n    } else if (octSize > 1) {\r\n      counter = 48;\r\n      firstkey = 48;\r\n    } else {\r\n      counter = 60;\r\n      firstkey = 60;\r\n    }\r\n  };\r\n  const detectSize = (height: number) => {\r\n    const rythm = Melo.bpm * 4;\r\n    let tap = 32;\r\n    if (height > 700) {\r\n      tap = height / rythm;\r\n    } else if (height > 500) {\r\n      tap = height / rythm;\r\n    } else if (height > 300) {\r\n      tap = height / rythm;\r\n    } else if (height > 100) {\r\n      tap = height / rythm;\r\n    } else {\r\n      tap = height / rythm;\r\n    }\r\n    return tap;\r\n  };\r\n  const setKeyRef = (ref: SVGGElement | null) => {\r\n    if (ref) {\r\n      const key = ref.tabIndex;\r\n      keyRefs[key] = ref;\r\n    }\r\n  };\r\n\r\n  const setRef = (ref: HTMLDivElement) => {\r\n    if (ref && Melo.pianoLoading) {\r\n      const pianoSize = ref.getBoundingClientRect();\r\n      const width = pianoSize.width;\r\n      const height = Math.floor(window.innerHeight - (pianoSize.height + 64));\r\n      if (Melo.playMode) {\r\n        const tapSize = detectSize(height);\r\n        const baseLine = tapSize * (Melo.bpm <= 4 ? 4 : Melo.bpm) + 8;\r\n        const pianoLeft = pianoSize.left;\r\n        const canvasSize = { width, height, baseLine, pianoLeft };\r\n        drawGamePiano(keyRefs, canvasSize, tapSize);\r\n      } else if (Melo.noteMode && Melo.neededLines) {\r\n        const need = Melo.neededLines.up > 83 ? 102 : 83;\r\n        const lines =\r\n          Melo.neededLines.down < 58 || Melo.neededLines.up > 83 ? 28 : 16;\r\n        const lineSide = need > 83 ? rightLine : leftLine;\r\n        const tapSize = height / 2.1 / (lines / 2);\r\n        const spaceSize = width / (Melo.neededLines.notes + 2);\r\n        const fontSize =\r\n          spaceSize * 0.5 < 7 ? 7 : spaceSize * 0.5 > 12 ? 12 : spaceSize * 0.5;\r\n        const linesArray = Array.from(\r\n          Array(lines),\r\n          (_, i) => need - lineSide[i]\r\n        );\r\n        const notePos: INotePos = {};\r\n        linesArray.forEach((v, i) => {\r\n          const y = ((i + 1) * tapSize) / 2;\r\n          notePos[v] = { pos: y, note: pitchName(v) };\r\n          notePos[v - 1] = { pos: y, note: pitchName(v - 1) };\r\n        });\r\n        drawNotePiano(keyRefs, {\r\n          width,\r\n          height: height / 2.1,\r\n          tapSize,\r\n          spaceSize,\r\n          fontSize,\r\n          linesArray,\r\n          notePos,\r\n        });\r\n      } else {\r\n        drawGamePiano(keyRefs);\r\n      }\r\n    }\r\n  };\r\n  const themeColor = (color: string) => {\r\n    // if (color === \"black\") return theme === \"dark\" ? \"white\" : \"black\";\r\n    // if (color === \"white\") return theme === \"dark\" ? \"black\" : \"white\";\r\n    return color;\r\n  };\r\n  // const themer = theme === \"dark\" ? 1 : 0;\r\n  counterFunction(Melo.octave);\r\n  return (\r\n    <div ref={setRef} className={classes.root}>\r\n      {Array.from(Array(Melo.octave), (_, i) => \"oct\" + (i + 1)).map(\r\n        (oct, i) => {\r\n          const width = Melo.octave - i === 1 ? 668 : 584;\r\n          return (\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              id={oct}\r\n              key={oct}\r\n              width={width}\r\n              height=\"100%\"\r\n              viewBox={`0 0 ${width} 275`}\r\n              fill=\"none\"\r\n              style={\r\n                i !== Melo.octave - 1\r\n                  ? { marginRight: 8 / Melo.octave }\r\n                  : undefined\r\n              }\r\n            >\r\n              {SvgKeys.map((k, n) => {\r\n                let lastKey = SvgKeys.length;\r\n                let className = counter === firstkey ? \"first\" : k.note;\r\n                if (Melo.octave - i === 1 && lastKey === n + 1) {\r\n                  lastKey++;\r\n                  className = \"last\";\r\n                  i++;\r\n                }\r\n                let backFill = k.id === \"white\" ? \"#B5B5B5\" : undefined;\r\n                let frontFill =\r\n                  k.id === \"white\" ? \"black\" : \"rgb(255 255 255 / 65%)\";\r\n                const active = Melo.neededTracks?.some(\r\n                  (el) => el.pitch + 36 === counter\r\n                );\r\n                const textPos = k.id === \"white\" ? k.xPos : k.xPos + 6;\r\n                return (\r\n                  lastKey !== n + 1 && (\r\n                    <g\r\n                      id={k.id}\r\n                      ref={setKeyRef}\r\n                      onMouseUp={mouseUp}\r\n                      onMouseDown={mouseDown}\r\n                      onMouseLeave={mouseLeave}\r\n                      onTouchEnd={mouseLeave}\r\n                      onTouchMove={mouseOver}\r\n                      onTouchStart={mouseDown}\r\n                      key={oct + \"-\" + k.note + i}\r\n                      className={className}\r\n                      tabIndex={counter}\r\n                    >\r\n                      <path\r\n                        id=\"back\"\r\n                        d={k.front}\r\n                        fill={themeColor(k.id)}\r\n                        stroke={backFill}\r\n                      />\r\n                      {k.id !== \"white\" ? (\r\n                        <path\r\n                          id=\"front\"\r\n                          d={k.back}\r\n                          fill={themeColor(frontFill)}\r\n                        />\r\n                      ) : (\r\n                        <text\r\n                          id=\"front\"\r\n                          x={textPos}\r\n                          y={k.yPos}\r\n                          fill={themeColor(\"rgb(155 155 155)\")}\r\n                          fontSize=\"25\"\r\n                          fontWeight=\"900\"\r\n                        >\r\n                          {k.note}\r\n                        </text>\r\n                      )}\r\n                      {active && (\r\n                        <circle\r\n                          cx={k.xPos - 8}\r\n                          cy={k.yPos + 20}\r\n                          r=\"6\"\r\n                          fill={themeColor(\"rgb(56 56 56)\")}\r\n                          stroke={themeColor(k.id)}\r\n                          strokeWidth=\"2\"\r\n                        />\r\n                      )}\r\n                      {counter++ === 60 && (\r\n                        <polygon points=\"30,265 40,255 50,265\" fill=\"black\" />\r\n                      )}\r\n                    </g>\r\n                  )\r\n                );\r\n              })}\r\n            </svg>\r\n          );\r\n        }\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: AppState) => ({\r\n  theme: state.auth.theme,\r\n  Melo: state.melodition,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AppActions>) => ({\r\n  drawGamePiano: bindActionCreators(gamePiano, dispatch),\r\n  drawNotePiano: bindActionCreators(notePiano, dispatch),\r\n});\r\n\r\nconst connectedPiano = connect(mapStateToProps, mapDispatchToProps)(Piano);\r\n\r\nexport default connectedPiano;\r\n","import React, {\r\n  useState,\r\n  forwardRef,\r\n  useImperativeHandle,\r\n  useCallback,\r\n} from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport { AppActions, AppState } from \"../../../_types\";\r\nimport { canvasWheel, drawSeekBar } from \"../../../_actions/player.actions\";\r\nimport { IMelodition } from \"../../../_types/player.types\";\r\n\r\ntype SeekBarProps = ReturnType<typeof mapStateToProps> &\r\n  ReturnType<typeof mapDispatchToProps>;\r\n\r\nconst Seekbar: React.FC<SeekBarProps> = ({ Melo, drawSeekBar }) => {\r\n  const callback = useCallback(\r\n    (node: any) => {\r\n      if (node && Melo.seekLoading) {\r\n        drawSeekBar({ seekBar: node });\r\n      }\r\n      return () => {};\r\n    },\r\n    [Melo.seekLoading, drawSeekBar]\r\n  );\r\n\r\n  return (\r\n    <div style={{ height: \"40%\" }}>\r\n      <SeekInput ref={callback} Melo={Melo} />\r\n    </div>\r\n  );\r\n};\r\nconst mapStateToProps = (state: AppState) => ({\r\n  Melo: state.melodition,\r\n});\r\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AppActions>) => ({\r\n  drawSeekBar: bindActionCreators(drawSeekBar, dispatch),\r\n});\r\nconst connectedSeekbar = connect(mapStateToProps, mapDispatchToProps)(Seekbar);\r\n\r\nexport default connectedSeekbar;\r\n\r\ninterface SeekInputProps {\r\n  Melo: IMelodition;\r\n}\r\nconst SeekInput = forwardRef<unknown, SeekInputProps>(({ Melo }, ref) => {\r\n  const [seek, setSeek] = useState(0);\r\n  useImperativeHandle(ref, () => {\r\n    return {\r\n      changeSeeker: changeSeeker,\r\n    };\r\n  });\r\n  const changeSeeker = (value: number) => {\r\n    if (typeof value === \"number\") {\r\n      setSeek(value);\r\n    }\r\n  };\r\n  const seekchanger = (value: number | number[]) => {\r\n    if (typeof value === \"number\") {\r\n      canvasWheel(value);\r\n    }\r\n  };\r\n  return (\r\n    <Slider\r\n      color=\"secondary\"\r\n      orientation=\"vertical\"\r\n      aria-label=\"seekbar\"\r\n      defaultValue={0}\r\n      max={Melo.songLength}\r\n      min={0}\r\n      onChange={(_, e) => seekchanger(e)}\r\n      aria-labelledby=\"vertical-slider\"\r\n      value={seek}\r\n    />\r\n  );\r\n});\r\n","module.exports = __webpack_public_path__ + \"static/media/melodition.7fdc0c11.jpg\";","import { Dispatch } from \"react\";\r\nimport { AppActions } from \"../_types\";\r\nimport {\r\n  REQUEST_PLAYER,\r\n  RESIZE_PLAYER,\r\n  RESET_PLAYER,\r\n  DRAW_FINGER,\r\n  DRAW_GAME_PIANO,\r\n  DRAW_NOTES,\r\n  DRAW_GAME,\r\n  ICanvas,\r\n  ENTER_PLAYMODE,\r\n  EXIT_PLAYMODE,\r\n  DRAW_SEEKBAR,\r\n  DRAW_NOTE_PIANO,\r\n  INoteDraw,\r\n} from \"../_types/player.types\";\r\nimport { store } from \"../_store/store.config\";\r\nimport { API, AudioApi } from \"../_helpers/api\";\r\nimport MidiState from \"../_helpers/midiContext\";\r\nimport { sizeCalculator } from \"../_helpers/pianoSizes\";\r\nimport { Melodition } from \"../plugin/Melodition/Melodition\";\r\nimport { ILesson } from \"../_types/lesson.types\";\r\nimport { addPlayTimes } from \"./profile.actions\";\r\nimport { cauntMeasures } from \"../_helpers/constants\";\r\n\r\nvar Melo: Melodition | undefined;\r\n\r\nexport const requestPlayer = (info: ILesson) => (\r\n  dispatch: Dispatch<AppActions>\r\n) => {\r\n  import(\"../_helpers/playerApi\").then(({ lessonCompiler }) => {\r\n    lessonCompiler(info)\r\n      .then((Melodi) => {\r\n        if (Melodi) {\r\n          if (Melodi.songs.length > 0) {\r\n            Melodi.songs.forEach((song, index) =>\r\n              API.get(`/song/v2/${song.id}`)\r\n                .then(({ data }) =>\r\n                  AudioApi(data)\r\n                    .then((res) => {\r\n                      Melodi.song\r\n                        ?.loadBuffer({ buffer: res.data, vol: song.vol })\r\n                        .then(() => {\r\n                          if (Melodi.songs.length === index + 1) {\r\n                            const realTempo = Melodi.tempo / 60;\r\n                            const songbeat =\r\n                              Melodi.song?.getDuration()! / realTempo;\r\n                            newMelodition(Melodi, songbeat);\r\n                          }\r\n                        });\r\n                    })\r\n                    .catch((bufferError) => console.log(bufferError))\r\n                )\r\n                .catch((urlError) => console.log(urlError))\r\n            );\r\n          } else {\r\n            newMelodition(Melodi);\r\n          }\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  });\r\n  function newMelodition(Melodi: any, songbeat?: number) {\r\n    Melodi.songLength = cauntMeasures(\r\n      Melodi.rythm,\r\n      Melodi.storeDrums,\r\n      Melodi.storeTracks,\r\n      songbeat\r\n    );\r\n    Melodi.loaded = true;\r\n    Melo = new Melodition(Melodi);\r\n    const { songLength, neededLines, neededTracks, bpm } = Melodi;\r\n    dispatch({\r\n      type: REQUEST_PLAYER,\r\n      payload: { songLength, neededLines, neededTracks, bpm },\r\n    });\r\n  }\r\n};\r\n\r\nexport const gamePiano = (\r\n  keyRefs: SVGGElement[],\r\n  canvasSize?: ICanvas,\r\n  tapSize?: number\r\n) => (dispatch: Dispatch<AppActions>) => {\r\n  if (canvasSize && tapSize) {\r\n    const pianoSize = sizeCalculator(keyRefs, canvasSize);\r\n    Melo?.assigner({ pianoSize, keyRefs, canvasSize, tapSize });\r\n    dispatch({\r\n      type: DRAW_GAME_PIANO,\r\n      payload: { pianoSize, canvasSize, tapSize },\r\n    });\r\n  } else {\r\n    Melo?.assigner({ keyRefs });\r\n    dispatch({ type: DRAW_GAME_PIANO });\r\n  }\r\n};\r\nexport const notePiano = (keyRefs: SVGGElement[], noteInfo: INoteDraw) => (\r\n  dispatch: Dispatch<AppActions>\r\n) => {\r\n  Melo?.assigner({ noteInfo, keyRefs });\r\n  dispatch({ type: DRAW_NOTE_PIANO, payload: { noteInfo } });\r\n};\r\nexport const drawFinger = (payload: any) => (\r\n  dispatch: Dispatch<AppActions>\r\n) => {\r\n  Melo?.assigner(payload);\r\n  if (!Melo?.playMode) Melo?.stopReset();\r\n  dispatch({ type: DRAW_FINGER });\r\n};\r\nexport const drawSeekBar = (payload: any) => (\r\n  dispatch: Dispatch<AppActions>\r\n) => {\r\n  Melo?.assigner(payload);\r\n  dispatch({ type: DRAW_SEEKBAR });\r\n};\r\nexport const drawGame = (payload: any) => (dispatch: Dispatch<AppActions>) => {\r\n  Melo?.drawGame(payload);\r\n  dispatch({ type: DRAW_GAME });\r\n};\r\nexport const drawNotes = (payload: any) => (dispatch: Dispatch<AppActions>) => {\r\n  Melo?.drawNote(payload);\r\n  dispatch({ type: DRAW_NOTES });\r\n};\r\nexport const resizePlayer = () => (dispatch: Dispatch<AppActions>) => {\r\n  Melo?.stopPlay();\r\n  dispatch({ type: RESIZE_PLAYER });\r\n};\r\nexport const resetPlayer = () => (dispatch: Dispatch<AppActions>) => {\r\n  Melo?.stopPlay();\r\n  dispatch({ type: RESET_PLAYER });\r\n};\r\nexport const changeMode = (mode: boolean) => (\r\n  dispatch: Dispatch<AppActions>\r\n) => {\r\n  Melo?.assigner({ playMode: mode });\r\n  Melo?.stopPlay();\r\n  if (mode) dispatch({ type: ENTER_PLAYMODE });\r\n  else dispatch({ type: EXIT_PLAYMODE });\r\n};\r\n\r\nexport const canvasWheel = (e: number | React.WheelEvent) => {\r\n  Melo?.rakeMouseWheel(e);\r\n};\r\nexport const startPlayer = () => {\r\n  Melo?.startPlay();\r\n};\r\nexport const stopPlayer = () => {\r\n  Melo?.stopPlay();\r\n  const score = MidiState.score;\r\n  if (Melo && score.length > 0) {\r\n    const details = Melo.songDetails;\r\n    const len = Melo.neededTracks.length;\r\n    const progress = Math.round((score.length / len) * 100) + \"%\";\r\n    const saveData = {\r\n      song: { name: details.title, id: details.id, notes: len },\r\n      time: new Date().toLocaleTimeString(),\r\n      score: JSON.stringify(score),\r\n      date: new Date().toLocaleDateString(),\r\n      progress,\r\n    };\r\n    MidiState.score = [];\r\n    store.dispatch(addPlayTimes(saveData));\r\n  }\r\n};\r\n\r\nexport const midiNoteOn = (pitch: number, vol = 0.7) => {\r\n  Melo?.midiNoteOn(pitch, vol);\r\n};\r\nexport const midiNoteOff = (pitch: number) => {\r\n  Melo?.midiNoteOff(pitch);\r\n};\r\n","export class Midi {\r\n    touchedKeys: {\r\n        note: number\r\n        y: number\r\n        hit?: string\r\n    }[] = []\r\n    score: any = []\r\n    trackLen: number\r\n}\r\nconst MidiState = new Midi();\r\n\r\nexport default MidiState\r\n","interface IFingersClass {\r\n  note: any,\r\n  len: number,\r\n  hand: any,\r\n  beat: number\r\n  num: number\r\n  pitch: number\r\n}\r\nexport class FingersClass {\r\n  len: number;\r\n  note: any;\r\n  finger: SVGElement;\r\n  hand: string;\r\n  color: string;\r\n  bColor: string;\r\n  fColor: string;\r\n  cColor: string;\r\n  end: number;\r\n  num: number;\r\n  pitch: number;\r\n  showing: boolean;\r\n  constructor({ note, len, hand, beat, num, pitch }: IFingersClass) {\r\n    this.len = len;\r\n    this.note = note;\r\n    this.num = num;\r\n    this.pitch = pitch;\r\n    this.end = this.len - 1 + beat;\r\n    if (this.end <= beat) {\r\n      this.end = beat + 1;\r\n    }\r\n    this.hand = hand.hand;\r\n    this.finger = hand.finger;\r\n    this.fColor = \"rgba(210, 210, 210, 0.5)\";/*hand.finger.getAttribute(\"fill\");*/\r\n    this.cColor = note.children.front.getAttribute(\"fill\");\r\n    this.bColor = note.id;\r\n    if (this.hand === \"right\") {\r\n      this.color = \"yellow\";\r\n    } else {\r\n      this.color = \"skyblue\";\r\n    }\r\n    this.showing = true;\r\n  }\r\n  show(c?: string) {\r\n    let color = this.color;\r\n    if (c) color = c\r\n    this.note.children.back.setAttribute(\"fill\", color);\r\n    this.note.children.front.setAttribute(\"fill\", \"black\");\r\n    this.finger.setAttribute(\"fill\", color);\r\n  }\r\n  hide() {\r\n    this.note.children.back.setAttribute(\"fill\", this.bColor);\r\n    this.note.children.front.setAttribute(\"fill\", this.cColor);\r\n    this.note.children.back.style.fill = \"\";\r\n    this.note.children.front.style.fill = \"\";\r\n    this.finger.setAttribute(\"fill\", this.fColor);\r\n    this.showing = false\r\n  }\r\n}\r\nexport class BackMover {\r\n  public y: number;\r\n  public end: number;\r\n  private yPos: number;\r\n  public margin: number;\r\n  constructor(beat: number, height: number, margin: number) {\r\n    this.y = 0;\r\n    this.margin = margin;\r\n    this.yPos = beat * height;\r\n    this.end = this.yPos + height + margin;\r\n  }\r\n  update = (ctx: CanvasRenderingContext2D, img: HTMLImageElement) => {\r\n    ctx.drawImage(img, 0, Math.floor(this.y - this.yPos - this.margin));\r\n  }\r\n}\r\ninterface IMusicLine {\r\n  x: number;\r\n  y: number;\r\n  lw: number;\r\n  color: string;\r\n  width: number;\r\n}\r\nexport class MusicLine {\r\n  private x: number;\r\n  private y: number;\r\n  private lw: number;\r\n  private color: string;\r\n  private width: number;\r\n  constructor({ width, color, x, y, lw }: IMusicLine) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.width = width;\r\n    this.color = color;\r\n    this.lw = lw\r\n  }\r\n  draw = (ctx: CanvasRenderingContext2D) => {\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, this.y);\r\n    ctx.lineTo(this.width, this.y);\r\n    ctx.lineWidth = this.lw\r\n    ctx.strokeStyle = this.color\r\n    ctx.stroke();\r\n    ctx.fill();\r\n  }\r\n}\r\ninterface ILessonNote {\r\n  width: number,\r\n  height: number,\r\n  color: string,\r\n  x: number,\r\n  note: number;\r\n  y: number,\r\n  end: number,\r\n  text: string,\r\n  gap: number,\r\n}\r\nexport class LessonNote {\r\n  y: number;\r\n  x: number;\r\n  r: number;\r\n  gap: number;\r\n  beg: number;\r\n  end: number;\r\n  start: number;\r\n  height: number;\r\n  width: number;\r\n  mover: number;\r\n  note: number;\r\n  text: string;\r\n  color: string;\r\n  lineColor: string;\r\n  crash: boolean;\r\n  hit?: number;\r\n  constructor({ width, height, color, x, y, end, note, text, gap }: ILessonNote) {\r\n    this.y = y;\r\n    this.start = -y;\r\n    this.gap = gap;\r\n    this.beg = y + gap;\r\n    this.end = end;\r\n    this.note = note;\r\n    this.height = -height;\r\n    this.x = x;\r\n    this.text = text;\r\n    this.width = width;\r\n    this.r = width / 2;\r\n    this.color = color;\r\n    this.lineColor = 'black';\r\n    this.mover = height;\r\n    this.crash = false;\r\n  }\r\n  move = () => {\r\n    this.crash = true;\r\n    this.mover = this.y - this.gap;\r\n    if (this.mover > -this.height) {\r\n      this.mover = -this.height\r\n    }\r\n  }\r\n  update = (ctx: CanvasRenderingContext2D) => {\r\n    ctx.beginPath();\r\n    ctx.moveTo(this.x, this.y + this.start);\r\n    ctx.lineTo(this.x, this.y + this.height);\r\n    ctx.lineWidth = this.width * 0.85;\r\n    ctx.strokeStyle = 'black';\r\n    ctx.lineCap = 'round';\r\n    ctx.stroke();\r\n    ctx.beginPath();\r\n    ctx.moveTo(this.x, this.y + this.start);\r\n    ctx.lineTo(this.x, this.y + this.height);\r\n    ctx.lineWidth = this.width * 0.2;\r\n    ctx.strokeStyle = 'white';\r\n    ctx.stroke();\r\n    if (this.crash) {\r\n      ctx.beginPath();\r\n      ctx.moveTo(this.x, this.y + this.start);\r\n      ctx.lineTo(this.x, this.y - this.mover);\r\n      ctx.lineWidth = this.width * 0.2;\r\n      ctx.strokeStyle = 'red';\r\n      ctx.stroke();\r\n    }\r\n    if (this.hit) {\r\n      ctx.beginPath();\r\n      ctx.moveTo(this.x, this.y + this.start);\r\n      ctx.lineTo(this.x, this.y - this.hit);\r\n      ctx.lineWidth = this.width * 0.25;\r\n      ctx.strokeStyle = this.color;\r\n      ctx.stroke();\r\n    }\r\n    if (this.crash && !this.hit) {\r\n      this.color = 'red';\r\n    }\r\n    ctx.beginPath();\r\n    ctx.arc(this.x, this.y + this.start, this.r * 1.4, 0, 2 * Math.PI);\r\n    ctx.fillStyle = 'black';\r\n    ctx.fill()\r\n    ctx.beginPath();\r\n    ctx.arc(this.x, this.y + this.start, this.r, 0, 2 * Math.PI);\r\n    ctx.fillStyle = this.color;\r\n    ctx.fill()\r\n    ctx.font = 'bold ' + this.r * 1.3 + 'px arial';\r\n    ctx.textAlign = 'center';\r\n    ctx.textBaseline = 'middle';\r\n    ctx.fillStyle = 'black';\r\n    ctx.fillText(this.text, this.x, this.y + this.start + 1);\r\n  }\r\n}\r\ninterface IExerciseNote {\r\n  x: number,\r\n  y: number,\r\n  r: number,\r\n  note: string;\r\n  pitch: number;\r\n  text?: string;\r\n  outline?: OutLine;\r\n}\r\nexport class ExerciseNote {\r\n  x: number;\r\n  y: number;\r\n  r: number;\r\n  note: string;\r\n  text?: string;\r\n  pitch: number;\r\n  color: string;\r\n  outline?: IOutLineProps;\r\n  constructor(props: Partial<IExerciseNote>) {\r\n    Object.assign(this, props);\r\n    this.color = \"white\"\r\n  }\r\n  update = (ctx: CanvasRenderingContext2D) => {\r\n    ctx.beginPath();\r\n    ctx.arc(this.x, this.y, this.r, 0, 2 * Math.PI);\r\n    ctx.fillStyle = \"rgba(0, 0, 0, 0.2)\";\r\n    ctx.fill();\r\n    ctx.beginPath();\r\n    ctx.arc(this.x, this.y, this.r * 0.6, 0, 2 * Math.PI);\r\n    ctx.fillStyle = this.color;\r\n    ctx.fill();\r\n    if (this.text) {\r\n      ctx.font = this.r * 2 + 'px arial';\r\n      ctx.textAlign = 'center';\r\n      ctx.textBaseline = 'middle';\r\n      ctx.fillStyle = \"black\";\r\n      ctx.fillText(this.text, this.x - this.r * 1.2, this.y);\r\n    }\r\n    if (this.outline) {\r\n      ctx.globalCompositeOperation = 'destination-over';\r\n      new OutLine(ctx, this.outline)\r\n      ctx.globalCompositeOperation = 'source-over';\r\n    }\r\n  }\r\n}\r\nexport interface IOutLineProps {\r\n  r: number,\r\n  x: number,\r\n  y: number\r\n}\r\nexport class OutLine {\r\n  constructor(ctx: CanvasRenderingContext2D, { r, x, y }: IOutLineProps) {\r\n    ctx.beginPath();\r\n    ctx.moveTo(x - r, y);\r\n    ctx.lineTo(x + r, y);\r\n    ctx.lineWidth = 0.5;\r\n    ctx.strokeStyle = \"black\";\r\n    ctx.stroke();\r\n  }\r\n}\r\n","import { INotePos, INoteMemo, INeededNote } from \"../../_types/player.types\";\r\nimport { ExerciseNote, IOutLineProps } from \"./Canvas\";\r\n\r\nexport default class Notes {\r\n  public counter = 0;\r\n  public tapSize: number;\r\n  public spaceSize: number;\r\n  private width: number;\r\n  private height: number;\r\n  private notePos: INotePos = {};\r\n  private fullNotes: {\r\n    [key: number]: ExerciseNote[];\r\n  } = {};\r\n  private context: CanvasRenderingContext2D;\r\n  constructor(canvas: HTMLCanvasElement) {\r\n    this.width = canvas.width;\r\n    this.height = canvas.height;\r\n    this.context = canvas.getContext(\"2d\")!;\r\n  }\r\n  assigner = (options: Partial<any>) => {\r\n    Object.assign(this, options);\r\n  };\r\n  playGame = (num: number, color: string) => {\r\n    this.clear();\r\n    this.updateFullSong(num, color);\r\n  };\r\n  clear = () => {\r\n    this.context.clearRect(0, 0, this.width, this.height);\r\n  };\r\n  drawNote = (showTrack: INeededNote) => {\r\n    const gap = this.spaceSize * 1.6;\r\n    let r = this.tapSize * 0.46;\r\n    r = this.spaceSize < 20 ? this.spaceSize * 0.42 : r;\r\n    let memo = \"K\";\r\n    let outline: IOutLineProps;\r\n    let noteMemo: INoteMemo[] = [{ note: \"K\", text: \"!\" }];\r\n    Object.values(showTrack).forEach((noteArr: any, i) => {\r\n      if (noteArr.length > 0)\r\n        noteArr.forEach((n: any) => {\r\n          const pitch = n.pitch + 36;\r\n          let y = this.notePos[pitch].pos;\r\n          let note = this.notePos[pitch].note;\r\n          const x = gap + i * this.spaceSize;\r\n          let prevNote = this.notePos[pitch - 1];\r\n          let text;\r\n          if (note.length === 2) {\r\n            let prevState = noteMemo.find((o) => o.note === note);\r\n            if (prevState) {\r\n              text = prevState.text;\r\n              note = prevState.note;\r\n            } else if (!prevNote.note.includes(memo) && i !== 0) {\r\n              text = \"♯\";\r\n              note = prevNote.note;\r\n              y = prevNote.pos;\r\n            } else {\r\n              text = \"♭\";\r\n            }\r\n            noteMemo.push({ note, text });\r\n          }\r\n          if (pitch === 81 || pitch === 60 || pitch === 61 || pitch === 40) {\r\n            outline = { r: r * 1.5, x, y };\r\n          }\r\n          if (pitch === 59 || pitch === 58) {\r\n            outline = { r: r * 1.2, x, y: this.notePos[60].pos };\r\n          }\r\n          memo = note;\r\n          const notes = new ExerciseNote({\r\n            x,\r\n            y,\r\n            r,\r\n            pitch,\r\n            text,\r\n            note,\r\n            outline,\r\n          });\r\n          notes.update(this.context);\r\n          if (!this.fullNotes[i]) this.fullNotes[i] = [];\r\n          this.fullNotes[i].push(notes);\r\n        });\r\n    });\r\n  };\r\n  resetGame() {\r\n    this.clear();\r\n    Object.values(this.fullNotes).forEach((notes) => {\r\n      notes.forEach((note) => {\r\n        note.color = \"white\";\r\n        note.update(this.context);\r\n      });\r\n    });\r\n  }\r\n  updateFullSong = (num: number, color: string) => {\r\n    Object.values(this.fullNotes).forEach((notes, i) => {\r\n      notes.forEach((note) => {\r\n        if (i === num) note.color = color;\r\n        if (i === num - 1) note.color = \"green\";\r\n        note.update(this.context);\r\n      });\r\n    });\r\n  };\r\n}\r\n","import MidiState from \"../../_helpers/midiContext\";\r\nimport { BackMover, MusicLine, LessonNote } from \"./Canvas\";\r\nimport { IPianoSizes } from \"../../_types/player.types\";\r\n\r\nexport default class Game {\r\n  public counter = 0;\r\n  public tapSize: number = 32;\r\n  public songLength: number = 17;\r\n  private gap: number;\r\n  private bpm: number;\r\n  private rythm: number;\r\n  private margin: number = 128;\r\n  private width: number;\r\n  private height: number;\r\n  private notes: LessonNote[] = [];\r\n  private image: HTMLImageElement;\r\n  private backMover: BackMover[] = [];\r\n  private barNotes: LessonNote[][] = [];\r\n  private fullNotes: LessonNote[] = [];\r\n  private context: CanvasRenderingContext2D;\r\n  constructor(canvas: HTMLCanvasElement) {\r\n    this.image = new Image();\r\n    this.width = canvas.width;\r\n    this.height = canvas.height;\r\n    this.context = canvas.getContext(\"2d\")!;\r\n  }\r\n  assigner = (options: Partial<any>) => {\r\n    Object.assign(this, options);\r\n  }\r\n  playGame = (y: number) => {\r\n    this.clear();\r\n    this.updateBacks(y)\r\n    this.updateNotes(y)\r\n  }\r\n  clear = () => {\r\n    this.context.clearRect(0, 0, this.width, this.height);\r\n  }\r\n  pitchName = (pitch: number) => {\r\n    let n = pitch % 12;\r\n    let t = \"C\";\r\n    if (n === 1) {\r\n      t = \"Db\";\r\n    }\r\n    if (n === 2) {\r\n      t = \"D\";\r\n    }\r\n    if (n === 3) {\r\n      t = \"Eb\";\r\n    }\r\n    if (n === 4) {\r\n      t = \"E\";\r\n    }\r\n    if (n === 5) {\r\n      t = \"F\";\r\n    }\r\n    if (n === 6) {\r\n      t = \"Gb\";\r\n    }\r\n    if (n === 7) {\r\n      t = \"G\";\r\n    }\r\n    if (n === 8) {\r\n      t = \"Ab\";\r\n    }\r\n    if (n === 9) {\r\n      t = \"A\";\r\n    }\r\n    if (n === 10) {\r\n      t = \"Bb\";\r\n    }\r\n    if (n === 11) {\r\n      t = \"B\";\r\n    }\r\n    return \"\" + t;\r\n  }\r\n  drawImage = () => {\r\n    const myLine = document.createElement(\"canvas\").getContext(\"2d\")!;\r\n    myLine.canvas.width = this.width;\r\n    myLine.canvas.height = this.height;\r\n    myLine.save();\r\n    let lineWidth;\r\n    let strokeStyle;\r\n    Array.from(Array(this.rythm + 1), (_, i) => i).forEach((_, v) => {\r\n      if (v % this.rythm === 0) {\r\n        lineWidth = 2;\r\n        strokeStyle = \"black\";\r\n      } else if (this.bpm !== 3 && v % (this.rythm / 2) === 0) {\r\n        lineWidth = 1.5;\r\n        strokeStyle = \"rgba(0,0,0,0.8)\";\r\n      } else if (v % (this.rythm / this.bpm) === 0) {\r\n        lineWidth = 1;\r\n        strokeStyle = \"rgba(0,0,0,0.7)\";\r\n      } else if (v % (this.rythm / (this.bpm)) === 0) {\r\n        lineWidth = 0.7;\r\n        strokeStyle = \"rgba(0,0,0,0.5)\";\r\n      } else {\r\n        lineWidth = 0.5;\r\n        strokeStyle = \"rgba(0,0,0,0.2)\";\r\n      }\r\n      const yPos = v * this.tapSize;\r\n      const line = new MusicLine({\r\n        width: this.width,\r\n        color: strokeStyle,\r\n        x: 0,\r\n        y: yPos,\r\n        lw: lineWidth,\r\n      });\r\n      line.draw(myLine);\r\n    });\r\n    this.image.src = myLine.canvas.toDataURL(\"image/png\");\r\n    let firstLine: BackMover;\r\n    this.image.onload = () => {\r\n      if (!firstLine) {\r\n        firstLine = new BackMover(0, this.height, this.margin);\r\n        firstLine.update(this.context, this.image);\r\n      }\r\n    };\r\n  }\r\n  drawNote = (showTrack: any[], notePos: IPianoSizes[]) => {\r\n    const tap = this.tapSize;\r\n    Array.from(Array(this.songLength), (_, i) => i).forEach(m => {\r\n      const r = notePos[1].width;\r\n      const y = tap * (this.rythm * m);\r\n      this.barNotes[m] = [];\r\n      showTrack.forEach((p) => {\r\n        if (p.beat >= m * this.rythm) {\r\n          if (p.beat < (m + 1) * this.rythm) {\r\n            const yy = y + tap * (p.beat % this.rythm);\r\n            const cc = notePos[p.pitch].center;\r\n            const le = yy + tap * p.length;\r\n            const note = new LessonNote({\r\n              width: r,\r\n              height: le,\r\n              color: \"yellow\",\r\n              x: cc,\r\n              y: yy,\r\n              end: le + this.height * 3,\r\n              text: this.pitchName(p.pitch),\r\n              note: p.pitch + 36,\r\n              gap: this.gap,\r\n            });\r\n            this.barNotes[m].push(note);\r\n            this.fullNotes.push(note);\r\n          }\r\n        }\r\n      });\r\n    });\r\n  }\r\n  drawBack = () => {\r\n    this.backMover = [];\r\n    for (let i = 0; i < 3; i++) {\r\n      this.backMover.push(new BackMover(i, this.height, this.margin));\r\n    }\r\n  }\r\n  pushNote = (num?: number) => {\r\n    if (num) this.counter = num;\r\n    if (\r\n      this.barNotes[this.counter] &&\r\n      this.barNotes[this.counter].length > 0\r\n    ) {\r\n      this.barNotes[this.counter].forEach((g) => {\r\n        this.notes.push(g);\r\n      });\r\n    }\r\n    if (this.songLength > this.counter + 3)\r\n      this.backMover.push(new BackMover(this.counter + 3, this.height, this.margin));\r\n    this.counter++;\r\n  }\r\n  updateNotes = (y: number) => {\r\n    this.notes.forEach((note, i) => {\r\n      note.y = y;\r\n      note.update(this.context);\r\n      if (note.end < y) {\r\n        this.notes.splice(i, 1);\r\n        // missing notes\r\n        // if (!note.hit)\r\n        // \tthis.score.push([note.note, 'miss'])\r\n      }\r\n      if (this.gap - note.y <= note.start) {\r\n        let hit: string;\r\n        MidiState.touchedKeys.forEach((touch) => {\r\n          if (note.note === touch.note) {\r\n            if (\r\n              touch.y > note.beg - this.tapSize &&\r\n              touch.y < note.beg + this.tapSize\r\n            ) {\r\n              note.hit = y - this.gap + this.tapSize * 0.1;\r\n              if (\r\n                touch.y - this.tapSize * 0.3 <= note.beg &&\r\n                touch.y + this.tapSize * 0.3 >= note.beg\r\n              ) {\r\n                hit = \"p\";\r\n                note.color = \"green\";\r\n              } else if (touch.y > note.beg) {\r\n                hit = \"l\";\r\n                note.color = \"purple\";\r\n              } else if (touch.y < note.beg) {\r\n                hit = \"e\";\r\n                note.color = \"orange\";\r\n              }\r\n              if (!touch.hit) {\r\n                touch[\"hit\"] = hit;\r\n                MidiState.score.push([note.note, touch.hit]);\r\n              }\r\n            }\r\n          }\r\n        });\r\n        note.move();\r\n      }\r\n    });\r\n  }\r\n  updateBacks = (y: number) => {\r\n    this.backMover.forEach((back, i) => {\r\n      back.y = y;\r\n      back.update(this.context, this.image);\r\n      if (back.y > back.end) {\r\n        this.backMover.splice(i, 1);\r\n      }\r\n    });\r\n  }\r\n  updateFullSong = (y: number) => {\r\n    this.clear();\r\n    Array.from(Array(this.songLength), (_, i) => i).forEach((_, m) => {\r\n      this.context.drawImage(this.image, 0, Math.floor(y - m * this.image.height - this.margin));\r\n    });\r\n    this.fullNotes.forEach(note => {\r\n      note.y = y;\r\n      note.update(this.context);\r\n    });\r\n  }\r\n};","import {\r\n  ICanvas,\r\n  IDetails,\r\n  INeededTrack,\r\n  INeededNote,\r\n  INoteDraw,\r\n  IPianoSizes,\r\n} from \"../../_types/player.types\";\r\nimport { WebAudioFontChannel, WebAudioFontPlayer } from \"./WebAudio\";\r\nimport MidiState from \"../../_helpers/midiContext\";\r\nimport { FingersClass } from \"../Game/Canvas\";\r\nimport Notes from \"../Game/Notes\";\r\nimport Game from \"../Game/Game\";\r\nimport Song from \"./Song\";\r\n\r\nexport class Melodition {\r\n  public game?: Game;\r\n  public notes?: Notes;\r\n  public master?: WebAudioFontChannel;\r\n  public player?: WebAudioFontPlayer;\r\n  public song?: Song;\r\n  public songDetails: IDetails;\r\n  public loaded: boolean = false;\r\n  public onAir: boolean = false;\r\n  public score: any[] = [];\r\n  public handRefs: any = [];\r\n  public seekBar?: { changeSeeker: (v: number) => void };\r\n  public keyRefs: SVGGElement[] = [];\r\n  public canvasSize?: ICanvas;\r\n  public pianoSize?: IPianoSizes[];\r\n  public seekValue: number = 0;\r\n  public songLength = 272;\r\n  public tapSize = 32;\r\n  public loading = true;\r\n  public playMode = false;\r\n  public noteMode = false;\r\n  public TrackID = 0;\r\n  public bpm = 4;\r\n  public rythm = 16;\r\n  public tempo = 120;\r\n  public drumInfo: any[] = [];\r\n  public trackInfo: any[] = [];\r\n  public storeDrums: any[] = [];\r\n  public storeTracks: any[] = [];\r\n  public storeFingers: any[] = [];\r\n  public equalizer: number[] = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n  public drumVolumes: number[] = [70, 70, 70, 70, 70, 70, 70, 70];\r\n  public noteInfo: INoteDraw;\r\n  public neededTracks: INeededTrack[];\r\n  public fingerNotes: INeededNote;\r\n  private firstDelay!: NodeJS.Timeout;\r\n  private tickID!: NodeJS.Timeout;\r\n  private currentBeat = 0;\r\n  private tickerDelay = 1;\r\n  private tickerStep = 0;\r\n  private animeFrame = 0;\r\n  private nextWhen = 0;\r\n  private nextBeat = 0;\r\n  private sentWhen = 0;\r\n  private yPos = 0;\r\n  private anime: number[] = [];\r\n  private finger: FingersClass[] = [];\r\n  private midiKeys: any[] = [];\r\n  private trainNotes: FingersClass[] = [];\r\n  constructor(options: Partial<any>) {\r\n    Object.assign(this, options);\r\n    console.log(this);\r\n  }\r\n  assigner(options: Partial<any>) {\r\n    Object.assign(this, options);\r\n    console.log(options);\r\n  }\r\n  drawNote = (canvas: HTMLCanvasElement) => {\r\n    this.noteMode = true;\r\n    this.notes = new Notes(canvas);\r\n    this.notes.assigner({ ...this.noteInfo });\r\n    this.notes.drawNote(this.fingerNotes);\r\n    this.stopReset();\r\n  };\r\n  drawGame = (canvas: HTMLCanvasElement) => {\r\n    this.game = new Game(canvas);\r\n    const tapSize = this.tapSize;\r\n    const line = this.bpm <= 4 ? 4 : this.bpm;\r\n    this.game.assigner({\r\n      tapSize,\r\n      bpm: this.bpm,\r\n      rythm: this.rythm,\r\n      songLength: Math.round(this.songLength / this.rythm),\r\n      gap: tapSize * (this.rythm - line),\r\n      margin: tapSize * line,\r\n    });\r\n    this.game.clear();\r\n    this.game.drawImage();\r\n    if (this.pianoSize) {\r\n      this.game.drawNote(this.neededTracks, this.pianoSize);\r\n    }\r\n  };\r\n  startPlay = () => {\r\n    if (this.onAir || !this.loaded) {\r\n      console.log(\"on air already\");\r\n      return;\r\n    }\r\n    this.score = [];\r\n    this.yPos = 0;\r\n    this.resetNodeValues();\r\n    this.nextBeat = 0;\r\n    this.nextWhen = 0;\r\n    this.game?.assigner({ counter: 0 });\r\n    if (this.player?.audioContext.state === \"suspended\") {\r\n      console.log(\"audioContext.resume\");\r\n      this.player?.audioContext.resume();\r\n    }\r\n    this.onAir = true;\r\n    const beatDur = ((4 * 60) / this.tempo) * 1000;\r\n    this.firstDelay = setTimeout(() => {\r\n      this.playAllTracks(0.03);\r\n    }, beatDur);\r\n    this.queueNextBeats();\r\n    this.onAir = true;\r\n    if (this.playMode) {\r\n      this.game?.drawBack();\r\n      this.game?.pushNote();\r\n      this.animeFrame = requestAnimationFrame(this.moveSVG);\r\n    } else {\r\n      if (this.noteMode) this.nextBeat = this.rythm;\r\n      this.stopReset();\r\n      this.animeFrame = requestAnimationFrame(this.moveFingers);\r\n    }\r\n  };\r\n  stopPlay = () => {\r\n    if (!this.onAir || !this.loaded) {\r\n      console.log(\"Not On Air\");\r\n      return;\r\n    }\r\n    this.onAir = false;\r\n    if (!this.playMode) this.stopReset();\r\n    document.getElementById(\"play-button\")?.click();\r\n    clearTimeout(this.firstDelay);\r\n    this.stopAllTracks();\r\n    cancelAnimationFrame(this.animeFrame);\r\n    clearTimeout(this.tickID);\r\n    this.player?.cancelQueue();\r\n  };\r\n  stopReset = () => {\r\n    if (this.notes) {\r\n      this.notes.resetGame();\r\n    }\r\n    this.finger.forEach((fin) => {\r\n      fin.hide();\r\n    });\r\n    this.seekValue = this.currentBeat - 1;\r\n    this.yPos = 0;\r\n    this.anime = [];\r\n    this.finger = [];\r\n    if (!this.onAir) this.training();\r\n  };\r\n  training = () => {\r\n    this.finger.forEach((note) => {\r\n      if (note?.showing) note.hide();\r\n    });\r\n    if (this.yPos >= this.fingerNotes.length) {\r\n      this.stopReset();\r\n      return;\r\n    }\r\n    if (this.noteMode) this.seekMove(this.yPos * 5.3333);\r\n    const next = Number(Object.keys(this.fingerNotes)[this.yPos]);\r\n    this.anime.push(next);\r\n    this.pushFinger();\r\n    this.trainNotes = [];\r\n    this.finger.forEach((o) => {\r\n      if (o.num === this.yPos - 1) this.trainNotes.push(o);\r\n    });\r\n    this.trainNotes.forEach((note) => {\r\n      note.show();\r\n      this.notes?.playGame(note.num, note.color);\r\n    });\r\n  };\r\n  stopAllTracks = () => {\r\n    if (this.song) {\r\n      this.song.stop();\r\n      this.song.elapsedTimeSinceStart = 0;\r\n    }\r\n  };\r\n  playAllTracks = (startTime: number) => {\r\n    if (this.song) {\r\n      this.song.setMasterVolume(100);\r\n      this.song.play(startTime);\r\n      for (let i = 0; i < this.song.getNbTracks(); i++) {}\r\n    }\r\n  };\r\n  rakeMouseWheel = (e: number | React.WheelEvent) => {\r\n    if (!this.onAir && this.playMode) {\r\n      if (typeof e !== \"number\")\r\n        this.seekValue = this.seekValue + (e.deltaY > 0 ? -1 : 1);\r\n      else this.seekValue = e;\r\n      this.seekValue =\r\n        this.seekValue < 0\r\n          ? 0\r\n          : this.seekValue > this.songLength\r\n          ? this.songLength\r\n          : this.seekValue;\r\n      const seekY = this.seekValue * this.tapSize;\r\n      this.seekMove(this.seekValue);\r\n      this.seekSVG(seekY);\r\n    }\r\n  };\r\n  seekMove = (value: number) => {\r\n    if (this.seekBar && value < this.songLength) {\r\n      this.seekBar.changeSeeker(value);\r\n    }\r\n  };\r\n  seekSVG = (y: number) => {\r\n    if (!this.onAir) {\r\n      this.game?.updateFullSong(y);\r\n    }\r\n  };\r\n  resetNodeValues = () => {\r\n    for (let i = 0; i < this.trackInfo.length; i++) {\r\n      this.trackInfo[i].audioNode.gain.setValueAtTime(\r\n        this.trackInfo[i].volume / 100,\r\n        0\r\n      );\r\n    }\r\n    for (let i = 0; i < this.drumInfo.length; i++) {\r\n      this.drumInfo[i].audioNode.gain.setValueAtTime(\r\n        this.drumVolumes[i] / 100,\r\n        0\r\n      );\r\n    }\r\n    this.master?.band32.gain.setValueAtTime(this.equalizer[0], 0);\r\n    this.master?.band64.gain.setValueAtTime(this.equalizer[1], 0);\r\n    this.master?.band128.gain.setValueAtTime(this.equalizer[2], 0);\r\n    this.master?.band256.gain.setValueAtTime(this.equalizer[3], 0);\r\n    this.master?.band512.gain.setValueAtTime(this.equalizer[4], 0);\r\n    this.master?.band1k.gain.setValueAtTime(this.equalizer[5], 0);\r\n    this.master?.band2k.gain.setValueAtTime(this.equalizer[6], 0);\r\n    this.master?.band4k.gain.setValueAtTime(this.equalizer[7], 0);\r\n    this.master?.band8k.gain.setValueAtTime(this.equalizer[8], 0);\r\n    this.master?.band16k.gain.setValueAtTime(this.equalizer[9], 0);\r\n  };\r\n  queueNextBeats = () => {\r\n    if (this.onAir && this.player) {\r\n      let beat16duration = (4 * 60) / this.tempo / this.rythm;\r\n      let t = this.player.audioContext.currentTime;\r\n      if (t && this.nextWhen < t) {\r\n        this.nextWhen = t;\r\n      }\r\n      while (this.sentWhen < t + beat16duration) {\r\n        this.sendNextBeats(this.nextWhen, this.nextBeat, this.nextBeat);\r\n        this.nextWhen = this.sentWhen + beat16duration;\r\n        if (this.nextBeat > this.songLength + 1) {\r\n          this.stopPlay();\r\n        }\r\n        this.nextBeat = this.nextBeat + 1;\r\n        if (this.playMode && (this.nextBeat / this.rythm) % 1 === 0) {\r\n          this.game?.pushNote();\r\n        }\r\n        this.seekMove(this.nextBeat);\r\n        if (!this.playMode) this.pushFinger();\r\n      }\r\n      let wait = 0.75 * 1000 * (this.nextWhen - t);\r\n      this.tickerStep++;\r\n      if (this.tickerStep >= this.tickerDelay) {\r\n        this.tickerStep = 0;\r\n      }\r\n      this.tickID = setTimeout(() => {\r\n        this.queueNextBeats();\r\n      }, wait);\r\n    }\r\n  };\r\n  sendNextBeats = (when: number, startBeat: number, endBeat: number) => {\r\n    this.sentWhen = when;\r\n    let N = (4 * 60) / this.tempo;\r\n    let beatLen = (1 / this.rythm) * N;\r\n    this.currentBeat = startBeat;\r\n    this.storeDrums.forEach((hit) => {\r\n      if (hit.beat >= startBeat && hit.beat <= endBeat) {\r\n        let channel = this.findDrumInfoHand(hit.drum);\r\n        let zones = channel.sound;\r\n        if (channel.info && window[channel.info.variable]) {\r\n          zones = window[channel.info.variable];\r\n        }\r\n        let r = 1.0 - Math.random() * 0.2;\r\n        this.player?.queueWaveTable({\r\n          target: channel.audioNode,\r\n          preset: zones,\r\n          when: when + beatLen * (hit.beat - startBeat),\r\n          pitches: channel.pitch,\r\n          duration: channel.length,\r\n          volume: r * channel.volumeRatio,\r\n        });\r\n      }\r\n    });\r\n    let notes: any[] = [];\r\n    this.storeTracks.forEach((note) => {\r\n      if (note.beat >= startBeat && note.beat <= endBeat) {\r\n        notes.push(note);\r\n      }\r\n    });\r\n    notes.sort((n1, n2) => {\r\n      let r = 1000 * (n1.beat - n2.beat) + 100000 * (n1.track - n2.track);\r\n      if (n1.beat === n2.beat) {\r\n        r = r + (n1.pitch - n2.pitch);\r\n      }\r\n      return r;\r\n    });\r\n    let currentBeat = -1;\r\n    let currentTrack = -1;\r\n    let inChordCount = 0;\r\n    notes.forEach((note) => {\r\n      let channel = this.trackInfo.find((trc) => trc.nn === note.track);\r\n      if (note.beat !== currentBeat || note.track !== currentTrack) {\r\n        currentBeat = note.beat;\r\n        currentTrack = note.track;\r\n        inChordCount = 0;\r\n        if (note.track === this.TrackID) {\r\n          this.anime.push(note.beat);\r\n        }\r\n      }\r\n      let zones = channel.sound;\r\n      if (channel.info && window[channel.info.variable]) {\r\n        zones = window[channel.info.variable];\r\n      }\r\n      let shift = [\r\n        {\r\n          when: note.length * beatLen,\r\n          pitch: note.shift + channel.octave * 12 + note.pitch,\r\n        },\r\n      ];\r\n      let r = 0.6 - Math.random() * 0.2;\r\n      this.player?.queueWaveTable({\r\n        target: channel.audioNode,\r\n        preset: zones,\r\n        when:\r\n          when +\r\n          beatLen * (note.beat - startBeat) +\r\n          inChordCount * channel.inChordDelay,\r\n        pitches: channel.octave * 12 + note.pitch,\r\n        duration: 0.075 + note.length * beatLen,\r\n        volume: r * channel.volumeRatio,\r\n        slides: shift,\r\n      });\r\n      inChordCount++;\r\n    });\r\n  };\r\n  pushFinger = () => {\r\n    const fingers = this.storeFingers[this.TrackID];\r\n    if (this.anime.length !== 0) {\r\n      this.anime.forEach((nBeat) => {\r\n        const beat = this.fingerNotes[nBeat];\r\n        if (beat) {\r\n          let handArr: any = {};\r\n          for (let fin in fingers) {\r\n            if (fingers[fin][nBeat]) {\r\n              const hand = this.handRefs[fin];\r\n              const key = fingers[fin][nBeat];\r\n              if (hand)\r\n                handArr[key] = {\r\n                  finger: hand,\r\n                  hand: hand.getAttribute(\"class\"),\r\n                };\r\n            }\r\n          }\r\n          beat.forEach((b: any) => {\r\n            const len = b.length;\r\n            const pitch = b.pitch + 36;\r\n            const note = this.keyRefs[pitch];\r\n            if (handArr[pitch]) {\r\n              this.finger.push(\r\n                new FingersClass({\r\n                  note: note,\r\n                  len: len,\r\n                  hand: handArr[pitch],\r\n                  beat: this.currentBeat,\r\n                  num: this.yPos,\r\n                  pitch,\r\n                })\r\n              );\r\n            }\r\n          });\r\n          this.yPos++;\r\n        }\r\n        this.anime = this.anime.filter((item) => item !== nBeat);\r\n      });\r\n    }\r\n  };\r\n  moveFingers = () => {\r\n    if (this.onAir) {\r\n      this.finger.forEach((fin) => {\r\n        if (fin.showing && this.currentBeat > fin.end) {\r\n          fin.hide();\r\n        } else if (fin.showing) {\r\n          if (this.noteMode && this.notes) {\r\n            this.notes.playGame(fin.num, \"green\");\r\n          }\r\n          fin.show();\r\n        }\r\n      });\r\n      requestAnimationFrame(this.moveFingers);\r\n    }\r\n  };\r\n  moveSVG = () => {\r\n    if (this.player && this.game && this.onAir) {\r\n      const N = (4 * 60) / this.tempo;\r\n      const beatLen = (1 / this.rythm) * N;\r\n      let diff =\r\n        this.nextBeat +\r\n        (this.player.audioContext.currentTime - this.nextWhen) / beatLen;\r\n      while (diff < 0) {\r\n        diff = diff + this.songLength;\r\n      }\r\n      if (diff > this.songLength) {\r\n        diff = this.songLength;\r\n      }\r\n      if (this.game.counter < 4 && diff > 100) diff = 0;\r\n      let y = Math.round(diff * this.tapSize);\r\n      this.yPos = y;\r\n      this.game.playGame(y);\r\n      requestAnimationFrame(this.moveSVG);\r\n    }\r\n  };\r\n  findTrackInfoHand = (): any => {\r\n    let track = null;\r\n    this.trackInfo.forEach((trc) => {\r\n      if (trc.nn === this.TrackID) {\r\n        track = trc;\r\n      }\r\n    });\r\n    return track;\r\n  };\r\n  findDrumInfoHand = (order: number): any => {\r\n    let drum = null;\r\n    this.drumInfo.forEach((drm) => {\r\n      if (drm.id === order) {\r\n        drum = drm;\r\n      }\r\n    });\r\n    return drum;\r\n  };\r\n  midiNoteOn = (pitch: any, velocity: number) => {\r\n    if (velocity === 0) {\r\n      this.midiNoteOff(pitch);\r\n    } else {\r\n      this.midiNoteOff(pitch);\r\n      MidiState.touchedKeys.push({ note: pitch, y: this.yPos });\r\n      let channel = this.findTrackInfoHand();\r\n      if (channel) {\r\n        let zones = channel.sound;\r\n        if (channel.info && window[channel.info.variable]) {\r\n          zones = window[channel.info.variable];\r\n        }\r\n        this.midiKeys[pitch] = this.player?.queueWaveTable({\r\n          target: channel.audioNode,\r\n          preset: zones,\r\n          when: 0,\r\n          pitches: pitch,\r\n          duration: 10,\r\n          volume: velocity,\r\n        });\r\n        const elem: any = this.keyRefs[pitch];\r\n        if (elem) {\r\n          let bColor = \"red\";\r\n          if (!this.onAir) {\r\n            const cColor = elem.children.back.getAttribute(\"fill\");\r\n            if (cColor !== \"white\" && cColor !== \"black\") {\r\n              bColor = \"green\";\r\n              if (\r\n                this.trainNotes.every((o) =>\r\n                  MidiState.touchedKeys.some((p) => p.note === o.pitch)\r\n                )\r\n              )\r\n                this.training();\r\n            }\r\n          }\r\n          elem.children.back.style.fill = bColor;\r\n        }\r\n      }\r\n    }\r\n  };\r\n  midiNoteOff = (pitch: any) => {\r\n    if (this.midiKeys[pitch]) {\r\n      this.midiKeys[pitch].cancel();\r\n      MidiState.touchedKeys.forEach((_, i) => {\r\n        const notePitch = MidiState.touchedKeys[i].note;\r\n        if (pitch === notePitch) MidiState.touchedKeys.splice(i, 1);\r\n      });\r\n    }\r\n    if (this.keyRefs[pitch]) {\r\n      const elem: any = this.keyRefs[pitch];\r\n      if (elem) {\r\n        elem.children.back.style.fill = \"\";\r\n      }\r\n    }\r\n  };\r\n}\r\n","import { ICanvas, IPianoSizes } from \"../_types/player.types\";\r\n\r\nexport const sizeCalculator = (keyRefs: SVGGElement[], pianoSize: ICanvas) => {\r\n    const lineWidth =\r\n        keyRefs[50].getBoundingClientRect().x -\r\n        (keyRefs[48].getBoundingClientRect().x +\r\n            keyRefs[48].getBoundingClientRect().width);\r\n    const keyXPos = pianoSize.pianoLeft\r\n    const padLeft = keyXPos ? keyXPos : 100;\r\n    const notePos: IPianoSizes[] = []\r\n    for (let k in keyRefs) {\r\n        const key = keyRefs[k];\r\n        const rect = key.getBoundingClientRect();\r\n        const x = rect.x - padLeft;\r\n        const w = rect.width;\r\n        const centerX = x + w / 2;\r\n        if (key.classList.contains(\"C\") || key.classList.contains(\"F\")) {\r\n            notePos.push({ left: x, center: centerX - lineWidth * 3.5, width: w, key: \"CF\" });\r\n        } else if (key.classList.contains(\"last\")) {\r\n            notePos.push({ left: x, center: centerX, width: w, key: \"last\" });\r\n        } else if (key.id === \"black\") {\r\n            notePos.push({ left: x, center: centerX, width: w, key: \"black\" });\r\n        } else if (key.classList.contains(\"E\") || key.classList.contains(\"B\"))\r\n            notePos.push({ left: x, center: centerX + lineWidth * 3.5, width: w, key: \"EB\" });\r\n        else if (key.classList.contains(\"A\"))\r\n            notePos.push({ left: x, center: centerX + lineWidth * 1.8, width: w, key: \"A\" });\r\n        else if (key.classList.contains(\"G\"))\r\n            notePos.push({ left: x, center: centerX + lineWidth * 1.4, width: w, key: \"G\" });\r\n        else notePos.push({ left: x, center: centerX, width: w, key: \"white\" });\r\n    }\r\n    notePos.push({ left: -100, center: 0, width: lineWidth, key: \"lineWidth\" });\r\n    return notePos;\r\n}","import { LoginResponse } from \"./auth.types\";\r\n\r\nexport const INFO_REQUEST = \"PROFILE_INFO_REQUEST\";\r\nexport const INFO_SUCCESS = \"PROFILE_INFO_SUCCESS\";\r\nexport const INFO_FAILURE = \"PROFILE_INFO_FAILURE\";\r\n\r\nexport const PLAYTIME_SUCCESS = \"PLAYTIME_SUCCESS\";\r\nexport const FAVORITE_SUCCESS = \"FAVORITE_SUCCESS\";\r\n\r\nexport const SAVE_PROFILE = \"SAVE_PROFILE\";\r\nexport const DELETE_PROFILE = \"DELETE_PROFILE\";\r\n\r\nexport interface DefaultProfileState {\r\n  loading: boolean;\r\n  error: string;\r\n  data?: IProfile;\r\n  playtime?: IPlaytime[];\r\n  favorite?: IFavorite[];\r\n}\r\nexport type IProfile = {\r\n  id: string;\r\n  name: string;\r\n  nickname: string;\r\n  first_name: string;\r\n  last_name: string;\r\n  slug: string;\r\n  title: { rendered: string };\r\n  score: { rendered: string };\r\n  image_select: string;\r\n  mobile: string;\r\n  info?: LoginResponse;\r\n};\r\nexport interface IPlaytime {\r\n  song: {\r\n    name: string;\r\n    id: number;\r\n    notes: number;\r\n  };\r\n  time: string;\r\n  score: string;\r\n  date: string;\r\n  progress: string;\r\n};\r\n\r\nexport interface IFavorite {\r\n  id: number;\r\n  title: string;\r\n  type: string;\r\n  excerpt: string;\r\n  author: string;\r\n  featured_img: string;\r\n}\r\n\r\nexport interface SaveProfileInfoAction {\r\n  type: typeof SAVE_PROFILE;\r\n  userData: any;\r\n}\r\nexport interface DeleteProfileInfoAction {\r\n  type: typeof DELETE_PROFILE;\r\n}\r\n\r\nexport interface ProfileInfoRequestAction {\r\n  type: typeof INFO_REQUEST;\r\n}\r\nexport interface ProfileInfoSuccessAction {\r\n  type: typeof INFO_SUCCESS;\r\n  profile: IProfile;\r\n}\r\nexport interface ProfileInfoFailureAction {\r\n  type: typeof INFO_FAILURE;\r\n  error: string;\r\n}\r\n\r\nexport interface UserPlayTimeSeccess {\r\n  type: typeof PLAYTIME_SUCCESS;\r\n  playtime: IPlaytime[];\r\n}\r\nexport interface UserFavoritesSeccess {\r\n  type: typeof FAVORITE_SUCCESS;\r\n  favorite: IFavorite[];\r\n}\r\n\r\nexport type ProfileActionTypes =\r\n  | SaveProfileInfoAction\r\n  | DeleteProfileInfoAction\r\n  | ProfileInfoRequestAction\r\n  | ProfileInfoSuccessAction\r\n  | ProfileInfoFailureAction\r\n  | UserPlayTimeSeccess\r\n  | UserFavoritesSeccess;\r\n","export const REQUEST_PLAYER = \"REQUEST_PLAYER\";\r\nexport const ENTER_NOTEMODE = \"ENTER_NOTEMODE\";\r\nexport const ENTER_PLAYMODE = \"ENTER_PLAYMODE\";\r\nexport const EXIT_PLAYMODE = \"EXIT_PLAYMODE\";\r\nexport const RESIZE_PLAYER = \"RESIZE_PLAYER\";\r\nexport const RESET_PLAYER = \"RESET_PLAYER\";\r\nexport const START_PLAYER = \"START_PLAYER\";\r\nexport const STOP_PLAYER = \"STOP_PLAYER\";\r\n\r\nexport const DRAW_GAME_PIANO = \"DRAW_GAME_PIANO\";\r\nexport const DRAW_NOTE_PIANO = \"DRAW_NOTE_PIANO\";\r\nexport const DRAW_SEEKBAR = \"DRAW_SEEKBAR\";\r\nexport const DRAW_FINGER = \"DRAW_FINGER\";\r\nexport const DRAW_NOTES = \"DRAW_NOTES\";\r\nexport const DRAW_GAME = \"DRAW_GAME\";\r\n\r\nexport interface IMelodition {\r\n  playMode: boolean;\r\n  noteMode: boolean;\r\n  loading: boolean;\r\n  octave: number;\r\n  bpm: number;\r\n  fingerLoading: boolean;\r\n  pianoLoading: boolean;\r\n  notesLoading: boolean;\r\n  gameLoading: boolean;\r\n  seekLoading: boolean;\r\n  tapSize: number;\r\n  songLength: number;\r\n  canvasSize?: ICanvas;\r\n  neededLines?: INeededLine;\r\n  neededTracks?: INeededTrack[];\r\n  pianoSize?: IPianoSizes[];\r\n  handRefs?: HTMLCollection;\r\n  noteInfo?: INoteDraw;\r\n}\r\nexport interface DrawGamePiano {\r\n  type: typeof DRAW_GAME_PIANO;\r\n  payload?: {\r\n    pianoSize: IPianoSizes[];\r\n    canvasSize: ICanvas;\r\n    tapSize: number;\r\n  };\r\n}\r\nexport interface DrawNotePiano {\r\n  type: typeof DRAW_NOTE_PIANO;\r\n  payload: { noteInfo: INoteDraw };\r\n}\r\nexport interface DrawGame {\r\n  type: typeof DRAW_GAME;\r\n}\r\nexport interface DrawNotes {\r\n  type: typeof DRAW_NOTES;\r\n}\r\nexport interface DrawFinger {\r\n  type: typeof DRAW_FINGER;\r\n}\r\nexport interface DrawSeekbar {\r\n  type: typeof DRAW_SEEKBAR;\r\n}\r\n\r\nexport interface StartPlayers {\r\n  type: typeof START_PLAYER;\r\n}\r\nexport interface StopPlayers {\r\n  type: typeof STOP_PLAYER;\r\n}\r\nexport interface ResizePlayers {\r\n  type: typeof RESIZE_PLAYER;\r\n}\r\n\r\nexport interface ResetPlayers {\r\n  type: typeof RESET_PLAYER;\r\n}\r\nexport interface RequestPlayers {\r\n  type: typeof REQUEST_PLAYER;\r\n  payload: {\r\n    bpm: number;\r\n    songLength: number;\r\n    neededLines: INeededLine;\r\n    neededTracks: any[];\r\n  };\r\n}\r\nexport interface EnterNoteMode {\r\n  type: typeof ENTER_NOTEMODE;\r\n}\r\nexport interface EnterPlayMode {\r\n  type: typeof ENTER_PLAYMODE;\r\n}\r\nexport interface ExitPlayMode {\r\n  type: typeof EXIT_PLAYMODE;\r\n}\r\n\r\nexport type PlayerActionTypes =\r\n  | DrawSeekbar\r\n  | DrawFinger\r\n  | DrawNotes\r\n  | DrawGame\r\n  | DrawNotePiano\r\n  | DrawGamePiano\r\n  | ResizePlayers\r\n  | RequestPlayers\r\n  | StartPlayers\r\n  | StopPlayers\r\n  | ResetPlayers\r\n  | EnterNoteMode\r\n  | EnterPlayMode\r\n  | ExitPlayMode;\r\n\r\nexport interface PlayerDataInfo {\r\n  fingers: string[];\r\n  song: {\r\n    content: string;\r\n    edited: string;\r\n    id: number;\r\n    name: string;\r\n  };\r\n  track: {\r\n    id: number;\r\n    name: string;\r\n  };\r\n}\r\nexport interface IDetails {\r\n  title: string;\r\n  id: number;\r\n}\r\nexport interface IQueue {\r\n  target: any;\r\n  preset: any;\r\n  when: any;\r\n  pitches: any;\r\n  duration: any;\r\n  volume: any;\r\n  slides?: any;\r\n}\r\nexport interface IEnvelope {\r\n  envelope: any;\r\n  zone: any;\r\n  volume: any;\r\n  startWhen: any;\r\n  waveDuration: any;\r\n  duration: any;\r\n}\r\nexport interface ISetup {\r\n  target: any;\r\n  when: any;\r\n  duration: any;\r\n}\r\nexport interface INotePos {\r\n  [key: number]: {\r\n    pos: number;\r\n    note: string;\r\n  };\r\n}\r\nexport interface INoteMemo {\r\n  note: string;\r\n  text: string;\r\n}\r\n\r\nexport interface INoteDraw {\r\n  width: number;\r\n  height: number;\r\n  tapSize: number;\r\n  spaceSize: number;\r\n  fontSize: number;\r\n  linesArray: number[];\r\n  notePos: INotePos;\r\n}\r\nexport interface INeededTrack {\r\n  beat: number;\r\n  pitch: number;\r\n  shift: number;\r\n  length: number;\r\n}\r\nexport interface INeededNote {\r\n  [key: number]: { pitch: number; length: number }[];\r\n  length: number;\r\n}\r\nexport interface INeededLine {\r\n  up: number;\r\n  number: number;\r\n  down: number;\r\n  notes: number;\r\n}\r\nexport interface IPianoSizes {\r\n  left: number;\r\n  center: number;\r\n  width: number;\r\n  key: string;\r\n}\r\nexport interface ICanvas {\r\n  width: number;\r\n  height: number;\r\n  baseLine: number;\r\n  pianoLeft: number;\r\n}\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect, Route, RouteProps } from \"react-router\";\r\nimport { AppState } from \"../_types\";\r\n\r\ninterface ProtectedRouteProps extends RouteProps {\r\n  loggedIn?: boolean;\r\n  isAllowed?: boolean;\r\n  restrictedPath: string;\r\n  authenticationPath: string;\r\n}\r\n\r\nexport const ProtectedRoute: React.FC<ProtectedRouteProps> = (props) => {\r\n  let redirectPath = \"\";\r\n  if (!props.loggedIn) {\r\n    redirectPath = props.authenticationPath;\r\n  }\r\n  if (props.loggedIn && !props.isAllowed) {\r\n    redirectPath = props.restrictedPath;\r\n  }\r\n\r\n  if (redirectPath) {\r\n    const renderComponent = () => <Redirect to={{ pathname: redirectPath }} />;\r\n    return <Route {...props} component={renderComponent} render={undefined} />;\r\n  } else {\r\n    return <Route {...props} />;\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state: AppState) => {\r\n  const { auth } = state;\r\n  return {\r\n    loggedIn: auth.loggedIn,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(ProtectedRoute);\r\n","import React, { useState } from \"react\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport { store } from \"../../_store/store.config\";\r\nimport { SHOW_SNACKBAR, CLEAR_SNACKBAR } from \"../../_types/snackbar.types\";\r\nimport { snackBarMaker } from \"../Layout/SnackBar/alert\";\r\n\r\ninterface AboutProps {}\r\n\r\nconst About: React.FC<AboutProps> = () => {\r\n  const [input, setInput] = useState<string>(\"\");\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n    const { value } = e.target;\r\n    setInput(value);\r\n  };\r\n  return (\r\n    <>\r\n      <h1>About</h1>\r\n      <p>\r\n        {\" \"}\r\n        Lorem ipsum dolor sit amet consectetur adipisicing elit. Atque ipsum\r\n        praesentium rem asperiores fuga illo et, architecto doloremque nulla.\r\n        Magni perspiciatis praesentium facere facilis, ullam officiis saepe sunt\r\n        amet nulla?\r\n      </p>\r\n      <input type=\"text\" onChange={(e) => handleChange(e)} value={input} />\r\n      <Button\r\n        onClick={() =>\r\n          store.dispatch({\r\n            type: SHOW_SNACKBAR,\r\n            snackbar: snackBarMaker(input, \"success\"),\r\n          })\r\n        }\r\n      >\r\n        Snack\r\n      </Button>\r\n      <Button\r\n        onClick={() =>\r\n          store.dispatch({\r\n            type: CLEAR_SNACKBAR,\r\n            dismissAll: true,\r\n          })\r\n        }\r\n      >\r\n        Clear\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\nexport default About;\r\n","import React from \"react\";\r\nimport { push } from \"connected-react-router\";\r\nimport {\r\n  Card,\r\n  Button,\r\n  CardMedia,\r\n  Typography,\r\n  CardContent,\r\n  CardActions,\r\n  CardActionArea,\r\n} from \"@material-ui/core\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\nimport { store } from \"../../_store/store.config\";\r\nimport { IPost } from \"../../_types/post.types\";\r\nimport { thumbnailsFinder } from \"../../_helpers/constants\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      width: 300,\r\n      maxHeight: 360,\r\n      margin: theme.spacing(2),\r\n      [theme.breakpoints.down(350)]: {\r\n        margin: theme.spacing(1),\r\n      },\r\n    },\r\n    cardAction: {\r\n      justifyContent: \"space-between\",\r\n      margin: \"inherit\",\r\n    },\r\n    content: {\r\n      minHeight: \"140px\",\r\n    },\r\n  })\r\n);\r\n\r\ntype Props = {\r\n  post: IPost;\r\n};\r\n\r\nexport const PostCard: React.FC<Props> = ({ post }) => {\r\n  const classes = useStyles();\r\n  const { title, featured_img, excerpt, author } = post;\r\n\r\n  const clickHandler = (\r\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>\r\n  ): void => {\r\n    store.dispatch(push(`/post/${post.id}`));\r\n  };\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardActionArea onClick={clickHandler}>\r\n        <CardMedia\r\n          height=\"140\"\r\n          component=\"img\"\r\n          alt={post.title}\r\n          title={post.title}\r\n          image={thumbnailsFinder(featured_img)}\r\n        />\r\n        <CardContent className={classes.content}>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {title}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            {excerpt}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions className={classes.cardAction}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n          از {author}\r\n        </Typography>\r\n        <Button size=\"medium\" color=\"secondary\" onClick={clickHandler}>\r\n          ادامه مطلب\r\n        </Button>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n","import { CallHistoryMethodAction, RouterState } from \"connected-react-router\";\r\n\r\nimport { DefaultUserState, UserActionTypes } from \"./auth.types\";\r\nimport { SnackActionTypes, DefaultSnackState } from \"./snackbar.types\";\r\nimport { ProfileActionTypes, DefaultProfileState } from \"./profile.types\";\r\nimport {\r\n  PostActionTypes,\r\n  DefaultPostsState,\r\n  DefaultPostState,\r\n} from \"./post.types\";\r\nimport {\r\n  GuideActionTypes,\r\n  DefaultGuidesState,\r\n  DefaultGuideState,\r\n} from \"./guide.types\";\r\nimport {\r\n  CourseActionTypes,\r\n  DefaultCoursesState,\r\n  DefaultCourseState,\r\n} from \"./course.types\";\r\nimport {\r\n  LessonActionTypes,\r\n  DefaultLessonState,\r\n  DefaultLessonsState,\r\n} from \"./lesson.types\";\r\nimport {\r\n  ExerciseActionTypes,\r\n  DefaultExercisesState,\r\n  DefaultExerciseState,\r\n} from \"./exercise.types\";\r\nimport { IMelodition, PlayerActionTypes } from \"./player.types\";\r\n\r\nexport type AppActions =\r\n  | CallHistoryMethodAction\r\n  | PostActionTypes\r\n  | PlayerActionTypes\r\n  | LessonActionTypes\r\n  | ExerciseActionTypes\r\n  | CourseActionTypes\r\n  | GuideActionTypes\r\n  | SnackActionTypes\r\n  | UserActionTypes\r\n  | ProfileActionTypes;\r\n\r\nexport type BankType = {\r\n  posts: DefaultPostsState;\r\n  guides: DefaultGuidesState;\r\n  courses: DefaultCoursesState;\r\n  lessons: DefaultLessonsState;\r\n  exercises: DefaultExercisesState;\r\n};\r\nexport type SingleType = {\r\n  post: DefaultPostState;\r\n  guide: DefaultGuideState;\r\n  course: DefaultCourseState;\r\n  lesson: DefaultLessonState;\r\n  exercise: DefaultExerciseState;\r\n};\r\n\r\nexport type AppState = {\r\n  router: RouterState;\r\n  single: SingleType;\r\n  bank: BankType;\r\n  user: DefaultProfileState;\r\n  melodition: IMelodition;\r\n  snackbar: DefaultSnackState;\r\n  auth: DefaultUserState;\r\n};\r\n\r\nexport const BankPages = {\r\n  posts: { name: \"POSTS\", api: \"/post/v2\" },\r\n  guides: { name: \"GUIDES\", api: \"/lesson/v2/guide\" },\r\n  courses: { name: \"COURSES\", api: \"/lesson/v2/course\" },\r\n  lessons: { name: \"LESSONS\", api: \"/lesson/v2?course=123\" },\r\n  exercises: { name: \"EXERCISES\", api: \"/lesson/v2?course=125\" },\r\n};\r\n","// @ts-nocheck\r\nimport { Dispatch } from \"react\";\r\nimport { API } from \"../_helpers/api\";\r\nimport { AppActions, AppState, BankPages } from \"../_types\";\r\nimport { getTheTime } from \"../_helpers/constants\";\r\nimport { errorHandler } from \"../components/Layout/SnackBar/alert\";\r\n\r\nexport const requestBank = (page: keyof typeof BankPages) => (\r\n  dispatch: Dispatch<AppActions>,\r\n  getState: () => AppState\r\n) => {\r\n  const bankState = getState().bank[page];\r\n  const currentTime = getTheTime();\r\n  const resetTime = currentTime - bankState.nextLoad;\r\n  if (!bankState.data || resetTime >= 0) {\r\n    dispatch({ type: `REQUEST_${BankPages[page].name}` });\r\n    API.get(BankPages[page].api)\r\n      .then((res) =>\r\n        dispatch({\r\n          type: `SUCCESS_${BankPages[page].name}`,\r\n          payload: {\r\n            data: res.data,\r\n            nextLoad: getTheTime(10),\r\n          },\r\n        })\r\n      )\r\n      .catch((err) => errorHandler(err, `FAILURE_${BankPages[page].name}`));\r\n  }\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { AppActions } from \"../../_types\";\r\nimport { IPost } from \"../../_types/post.types\";\r\nimport { AppState } from \"../../_types\";\r\nimport { PostCard } from \"./PostCard\";\r\nimport {\r\n  Chip,\r\n  createStyles,\r\n  Grid,\r\n  Theme,\r\n  Typography,\r\n  WithStyles,\r\n  withStyles,\r\n} from \"@material-ui/core\";\r\nimport { LoadingCircle } from \"../Layout/Loadings\";\r\nimport { requestBank } from \"../../_actions\";\r\n\r\nconst useStyles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      padding: theme.spacing(2, 1, 0, 2),\r\n    },\r\n    header: {\r\n      position: \"relative\",\r\n    },\r\n    cardList: {\r\n      minHeight: \"calc(100vh - 143px)\",\r\n    },\r\n    chip: {\r\n      position: \"absolute\",\r\n      right: 0,\r\n      top: theme.spacing(1),\r\n    },\r\n    autoMargin: {\r\n      margin: \"auto\",\r\n    },\r\n  });\r\n\r\ninterface PostsPorps extends WithStyles<typeof useStyles> {\r\n  data: IPost[];\r\n  error: string;\r\n  loading: boolean;\r\n}\r\n\r\ntype Props = PostsPorps & ReturnType<typeof mapDispatchToProps>;\r\n\r\nexport class PostList extends Component<Props> {\r\n  componentDidMount() {\r\n    this.props.requestBank(\"posts\");\r\n  }\r\n\r\n  render() {\r\n    const { loading, data, error, classes } = this.props;\r\n    const length = data ? data.length : 0;\r\n    return (\r\n      <div className={classes.root}>\r\n        <div className={classes.header}>\r\n          <Typography variant=\"h3\">پست ها</Typography>\r\n          <Chip\r\n            className={classes.chip}\r\n            color=\"secondary\"\r\n            label={\"تعداد: \" + length}\r\n          />\r\n        </div>\r\n        <Grid container justify=\"center\" className={classes.cardList}>\r\n          {loading ? (\r\n            <LoadingCircle />\r\n          ) : data.length ? (\r\n            data.map((post: IPost) => <PostCard key={post.id} post={post} />)\r\n          ) : (\r\n            <Typography component=\"div\" className={classes.autoMargin}>\r\n              {error}\r\n            </Typography>\r\n          )}\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: AppState, ownProps: Props): PostsPorps => ({\r\n  classes: ownProps.classes,\r\n  ...state.bank.posts,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AppActions>) => ({\r\n  requestBank: bindActionCreators(requestBank, dispatch),\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(useStyles)(PostList));\r\n","import {\r\n  createStyles,\r\n  LinearProgress,\r\n  Theme,\r\n  Typography,\r\n  WithStyles,\r\n  withStyles,\r\n} from \"@material-ui/core\";\r\nimport { FormikErrors } from \"formik\";\r\nimport * as React from \"react\";\r\n\r\ndeclare global {\r\n  interface Window {\r\n    captchaOnLoad: () => void;\r\n    grecaptcha: ReCaptchaInstance;\r\n    webkitAudioContext: {\r\n      new (contextOptions?: AudioContextOptions | undefined): AudioContext;\r\n      prototype: AudioContext;\r\n    };\r\n    zones: any;\r\n  }\r\n}\r\n\r\ninterface ReCaptchaInstance {\r\n  ready: (cb: () => any) => any;\r\n  execute: (options: ReCaptchaExecuteOptions) => Promise<string>;\r\n  render: (id: string, options: ReCaptchaRenderOptions) => any;\r\n}\r\n\r\ninterface ReCaptchaExecuteOptions {\r\n  action: string;\r\n}\r\n\r\ninterface ReCaptchaRenderOptions {\r\n  callback: () => void;\r\n  sitekey: string;\r\n  size: \"normal\";\r\n  theme: \"dark\" | \"light\";\r\n}\r\n\r\nconst useStyles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      position: \"relative\",\r\n      minHeight: 80,\r\n    },\r\n    captcha: {\r\n      zIndex: 2,\r\n      \"& > div:first-child\": {\r\n        margin: \"auto\",\r\n        \"& > div > iframe\": {\r\n          borderRadius: 4,\r\n          border: \"1px solid\",\r\n        },\r\n      },\r\n    },\r\n    captchaWarning: {\r\n      \"& > div:first-child\": {\r\n        margin: \"auto\",\r\n        \"& > div > iframe\": {\r\n          borderRadius: 4,\r\n          border: \"1px solid red\",\r\n        },\r\n      },\r\n    },\r\n  });\r\n\r\ninterface Props extends WithStyles<typeof useStyles> {\r\n  action: string;\r\n  theme: \"light\" | \"dark\";\r\n  onError: error;\r\n  onChange: (val: boolean) => void;\r\n}\r\ntype error =\r\n  | string\r\n  | false\r\n  | FormikErrors<any>\r\n  | string[]\r\n  | FormikErrors<any>[]\r\n  | undefined;\r\n\r\ninterface State {\r\n  readonly loading: boolean;\r\n}\r\n\r\nclass ReCaptcha extends React.PureComponent<Props, State> {\r\n  state: State = {\r\n    loading: true,\r\n  };\r\n\r\n  private script!: HTMLScriptElement;\r\n\r\n  componentDidMount(): void {\r\n    this.loadScript();\r\n  }\r\n\r\n  componentWillUnmount(): void {\r\n    document.body.removeChild(this.script);\r\n  }\r\n\r\n  render() {\r\n    const { classes, onError } = this.props;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        {this.state.loading && <LinearProgress color=\"secondary\" />}\r\n        <div\r\n          id=\"g-recaptcha\"\r\n          className={onError ? classes.captchaWarning : classes.captcha}\r\n        />\r\n        <Typography color=\"error\" variant=\"caption\">\r\n          {onError}\r\n        </Typography>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private loadScript = (): void => {\r\n    window.captchaOnLoad = this.onLoad;\r\n\r\n    const url = \"https://www.google.com/recaptcha/api.js\";\r\n    const queryString = \"?onload=captchaOnLoad&render=explicit&hl=fa\";\r\n    const script = document.createElement(\"script\");\r\n    script.type = \"text/javascript\";\r\n    script.src = url + queryString;\r\n    script.async = true;\r\n    script.defer = true;\r\n    this.script = document.body.appendChild(script);\r\n  };\r\n\r\n  private callback = () => {\r\n    this.props.onChange(true);\r\n  };\r\n\r\n  private onLoad = (): void => {\r\n    window.grecaptcha.render(\"g-recaptcha\", {\r\n      callback: this.callback,\r\n      sitekey: \"6Le8wccUAAAAAA0kNONoUC-NKPecGnUGKRY7zMno\",\r\n      size: \"normal\",\r\n      theme: this.props.theme,\r\n    });\r\n\r\n    window.grecaptcha.ready(() => {\r\n      this.setState({ loading: false });\r\n    });\r\n  };\r\n}\r\n\r\nexport default withStyles(useStyles)(ReCaptcha);\r\n","import React, { useCallback } from \"react\";\r\nimport { SwitchProps } from \"formik-material-ui\";\r\nimport ReCaptcha from \"./ReCaptcha\";\r\nimport { store } from \"../../../_store/store.config\";\r\n\r\nexport function Captcha(props: SwitchProps) {\r\n  const {\r\n    form: { setFieldValue, errors, touched },\r\n    field: { name },\r\n  } = props;\r\n\r\n  const theme = store.getState().auth.theme;\r\n  const onChange = useCallback(\r\n    (event) => {\r\n      setFieldValue(name, event ? true : false);\r\n    },\r\n    [setFieldValue, name]\r\n  );\r\n  return (\r\n    <ReCaptcha\r\n      action=\"login\"\r\n      theme={theme}\r\n      onChange={onChange}\r\n      onError={touched.recaptcha && errors.recaptcha}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { Field, Form, Formik } from \"formik\";\r\nimport { TextField } from \"formik-material-ui\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport {\r\n  Avatar,\r\n  CssBaseline,\r\n  Box,\r\n  Button,\r\n  Container,\r\n  Link,\r\n  Grid,\r\n  Typography,\r\n  LinearProgress,\r\n} from \"@material-ui/core\";\r\n\r\nimport { AppState } from \"../../_types\";\r\nimport { AppActions } from \"../../_types\";\r\nimport { IUser } from \"../../_types/auth.types\";\r\nimport { Captcha } from \"../Layout/Captcha/Captcha\";\r\nimport { loginRequest, logoutRequest } from \"../../_actions/user.actions\";\r\nimport { push } from \"connected-react-router\";\r\nimport { Path } from \"history\";\r\n\r\ninterface LoginPageProps {\r\n  loading: boolean;\r\n  loggedIn: boolean;\r\n}\r\n\r\ntype Props = LoginPageProps & LinkDispatchProps;\r\n\r\nclass LoginPage extends React.Component<Props> {\r\n  componentDidMount() {\r\n    if (this.props.loggedIn) {\r\n      this.props.push(\"/profile\");\r\n    }\r\n  }\r\n  render() {\r\n    const { loading, loggedIn } = this.props;\r\n    return !loggedIn ? (\r\n      <Container component=\"main\" maxWidth=\"xs\" style={{ paddingTop: \"10px\" }}>\r\n        <CssBaseline />\r\n        <div style={{ textAlign: \"center\" }}>\r\n          <Avatar style={{ margin: \"auto\" }}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign in\r\n          </Typography>\r\n          <Formik\r\n            initialValues={{\r\n              username: \"\",\r\n              password: \"\",\r\n              recaptcha: false,\r\n            }}\r\n            validationSchema={Yup.object().shape({\r\n              username: Yup.string()\r\n                .max(255)\r\n                .required(\"Email or Username is required\"),\r\n              password: Yup.string().max(255).required(\"Password is required\"),\r\n              recaptcha: Yup.boolean().required(\"ReCAPTCHA is required\"),\r\n            })}\r\n            onSubmit={(event: IUser, { resetForm }) => {\r\n              this.props.login({\r\n                username: event.username,\r\n                password: event.password,\r\n              });\r\n              resetForm({\r\n                values: {\r\n                  username: event.username,\r\n                  password: \"\",\r\n                  recaptcha: event.recaptcha,\r\n                },\r\n              });\r\n            }}\r\n          >\r\n            <Form>\r\n              <Box mb={3}>\r\n                <Typography\r\n                  color=\"textSecondary\"\r\n                  align=\"center\"\r\n                  gutterBottom\r\n                  variant=\"body2\"\r\n                >\r\n                  Sign in on the internal platform\r\n                </Typography>\r\n              </Box>\r\n              <Grid item>\r\n                <Button\r\n                  fullWidth\r\n                  size=\"large\"\r\n                  variant=\"contained\"\r\n                  type=\"submit\"\r\n                  disabled={true}\r\n                >\r\n                  Login with Google\r\n                </Button>\r\n              </Grid>\r\n              <Box mt={3} mb={1}>\r\n                <Typography\r\n                  align=\"center\"\r\n                  color=\"textSecondary\"\r\n                  variant=\"body1\"\r\n                >\r\n                  or login with username / email address\r\n                </Typography>\r\n              </Box>\r\n              <Box my={1}>\r\n                <Field\r\n                  component={TextField}\r\n                  color=\"secondary\"\r\n                  fullWidth\r\n                  label=\"Email Address/Username\"\r\n                  margin=\"normal\"\r\n                  name=\"username\"\r\n                  id=\"username\"\r\n                  placeholder=\"John\"\r\n                  type=\"username\"\r\n                  variant=\"outlined\"\r\n                />\r\n              </Box>\r\n              <Box my={1}>\r\n                <Field\r\n                  component={TextField}\r\n                  color=\"secondary\"\r\n                  fullWidth\r\n                  label=\"Password\"\r\n                  margin=\"normal\"\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  variant=\"outlined\"\r\n                />\r\n              </Box>\r\n              <Box my={1}>\r\n                <Field\r\n                  component={Captcha}\r\n                  color=\"secondary\"\r\n                  fullWidth\r\n                  label=\"Recaptcha\"\r\n                  margin=\"normal\"\r\n                  name=\"recaptcha\"\r\n                  type=\"recaptcha\"\r\n                  variant=\"outlined\"\r\n                />\r\n              </Box>\r\n              {loading && <LinearProgress color=\"secondary\" />}\r\n              <Box my={1}>\r\n                <Button\r\n                  color=\"secondary\"\r\n                  disabled={loading}\r\n                  fullWidth\r\n                  size=\"large\"\r\n                  type=\"submit\"\r\n                  variant=\"contained\"\r\n                >\r\n                  Sign in\r\n                </Button>\r\n              </Box>\r\n              <Grid container style={{ textAlign: \"initial\" }}>\r\n                <Grid item xs>\r\n                  <Link\r\n                    color=\"secondary\"\r\n                    component={RouterLink}\r\n                    to=\"/lostpassword\"\r\n                    variant=\"body2\"\r\n                  >\r\n                    Forgot password?\r\n                  </Link>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Typography color=\"textSecondary\" variant=\"body2\">\r\n                    {\"Don't have an account? \"}\r\n                    <Link\r\n                      color=\"secondary\"\r\n                      component={RouterLink}\r\n                      to=\"/register\"\r\n                      variant=\"body2\"\r\n                    >\r\n                      Sign up\r\n                    </Link>\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid>\r\n            </Form>\r\n          </Formik>\r\n        </div>\r\n      </Container>\r\n    ) : null;\r\n  }\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n  login: (user: IUser) => void;\r\n  logout: () => void;\r\n  push: (path: Path) => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState): LoginPageProps => {\r\n  const { loggedIn, loading } = state.auth;\r\n  return {\r\n    loggedIn,\r\n    loading,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n  login: bindActionCreators(loginRequest, dispatch),\r\n  logout: bindActionCreators(logoutRequest, dispatch),\r\n  push: bindActionCreators(push, dispatch),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginPage);\r\n","import React from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { Field, Form, Formik } from \"formik\";\r\nimport { TextField } from \"formik-material-ui\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport {\r\n  Avatar,\r\n  CssBaseline,\r\n  Box,\r\n  Button,\r\n  Container,\r\n  Typography,\r\n  LinearProgress,\r\n} from \"@material-ui/core\";\r\n\r\nimport { AppState } from \"../../_types\";\r\nimport { AppActions } from \"../../_types\";\r\nimport { ILost } from \"../../_types/auth.types\";\r\nimport { lostRequest } from \"../../_actions/user.actions\";\r\nimport { Captcha } from \"../Layout/Captcha/Captcha\";\r\nimport { push } from \"connected-react-router\";\r\nimport { Path } from \"history\";\r\n\r\ninterface LostPageProps {\r\n  loading: boolean;\r\n  loggedIn: boolean;\r\n}\r\n\r\ntype Props = LostPageProps & LinkDispatchProps;\r\n\r\nclass LostPage extends React.Component<Props> {\r\n  componentDidMount() {\r\n    if (this.props.loggedIn) {\r\n      this.props.push(\"/\");\r\n    }\r\n  }\r\n  render() {\r\n    const { loading, loggedIn } = this.props;\r\n    return !loggedIn ? (\r\n      <Container component=\"main\" maxWidth=\"xs\" style={{ paddingTop: \"10px\" }}>\r\n        <CssBaseline />\r\n        <div style={{ textAlign: \"center\" }}>\r\n          <Avatar style={{ margin: \"auto\" }}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Lost Password\r\n          </Typography>\r\n          <Formik\r\n            initialValues={{\r\n              user_login: \"\",\r\n              recaptcha: false,\r\n            }}\r\n            validationSchema={Yup.object().shape({\r\n              user_login: Yup.string()\r\n                .max(255)\r\n                .required(\"Email or Username is required\"),\r\n              recaptcha: Yup.boolean().required(\"ReCAPTCHA is required\"),\r\n            })}\r\n            onSubmit={(event: ILost, { resetForm }) => {\r\n              if (event.user_login) {\r\n                this.props.lostRequest(event);\r\n              }\r\n              resetForm({\r\n                values: {\r\n                  user_login: \"\",\r\n                  recaptcha: event.recaptcha,\r\n                },\r\n              });\r\n            }}\r\n          >\r\n            <Form>\r\n              <Box my={2}>\r\n                <Typography\r\n                  color=\"textSecondary\"\r\n                  align=\"center\"\r\n                  gutterBottom\r\n                  variant=\"body2\"\r\n                >\r\n                  Enter your email or user_login\r\n                </Typography>\r\n              </Box>\r\n              <Box my={1}>\r\n                <Field\r\n                  component={TextField}\r\n                  color=\"secondary\"\r\n                  fullWidth\r\n                  label=\"Email Address/Username\"\r\n                  margin=\"normal\"\r\n                  name=\"user_login\"\r\n                  id=\"user_login\"\r\n                  placeholder=\"John\"\r\n                  type=\"user_login\"\r\n                  variant=\"outlined\"\r\n                />\r\n              </Box>\r\n              <Box my={1}>\r\n                <Field\r\n                  component={Captcha}\r\n                  color=\"secondary\"\r\n                  fullWidth\r\n                  label=\"Recaptcha\"\r\n                  margin=\"normal\"\r\n                  name=\"recaptcha\"\r\n                  type=\"recaptcha\"\r\n                  variant=\"outlined\"\r\n                />\r\n              </Box>\r\n              {loading && <LinearProgress color=\"secondary\" />}\r\n              <Box my={1}>\r\n                <Button\r\n                  color=\"secondary\"\r\n                  disabled={loading}\r\n                  fullWidth\r\n                  size=\"large\"\r\n                  type=\"submit\"\r\n                  variant=\"contained\"\r\n                >\r\n                  Recover\r\n                </Button>\r\n              </Box>\r\n            </Form>\r\n          </Formik>\r\n        </div>\r\n      </Container>\r\n    ) : null;\r\n  }\r\n}\r\ninterface LinkDispatchProps {\r\n  lostRequest: (user: ILost) => void;\r\n  push: (path: Path) => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState, ownProps: Props): LostPageProps => {\r\n  const { loggedIn, loading } = state.auth;\r\n  return {\r\n    loggedIn,\r\n    loading,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>,\r\n  ownProps: LostPageProps\r\n): LinkDispatchProps => ({\r\n  lostRequest: bindActionCreators(lostRequest, dispatch),\r\n  push: bindActionCreators(push, dispatch),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LostPage);\r\n","import React from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { Field, Form, Formik } from \"formik\";\r\nimport { TextField } from \"formik-material-ui\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport {\r\n  Avatar,\r\n  CssBaseline,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Container,\r\n  FormHelperText,\r\n  Link,\r\n  Typography,\r\n  LinearProgress,\r\n} from \"@material-ui/core\";\r\n\r\nimport { AppState } from \"../../_types\";\r\nimport { AppActions } from \"../../_types\";\r\nimport { IRegister } from \"../../_types/auth.types\";\r\nimport { Captcha } from \"../Layout/Captcha/Captcha\";\r\nimport { registerRequest } from \"../../_actions/user.actions\";\r\nimport { push } from \"connected-react-router\";\r\nimport { Path } from \"history\";\r\n\r\ninterface RegisterPageProps {\r\n  loading: boolean;\r\n  loggedIn: boolean;\r\n}\r\n\r\ntype Props = RegisterPageProps & LinkDispatchProps;\r\n\r\nclass RegisterPage extends React.Component<Props> {\r\n  componentDidMount() {\r\n    if (this.props.loggedIn) {\r\n      this.props.push(\"/\");\r\n    }\r\n  }\r\n  render() {\r\n    const { loading, loggedIn } = this.props;\r\n    return !loggedIn ? (\r\n      <Container component=\"main\" maxWidth=\"xs\" style={{ paddingTop: \"10px\" }}>\r\n        <CssBaseline />\r\n        <div style={{ textAlign: \"center\" }}>\r\n          <Avatar style={{ margin: \"auto\" }}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign Up\r\n          </Typography>\r\n          <Formik\r\n            initialValues={{\r\n              email: \"\",\r\n              firstname: \"\",\r\n              lastname: \"\",\r\n              username: \"\",\r\n              password: \"\",\r\n              confirm_password: \"\",\r\n              recaptcha: false,\r\n              policy: false,\r\n            }}\r\n            validationSchema={Yup.object().shape({\r\n              email: Yup.string()\r\n                .email(\"Must be a valid email\")\r\n                .max(255)\r\n                .required(\"Email is required\"),\r\n              firstname: Yup.string()\r\n                .max(255)\r\n                .required(\"First name is required\"),\r\n              lastname: Yup.string().max(255).required(\"Last name is required\"),\r\n              username: Yup.string().max(255).required(\"User name is required\"),\r\n              password: Yup.string().max(255).required(\"Password is required\"),\r\n              confirm_password: Yup.string().oneOf(\r\n                [Yup.ref(\"password\"), \"\"],\r\n                \"Both password need to be the same\"\r\n              ),\r\n              policy: Yup.boolean().oneOf([true], \"This field must be checked\"),\r\n              recaptcha: Yup.boolean().oneOf(\r\n                [true],\r\n                \"This field must be checked\"\r\n              ),\r\n            })}\r\n            onSubmit={(e: IRegister, { resetForm }) => {\r\n              this.props.registerRequest({\r\n                ...e,\r\n              });\r\n              resetForm({\r\n                values: {\r\n                  ...e,\r\n                },\r\n              });\r\n            }}\r\n          >\r\n            {({ handleChange, values, touched, errors }) => (\r\n              <Form>\r\n                <Box mb={3}>\r\n                  <Typography\r\n                    color=\"textSecondary\"\r\n                    align=\"center\"\r\n                    gutterBottom\r\n                    variant=\"body2\"\r\n                  >\r\n                    Use your email to create new account\r\n                  </Typography>\r\n                  <Field\r\n                    component={TextField}\r\n                    color=\"secondary\"\r\n                    fullWidth\r\n                    label=\"نام\"\r\n                    margin=\"normal\"\r\n                    name=\"firstname\"\r\n                    variant=\"outlined\"\r\n                  />\r\n                  <Field\r\n                    component={TextField}\r\n                    color=\"secondary\"\r\n                    fullWidth\r\n                    label=\"نام خانوادگی\"\r\n                    margin=\"normal\"\r\n                    name=\"lastname\"\r\n                    variant=\"outlined\"\r\n                  />\r\n                  <Field\r\n                    component={TextField}\r\n                    color=\"secondary\"\r\n                    fullWidth\r\n                    label=\"نام کاربری\"\r\n                    margin=\"normal\"\r\n                    name=\"username\"\r\n                    variant=\"outlined\"\r\n                  />\r\n                  <Field\r\n                    component={TextField}\r\n                    color=\"secondary\"\r\n                    fullWidth\r\n                    label=\"آدرس ایمیل\"\r\n                    margin=\"normal\"\r\n                    name=\"email\"\r\n                    dir=\"ltr\"\r\n                    type=\"email\"\r\n                    variant=\"outlined\"\r\n                  />\r\n                  <Field\r\n                    component={TextField}\r\n                    color=\"secondary\"\r\n                    fullWidth\r\n                    label=\"پسورد\"\r\n                    margin=\"normal\"\r\n                    name=\"password\"\r\n                    type=\"password\"\r\n                    variant=\"outlined\"\r\n                  />\r\n                  <Field\r\n                    component={TextField}\r\n                    color=\"secondary\"\r\n                    fullWidth\r\n                    label=\"تائید پسورد\"\r\n                    margin=\"normal\"\r\n                    name=\"confirm_password\"\r\n                    type=\"password\"\r\n                    variant=\"outlined\"\r\n                  />\r\n                  <Box alignItems=\"center\" display=\"flex\" ml={-1}>\r\n                    <Checkbox\r\n                      checked={values.policy}\r\n                      name=\"policy\"\r\n                      onChange={handleChange}\r\n                    />\r\n                    <Typography color=\"textSecondary\" variant=\"body1\">\r\n                      I have read the{\" \"}\r\n                      <Link\r\n                        color=\"secondary\"\r\n                        component={RouterLink}\r\n                        to=\"#\"\r\n                        underline=\"always\"\r\n                        variant=\"body1\"\r\n                      >\r\n                        Terms and Conditions{\" \"}\r\n                      </Link>\r\n                    </Typography>\r\n                  </Box>\r\n                  {Boolean(touched.policy && errors.policy) && (\r\n                    <FormHelperText error>{errors.policy}</FormHelperText>\r\n                  )}\r\n                  <Box my={1}>\r\n                    <Field\r\n                      component={Captcha}\r\n                      color=\"secondary\"\r\n                      fullWidth\r\n                      label=\"Recaptcha\"\r\n                      margin=\"normal\"\r\n                      name=\"recaptcha\"\r\n                      type=\"recaptcha\"\r\n                      variant=\"outlined\"\r\n                    />\r\n                  </Box>\r\n                  {loading && <LinearProgress color=\"secondary\" />}\r\n                  <Box my={2}>\r\n                    <Button\r\n                      color=\"secondary\"\r\n                      disabled={loading}\r\n                      fullWidth\r\n                      size=\"large\"\r\n                      type=\"submit\"\r\n                      variant=\"contained\"\r\n                    >\r\n                      Sign up now\r\n                    </Button>\r\n                  </Box>\r\n                  <Typography\r\n                    align=\"center\"\r\n                    color=\"textSecondary\"\r\n                    variant=\"body2\"\r\n                  >\r\n                    Have an account?\r\n                    <Link\r\n                      color=\"secondary\"\r\n                      component={RouterLink}\r\n                      to=\"/login\"\r\n                      variant=\"body2\"\r\n                    >\r\n                      Sign in\r\n                    </Link>\r\n                  </Typography>\r\n                </Box>\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        </div>\r\n      </Container>\r\n    ) : null;\r\n  }\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n  registerRequest: (user: IRegister) => void;\r\n  push: (path: Path) => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState): RegisterPageProps => {\r\n  const { loggedIn, loading } = state.auth;\r\n  return {\r\n    loggedIn,\r\n    loading,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n  registerRequest: bindActionCreators(registerRequest, dispatch),\r\n  push: bindActionCreators(push, dispatch),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RegisterPage);\r\n","import React from \"react\";\r\nimport clsx from \"clsx\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  Box,\r\n  Card,\r\n  CardHeader,\r\n  Chip,\r\n  Divider,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableFooter,\r\n  TableRow,\r\n  makeStyles,\r\n  Link,\r\n  useTheme,\r\n  IconButton,\r\n  TablePagination,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  KeyboardArrowLeft,\r\n  KeyboardArrowRight,\r\n  FirstPage,\r\n  LastPage,\r\n} from \"@material-ui/icons\";\r\nimport { UniqId } from \"../../../_helpers/constants\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\n\r\nconst useStyles1 = makeStyles((theme) => ({\r\n  root: {\r\n    flexShrink: 0,\r\n    marginLeft: theme.spacing(2.5),\r\n  },\r\n}));\r\n\r\nfunction TablePaginationActions(props) {\r\n  const classes = useStyles1();\r\n  const theme = useTheme();\r\n  const { count, page, rowsPerPage, onChangePage } = props;\r\n  const handleFirstPageButtonClick = (event) => {\r\n    onChangePage(event, 0);\r\n  };\r\n\r\n  const handleBackButtonClick = (event) => {\r\n    onChangePage(event, page - 1);\r\n  };\r\n\r\n  const handleNextButtonClick = (event) => {\r\n    onChangePage(event, page + 1);\r\n  };\r\n\r\n  const handleLastPageButtonClick = (event) => {\r\n    onChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <IconButton\r\n        onClick={handleFirstPageButtonClick}\r\n        disabled={page === 0}\r\n        aria-label=\"first page\"\r\n      >\r\n        {theme.direction === \"rtl\" ? <LastPage /> : <FirstPage />}\r\n      </IconButton>\r\n      <IconButton\r\n        onClick={handleBackButtonClick}\r\n        disabled={page === 0}\r\n        aria-label=\"previous page\"\r\n      >\r\n        {theme.direction === \"rtl\" ? (\r\n          <KeyboardArrowRight />\r\n        ) : (\r\n          <KeyboardArrowLeft />\r\n        )}\r\n      </IconButton>\r\n      <IconButton\r\n        onClick={handleNextButtonClick}\r\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n        aria-label=\"next page\"\r\n      >\r\n        {theme.direction === \"rtl\" ? (\r\n          <KeyboardArrowLeft />\r\n        ) : (\r\n          <KeyboardArrowRight />\r\n        )}\r\n      </IconButton>\r\n      <IconButton\r\n        onClick={handleLastPageButtonClick}\r\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n        aria-label=\"last page\"\r\n      >\r\n        {theme.direction === \"rtl\" ? <FirstPage /> : <LastPage />}\r\n      </IconButton>\r\n    </div>\r\n  );\r\n}\r\n\r\nTablePaginationActions.propTypes = {\r\n  count: PropTypes.number.isRequired,\r\n  onChangePage: PropTypes.func.isRequired,\r\n  page: PropTypes.number.isRequired,\r\n  rowsPerPage: PropTypes.number.isRequired,\r\n};\r\n\r\nconst useStyles2 = makeStyles((theme) => ({\r\n  table: {\r\n    minWidth: 300,\r\n  },\r\n  toolbar: {\r\n    \"& div\": {\r\n      flexFlow: \"wrap\",\r\n      justifyContent: \"flex-end\",\r\n      [theme.breakpoints.only(\"xs\")]: {\r\n        justifyContent: \"space-around\",\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function LatestSongs({ res }) {\r\n  const classes = useStyles2();\r\n  const [page, setPage] = React.useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\r\n\r\n  const emptyRows =\r\n    rowsPerPage - Math.min(rowsPerPage, res.length - page * rowsPerPage);\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n  const pagination = {\r\n    lower: [{ label: \"همه\", value: -1 }],\r\n    low: [\r\n      { label: \"۵\", value: 5 },\r\n      { label: \"همه\", value: -1 },\r\n    ],\r\n    average: [\r\n      { label: \"۵\", value: 5 },\r\n      { label: \"۱۰\", value: 10 },\r\n      { label: \"همه\", value: -1 },\r\n    ],\r\n    high: [\r\n      { label: \"۵\", value: 5 },\r\n      { label: \"۱۰\", value: 10 },\r\n      { label: \"۲۵\", value: 25 },\r\n      { label: \"همه\", value: -1 },\r\n    ],\r\n    higher: [\r\n      { label: \"۵\", value: 5 },\r\n      { label: \"۱۰\", value: 10 },\r\n      { label: \"۲۵\", value: 25 },\r\n      { label: \"۵۰\", value: 50 },\r\n      { label: \"همه\", value: -1 },\r\n    ],\r\n  };\r\n  const sel =\r\n    res.length > 500\r\n      ? \"higher\"\r\n      : res.length >= 100\r\n      ? \"high\"\r\n      : res.length >= 30\r\n      ? \"average\"\r\n      : res.length > 5\r\n      ? \"low\"\r\n      : \"lower\";\r\n  const dateChanger = (d, t) => {\r\n    let date, time;\r\n    if (d) date = d;\r\n    if (t) time = t;\r\n    return date ? date : time;\r\n  };\r\n  return (\r\n    <Card className={clsx(classes.root)}>\r\n      <CardHeader title=\"آخرین آهنگ ها\" />\r\n      <Divider />\r\n      <Box>\r\n        <Table className={classes.table} aria-label=\"custom pagination table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>نام آهنگ</TableCell>\r\n              <TableCell>ساعت</TableCell>\r\n              <TableCell>تاریخ</TableCell>\r\n              <TableCell>دقت</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {(rowsPerPage > 0\r\n              ? res.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n              : res\r\n            ).map((row) => (\r\n              <TableRow key={UniqId()}>\r\n                {row.song.id !== 0 ? (\r\n                  <TableCell>\r\n                    <Link\r\n                      to={`/lesson/${row.song.id}`}\r\n                      color=\"secondary\"\r\n                      component={RouterLink}\r\n                    >\r\n                      {row.song.name}\r\n                    </Link>\r\n                  </TableCell>\r\n                ) : (\r\n                  <TableCell>\r\n                    <Link to=\"/guide\" color=\"secondary\" component={RouterLink}>\r\n                      {row.song.name}\r\n                    </Link>\r\n                  </TableCell>\r\n                )}\r\n                <TableCell>{dateChanger(false, row.time)}</TableCell>\r\n                <TableCell>{dateChanger(row.date)}</TableCell>\r\n                <TableCell>\r\n                  <Chip color=\"secondary\" label={row.progress} size=\"small\" />\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n            {emptyRows > 0 && (\r\n              <TableRow style={{ height: 57 * emptyRows }}>\r\n                <TableCell colSpan={6} />\r\n              </TableRow>\r\n            )}\r\n          </TableBody>\r\n          <TableFooter>\r\n            <TableRow>\r\n              <TablePagination\r\n                className={classes.toolbar}\r\n                rowsPerPageOptions={pagination[sel]}\r\n                colSpan={4}\r\n                count={res.length}\r\n                rowsPerPage={rowsPerPage}\r\n                page={page}\r\n                SelectProps={{\r\n                  inputProps: { \"aria-label\": \"row per page\" },\r\n                  native: true,\r\n                }}\r\n                onChangePage={handleChangePage}\r\n                onChangeRowsPerPage={handleChangeRowsPerPage}\r\n                ActionsComponent={TablePaginationActions}\r\n              />\r\n            </TableRow>\r\n          </TableFooter>\r\n        </Table>\r\n      </Box>\r\n    </Card>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { Container, Grid } from \"@material-ui/core\";\r\nimport { getPlayTimes } from \"../../../_actions/profile.actions\";\r\nimport { DefaultProfileState } from \"../../../_types/profile.types\";\r\nimport LatestSongs from \"./LatestSongs\";\r\nimport { LoadingCircle } from \"../../Layout/Loadings\";\r\nimport { AppActions, AppState } from \"../../../_types\";\r\n\r\ninterface ProfilePageProps {}\r\n\r\ntype Props = ProfilePageProps & LinkDispatchProps & DefaultProfileState;\r\n\r\nclass Dashboard extends React.Component<Props> {\r\n  componentDidMount() {\r\n    if (!this.props.playtime) this.props.getPlayTimes();\r\n  }\r\n\r\n  render() {\r\n    const { playtime, loading } = this.props;\r\n    if (loading) {\r\n      return <LoadingCircle />;\r\n    }\r\n    if (!playtime) {\r\n      return <div>not signed...</div>;\r\n    } else {\r\n      return (\r\n        <Container maxWidth={false} style={{ paddingTop: \"10px\" }}>\r\n          <Grid container spacing={3}>\r\n            <Grid item lg={12} md={12} xl={12} xs={12}>\r\n              <LatestSongs res={playtime} />\r\n            </Grid>\r\n            {/* <Grid item lg={4} md={12} xl={4} xs={12}>\r\n              <InstrumentTraffic />\r\n            </Grid>\r\n            <Grid\r\n              container\r\n              spacing={3}\r\n              item\r\n              lg={8}\r\n              md={12}\r\n              xl={8}\r\n              xs={12}\r\n              style={{ margin: 0, padding: 0 }}\r\n            > */}\r\n            {/* <Grid item lg={6} md={6} xl={6} xs={12}>\r\n                <TotalLevel />\r\n              </Grid>\r\n              <Grid item lg={6} md={6} xl={6} xs={12}>\r\n                <Budget  />\r\n              </Grid>\r\n              <Grid item lg={6} md={6} xl={6} xs={12}>\r\n                <TotalCustomers  />\r\n              </Grid>\r\n              <Grid item lg={6} md={6} xl={6} xs={12}>\r\n                <TotalProfit /> */}\r\n            {/* </Grid> */}\r\n            {/* </Grid> */}\r\n          </Grid>\r\n        </Container>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n  getPlayTimes: () => void;\r\n}\r\n\r\nconst mapStateToProps = (\r\n  state: AppState,\r\n  ownProps: Props\r\n): ProfilePageProps => {\r\n  return { ...state.user };\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>,\r\n  ownProps: ProfilePageProps\r\n): LinkDispatchProps => ({\r\n  getPlayTimes: bindActionCreators(getPlayTimes, dispatch),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);\r\n","import React, { Component } from \"react\";\r\nimport clsx from \"clsx\";\r\n\r\nimport withStyles, { WithStyles } from \"@material-ui/core/styles/withStyles\";\r\nimport { createStyles, Theme, Typography, Avatar } from \"@material-ui/core\";\r\nimport { AccountCircle, ErrorOutline } from \"@material-ui/icons\";\r\n\r\nconst useStyles = (theme: Theme) =>\r\n  createStyles({\r\n    hidden: { display: \"none\" },\r\n\r\n    container: {\r\n      margin: theme.spacing(2, 0),\r\n      textAlign: \"center\",\r\n    },\r\n    bigAvatar: {\r\n      margin: \"auto\",\r\n      width: 128,\r\n      height: 128,\r\n      borderColor: theme.palette.secondary.main,\r\n      borderStyle: \"solid\",\r\n      cursor: \"pointer\",\r\n    },\r\n    primaryBack: {\r\n      background: theme.palette.secondary.main,\r\n    },\r\n    whiteBack: {\r\n      background: \"white\",\r\n    },\r\n    errorBack: { background: theme.palette.error.main },\r\n  });\r\n\r\ninterface Props extends WithStyles<typeof useStyles> {\r\n  errorMessage: string;\r\n  title: string;\r\n  field: any;\r\n  image: string;\r\n  setFieldValue: (name: string, file: File) => void;\r\n}\r\ninterface State {\r\n  file?: any;\r\n  imagePreviewUrl: any;\r\n}\r\nclass ImageInput extends Component<Props, State> {\r\n  fileUpload: React.RefObject<HTMLInputElement>;\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.state = {\r\n      file: undefined,\r\n      imagePreviewUrl: null,\r\n    };\r\n    this.fileUpload = React.createRef();\r\n  }\r\n\r\n  showFileUpload = () => {\r\n    this.fileUpload.current?.click();\r\n  };\r\n\r\n  handleImageChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    e.preventDefault();\r\n    let reader = new FileReader();\r\n    const files = e.target.files;\r\n    if (files?.length) {\r\n      const file = files[0];\r\n      reader.onloadend = () => {\r\n        this.setState({\r\n          file,\r\n          imagePreviewUrl: reader.result,\r\n        });\r\n      };\r\n      reader.readAsDataURL(file);\r\n      this.props.setFieldValue(this.props.field.name, file);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { errorMessage, classes, image } = this.props;\r\n    const { name } = this.props.field;\r\n    const { file, imagePreviewUrl } = this.state;\r\n\r\n    const avatarStyle = clsx(\r\n      classes.bigAvatar,\r\n      this.state.file ? [classes.whiteBack] : [classes.primaryBack],\r\n      { [classes.errorBack]: errorMessage }\r\n    );\r\n\r\n    return (\r\n      <div className={classes.container}>\r\n        <input\r\n          className={classes.hidden}\r\n          id={name}\r\n          name={name}\r\n          type=\"file\"\r\n          onChange={this.handleImageChange}\r\n          ref={this.fileUpload}\r\n          accept=\"image/png, image/jpeg\"\r\n        />\r\n        <Avatar\r\n          className={avatarStyle}\r\n          onClick={this.showFileUpload}\r\n          alt=\"avatar\"\r\n          src={\r\n            errorMessage\r\n              ? undefined\r\n              : file\r\n              ? imagePreviewUrl\r\n              : image\r\n              ? image\r\n              : undefined\r\n          }\r\n        >\r\n          {errorMessage ? (\r\n            <ErrorOutline style={{ fontSize: 36 }} />\r\n          ) : (\r\n            <AccountCircle style={{ fontSize: 36 }} />\r\n          )}\r\n        </Avatar>\r\n        {errorMessage ? (\r\n          <Typography variant=\"caption\" color=\"error\">\r\n            {errorMessage}\r\n          </Typography>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(useStyles)(ImageInput);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  Container,\r\n  createStyles,\r\n  Grid,\r\n  LinearProgress,\r\n  Theme,\r\n  Typography,\r\n  withStyles,\r\n  WithStyles,\r\n} from \"@material-ui/core\";\r\nimport * as Yup from \"yup\";\r\nimport { Field, Form, Formik } from \"formik\";\r\nimport { TextField } from \"formik-material-ui\";\r\nimport {\r\n  profileRequest,\r\n  updateProfile,\r\n} from \"../../../_actions/profile.actions\";\r\nimport { DefaultProfileState } from \"../../../_types/profile.types\";\r\nimport { DefaultUserState } from \"../../../_types/auth.types\";\r\nimport { AppActions } from \"../../../_types\";\r\nimport { AppState } from \"../../../_types\";\r\nimport ImageInput from \"./ImageInput\";\r\nimport { LoadingCircle } from \"../../Layout/Loadings\";\r\n\r\nconst phoneRegExp = /^((\\\\+[1-9]{1,4}[ \\\\-]*)|(\\\\([0-9]{2,3}\\\\)[ \\\\-]*)|([0-9]{2,4})[ \\\\-]*)*?[0-9]{3,4}?[ \\\\-]*[0-9]{3,4}?$/;\r\n\r\nconst useStyles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      width: \"99vw\",\r\n      minHeight: \"calc(100vh - 64px)\",\r\n      [theme.breakpoints.down(\"xs\")]: {\r\n        minHeight: \"calc(100vh - 48px)\",\r\n        padding: theme.spacing(1),\r\n      },\r\n    },\r\n    container: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"space-between\",\r\n    },\r\n    form: {\r\n      margin: theme.spacing(2),\r\n      display: \"flex\",\r\n      justifyContent: \"space-between\",\r\n      \"& > div\": {\r\n        width: \"100%\",\r\n      },\r\n    },\r\n  });\r\n\r\ninterface ProfilePageProps extends WithStyles<typeof useStyles> {\r\n  auth: DefaultUserState;\r\n}\r\n\r\ntype Props = ProfilePageProps &\r\n  DefaultProfileState &\r\n  ReturnType<typeof mapDispatchToProps>;\r\n\r\nclass Profile extends Component<Props> {\r\n  componentDidMount() {\r\n    if (!this.props.loading) this.props.getProfile();\r\n  }\r\n  render() {\r\n    const { data, loading, classes } = this.props;\r\n    const FILE_SIZE = 160 * 1024;\r\n    if (!data) {\r\n      return <LoadingCircle />;\r\n    } else {\r\n      const initData = {\r\n        image_select: data.image_select,\r\n        first_name: data.first_name,\r\n        last_name: data.last_name,\r\n        nickname: data.nickname,\r\n        mobile: data.mobile ? data.mobile : \"\",\r\n      };\r\n      return (\r\n        <Container maxWidth={false} className={classes.root}>\r\n          <Grid container spacing={3}>\r\n            <Grid\r\n              item\r\n              lg={12}\r\n              md={12}\r\n              xl={12}\r\n              xs={12}\r\n              className={classes.container}\r\n            >\r\n              <Container\r\n                component=\"main\"\r\n                maxWidth=\"xs\"\r\n              >\r\n                <Formik\r\n                  initialValues={initData}\r\n                  validationSchema={Yup.object().shape({\r\n                    image_select: Yup.mixed().test(\r\n                      \"fileSize\",\r\n                      `File too large ,should be lower than ${\r\n                        Math.floor(FILE_SIZE / 1000)\r\n                      }kb`,\r\n                      (value) =>\r\n                        value && typeof value === \"object\"\r\n                          ? value.size <= FILE_SIZE\r\n                          : true\r\n                    ),\r\n                    first_name: Yup.string()\r\n                      .max(255)\r\n                      .required(\"First name is required\"),\r\n                    last_name: Yup.string()\r\n                      .max(255)\r\n                      .required(\"Last name is required\"),\r\n                    nickname: Yup.string()\r\n                      .max(255)\r\n                      .required(\"User name is required\"),\r\n                    mobile: Yup.string().matches(\r\n                      phoneRegExp,\r\n                      \"Phone number is not valid\"\r\n                    ),\r\n                  })}\r\n                  onSubmit={(e: typeof initData, { resetForm }) => {\r\n                    let val: any = e;\r\n                    if (typeof e.image_select === \"string\")\r\n                      val = { ...e, image_select: undefined };\r\n                    this.props.updateProfile({\r\n                      ...val,\r\n                    });\r\n                    resetForm({\r\n                      values: {\r\n                        ...e,\r\n                        image_select: data.image_select,\r\n                      },\r\n                    });\r\n                  }}\r\n                >\r\n                  {({ setFieldValue, initialValues, errors }) => (\r\n                    <Form>\r\n                      <Box mb={3}>\r\n                        <Field\r\n                          name=\"image_select\"\r\n                          component={ImageInput}\r\n                          image={initialValues.image_select}\r\n                          setFieldValue={setFieldValue}\r\n                          margin=\"normal\"\r\n                          errorMessage={\r\n                            errors[\"image_select\"]\r\n                              ? errors[\"image_select\"]\r\n                              : undefined\r\n                          }\r\n                        />\r\n                        <Typography\r\n                          color=\"textSecondary\"\r\n                          align=\"center\"\r\n                          variant=\"h5\"\r\n                        >\r\n                          Personal Information\r\n                        </Typography>\r\n                        <Field\r\n                          component={TextField}\r\n                          color=\"secondary\"\r\n                          fullWidth\r\n                          label=\"نام نمایشی\"\r\n                          margin=\"normal\"\r\n                          name=\"nickname\"\r\n                          variant=\"outlined\"\r\n                        />\r\n                        <Field\r\n                          component={TextField}\r\n                          color=\"secondary\"\r\n                          fullWidth\r\n                          label=\"نام\"\r\n                          margin=\"normal\"\r\n                          name=\"first_name\"\r\n                          variant=\"outlined\"\r\n                        />\r\n                        <Field\r\n                          component={TextField}\r\n                          color=\"secondary\"\r\n                          fullWidth\r\n                          label=\"نام خانوادگی\"\r\n                          margin=\"normal\"\r\n                          name=\"last_name\"\r\n                          variant=\"outlined\"\r\n                        />\r\n                        <Field\r\n                          component={TextField}\r\n                          color=\"secondary\"\r\n                          fullWidth\r\n                          label=\"موبایل\"\r\n                          margin=\"normal\"\r\n                          name=\"mobile\"\r\n                          type=\"mobile\"\r\n                          variant=\"outlined\"\r\n                        />\r\n                        {loading && <LinearProgress color=\"secondary\" />}\r\n                        <Box my={2}>\r\n                          <Button\r\n                            color=\"secondary\"\r\n                            disabled={loading}\r\n                            fullWidth\r\n                            size=\"large\"\r\n                            type=\"submit\"\r\n                            variant=\"contained\"\r\n                          >\r\n                            Save\r\n                          </Button>\r\n                        </Box>\r\n                      </Box>\r\n                    </Form>\r\n                  )}\r\n                </Formik>\r\n              </Container>\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (\r\n  state: AppState,\r\n  ownProps: Props\r\n): ProfilePageProps => {\r\n  return {\r\n    ...state.user,\r\n    auth: state.auth,\r\n    classes: ownProps.classes,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AppActions>) => ({\r\n  getProfile: bindActionCreators(profileRequest, dispatch),\r\n  updateProfile: bindActionCreators(updateProfile, dispatch),\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(useStyles)(Profile));\r\n","import React from \"react\";\r\nimport { push } from \"connected-react-router\";\r\nimport {\r\n  Card,\r\n  Button,\r\n  CardMedia,\r\n  Typography,\r\n  CardContent,\r\n  CardActions,\r\n  CardActionArea,\r\n} from \"@material-ui/core\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\nimport { store } from \"../../../_store/store.config\";\r\nimport { IGuide } from \"../../../_types/guide.types\";\r\nimport { thumbnailsFinder } from \"../../../_helpers/constants\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      width: 300,\r\n      maxHeight: 360,\r\n      margin: theme.spacing(2),\r\n      [theme.breakpoints.down(350)]: {\r\n        margin: theme.spacing(1),\r\n      },\r\n    },\r\n    cardAction: {\r\n      justifyContent: \"space-between\",\r\n      margin: \"inherit\",\r\n    },\r\n    content: {\r\n      minHeight: 150,\r\n    },\r\n  })\r\n);\r\n\r\ntype Props = {\r\n  guide: IGuide;\r\n};\r\n\r\nexport const GuideCard: React.FC<Props> = ({ guide }) => {\r\n  const classes = useStyles();\r\n  const { title, thumbnails, description, teacher } = guide;\r\n\r\n  const clickHandler = (\r\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>\r\n  ): void => {\r\n    store.dispatch(push(`/guide/${guide.id}`));\r\n  };\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardActionArea onClick={clickHandler}>\r\n        <CardMedia\r\n          component=\"img\"\r\n          alt={title}\r\n          height=\"140\"\r\n          image={thumbnailsFinder(thumbnails)}\r\n          title={title}\r\n        />\r\n        <CardContent className={classes.content}>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {title}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            {description}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions className={classes.cardAction}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n          از {teacher}\r\n        </Typography>\r\n        <Button size=\"medium\" color=\"secondary\" onClick={clickHandler}>\r\n          ادامه درس\r\n        </Button>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n","import React, { Component, ComponentType } from \"react\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Chip,\r\n  createStyles,\r\n  Grid,\r\n  Theme,\r\n  Typography,\r\n  withStyles,\r\n  WithStyles,\r\n} from \"@material-ui/core\";\r\n\r\nimport { requestBank } from \"../../../_actions\";\r\nimport { IGuide } from \"../../../_types/guide.types\";\r\nimport { AppActions } from \"../../../_types\";\r\nimport { AppState } from \"../../../_types\";\r\nimport { GuideCard } from \"./GuideCard\";\r\nimport { LoadingCircle } from \"../../Layout/Loadings\";\r\n\r\nconst useStyles = (theme: Theme) =>\r\n  createStyles({\r\n    header: {\r\n      position: \"relative\",\r\n    },\r\n    cardList: {\r\n      minHeight: \"calc(100vh - 240px)\",\r\n    },\r\n    chip: {\r\n      position: \"absolute\",\r\n      right: 0,\r\n      top: 0,\r\n    },\r\n    autoMargin: {\r\n      margin: \"auto\",\r\n    },\r\n  });\r\n\r\ninterface GuideProps extends WithStyles<typeof useStyles> {\r\n  data: IGuide[];\r\n  error: string;\r\n  loading: boolean;\r\n}\r\n\r\ntype Props = GuideProps & ReturnType<typeof mapDispatchToProps>;\r\n\r\nclass GuideList extends Component<Props> {\r\n  componentDidMount() {\r\n    this.props.requestBank(\"guides\");\r\n  }\r\n\r\n  render() {\r\n    const { loading, data, error, classes } = this.props;\r\n    const length = data ? data.length : 0;\r\n    return (\r\n      <>\r\n        <div className={classes.header}>\r\n          <Typography variant=\"h3\">مجموعه ها</Typography>\r\n          <Chip\r\n            className={classes.chip}\r\n            color=\"secondary\"\r\n            label={\"تعداد: \" + length}\r\n          />\r\n        </div>\r\n        <Grid container justify=\"center\" className={classes.cardList}>\r\n          {loading ? (\r\n            <LoadingCircle />\r\n          ) : data.length ? (\r\n            data.map((guide: IGuide) => (\r\n              <GuideCard key={guide.id} guide={guide} />\r\n            ))\r\n          ) : (\r\n            <Typography component=\"div\" className={classes.autoMargin}>\r\n              {error}\r\n            </Typography>\r\n          )}\r\n        </Grid>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: AppState, ownProps: Props): GuideProps => {\r\n  return {\r\n    classes: ownProps.classes,\r\n    ...state.bank.guides,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AppActions>) => ({\r\n  requestBank: bindActionCreators(requestBank, dispatch),\r\n});\r\n\r\nexport default (connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(useStyles)(GuideList)) as unknown) as ComponentType<unknown>;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  CircularProgress,\r\n  createStyles,\r\n  IconButton,\r\n  makeStyles,\r\n  Theme,\r\n} from \"@material-ui/core\";\r\nimport { Favorite, FavoriteBorder } from \"@material-ui/icons\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    rightChip: {\r\n      backgroundColor: theme.palette.background.default,\r\n      position: \"absolute\",\r\n      zIndex: 30,\r\n      right: theme.spacing(1),\r\n      top: theme.spacing(1),\r\n    },\r\n    svgSize: {\r\n      color: theme.palette.secondary.main,\r\n      width: 34,\r\n      height: 34,\r\n      \"&:hover\": {\r\n        color: theme.palette.primary.main,\r\n      },\r\n    },\r\n    loading: {\r\n      maxWidth: 34,\r\n      maxHeight: 34,\r\n      color: theme.palette.secondary.main,\r\n    },\r\n  })\r\n);\r\n\r\ninterface CardFavoriteProps {\r\n  isFavorite?: boolean;\r\n  loading: boolean;\r\n  handleFavorite: () => void;\r\n}\r\n\r\nexport const CardFavorite: React.FC<CardFavoriteProps> = ({\r\n  isFavorite,\r\n  loading,\r\n  handleFavorite,\r\n}) => {\r\n  const classes = useStyles();\r\n  const [changed, setChanged] = useState(loading);\r\n  useEffect(() => {\r\n    if (changed) setChanged(loading);\r\n    return () => {\r\n      setChanged(false);\r\n    };\r\n  }, [loading, changed]);\r\n  const changeFavorite = () => {\r\n    setChanged(true);\r\n    handleFavorite();\r\n  };\r\n  return (\r\n    <IconButton\r\n      aria-label=\"add to favorites\"\r\n      className={classes.rightChip}\r\n      onClick={changeFavorite}\r\n    >\r\n      {changed ? (\r\n        <CircularProgress className={classes.loading} />\r\n      ) : isFavorite ? (\r\n        <Favorite className={classes.svgSize} />\r\n      ) : (\r\n        <FavoriteBorder className={classes.svgSize} />\r\n      )}\r\n    </IconButton>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { push } from \"connected-react-router\";\r\nimport {\r\n  Card,\r\n  Button,\r\n  CardMedia,\r\n  Typography,\r\n  CardContent,\r\n  CardActions,\r\n  CardActionArea,\r\n} from \"@material-ui/core\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\nimport { store } from \"../../../_store/store.config\";\r\nimport { ILesson } from \"../../../_types/lesson.types\";\r\nimport { thumbnailsFinder } from \"../../../_helpers/constants\";\r\nimport { addFavorites } from \"../../../_actions/profile.actions\";\r\nimport { DefaultProfileState } from \"../../../_types/profile.types\";\r\nimport { CardFavorite } from \"../../Layout/Buttons/CardFavorite\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      width: 300,\r\n      maxHeight: 360,\r\n      position: \"relative\",\r\n      margin: theme.spacing(2),\r\n      [theme.breakpoints.down(350)]: {\r\n        margin: theme.spacing(1),\r\n      },\r\n    },\r\n    cardAction: {\r\n      justifyContent: \"space-between\",\r\n      margin: \"inherit\",\r\n    },\r\n    content: {\r\n      minHeight: 150,\r\n    },\r\n    rightChip: {\r\n      backgroundColor: theme.palette.background.default,\r\n      position: \"absolute\",\r\n      zIndex: 30,\r\n      right: theme.spacing(1),\r\n      top: theme.spacing(1),\r\n    },\r\n    svgSize: {\r\n      color: theme.palette.secondary.main,\r\n      width: 34,\r\n      height: 34,\r\n      \"&:hover\": {\r\n        color: theme.palette.primary.main,\r\n      },\r\n    },\r\n    loading: {\r\n      maxWidth: 34,\r\n      maxHeight: 34,\r\n      color: theme.palette.secondary.main,\r\n    },\r\n  })\r\n);\r\n\r\ntype Props = {\r\n  lesson: ILesson;\r\n  user: DefaultProfileState;\r\n  type: string;\r\n};\r\n\r\nexport const LessonCard: React.FC<Props> = ({ lesson, user, type }) => {\r\n  const classes = useStyles();\r\n  const { title, featured_img, excerpt, author, id } = lesson;\r\n  const { loading, favorite } = user;\r\n\r\n  const clickHandler = () => {\r\n    store.dispatch(push(`/${type}/${id}`));\r\n  };\r\n\r\n  const handleFavorite = () => {\r\n    store.dispatch(\r\n      addFavorites({ title, featured_img, excerpt, author, id, type })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardFavorite\r\n        isFavorite={favorite?.some((fav) => fav.id === id)}\r\n        loading={loading}\r\n        handleFavorite={handleFavorite}\r\n      />\r\n      <CardActionArea onClick={clickHandler}>\r\n        <CardMedia\r\n          component=\"img\"\r\n          alt={title}\r\n          height=\"140\"\r\n          image={thumbnailsFinder(featured_img)}\r\n          title={title}\r\n        />\r\n        <CardContent className={classes.content}>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {title}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            {excerpt}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions className={classes.cardAction}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n          از {author}\r\n        </Typography>\r\n        <Button size=\"medium\" color=\"secondary\" onClick={clickHandler}>\r\n          ادامه درس\r\n        </Button>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n","import React, { Component, ComponentType } from \"react\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Chip,\r\n  Grid,\r\n  Typography,\r\n  Theme,\r\n  createStyles,\r\n  WithStyles,\r\n  withStyles,\r\n} from \"@material-ui/core\";\r\n\r\nimport { requestBank } from \"../../../_actions\";\r\nimport { ILesson } from \"../../../_types/lesson.types\";\r\nimport { AppActions } from \"../../../_types\";\r\nimport { AppState } from \"../../../_types\";\r\nimport { LessonCard } from \"./LessonCard\";\r\nimport { LoadingCircle } from \"../../Layout/Loadings\";\r\nimport { DefaultProfileState } from \"../../../_types/profile.types\";\r\n\r\nconst useStyles = (theme: Theme) =>\r\n  createStyles({\r\n    header: {\r\n      position: \"relative\",\r\n    },\r\n    cardList: {\r\n      minHeight: \"calc(100vh - 240px)\",\r\n    },\r\n    chip: {\r\n      position: \"absolute\",\r\n      right: 0,\r\n      top: 0,\r\n    },\r\n    autoMargin: {\r\n      margin: \"auto\",\r\n    },\r\n  });\r\n\r\ninterface LessonProps extends WithStyles<typeof useStyles> {\r\n  data: ILesson[];\r\n  error?: string;\r\n  loading?: boolean;\r\n  user: DefaultProfileState;\r\n}\r\n\r\ntype Props = LessonProps & ReturnType<typeof mapDispatchToProps>;\r\n\r\nclass LessonList extends Component<Props> {\r\n  componentDidMount() {\r\n    this.props.requestBank(\"lessons\");\r\n  }\r\n\r\n  render() {\r\n    const { loading, data, error, classes, user } = this.props;\r\n    const length = data ? data.length : 0;\r\n    return (\r\n      <>\r\n        <div className={classes.header}>\r\n          <Typography variant=\"h3\">درس ها</Typography>\r\n          <Chip\r\n            className={classes.chip}\r\n            color=\"secondary\"\r\n            label={\"تعداد: \" + length}\r\n          />\r\n        </div>\r\n        <Grid container justify=\"center\" className={classes.cardList}>\r\n          {loading ? (\r\n            <LoadingCircle />\r\n          ) : data.length ? (\r\n            data.map((lesson: ILesson) => (\r\n              <LessonCard\r\n                key={lesson.id}\r\n                lesson={lesson}\r\n                user={user}\r\n                type=\"lesson\"\r\n              />\r\n            ))\r\n          ) : (\r\n            <Typography component=\"div\" className={classes.autoMargin}>\r\n              {error}\r\n            </Typography>\r\n          )}\r\n        </Grid>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: AppState, ownProps: Props): LessonProps => {\r\n  return {\r\n    classes: ownProps.classes,\r\n    user: state.user,\r\n    ...state.bank.lessons,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AppActions>) => ({\r\n  requestBank: bindActionCreators(requestBank, dispatch),\r\n});\r\n\r\nexport default (connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(useStyles)(LessonList)) as unknown) as ComponentType<unknown>;\r\n","import React from \"react\";\r\nimport { push } from \"connected-react-router\";\r\nimport {\r\n  Card,\r\n  Button,\r\n  CardMedia,\r\n  Typography,\r\n  CardContent,\r\n  CardActions,\r\n  CardActionArea,\r\n} from \"@material-ui/core\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\nimport { store } from \"../../../_store/store.config\";\r\nimport { ICourse } from \"../../../_types/course.types\";\r\nimport { thumbnailsFinder } from \"../../../_helpers/constants\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      width: 300,\r\n      maxHeight: 360,\r\n      margin: theme.spacing(2),\r\n      [theme.breakpoints.down(350)]: {\r\n        margin: theme.spacing(1),\r\n      },\r\n    },\r\n    cardAction: {\r\n      justifyContent: \"space-between\",\r\n      margin: \"inherit\",\r\n    },\r\n    content: {\r\n      minHeight: 150,\r\n    },\r\n  })\r\n);\r\n\r\ntype Props = {\r\n  course: ICourse;\r\n};\r\n\r\nexport const CourseCard: React.FC<Props> = ({ course }) => {\r\n  const classes = useStyles();\r\n  const { title, thumbnails, description, teacher } = course;\r\n\r\n  const clickHandler = (\r\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>\r\n  ): void => {\r\n    store.dispatch(push(`/course/${course.id}`));\r\n  };\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardActionArea onClick={clickHandler}>\r\n        <CardMedia\r\n          component=\"img\"\r\n          alt={title}\r\n          height=\"140\"\r\n          image={thumbnailsFinder(thumbnails)}\r\n          title={title}\r\n        />\r\n        <CardContent className={classes.content}>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {title}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            {description}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions className={classes.cardAction}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n          از {teacher}\r\n        </Typography>\r\n        <Button size=\"medium\" color=\"secondary\" onClick={clickHandler}>\r\n          ادامه درس\r\n        </Button>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n","import React, { Component, ComponentType } from \"react\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Chip,\r\n  Grid,\r\n  Typography,\r\n  WithStyles,\r\n  createStyles,\r\n  Theme,\r\n  withStyles,\r\n} from \"@material-ui/core\";\r\n\r\nimport { CourseCard } from \"./CourseCard\";\r\nimport { AppState } from \"../../../_types\";\r\nimport { AppActions } from \"../../../_types\";\r\nimport { ICourse } from \"../../../_types/course.types\";\r\nimport { LoadingCircle } from \"../../Layout/Loadings\";\r\nimport { requestBank } from \"../../../_actions\";\r\n\r\nconst useStyles = (theme: Theme) =>\r\n  createStyles({\r\n    header: {\r\n      position: \"relative\",\r\n    },\r\n    cardList: {\r\n      minHeight: \"calc(100vh - 240px)\",\r\n    },\r\n    chip: {\r\n      position: \"absolute\",\r\n      right: 0,\r\n      top: 0,\r\n    },\r\n    autoMargin: {\r\n      margin: \"auto\",\r\n    },\r\n  });\r\n\r\ninterface CourseProps extends WithStyles<typeof useStyles> {\r\n  data: ICourse[];\r\n  error: string;\r\n  loading: boolean;\r\n}\r\n\r\ntype Props = CourseProps & ReturnType<typeof mapDispatchToProps>;\r\n\r\nclass CourseList extends Component<Props> {\r\n  componentDidMount() {\r\n    this.props.requestBank(\"courses\");\r\n  }\r\n\r\n  render() {\r\n    const { loading, data, error, classes } = this.props;\r\n    const length = data ? data.length : 0;\r\n    return (\r\n      <>\r\n        <div className={classes.header}>\r\n          <Typography variant=\"h3\">آموزش ها</Typography>\r\n          <Chip\r\n            className={classes.chip}\r\n            color=\"secondary\"\r\n            label={\"تعداد: \" + length}\r\n          />\r\n        </div>\r\n        <Grid container justify=\"center\" className={classes.cardList}>\r\n          {loading ? (\r\n            <LoadingCircle />\r\n          ) : data.length ? (\r\n            data.map((course: ICourse) => (\r\n              <CourseCard key={course.id} course={course} />\r\n            ))\r\n          ) : (\r\n            <Typography component=\"div\" className={classes.autoMargin}>\r\n              {error}\r\n            </Typography>\r\n          )}\r\n        </Grid>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: AppState, ownProps: Props): CourseProps => {\r\n  return {\r\n    classes: ownProps.classes,\r\n    ...state.bank.courses,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AppActions>) => ({\r\n  requestBank: bindActionCreators(requestBank, dispatch),\r\n});\r\n\r\nexport default (connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(useStyles)(CourseList)) as unknown) as ComponentType<unknown>;\r\n","import React from \"react\";\r\nimport { push } from \"connected-react-router\";\r\nimport {\r\n  Card,\r\n  Button,\r\n  CardMedia,\r\n  Typography,\r\n  CardContent,\r\n  CardActions,\r\n  CardActionArea,\r\n} from \"@material-ui/core\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\nimport { addFavorites } from \"../../../_actions/profile.actions\";\r\nimport { CardFavorite } from \"../../Layout/Buttons/CardFavorite\";\r\nimport { thumbnailsFinder } from \"../../../_helpers/constants\";\r\nimport { IFavorite } from \"../../../_types/profile.types\";\r\nimport { store } from \"../../../_store/store.config\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      width: 300,\r\n      maxHeight: 360,\r\n      position: \"relative\",\r\n      margin: theme.spacing(2),\r\n      [theme.breakpoints.down(350)]: {\r\n        margin: theme.spacing(1),\r\n      },\r\n    },\r\n    cardAction: {\r\n      justifyContent: \"space-between\",\r\n      margin: \"inherit\",\r\n    },\r\n    content: {\r\n      minHeight: 150,\r\n    },\r\n  })\r\n);\r\n\r\ntype Props = {\r\n  favorite: IFavorite;\r\n};\r\n\r\nexport const FavoriteCard: React.FC<Props> = ({ favorite }) => {\r\n  const classes = useStyles();\r\n  const { title, featured_img, excerpt, author, id, type } = favorite;\r\n\r\n  const clickHandler = () => {\r\n    store.dispatch(push(`/${type}/${id}`));\r\n  };\r\n  const handleFavorite = () => {\r\n    store.dispatch(addFavorites({ ...favorite, type: \"lesson\" }));\r\n  };\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardFavorite\r\n        isFavorite={true}\r\n        loading={false}\r\n        handleFavorite={handleFavorite}\r\n      />\r\n      <CardActionArea onClick={clickHandler}>\r\n        <CardMedia\r\n          component=\"img\"\r\n          alt={title}\r\n          height=\"140\"\r\n          image={thumbnailsFinder(featured_img)}\r\n          title={title}\r\n        />\r\n        <CardContent className={classes.content}>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {title}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            {excerpt}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions className={classes.cardAction}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n          از {author}\r\n        </Typography>\r\n        <Button size=\"medium\" color=\"secondary\" onClick={clickHandler}>\r\n          ادامه درس\r\n        </Button>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n","import React, { Component, ComponentType } from \"react\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Chip,\r\n  createStyles,\r\n  Grid,\r\n  Theme,\r\n  Typography,\r\n  withStyles,\r\n  WithStyles,\r\n} from \"@material-ui/core\";\r\n\r\nimport { AppState } from \"../../../_types\";\r\nimport { AppActions } from \"../../../_types\";\r\nimport { FavoriteCard } from \"./FavoriteCard\";\r\nimport { LoadingCircle } from \"../../Layout/Loadings\";\r\nimport { IFavorite } from \"../../../_types/profile.types\";\r\nimport { profileRequest } from \"../../../_actions/profile.actions\";\r\n\r\nconst useStyles = (theme: Theme) =>\r\n  createStyles({\r\n    header: {\r\n      position: \"relative\",\r\n    },\r\n    cardList: {\r\n      minHeight: \"calc(100vh - 240px)\",\r\n    },\r\n    chip: {\r\n      position: \"absolute\",\r\n      right: 0,\r\n      top: 0,\r\n    },\r\n    autoMargin: {\r\n      margin: \"auto\",\r\n    },\r\n  });\r\n\r\ninterface FavoriteProps extends WithStyles<typeof useStyles> {\r\n  favorite?: IFavorite[];\r\n  error: string;\r\n  loading: boolean;\r\n}\r\ntype Props = FavoriteProps & LinkDispatchProps;\r\n\r\nclass FavoriteList extends Component<Props> {\r\n  shouldComponentUpdate(nextProps: Props) {\r\n    if (!nextProps.loading) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n  componentDidMount() {\r\n    if (this.props.loading) this.props.profileRequest();\r\n  }\r\n\r\n  render() {\r\n    const { loading, favorite, error, classes } = this.props;\r\n    const length = favorite ? favorite.length : 0;\r\n    return (\r\n      <>\r\n        <div className={classes.header}>\r\n          <Typography variant=\"h3\">موردعلاقه ها</Typography>\r\n          <Chip\r\n            className={classes.chip}\r\n            color=\"secondary\"\r\n            label={\"تعداد: \" + length}\r\n          />\r\n        </div>\r\n        <Grid container justify=\"center\" className={classes.cardList}>\r\n          {loading ? (\r\n            <LoadingCircle />\r\n          ) : favorite ? (\r\n            favorite\r\n              .slice(0)\r\n              .reverse()\r\n              .map((favorite: IFavorite) => (\r\n                <FavoriteCard key={favorite.id} favorite={favorite} />\r\n              ))\r\n          ) : (\r\n            <Typography component=\"div\" className={classes.autoMargin}>\r\n              {error}\r\n            </Typography>\r\n          )}\r\n        </Grid>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n  profileRequest: () => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState, ownProps: Props): FavoriteProps => {\r\n  return {\r\n    classes: ownProps.classes,\r\n    ...state.user,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n  profileRequest: bindActionCreators(profileRequest, dispatch),\r\n});\r\n\r\nexport default (connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(useStyles)(FavoriteList)) as unknown) as ComponentType<unknown>;\r\n","import React, { Component, ComponentType } from \"react\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Chip,\r\n  createStyles,\r\n  Grid,\r\n  Theme,\r\n  Typography,\r\n  withStyles,\r\n  WithStyles,\r\n} from \"@material-ui/core\";\r\n\r\nimport { AppState } from \"../../../_types\";\r\nimport { AppActions } from \"../../../_types\";\r\nimport { ILesson } from \"../../../_types/lesson.types\";\r\nimport { LoadingCircle } from \"../../Layout/Loadings\";\r\nimport { LessonCard } from \"../Lesson/LessonCard\";\r\nimport { DefaultProfileState } from \"../../../_types/profile.types\";\r\nimport { requestBank } from \"../../../_actions\";\r\n\r\nconst useStyles = (theme: Theme) =>\r\n  createStyles({\r\n    header: {\r\n      position: \"relative\",\r\n    },\r\n    cardList: {\r\n      minHeight: \"calc(100vh - 240px)\",\r\n    },\r\n    chip: {\r\n      position: \"absolute\",\r\n      right: 0,\r\n      top: 0,\r\n    },\r\n    autoMargin: {\r\n      margin: \"auto\",\r\n    },\r\n  });\r\n\r\ninterface ExerciseProps extends WithStyles<typeof useStyles> {\r\n  data: ILesson[];\r\n  error: string;\r\n  user: DefaultProfileState;\r\n  loading: boolean;\r\n}\r\n\r\ntype Props = ExerciseProps & ReturnType<typeof mapDispatchToProps>;\r\n\r\nclass ExerciseList extends Component<Props> {\r\n  componentDidMount() {\r\n    this.props.requestBank(\"exercises\");\r\n  }\r\n\r\n  render() {\r\n    const { loading, data, error, classes, user } = this.props;\r\n    const length = data ? data.length : 0;\r\n    return (\r\n      <>\r\n        <div className={classes.header}>\r\n          <Typography variant=\"h3\">تمرین ها</Typography>\r\n          <Chip\r\n            className={classes.chip}\r\n            color=\"secondary\"\r\n            label={\"تعداد: \" + length}\r\n          />\r\n        </div>\r\n        <Grid container justify=\"center\" className={classes.cardList}>\r\n          {loading ? (\r\n            <LoadingCircle />\r\n          ) : data.length ? (\r\n            data.map((exercise: ILesson) => (\r\n              <LessonCard\r\n                key={exercise.id}\r\n                lesson={exercise}\r\n                user={user}\r\n                type=\"exercise\"\r\n              />\r\n            ))\r\n          ) : (\r\n            <Typography component=\"div\" className={classes.autoMargin}>\r\n              {error}\r\n            </Typography>\r\n          )}\r\n        </Grid>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: AppState, ownProps: Props): ExerciseProps => {\r\n  return {\r\n    classes: ownProps.classes,\r\n    user: state.user,\r\n    ...state.bank.exercises,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AppActions>) => ({\r\n  requestBank: bindActionCreators(requestBank, dispatch),\r\n});\r\n\r\nexport default (connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(useStyles)(ExerciseList)) as unknown) as ComponentType<unknown>;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { push } from \"connected-react-router\";\r\nimport {\r\n  Tab,\r\n  Box,\r\n  Tabs,\r\n  AppBar,\r\n  makeStyles,\r\n  Paper,\r\n  Theme,\r\n  useMediaQuery,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  LibraryMusic,\r\n  QueueMusic,\r\n  MusicNote,\r\n  EmojiSymbols,\r\n  Favorite,\r\n} from \"@material-ui/icons\";\r\n\r\nimport GuideList from \"./Guide/GuideList\";\r\nimport LessonList from \"./Lesson/LessonList\";\r\nimport CourseList from \"./Course/CourseList\";\r\nimport FavoriteList from \"./Favorite/FavoriteList\";\r\nimport ExerciseList from \"./Exercise/ExerciseList\";\r\nimport { AppActions, AppState } from \"../../_types\";\r\nimport { connect } from \"react-redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { bindActionCreators } from \"redux\";\r\n\r\nconst pages = [\r\n  {\r\n    link: \"/guide\",\r\n    icon: <LibraryMusic />,\r\n    label: \"GUIDES\",\r\n    child: <GuideList />,\r\n  },\r\n  {\r\n    link: \"/course\",\r\n    icon: <QueueMusic />,\r\n    label: \"COURSES\",\r\n    child: <CourseList />,\r\n  },\r\n  {\r\n    link: \"/lesson\",\r\n    icon: <MusicNote />,\r\n    label: \"LESSONS\",\r\n    child: <LessonList />,\r\n  },\r\n  {\r\n    link: \"/exercise\",\r\n    icon: <EmojiSymbols />,\r\n    label: \"EXERCISES\",\r\n    child: <ExerciseList />,\r\n  },\r\n  {\r\n    link: \"/favorite\",\r\n    icon: <Favorite />,\r\n    label: \"FAVORITES\",\r\n    child: <FavoriteList />,\r\n  },\r\n];\r\n\r\nconst pageName = (num: number) => {\r\n  return pages[num].link;\r\n};\r\nconst pageNumber = (name: string) => {\r\n  const obj = pages.find((page) => page.link === name);\r\n  if (obj) return pages.indexOf(obj);\r\n  return 0;\r\n};\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: \"100vw\",\r\n  },\r\n  tabControl: {\r\n    [theme.breakpoints.down(880)]: {\r\n      minWidth: 150,\r\n    },\r\n    [theme.breakpoints.down(830)]: {\r\n      minWidth: 140,\r\n    },\r\n    [theme.breakpoints.down(780)]: {\r\n      minWidth: 120,\r\n    },\r\n    [theme.breakpoints.down(680)]: {\r\n      minWidth: 100,\r\n    },\r\n    [theme.breakpoints.down(500)]: {\r\n      minWidth: 80,\r\n    },\r\n    [theme.breakpoints.down(370)]: {\r\n      minWidth: 65,\r\n    },\r\n    [theme.breakpoints.down(320)]: {\r\n      minWidth: 55,\r\n    },\r\n  },\r\n  tabPanel: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}));\r\n\r\ninterface Props {\r\n  loggedIn: boolean;\r\n  pathName: string;\r\n  push: (num: string) => void;\r\n}\r\n\r\nconst LearningPage: React.FC<Props> = ({ loggedIn, pathName, push }) => {\r\n  const classes = useStyles();\r\n\r\n  const [value, setValue] = useState(pageNumber(pathName));\r\n\r\n  useEffect(() => {\r\n    if (pathName === \"/favorite\" && !loggedIn) push(pageName(0));\r\n    else setValue(pageNumber(pathName));\r\n  }, [pathName, loggedIn, push]);\r\n\r\n  const matches = useMediaQuery(\"(min-width:500px)\");\r\n\r\n  const handleChange = (newValue: number) => {\r\n    setValue(newValue);\r\n    push(pageName(newValue));\r\n  };\r\n  return (\r\n    <>\r\n      <AppBar position=\"static\">\r\n        <Paper square>\r\n          <Tabs\r\n            value={value}\r\n            onChange={(_, e) => handleChange(e)}\r\n            variant=\"scrollable\"\r\n            indicatorColor=\"secondary\"\r\n            textColor=\"secondary\"\r\n            scrollButtons=\"desktop\"\r\n            aria-label=\"icon label tabs\"\r\n          >\r\n            {pages.map((page, i) =>\r\n              i !== 4 ? (\r\n                <Tab\r\n                  className={classes.tabControl}\r\n                  key={page.label}\r\n                  icon={page.icon}\r\n                  label={matches ? page.label : null}\r\n                  id={`full-width-tab-${i}`}\r\n                  aria-controls={`full-width-tabpanel-${i}`}\r\n                />\r\n              ) : (\r\n                loggedIn && (\r\n                  <Tab\r\n                    className={classes.tabControl}\r\n                    key={page.label}\r\n                    icon={page.icon}\r\n                    label={matches ? page.label : null}\r\n                    id={`full-width-tab-${i}`}\r\n                    aria-controls={`full-width-tabpanel-${i}`}\r\n                  />\r\n                )\r\n              )\r\n            )}\r\n          </Tabs>\r\n        </Paper>\r\n      </AppBar>\r\n      {pages.map((page, i) => (\r\n        <div\r\n          key={page.label + i}\r\n          role=\"tabpanel\"\r\n          hidden={value !== i}\r\n          id={`full-width-tabpanel-${i}`}\r\n          aria-labelledby={`full-width-tab-${i}`}\r\n        >\r\n          {value === i && <Box className={classes.tabPanel}>{page.child}</Box>}\r\n        </div>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\nconst mapStateToProps = (state: AppState) => ({\r\n  loggedIn: state.auth.loggedIn,\r\n  pathName: state.router.location.pathname,\r\n});\r\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AppActions>) => ({\r\n  push: bindActionCreators(push, dispatch),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LearningPage);\r\n","import React from \"react\";\r\n\r\nconst useKeyEvent = (target) =>{\r\n  const [keyTarget,setKeyTarget] = React.useState(target);\r\n  const [playedKey,setPlayedKey] = React.useState(null);\r\n  const [keyDone,setKeyDone] = React.useState(false);\r\n  \r\n  React.useEffect(() => {\r\n    const keyUp = (e) => {\r\n      setPlayedKey(null);\r\n    };\r\n    const keyDown = (e) => {\r\n          const key = e.key;\r\n          if (key !== playedKey) {\r\n              if(key === keyTarget){\r\n                setKeyDone(true);\r\n              }\r\n            setPlayedKey(key);\r\n          }\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", keyDown);\r\n    document.addEventListener(\"keyup\", keyUp);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", keyDown);\r\n      document.removeEventListener(\"keyup\", keyUp);\r\n    };\r\n  }, [playedKey,keyTarget]);\r\n\r\n  return [setKeyTarget,playedKey,keyDone];\r\n\r\n}\r\n\r\nexport default function Test() {\r\n  const [setKeyTarget,playedKey] = useKeyEvent(\"a\");\r\n\r\n  return (\r\n    <div>\r\n      <h3>{playedKey}</h3>\r\n      <input type=\"text\" onChange={(e)=>setKeyTarget(e.currentTarget.value)}/>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import React, { lazy, Suspense } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { LoadingCircle } from \"../components/Layout/Loadings\";\n\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport About from \"../components/InfoPages/About\";\nimport PostList from \"../components/PostPages/PostList\";\nimport LoginPage from \"../components/AuthPages/LoginPage\";\nimport LostPassPage from \"../components/AuthPages/LostPage\";\nimport RegisterPage from \"../components/AuthPages/RegisterPage\";\nimport Dashboard from \"../components/UserPages/Dashboard\";\nimport Profile from \"../components/UserPages/Profile\";\nimport LearningPage from \"../components/LearningPages\";\nimport Test from \"./Test\";\n\nconst Post = lazy(() => import(\"../components/PostPages\"));\nconst Guide = lazy(() => import(\"../components/LearningPages/Guide\"));\nconst Course = lazy(() => import(\"../components/LearningPages/Course\"));\nconst Lesson = lazy(() => import(\"../components/LearningPages/Lesson\"));\nconst Exercise = lazy(() => import(\"../components/LearningPages/Exercise\"));\n\nconst AppRouter = () => (\n  <Switch>\n    <Suspense fallback={<LoadingCircle />}>\n      <Route exact path={[\"/\", \"/post\"]} component={PostList} />\n      <Route exact path=\"/learning\" component={LearningPage} />\n      <Route\n        exact\n        path={[\"/guide\", \"/course\", \"/exercise\", \"/favorite\", \"/lesson\"]}\n        component={LearningPage}\n      />\n      <Route exact path=\"/post/:id\" component={Post} />\n      <Route exact path=\"/guide/:id\" component={Guide} />\n      <Route\n        exact\n        path={[\"/course/:id\", \"/guide/:id/course=:id\"]}\n        component={Course}\n      />\n      <Route\n        exact\n        path={[\n          \"/lesson/:id\",\n          \"/course/:id/lesson=:id\",\n          \"/guide/:id/lesson=:id\",\n          \"/guide/:id/course=:id/lesson=:id\",\n        ]}\n        component={Lesson}\n      />\n      <Route\n        exact\n        path={[\n          \"/exercise/:id\",\n          \"/course/:id/exercise=:id\",\n          \"/guide/:id/exercise=:id\",\n          \"/guide/:id/course=:id/exercise=:id\",\n        ]}\n        component={Exercise}\n      />\n      <Route exact path=\"/login\" component={LoginPage} />\n      <Route exact path=\"/register\" component={RegisterPage} />\n      <Route exact path=\"/lostpassword\" component={LostPassPage} />\n      <ProtectedRoute\n        exact\n        path=\"/dashboard\"\n        component={Dashboard}\n        isAllowed={true}\n        restrictedPath=\"/dashboard\"\n        authenticationPath=\"/login\"\n      />\n      <ProtectedRoute\n        exact\n        path=\"/profile\"\n        component={Profile}\n        isAllowed={true}\n        restrictedPath=\"/profile\"\n        authenticationPath=\"/login\"\n      />\n      <Route exact path=\"/about\" component={About} />\n      <Route exact path=\"/test\" component={Test} />\n    </Suspense>\n  </Switch>\n);\n\nexport default AppRouter;\n","import React from \"react\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport {\r\n  Divider,\r\n  Typography,\r\n  Toolbar,\r\n  AppBar,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport { ArrowForward } from \"@material-ui/icons\";\r\nimport { ILesson } from \"../../../../../_types/lesson.types\";\r\n// import AccountCircle from \"@material-ui/icons/AccountCircle\";\r\n// import MenuItem from \"@material-ui/core/MenuItem\";\r\n// import Menu from \"@material-ui/core/Menu\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      flexGrow: 1,\r\n    },\r\n    menuButton: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n    title: {\r\n      flexGrow: 1,\r\n    },\r\n    divider: {\r\n      margin: theme.spacing(0, 2),\r\n    },\r\n  })\r\n);\r\n\r\ninterface Props {\r\n  modeChanger: () => void;\r\n  lesson?: ILesson;\r\n}\r\n\r\nexport default function MenuAppBar({ lesson, modeChanger }: Props) {\r\n  const classes = useStyles();\r\n  // const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\r\n  // const open = Boolean(anchorEl);\r\n\r\n  // const handleMenu = (event: React.MouseEvent<HTMLElement>) => {\r\n  //   setAnchorEl(event.currentTarget);\r\n  // };\r\n\r\n  // const handleClose = () => {\r\n  //   setAnchorEl(null);\r\n  // };\r\n\r\n  return (\r\n    <AppBar position=\"static\" color=\"default\" className={classes.root}>\r\n      <Toolbar>\r\n        <IconButton\r\n          edge=\"start\"\r\n          color=\"inherit\"\r\n          aria-label=\"menu\"\r\n          onClick={modeChanger}\r\n        >\r\n          <ArrowForward />\r\n        </IconButton>\r\n        <Divider orientation=\"vertical\" flexItem className={classes.divider} />\r\n        <Typography variant=\"h6\" color=\"inherit\" className={classes.title}>\r\n          {lesson?.title}\r\n        </Typography>\r\n        {/*<div>\r\n          <IconButton\r\n            aria-label=\"account of current user\"\r\n            aria-controls=\"menu-appbar\"\r\n            aria-haspopup=\"true\"\r\n            onClick={handleMenu}\r\n            color=\"inherit\"\r\n          >\r\n            <AccountCircle />\r\n          </IconButton>\r\n          <Menu\r\n            id=\"menu-appbar\"\r\n            anchorEl={anchorEl}\r\n            anchorOrigin={{\r\n              vertical: \"top\",\r\n              horizontal: \"right\",\r\n            }}\r\n            keepMounted\r\n            transformOrigin={{\r\n              vertical: \"top\",\r\n              horizontal: \"right\",\r\n            }}\r\n            open={open}\r\n            onClose={handleClose}\r\n          >\r\n            <MenuItem onClick={handleClose}>Profile</MenuItem>\r\n            <MenuItem onClick={handleClose}>My account</MenuItem>\r\n          </Menu>\r\n          </div>*/}\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { canvasWheel } from \"../../../../../_actions/player.actions\";\r\nimport { IMelodition } from \"../../../../../_types/player.types\";\r\n\r\ninterface CanvasProps {\r\n  Melo: IMelodition;\r\n  drawGame: (canvas: HTMLCanvasElement) => void;\r\n}\r\nconst GameFront: React.FC<CanvasProps> = ({ Melo, drawGame }) => {\r\n  const drawFrontContext = (ref: HTMLCanvasElement | null) => {\r\n    if (ref && Melo.gameLoading && Melo.canvasSize) {\r\n      drawGame(ref);\r\n    }\r\n  };\r\n  return (\r\n    <canvas\r\n      ref={(ref) => drawFrontContext(ref)}\r\n      width={Melo.canvasSize?.width}\r\n      height={Melo.canvasSize?.height}\r\n      style={{ position: \"absolute\", top: 0, left: 0, zIndex: 2 }}\r\n      onWheel={(e) => canvasWheel(e)}\r\n    />\r\n  );\r\n};\r\nexport default GameFront;\r\n","import React from \"react\";\r\nimport { IMelodition } from \"../../../../../_types/player.types\";\r\n\r\ninterface CanvasProps {\r\n  Melo: IMelodition;\r\n}\r\n\r\nconst GameBack: React.FC<CanvasProps> = ({ Melo }) => {\r\n  const drawBackContext = (ref: HTMLCanvasElement | null) => {\r\n    if (ref && Melo.canvasSize && Melo.gameLoading) {\r\n      const backCtx = ref.getContext(\"2d\")!;\r\n      backCtx.clearRect(0, 0, Melo.canvasSize.width, Melo.canvasSize.height);\r\n      const keyRefs = Melo.pianoSize;\r\n      const length = keyRefs ? keyRefs.length - 1 : 61;\r\n      const lineWidth = keyRefs ? keyRefs[length].width : 0.5;\r\n      const h = Melo.canvasSize.height;\r\n      keyRefs?.forEach((rect, i) => {\r\n        backCtx.beginPath();\r\n        const x = rect.left;\r\n        if (rect.key === \"CF\") {\r\n          backCtx.moveTo(x, 0);\r\n          backCtx.lineTo(x, h);\r\n          backCtx.lineWidth = lineWidth;\r\n          backCtx.strokeStyle = \"rgba(50,50,50,0.8)\";\r\n          backCtx.stroke();\r\n        } else if (rect.key === \"last\") {\r\n          backCtx.moveTo(x, 0);\r\n          backCtx.lineTo(x, h);\r\n          backCtx.lineWidth = lineWidth;\r\n          backCtx.strokeStyle = \"rgba(50,50,50,0.8)\";\r\n          backCtx.stroke();\r\n        } else if (rect.key === \"black\") {\r\n          backCtx.rect(x, 0, rect.width, h);\r\n          backCtx.fillStyle = \"rgba(0,0,0,0.4)\";\r\n          backCtx.fill();\r\n        }\r\n      });\r\n    }\r\n  };\r\n  return (\r\n    <canvas\r\n      ref={(ref) => drawBackContext(ref)}\r\n      width={Melo.canvasSize?.width}\r\n      height={Melo.canvasSize?.height}\r\n      style={{ zIndex: 1 }}\r\n    />\r\n  );\r\n};\r\nexport default GameBack;\r\n","import React from \"react\";\r\nimport { canvasWheel } from \"../../../../../_actions/player.actions\";\r\nimport { ICanvas } from \"../../../../../_types/player.types\";\r\n\r\nconst SvgLine: React.FC<ICanvas> = ({ width, baseLine }) => {\r\n  return (\r\n    <svg\r\n      width={width + 7}\r\n      height={baseLine}\r\n      onWheel={(e) => canvasWheel(e)}\r\n      style={{\r\n        bottom: 0,\r\n        left: -7,\r\n        zIndex: 3,\r\n        position: \"absolute\",\r\n        filter: \"drop-shadow(rgba(0, 0, 0, 0.7) 0px 1px 1px)\",\r\n      }}\r\n    >\r\n      <style>{\"@keyframes draw{to{stroke-dashoffset:0}}\"}</style>\r\n      <polygon points={\"0,0 10,8 0,16\"} fill={\"red\"} />\r\n      <line\r\n        style={{\r\n          strokeDasharray: width + 7,\r\n          strokeDashoffset: width + 7,\r\n          animation: \"draw 1s linear forwards\",\r\n        }}\r\n        x1={0}\r\n        y1={8}\r\n        x2={width + 7}\r\n        y2={8}\r\n        strokeWidth={2.5}\r\n        stroke={\"red\"}\r\n      />\r\n    </svg>\r\n  );\r\n};\r\nexport default SvgLine;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { drawGame } from \"../../../../../_actions/player.actions\";\r\nimport { IMelodition } from \"../../../../../_types/player.types\";\r\nimport { AppActions, AppState } from \"../../../../../_types\";\r\nimport GameFront from \"./GameFront\";\r\nimport GameBack from \"./GameBack\";\r\nimport SvgLine from \"./SvgLine\";\r\n\r\ninterface Props {\r\n  Melo: IMelodition;\r\n  drawGame: (canvas: any) => void;\r\n}\r\n\r\nconst GameCanvas: React.FC<Props> = ({ Melo, drawGame }) => {\r\n  return (\r\n    <div\r\n      style={{\r\n        width: Melo.canvasSize?.width,\r\n        height: Melo.canvasSize?.height,\r\n        position: \"relative\",\r\n        boxShadow: \"inset 0 1px 4px 0px black\",\r\n      }}\r\n    >\r\n      <GameFront Melo={Melo} drawGame={drawGame} />\r\n      <GameBack Melo={Melo} />\r\n      {Melo.canvasSize && <SvgLine {...Melo.canvasSize} />}\r\n    </div>\r\n  );\r\n};\r\nconst mapStateToProps = (state: AppState) => ({\r\n  Melo: state.melodition,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AppActions>) => ({\r\n  drawGame: bindActionCreators(drawGame, dispatch),\r\n});\r\n\r\nconst connectedPianoCanvas = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(GameCanvas);\r\n\r\nexport default connectedPianoCanvas;\r\n","import React, { Component, ComponentType } from \"react\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { ArrowBackIos } from \"@material-ui/icons\";\r\nimport {\r\n  createStyles,\r\n  Grid,\r\n  Theme,\r\n  IconButton,\r\n  WithStyles,\r\n  withStyles,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  changeMode,\r\n  drawGame,\r\n  gamePiano,\r\n  resizePlayer,\r\n} from \"../../../../../_actions/player.actions\";\r\nimport { IMelodition } from \"../../../../../_types/player.types\";\r\nimport { AppActions, AppState } from \"../../../../../_types\";\r\nimport { ILesson } from \"../../../../../_types/lesson.types\";\r\nimport { ICourse } from \"../../../../../_types/course.types\";\r\nimport { PlayButton } from \"../../../Player/Buttons\";\r\nimport { LoadingCircle } from \"../../../Loadings\";\r\nimport Seekbar from \"../../../Player/SeekBar\";\r\nimport PlayerHeader from \"./PlayerHeader\";\r\nimport PianoCanvas from \"../GameCanvas\";\r\nimport Piano from \"..\";\r\n\r\nconst useStyles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      width: \"100vw\",\r\n      height: \"100vh\",\r\n      overflow: \"hidden\",\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n    main: {\r\n      width: \"100vw\",\r\n      overflow: \"hidden\",\r\n      minHeight: \"calc(100vh - 64px)\",\r\n      [theme.breakpoints.down(\"xs\")]: {\r\n        minHeight: \"calc(100vh - 56px)\",\r\n      },\r\n      display: \"flex\",\r\n    },\r\n    content: {\r\n      height: \"100%\",\r\n      width: \"100%\",\r\n      flexWrap: \"nowrap\",\r\n    },\r\n    doubleGrid: {\r\n      flexWrap: \"nowrap\",\r\n      width: \"100%\",\r\n      maxWidth: \"100%\",\r\n      \"& > div\": {\r\n        margin: \"auto\",\r\n        padding: 0,\r\n        height: \"100%\",\r\n      },\r\n    },\r\n    centerText: {\r\n      textAlign: \"center\",\r\n    },\r\n    loading: {\r\n      display: \"flex\",\r\n      height: \"83%\",\r\n      boxShadow: \"inset 0 1px 4px 0px black\",\r\n    },\r\n  });\r\n\r\ninterface LessonPlayerModeProps extends WithStyles<typeof useStyles> {\r\n  history: string;\r\n  lesson?: ILesson;\r\n  course?: ICourse;\r\n  theme: \"light\" | \"dark\";\r\n  melodition: IMelodition;\r\n}\r\n\r\ninterface States {\r\n  list: boolean;\r\n}\r\n\r\ntype Props = LessonPlayerModeProps & ReturnType<typeof mapDispatchToProps>;\r\n\r\nclass LessonPlayerMode extends Component<Props, States> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.state = {\r\n      list: false,\r\n    };\r\n  }\r\n\r\n  svgWidth = (i: number): number => {\r\n    const num = i === 1 ? 668 : 584;\r\n    return num;\r\n  };\r\n\r\n  toggleDrawer = (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n    if (event.type === \"keydown\") {\r\n      return;\r\n    }\r\n    if (this.state.list) {\r\n      this.setState({ list: false });\r\n    } else {\r\n      this.setState({ list: true });\r\n    }\r\n  };\r\n  playmodeChanger = () => {\r\n    this.props.changeMode(false);\r\n  };\r\n  componentDidMount() {\r\n    window.addEventListener(\"resize\", this.updateDimensions);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"resize\", this.updateDimensions);\r\n  }\r\n  updateDimensions = () => {\r\n    if (!this.props.melodition.pianoLoading) {\r\n      this.props.resizePlayer();\r\n    }\r\n  };\r\n  render() {\r\n    const { classes, melodition, lesson } = this.props;\r\n    return (\r\n      <div className={classes.root}>\r\n        <PlayerHeader modeChanger={this.playmodeChanger} lesson={lesson} />\r\n        {melodition.playMode ? (\r\n          <Grid container className={classes.main}>\r\n            <Grid item xs={1}>\r\n              <Grid\r\n                container\r\n                direction=\"column\"\r\n                justify=\"center\"\r\n                alignItems=\"center\"\r\n                className={classes.content}\r\n              >\r\n                <PlayButton loading={melodition.loading} />\r\n              </Grid>\r\n            </Grid>\r\n            <Grid item xs={10}>\r\n              <Grid\r\n                container\r\n                direction=\"column\"\r\n                justify=\"center\"\r\n                alignItems=\"center\"\r\n                className={classes.content}\r\n              >\r\n                <Grid item xs={12}>\r\n                  {melodition.pianoLoading ? (\r\n                    <LoadingCircle noPad />\r\n                  ) : (\r\n                    <PianoCanvas />\r\n                  )}\r\n                  <Piano />\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid item xs={1}>\r\n              <Grid\r\n                container\r\n                direction=\"column\"\r\n                justify=\"space-around\"\r\n                alignItems=\"center\"\r\n                className={classes.content}\r\n              >\r\n                <Seekbar />\r\n                <IconButton color=\"secondary\" aria-label=\"play mode\">\r\n                  <ArrowBackIos />\r\n                </IconButton>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        ) : (\r\n          <Grid container className={classes.main}>\r\n            <LoadingCircle />\r\n          </Grid>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (\r\n  state: AppState,\r\n  ownProps: Props\r\n): LessonPlayerModeProps => ({\r\n  history: state.router.location.pathname,\r\n  classes: ownProps.classes,\r\n  melodition: state.melodition,\r\n  theme: state.auth.theme,\r\n  lesson: state.single.lesson.data,\r\n  course: state.single.course.data,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AppActions>) => ({\r\n  changeMode: bindActionCreators(changeMode, dispatch),\r\n  drawGame: bindActionCreators(drawGame, dispatch),\r\n  drawPiano: bindActionCreators(gamePiano, dispatch),\r\n  resizePlayer: bindActionCreators(resizePlayer, dispatch),\r\n});\r\n\r\nexport default (connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(\r\n  withStyles(useStyles)(LessonPlayerMode)\r\n) as unknown) as ComponentType<unknown>;\r\n","import {\r\n  SHOW_SNACKBAR,\r\n  REMOVE_SNACKBAR,\r\n  DefaultSnackState,\r\n} from \"../_types/snackbar.types\";\r\n\r\nexport const snackbarShow = (snackbar: DefaultSnackState) => ({\r\n  type: SHOW_SNACKBAR,\r\n  snackbar: {\r\n    ...snackbar,\r\n  },\r\n})\r\n\r\nexport const snackbarRemove = (key: string) => ({ type: REMOVE_SNACKBAR, key })\r\n","import { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { AppState, AppActions } from \"../../../_types\";\r\nimport { ISnack } from \"../../../_types/snackbar.types\";\r\nimport { snackbarRemove } from \"../../../_actions/snackbar.actions\";\r\n\r\nlet displayed: string[] = [];\r\n\r\ninterface NotifierProps {\r\n  snackbars?: ISnack[];\r\n}\r\n\r\ntype Props = NotifierProps & LinkDispatchProps;\r\n\r\nconst Notifier = ({ snackbars, removeSnack }: Props): null => {\r\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n\r\n  const storeDisplayed = (id: string) => {\r\n    displayed = [...displayed, id];\r\n  };\r\n\r\n  const removeDisplayed = (id: string) => {\r\n    displayed = [...displayed.filter((key) => id !== key)];\r\n  };\r\n\r\n  useEffect(() => {\r\n    snackbars?.forEach(\r\n      ({ key, message, options = {}, dismissed = false }: ISnack) => {\r\n        if (dismissed) {\r\n          closeSnackbar(key);\r\n          return;\r\n        }\r\n        if (displayed.includes(key)) return;\r\n        enqueueSnackbar(message, {\r\n          key,\r\n          ...options,\r\n          onClose: (event, reason, myKey) => {\r\n            if (options.onClose) {\r\n              options.onClose(event, reason, myKey);\r\n            }\r\n          },\r\n          onExited: (event, myKey) => {\r\n            if (removeSnack) removeSnack(String(myKey));\r\n            removeDisplayed(String(myKey));\r\n          },\r\n        });\r\n        storeDisplayed(key);\r\n      }\r\n    );\r\n  }, [snackbars, closeSnackbar, enqueueSnackbar, removeSnack]);\r\n\r\n  return null;\r\n};\r\ninterface LinkDispatchProps {\r\n  removeSnack?: (key: string) => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState): NotifierProps => {\r\n  const { snackbar } = state;\r\n  return {\r\n    snackbars: snackbar.snackbars,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n  removeSnack: bindActionCreators(snackbarRemove, dispatch),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Notifier);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { push, goBack } from \"connected-react-router\";\r\nimport { ArrowForward } from \"@material-ui/icons\";\r\nimport { Theme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n  AppBar,\r\n  Link,\r\n  Paper,\r\n  Toolbar,\r\n  IconButton,\r\n  Divider,\r\n  Breadcrumbs,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  AllInbox,\r\n  LibraryMusic,\r\n  QueueMusic,\r\n  MusicNote,\r\n  EmojiSymbols,\r\n  Favorite,\r\n} from \"@material-ui/icons\";\r\nimport { AppActions, AppState } from \"../../_types\";\r\nimport { pathFinder } from \"../../_helpers/constants\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    bracrumbs: {\r\n      padding: theme.spacing(1, 2, 0, 2),\r\n      \"& > ol > li\": {\r\n        padding: theme.spacing(1, 0.5),\r\n      },\r\n    },\r\n    back: {\r\n      margin: theme.spacing(0, 2),\r\n    },\r\n  })\r\n);\r\n\r\nconst pages: any = {\r\n  post: <AllInbox />,\r\n  guide: <LibraryMusic />,\r\n  course: <QueueMusic />,\r\n  lesson: <MusicNote />,\r\n  exercise: <EmojiSymbols />,\r\n  favorite: <Favorite />,\r\n};\r\n\r\ninterface IBreadcrumbs {\r\n  pathname: string;\r\n  single: any;\r\n}\r\n\r\ninterface ILinksPath {\r\n  name: \"home\";\r\n  url: \"/\";\r\n}\r\n\r\ntype Props = IBreadcrumbs & LinkDispatchProps;\r\n\r\nconst Breadcrumb = (props: Props) => {\r\n  const { single, pathname, push, back } = props;\r\n\r\n  const [linkPath, setLinkPath] = useState([] as ILinksPath[]);\r\n\r\n  const [trigger, setTrigger] = useState(false);\r\n\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    const path = pathFinder(pathname);\r\n    const keys = Object.keys(path);\r\n    const linkArray: any[] = [];\r\n    keys.forEach((key, i) => {\r\n      const post = single[keys[i - 1]];\r\n      const title = post?.data?.title;\r\n      let name = i === 0 ? pages[key] : title ? title : \"...\";\r\n      linkArray[i] = {\r\n        url: pathname\r\n          .split(\"/\")\r\n          .slice(0, i + 2)\r\n          .join(\"/\"),\r\n        name: name,\r\n      };\r\n    });\r\n    if (path.length > 0) {\r\n      setTrigger(true);\r\n      setLinkPath(linkArray);\r\n    }\r\n    return () => {\r\n      setTrigger(false);\r\n    };\r\n  }, [pathname, single]);\r\n\r\n  const handleClick = (\r\n    event: React.MouseEvent<HTMLAnchorElement, MouseEvent>\r\n  ) => {\r\n    event.preventDefault();\r\n    push(event.currentTarget.pathname);\r\n  };\r\n\r\n  return trigger ? (\r\n    <AppBar position=\"static\">\r\n      <Paper square style={{ overflow: \"hidden\" }}>\r\n        <Toolbar disableGutters>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"menu\"\r\n            onClick={back}\r\n            className={classes.back}\r\n          >\r\n            <ArrowForward />\r\n          </IconButton>\r\n          <Divider orientation=\"vertical\" flexItem />\r\n          <Breadcrumbs aria-label=\"breadcrumb\" className={classes.bracrumbs}>\r\n            {linkPath.map((link, i) => (\r\n              <Link\r\n                key={i + link.name}\r\n                href={link.url}\r\n                color=\"inherit\"\r\n                aria-label={link.name}\r\n                onClick={handleClick}\r\n              >\r\n                {link.name}\r\n              </Link>\r\n            ))}\r\n          </Breadcrumbs>\r\n        </Toolbar>\r\n      </Paper>\r\n    </AppBar>\r\n  ) : null;\r\n};\r\n\r\ninterface LinkDispatchProps {\r\n  push: (key: string) => void;\r\n  back: () => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState, ownProps: {}): IBreadcrumbs => {\r\n  const { pathname } = state.router.location;\r\n  return {\r\n    pathname,\r\n    single: state.single,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n  push: bindActionCreators(push, dispatch),\r\n  back: bindActionCreators(goBack, dispatch),\r\n});\r\n\r\nconst conectedBreadcrumb = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Breadcrumb);\r\n\r\nexport default conectedBreadcrumb;\r\n","import { createMuiTheme } from \"@material-ui/core\";\r\n\r\nexport const globalStyle = createMuiTheme(\r\n    {\r\n        direction: \"rtl\",\r\n        typography: {\r\n            fontFamily: \"Vazir\",\r\n        },\r\n        overrides: {\r\n            MuiBreadcrumbs: {\r\n                root: {\r\n                    width: 'calc(100vw - 64px)',\r\n                },\r\n                ol: {\r\n                    flexWrap: \"nowrap\",\r\n                    overflowX: \"scroll\",\r\n                    scrollbarWidth: \"none\",\r\n                    whiteSpace: \"nowrap\",\r\n                    '&::-webkit-scrollbar': {\r\n                        display: \"none\"\r\n                    }\r\n                }\r\n            },\r\n            MuiCardActions: {\r\n                root: {\r\n                    padding: undefined\r\n                }\r\n            },\r\n            MuiCssBaseline: {\r\n                '@global': {\r\n                    '*': {\r\n                        scrollbarWidth: 'thin',\r\n                        scrollbarColor: \"rgb(245, 0, 87) #0000\",\r\n                    },\r\n                    '*::-webkit-scrollbar': {\r\n                        width: '10px'\r\n                    },\r\n                    '*::-webkit-scrollbar-track': {\r\n                        '-webkit-border-radius': '10px',\r\n                        borderRadius: '8px',\r\n                    },\r\n                    '*::-webkit-scrollbar-thumb': {\r\n                        '-webkit-border-radius': '10px',\r\n                        borderRadius: '10px',\r\n                        background: 'rgb(245, 0, 87)',\r\n                    },\r\n                    '*::-webkit-scrollbar-thumb:window-inactive': {\r\n                        background: 'rgb(245, 0, 87)'\r\n                    }\r\n                }\r\n            },\r\n            MuiIconButton: {\r\n                colorSecondary: {\r\n                    \"&:hover\": {\r\n                        backgroundColor: \"rgb(200 200 200 / 0.5)\",\r\n                    },\r\n                },\r\n            },\r\n        },\r\n    })\r\n\r\n","import { createMuiTheme } from \"@material-ui/core\";\r\nimport { blue, pink, red } from \"@material-ui/core/colors\";\r\nimport { faIR } from \"@material-ui/core/locale\";\r\nimport { globalStyle } from \"./GlobalTheme\";\r\n\r\nexport const DarkTheme = createMuiTheme(\r\n    {\r\n        ...globalStyle,\r\n        palette: {\r\n            type: \"dark\",\r\n            primary: blue,\r\n            error: red,\r\n            secondary: {\r\n                main: pink[300],\r\n            },\r\n        },\r\n    },\r\n    faIR\r\n);\r\n","import { createMuiTheme } from \"@material-ui/core\";\r\nimport { red } from \"@material-ui/core/colors\";\r\nimport { faIR } from \"@material-ui/core/locale\";\r\nimport { globalStyle } from \"./GlobalTheme\";\r\n\r\nexport const LightTheme = createMuiTheme(\r\n  {\r\n    ...globalStyle,\r\n    palette: {\r\n      error: red,\r\n    },\r\n  },\r\n  faIR\r\n);\r\n","import React, { useEffect } from \"react\";\r\nimport { Avatar, createStyles, makeStyles, Theme } from \"@material-ui/core\";\r\nimport clsx from \"clsx\";\r\nimport {\r\n  AccountCircle,\r\n  Star,\r\n  Notifications,\r\n  MoreHoriz,\r\n} from \"@material-ui/icons/\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { AppBarInterface } from \"./MainAppBar\";\r\nimport { store } from \"../../../_store/store.config\";\r\nimport { profileRequest } from \"../../../_actions/profile.actions\";\r\nimport { INFO_FAILURE } from \"../../../_types/profile.types\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    sectionDesktop: {\r\n      display: \"none\",\r\n      [theme.breakpoints.up(\"sm\")]: {\r\n        display: \"flex\",\r\n      },\r\n    },\r\n    sectionMobile: {\r\n      display: \"flex\",\r\n      [theme.breakpoints.up(\"sm\")]: {\r\n        display: \"none\",\r\n      },\r\n    },\r\n    avatarSmall: {\r\n      color: theme.palette.text.primary,\r\n      backgroundColor: theme.palette.background.paper,\r\n      width: theme.spacing(3),\r\n      height: theme.spacing(3),\r\n    },\r\n    imageBorder: {\r\n      border: `2px solid ${theme.palette.text.primary}`,\r\n    },\r\n  })\r\n);\r\n\r\nconst IconController = ({\r\n  state,\r\n  dispatch,\r\n  loggedIn,\r\n  profile,\r\n}: AppBarInterface) => {\r\n  useEffect(() => {\r\n    if (loggedIn) {\r\n      if (!profile) store.dispatch(profileRequest());\r\n    } else {\r\n      store.dispatch({ type: INFO_FAILURE });\r\n    }\r\n  }, [loggedIn, profile]);\r\n  const classes = useStyles();\r\n  const { menuId, mobileMenuId } = state;\r\n  const profileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\r\n    dispatch({ type: \"profile-anchor\", payload: event.currentTarget });\r\n  };\r\n  const mobileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\r\n    dispatch({ type: \"mobile-anchor\", payload: event.currentTarget });\r\n  };\r\n  const image = profile?.image_select;\r\n  return loggedIn ? (\r\n    <React.Fragment>\r\n      <div className={classes.sectionDesktop}>\r\n        <IconButton aria-label=\"show 4 new mails\" color=\"inherit\">\r\n          <Badge badgeContent={4} color=\"secondary\">\r\n            <Star />\r\n          </Badge>\r\n        </IconButton>\r\n        <IconButton aria-label=\"show 17 new alerts\" color=\"inherit\">\r\n          <Badge badgeContent={17} color=\"secondary\">\r\n            <Notifications />\r\n          </Badge>\r\n        </IconButton>\r\n        <IconButton\r\n          edge=\"end\"\r\n          aria-label=\"account of current user\"\r\n          aria-controls={menuId}\r\n          aria-haspopup=\"true\"\r\n          onClick={profileMenuOpen}\r\n          color=\"inherit\"\r\n        >\r\n          <Avatar\r\n            className={clsx(classes.avatarSmall, {\r\n              [classes.imageBorder]: image,\r\n            })}\r\n            src={image ? image : undefined}\r\n          >\r\n            <AccountCircle />\r\n          </Avatar>\r\n        </IconButton>\r\n      </div>\r\n      <div className={classes.sectionMobile}>\r\n        <IconButton\r\n          aria-label=\"show more\"\r\n          aria-controls={mobileMenuId}\r\n          aria-haspopup=\"true\"\r\n          onClick={mobileMenuOpen}\r\n          color=\"inherit\"\r\n        >\r\n          <MoreHoriz />\r\n        </IconButton>\r\n      </div>\r\n    </React.Fragment>\r\n  ) : (\r\n    <IconButton\r\n      edge=\"end\"\r\n      aria-label=\"account of current user\"\r\n      aria-controls={menuId}\r\n      aria-haspopup=\"true\"\r\n      onClick={profileMenuOpen}\r\n      color=\"inherit\"\r\n    >\r\n      <AccountCircle />\r\n    </IconButton>\r\n  );\r\n};\r\nexport default IconController;\r\n","import React from \"react\";\r\nimport InputBase from \"@material-ui/core/InputBase\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport {\r\n  createStyles,\r\n  fade,\r\n  Theme,\r\n  WithStyles,\r\n  withStyles,\r\n} from \"@material-ui/core\";\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    search: {\r\n      position: \"relative\",\r\n      borderRadius: theme.shape.borderRadius,\r\n      backgroundColor: fade(theme.palette.common.white, 0.15),\r\n      \"&:hover\": {\r\n        backgroundColor: fade(theme.palette.common.white, 0.25),\r\n      },\r\n      width: \"100%\",\r\n      marginLeft: theme.spacing(1),\r\n      [theme.breakpoints.up(420)]: {\r\n        width: \"auto\",\r\n      },\r\n    },\r\n    searchIcon: {\r\n      padding: theme.spacing(0, 2),\r\n      height: \"100%\",\r\n      position: \"absolute\",\r\n      top: 0,\r\n      pointerEvents: \"none\",\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n      cursor: \"pointer\",\r\n    },\r\n    inputRoot: {\r\n      color: \"inherit\",\r\n    },\r\n    inputInput: {\r\n      padding: theme.spacing(1, 1, 1, 0),\r\n      // vertical padding + font size from searchIcon\r\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n      transition: theme.transitions.create(\"width\"),\r\n      width: \"0\",\r\n      \"&:focus\": {\r\n        width: \"12ch\",\r\n      },\r\n      [theme.breakpoints.down(420)]: {\r\n        width: \"7ch\",\r\n      },\r\n      [theme.breakpoints.down(350)]: {\r\n        width: \"0\",\r\n      },\r\n    },\r\n  });\r\n\r\ninterface SearchProps extends WithStyles<typeof styles> {}\r\ninterface SearchStates {\r\n  query: string;\r\n  results: any;\r\n  loading: boolean;\r\n  message: string;\r\n}\r\n\r\nclass SearchInput extends React.Component<SearchProps, SearchStates> {\r\n  constructor(props: SearchProps) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      query: \"\",\r\n      results: {},\r\n      loading: false,\r\n      message: \"\",\r\n    };\r\n  }\r\n  handleOnInputChange = (\r\n    event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\r\n  ) => {\r\n    const query = event.target.value;\r\n    this.setState({ query, loading: true });\r\n  };\r\n\r\n  fetchSearchResult = () => {};\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { query } = this.state;\r\n    return (\r\n      <div className={classes.search}>\r\n        <div className={classes.searchIcon}>\r\n          <SearchIcon />\r\n        </div>\r\n        <InputBase\r\n          placeholder=\"جستجو...\"\r\n          classes={{\r\n            root: classes.inputRoot,\r\n            input: classes.inputInput,\r\n          }}\r\n          inputProps={{ \"aria-label\": \"search\" }}\r\n          type=\"text\"\r\n          value={query}\r\n          onChange={(event) => this.handleOnInputChange(event)}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default withStyles(styles)(SearchInput);\r\n","import React from \"react\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport { Badge, IconButton, Menu, MenuItem } from \"@material-ui/core\";\r\nimport { AccountCircle, Stars, Notifications } from \"@material-ui/icons\";\r\nimport { AppBarInterface } from \"./MainAppBar\";\r\n\r\nconst MobileMenu = (props: AppBarInterface) => {\r\n  const { mobileMenuId, mobileMoreAnchor } = props.state;\r\n  const mobileMenuIsOpen = Boolean(mobileMoreAnchor);\r\n  const handleProfileMenu = (\r\n    event: React.MouseEvent<HTMLLIElement, MouseEvent>\r\n  ) => {\r\n    props.dispatch({ type: \"profile-anchor\", payload: event.currentTarget });\r\n  };\r\n  const handleMobileMenu = () => {\r\n    props.dispatch({ type: \"mobile-close\" });\r\n  };\r\n  const handleSignOut = () => {\r\n    handleMobileMenu();\r\n    if (props.logout) props.logout();\r\n  };\r\n  return props.loggedIn ? (\r\n    <Menu\r\n      anchorEl={mobileMoreAnchor}\r\n      anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      id={mobileMenuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      open={mobileMenuIsOpen}\r\n      onClose={handleMobileMenu}\r\n    >\r\n      <MenuItem>\r\n        <IconButton aria-label=\"show 4 new mails\" color=\"inherit\">\r\n          <Badge badgeContent={4} color=\"secondary\">\r\n            <Stars />\r\n          </Badge>\r\n        </IconButton>\r\n        <p>Messages</p>\r\n      </MenuItem>\r\n      <MenuItem>\r\n        <IconButton aria-label=\"show 11 new alerts\" color=\"inherit\">\r\n          <Badge badgeContent={11} color=\"secondary\">\r\n            <Notifications />\r\n          </Badge>\r\n        </IconButton>\r\n        <p>Notification</p>\r\n      </MenuItem>\r\n      <MenuItem onClick={handleProfileMenu}>\r\n        <IconButton\r\n          aria-label=\"account of current user\"\r\n          aria-controls=\"primary-search-account-menu\"\r\n          aria-haspopup=\"true\"\r\n          color=\"inherit\"\r\n        >\r\n          <AccountCircle />\r\n        </IconButton>\r\n        <p>Account</p>\r\n      </MenuItem>\r\n      <MenuItem onClick={handleSignOut}>\r\n        <IconButton\r\n          aria-label=\"account of current user\"\r\n          aria-controls=\"primary-search-account-menu\"\r\n          aria-haspopup=\"true\"\r\n          color=\"inherit\"\r\n        >\r\n          <AccountCircle />\r\n        </IconButton>\r\n        <p>Sign Out</p>\r\n      </MenuItem>\r\n    </Menu>\r\n  ) : (\r\n    <Menu\r\n      anchorEl={mobileMoreAnchor}\r\n      anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      id={mobileMenuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      open={mobileMenuIsOpen}\r\n      onClose={handleMobileMenu}\r\n    >\r\n      <Link to=\"/login\" component={RouterLink} color=\"secondary\">\r\n        <MenuItem onClick={handleMobileMenu}>\r\n          <IconButton\r\n            aria-label=\"account of current user\"\r\n            aria-controls=\"primary-search-account-menu\"\r\n            aria-haspopup=\"true\"\r\n            color=\"inherit\"\r\n          >\r\n            <AccountCircle />\r\n          </IconButton>\r\n          <p>ورود</p>\r\n        </MenuItem>\r\n      </Link>\r\n      <Link to=\"/register\" component={RouterLink} color=\"secondary\">\r\n        <MenuItem onClick={handleMobileMenu}>\r\n          <IconButton\r\n            aria-label=\"account of current user\"\r\n            aria-controls=\"primary-search-account-menu\"\r\n            aria-haspopup=\"true\"\r\n            color=\"inherit\"\r\n          >\r\n            <AccountCircle />\r\n          </IconButton>\r\n          <p>ثبت نام</p>\r\n        </MenuItem>\r\n      </Link>\r\n    </Menu>\r\n  );\r\n};\r\nexport default MobileMenu;\r\n","import React from \"react\";\r\nimport {\r\n  SettingsApplications,\r\n  AccountBox,\r\n  Home,\r\n  FileCopy,\r\n  Info,\r\n} from \"@material-ui/icons\";\r\n\r\nexport const sideLink = {\r\n  in: [\r\n    { name: \"پروفایل\", to: \"/profile\", icon: <SettingsApplications /> },\r\n    { name: \"کابری من\", to: \"/dashboard\", icon: <AccountBox /> },\r\n  ],\r\n  out: [\r\n    { name: \"ورود\", to: \"/login\", icon: <AccountBox /> },\r\n    { name: \"ثبت نام\", to: \"/register\", icon: <AccountBox /> },\r\n  ],\r\n};\r\nexport const links = [\r\n  { to: \"/\", title: \"خانه‌\", icon: <Home /> },\r\n  { to: \"/learning\", title: \"درس ها‌\", icon: <FileCopy /> },\r\n  { to: \"/about\", title: \"درباره‌\", icon: <Info /> },\r\n];\r\n","import React from \"react\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport { sideLink } from \"./Links\";\r\nimport { AppBarInterface } from \"./MainAppBar\";\r\n\r\nconst MenuRender = (props: AppBarInterface) => {\r\n  const { loggedIn, state, logout, dispatch } = props;\r\n  const { profileMoreAnchor, menuId } = state;\r\n  const profileMenuIsOpen = Boolean(profileMoreAnchor);\r\n  const handleSignOut = () => {\r\n    if (logout) logout();\r\n    handleDrawerClose();\r\n  };\r\n  const handleDrawerClose = () => {\r\n    dispatch({ type: \"profile-close\" });\r\n  };\r\n  const botLinks = loggedIn ? sideLink.in : sideLink.out;\r\n  return (\r\n    <Menu\r\n      anchorEl={profileMoreAnchor}\r\n      anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      id={menuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      open={profileMenuIsOpen}\r\n      onClose={handleDrawerClose}\r\n    >\r\n      {botLinks.map((item, index) => (\r\n        <Link\r\n          to={item.to}\r\n          key={\"menuitem-\" + index}\r\n          onClick={handleDrawerClose}\r\n          component={RouterLink}\r\n          color=\"secondary\"\r\n        >\r\n          <MenuItem onClick={handleDrawerClose}>{item.name}</MenuItem>\r\n        </Link>\r\n      ))}\r\n      {loggedIn && <MenuItem onClick={handleSignOut}>خروج</MenuItem>}\r\n    </Menu>\r\n  );\r\n};\r\nexport default MenuRender;\r\n","import React from \"react\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport {\r\n  createStyles,\r\n  makeStyles,\r\n  Theme,\r\n  useTheme,\r\n} from \"@material-ui/core/styles\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport List from \"@material-ui/core/List\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport {\r\n  Brightness7,\r\n  Brightness4,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n} from \"@material-ui/icons\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport { links, sideLink } from \"./Links\";\r\nimport { AppBarInterface } from \"./MainAppBar\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n    },\r\n    hide: {\r\n      display: \"none\",\r\n    },\r\n    drawer: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n    drawerPaper: {\r\n      width: drawerWidth,\r\n    },\r\n    drawerHeader: {\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      padding: theme.spacing(0, 1),\r\n      // necessary for content to be below app bar\r\n      ...theme.mixins.toolbar,\r\n      justifyContent: \"flex-start\",\r\n    },\r\n    toolbar: {\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"space-between\",\r\n      padding: theme.spacing(0, 1, 0, 4),\r\n      // necessary for content to be below app bar\r\n      ...theme.mixins.toolbar,\r\n    },\r\n  })\r\n);\r\n\r\nexport default function MiniDrawer({\r\n  state,\r\n  loggedIn,\r\n  theme,\r\n  changeTheme,\r\n  dispatch,\r\n}: AppBarInterface) {\r\n  const classes = useStyles();\r\n  const { direction } = useTheme();\r\n  const handleDrawerClose = () => {\r\n    dispatch({ type: \"menu-toggle\" });\r\n  };\r\n\r\n  const handleThemeChanger = () => {\r\n    if (theme === \"light\") changeTheme(\"dark\");\r\n    else changeTheme(\"light\");\r\n  };\r\n\r\n  const botLinks = loggedIn ? sideLink.in : sideLink.out;\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <Drawer\r\n        className={classes.drawer}\r\n        variant=\"temporary\"\r\n        anchor={direction === \"ltr\" ? \"right\" : \"left\"}\r\n        open={state.menuIsOpen}\r\n        onClose={handleDrawerClose}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n      >\r\n        <div className={classes.toolbar}>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleThemeChanger}\r\n            edge=\"start\"\r\n          >\r\n            {theme === \"light\" ? <Brightness7 /> : <Brightness4 />}\r\n          </IconButton>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            {direction === \"ltr\" ? <ChevronLeft /> : <ChevronRight />}\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        <List>\r\n          {links.map((text, index) => (\r\n            <Link\r\n              to={text.to}\r\n              key={\"sidelink-\" + index}\r\n              onClick={handleDrawerClose}\r\n              component={RouterLink}\r\n              color=\"secondary\"\r\n            >\r\n              <ListItem button>\r\n                <ListItemIcon>{text.icon}</ListItemIcon>\r\n                <ListItemText primary={text.title} />\r\n              </ListItem>\r\n            </Link>\r\n          ))}\r\n        </List>\r\n        <Divider />\r\n        <List>\r\n          {botLinks.map((item, index) => (\r\n            <Link\r\n              to={item.to}\r\n              key={\"sidelink-\" + index}\r\n              onClick={handleDrawerClose}\r\n              component={RouterLink}\r\n              color=\"secondary\"\r\n            >\r\n              <ListItem button>\r\n                <ListItemIcon>{item.icon}</ListItemIcon>\r\n                <ListItemText primary={item.name} />\r\n              </ListItem>\r\n            </Link>\r\n          ))}\r\n        </List>\r\n      </Drawer>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport { createStyles, Theme, Collapse } from \"@material-ui/core\";\r\nimport { links } from \"./Links\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"none\",\r\n      [theme.breakpoints.up(420)]: {\r\n        marginLeft: theme.spacing(1),\r\n        display: \"inline-block\",\r\n      },\r\n      [theme.breakpoints.up(\"sm\")]: {\r\n        marginLeft: theme.spacing(2),\r\n        display: \"inline-block\",\r\n      },\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        marginLeft: theme.spacing(4),\r\n        display: \"inline-block\",\r\n      },\r\n      [theme.breakpoints.up(\"lg\")]: {\r\n        marginLeft: theme.spacing(8),\r\n        display: \"inline-block\",\r\n      },\r\n    },\r\n    linkKeeper: {\r\n      overflow: \"hidden\",\r\n      height: \"1.2em\",\r\n      lineHeight: \"1.2em\",\r\n    },\r\n    links: {\r\n      textAlign: \"center\",\r\n      flexGrow: 1,\r\n    },\r\n  })\r\n);\r\n\r\ninterface LinkConstProps {\r\n  openStatus: boolean;\r\n}\r\n\r\nconst LinkConst = ({ openStatus }: LinkConstProps) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <Collapse in={!openStatus} className={classes.links}>\r\n      <div className={classes.linkKeeper}>\r\n        {links.map((link, i) => (\r\n          <Link\r\n            key={\"link-\" + i}\r\n            to={link.to}\r\n            className={classes.root}\r\n            component={RouterLink}\r\n            color=\"secondary\"\r\n          >\r\n            {link.title}\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    </Collapse>\r\n  );\r\n};\r\nexport default LinkConst;\r\n","import React, { Dispatch } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport { makeStyles, Theme, createStyles } from \"@material-ui/core/styles\";\r\nimport { HeaderState, HeaderAction } from \"../../../_reducers/header.reducer\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport IconController from \"./LeftIcons\";\r\nimport { IHeaderProps } from \"./Header\";\r\nimport SearchInput from \"./SearchInput\";\r\nimport MobileMenu from \"./MobileMenu\";\r\nimport MenuRender from \"./MenuRender\";\r\nimport MiniDrawer from \"./MiniDrawer\";\r\nimport LinkConst from \"./LinkConst\";\r\n\r\nconst drawerWidth = 240;\r\nconst version = process.env.REACT_APP_VERSION;\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    appBar: {\r\n      zIndex: theme.zIndex.drawer + 1,\r\n      transition: theme.transitions.create([\"width\", \"margin\"], {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n    },\r\n    appBarShift: {\r\n      marginLeft: drawerWidth,\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n      transition: theme.transitions.create([\"width\", \"margin\"], {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n    },\r\n    hide: {\r\n      display: \"none\",\r\n    },\r\n    menuButton: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n  })\r\n);\r\n\r\nexport type AppBarInterface = AppBarProps & IHeaderProps;\r\n\r\ninterface AppBarProps {\r\n  state: HeaderState;\r\n  dispatch: Dispatch<HeaderAction>;\r\n}\r\nconst MainAppBar = (props: AppBarInterface) => {\r\n  const classes = useStyles();\r\n\r\n  const { menuIsOpen } = props.state;\r\n\r\n  const handleDrawerOpen = () => {\r\n    props.dispatch({ type: \"menu-toggle\" });\r\n  };\r\n\r\n  return (\r\n    <AppBar\r\n      color={\"default\"}\r\n      position=\"relative\"\r\n      className={clsx(classes.appBar, {\r\n        [classes.appBarShift]: menuIsOpen,\r\n      })}\r\n    >\r\n      <Toolbar>\r\n        <IconButton\r\n          color=\"inherit\"\r\n          aria-label=\"open drawer\"\r\n          onClick={handleDrawerOpen}\r\n          edge=\"start\"\r\n          className={clsx(classes.menuButton, {\r\n            [classes.hide]: menuIsOpen,\r\n          })}\r\n        >\r\n          <MenuIcon />\r\n        </IconButton>\r\n        <Link component={RouterLink} color=\"secondary\" to=\"/\">\r\n          ملودیشن\r\n        </Link>\r\n        <p onClick={() => sessionStorage.clear()}>({version})</p>\r\n        <LinkConst openStatus={menuIsOpen} />\r\n        <SearchInput />\r\n        <IconController {...props} />\r\n      </Toolbar>\r\n      <MiniDrawer {...props} />\r\n      <MobileMenu {...props} />\r\n      <MenuRender {...props} />\r\n    </AppBar>\r\n  );\r\n};\r\nexport default MainAppBar;\r\n","export interface HeaderState {\r\n    menuId: string;\r\n    menuIsOpen: boolean;\r\n    mobileMenuId: string;\r\n    profileMoreAnchor: null | HTMLElement;\r\n    mobileMoreAnchor: null | HTMLElement;\r\n}\r\n\r\nexport const initialState: HeaderState = {\r\n    menuId: \"primary-search-account-menu\",\r\n    mobileMenuId: \"primary-search-account-menu-mobile\",\r\n    profileMoreAnchor: null,\r\n    mobileMoreAnchor: null,\r\n    menuIsOpen: false,\r\n};\r\n\r\nexport type HeaderAction =\r\n    | { type: \"menu-toggle\" | \"profile-close\" | \"mobile-close\" }\r\n    | { type: \"field\"; fieldName: string; payload: string }\r\n    | { type: \"loggedIn\"; payload: boolean }\r\n    | { type: \"profile-anchor\"; payload: null | HTMLElement }\r\n    | { type: \"mobile-anchor\"; payload: null | HTMLElement };\r\n\r\nexport default function HeaderReducer(state: HeaderState, action: HeaderAction) {\r\n    switch (action.type) {\r\n        case \"field\":\r\n            return {\r\n                ...state,\r\n                [action.fieldName]: action.payload,\r\n            };\r\n        case \"menu-toggle\":\r\n            return {\r\n                ...state,\r\n                menuIsOpen: !state.menuIsOpen,\r\n            };\r\n        case \"profile-close\":\r\n            return {\r\n                ...state,\r\n                profileMoreAnchor: null,\r\n            };\r\n        case \"mobile-close\":\r\n            return {\r\n                ...state,\r\n                mobileMoreAnchor: null,\r\n            };\r\n        case \"mobile-anchor\":\r\n            return {\r\n                ...state,\r\n                mobileMoreAnchor: action.payload,\r\n            };\r\n        case \"profile-anchor\":\r\n            return {\r\n                ...state,\r\n                profileMoreAnchor: action.payload,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import React, { ComponentType, useReducer } from \"react\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { AppState } from \"../../../_types\";\r\nimport { AppActions } from \"../../../_types\";\r\nimport MainAppBar from \"./MainAppBar\";\r\nimport { changeTheme, logoutRequest } from \"../../../_actions/user.actions\";\r\nimport HeaderReducer, { initialState } from \"../../../_reducers/header.reducer\";\r\nimport { IProfile } from \"../../../_types/profile.types\";\r\n\r\ninterface MapProps {\r\n  loggedIn: boolean;\r\n  profile?: IProfile;\r\n  theme: \"light\" | \"dark\";\r\n}\r\n\r\nexport type IHeaderProps = LinkDispatchProps & MapProps;\r\n\r\nconst Header: React.FC<IHeaderProps> = ({ ...rest }) => {\r\n  const [state, dispatch] = useReducer(HeaderReducer, initialState);\r\n\r\n  return <MainAppBar state={state} dispatch={dispatch} {...rest} />;\r\n};\r\n\r\ninterface LinkDispatchProps {\r\n  logout: () => void;\r\n  changeTheme: (theme: \"light\" | \"dark\") => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState): MapProps => {\r\n  const { loggedIn, theme } = state.auth;\r\n  return { loggedIn, theme, profile: state.user.data };\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n  logout: bindActionCreators(logoutRequest, dispatch),\r\n  changeTheme: bindActionCreators(changeTheme, dispatch),\r\n});\r\n\r\nexport default (connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Header) as unknown) as ComponentType<unknown>;\r\n","import React, { Component, ComponentType } from \"react\";\r\nimport { create } from \"jss\";\r\nimport jssRTL from \"jss-rtl\";\r\nimport { connect } from \"react-redux\";\r\nimport { ConnectedRouter } from \"connected-react-router\";\r\nimport { SnackbarProvider } from \"notistack\";\r\nimport { history } from \"./_store/store.config\";\r\nimport AppRouter from \"./router\";\r\nimport \"./App.css\";\r\nimport {\r\n  Box,\r\n  createStyles,\r\n  jssPreset,\r\n  Paper,\r\n  responsiveFontSizes,\r\n  Slide,\r\n  StylesProvider,\r\n  Theme,\r\n  ThemeProvider,\r\n  withStyles,\r\n  WithStyles,\r\n} from \"@material-ui/core\";\r\nimport LessonPlayerMode from \"./components/Layout/Instruments/Piano/PlayMode/LessonPlayMode\";\r\nimport Notifier from \"./components/Layout/SnackBar/Notifier\";\r\nimport Breadcrumb from \"./components/Layout/Breadcrumbs\";\r\nimport { LightTheme, DarkTheme } from \"./components/Layout/Themes\";\r\nimport Header from \"./components/Layout/Header/Header\";\r\nimport { requsetMidi } from \"./_actions/midi.actions\";\r\nimport { AppState } from \"./_types\";\r\n\r\nconst jss = create({ plugins: [...jssPreset().plugins, jssRTL()] });\r\n\r\nconst useStyles = (theme: Theme) =>\r\n  createStyles({\r\n    app: {\r\n      width: \"100vw\",\r\n      height: \"100vh\",\r\n      overflowX: \"hidden\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      overflow: \"hidden\",\r\n    },\r\n    mainBody: {\r\n      height: \"inherit\",\r\n      overflowX: \"hidden\",\r\n      overflowY: \"auto\",\r\n    },\r\n  });\r\n\r\ninterface AppProps extends WithStyles<typeof useStyles> {\r\n  playMode: boolean;\r\n  theme: \"light\" | \"dark\";\r\n}\r\ntype Props = AppProps & LinkDispatchProps;\r\n\r\nclass App extends Component<Props> {\r\n  componentDidMount() {\r\n    if (typeof window.orientation === \"undefined\") requsetMidi();\r\n  }\r\n  render() {\r\n    const { theme, playMode, classes } = this.props;\r\n    const currentTheme = theme === \"light\" ? LightTheme : DarkTheme;\r\n    const responsTheme = responsiveFontSizes(currentTheme);\r\n    return (\r\n      <ConnectedRouter history={history}>\r\n        <StylesProvider jss={jss}>\r\n          <ThemeProvider theme={responsTheme}>\r\n            <SnackbarProvider>\r\n              <Slide direction=\"right\" in={playMode} mountOnEnter unmountOnExit>\r\n                <Paper>\r\n                  <LessonPlayerMode />\r\n                </Paper>\r\n              </Slide>\r\n              <Box className={classes.app}>\r\n                <Header />\r\n                <Breadcrumb />\r\n                <Notifier />\r\n                <Box id=\"main-body\" className={classes.mainBody}>\r\n                  <AppRouter />\r\n                </Box>\r\n              </Box>\r\n            </SnackbarProvider>\r\n          </ThemeProvider>\r\n        </StylesProvider>\r\n      </ConnectedRouter>\r\n    );\r\n  }\r\n}\r\n\r\ninterface LinkDispatchProps {}\r\n\r\nconst mapStateToProps = (state: AppState, ownProps: Props) => {\r\n  const { theme } = state.auth;\r\n  const { playMode } = state.melodition;\r\n  return { theme, playMode, classes: ownProps.classes };\r\n};\r\n\r\nconst connectedApp = (connect(\r\n  mapStateToProps,\r\n  {}\r\n)(withStyles(useStyles)(App)) as unknown) as ComponentType<unknown>;\r\n\r\nexport default connectedApp;\r\n","import App from \"./App\";\r\nimport React from \"react\";\r\nimport { render } from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from \"./_store/store.config\";\r\n\r\nrender(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n","import React from \"react\";\r\nimport { Close } from \"@material-ui/icons\";\r\nimport { store } from \"../../../_store/store.config\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport { IconButton, Slide, Link, Button } from \"@material-ui/core\";\r\nimport { TransitionProps } from \"@material-ui/core/transitions/transition\";\r\nimport { UniqId } from \"../../../_helpers/constants\";\r\nimport {\r\n  ISnack,\r\n  CLEAR_SNACKBAR,\r\n  SHOW_SNACKBAR,\r\n} from \"../../../_types/snackbar.types\";\r\nimport { VariantType } from \"notistack\";\r\n\r\nexport const errorHandler = (err: any, target?: any): void => {\r\n  let error = err;\r\n  let link;\r\n  if (typeof err !== \"string\") error = err.response?.data.message.toString();\r\n  if (error) {\r\n    if (target) store.dispatch({ type: target, error });\r\n    if (err.response?.data.button) link = err.response?.data.button;\r\n    store.dispatch({\r\n      type: SHOW_SNACKBAR,\r\n      snackbar: snackBarMaker(error, \"error\", link),\r\n    });\r\n  }\r\n};\r\nexport const loginErrorHandler = (target: any, message = \"Please login!\") => {\r\n  errorHandler(\r\n    {\r\n      response: {\r\n        data: {\r\n          button: { url: \"/login\", msg: \"Login\" },\r\n          message,\r\n        },\r\n      },\r\n    },\r\n    target\r\n  );\r\n};\r\n\r\nexport const seccessHandler = (err: any, target?: any): void => {\r\n  let error = err;\r\n  if (typeof err !== \"string\") error = err.response?.data.message.toString();\r\n  if (target) store.dispatch({ type: target, error });\r\n  store.dispatch({\r\n    type: SHOW_SNACKBAR,\r\n    snackbar: snackBarMaker(error, \"success\"),\r\n  });\r\n};\r\nexport const warningHandler = (err: any, target?: any): void => {\r\n  let error = err;\r\n  if (typeof err !== \"string\") error = err.response?.data.message.toString();\r\n  if (target) store.dispatch({ type: target, error });\r\n  store.dispatch({\r\n    type: SHOW_SNACKBAR,\r\n    snackbar: snackBarMaker(error, \"warning\"),\r\n  });\r\n};\r\n\r\nexport const snackBarMaker = (\r\n  message: string,\r\n  variant: VariantType,\r\n  link?: { msg: string; url: string }\r\n): ISnack => {\r\n  return {\r\n    message: message.replace(/<[^>]+>/g, \"\"),\r\n    key: UniqId(),\r\n    options: {\r\n      TransitionComponent: (props: TransitionProps) => (\r\n        <Slide {...props} direction=\"left\" />\r\n      ),\r\n      anchorOrigin: { horizontal: \"left\", vertical: \"bottom\" },\r\n      variant: variant,\r\n      autoHideDuration: variant === \"error\" ? null : 5000,\r\n      action: (key: string) => (\r\n        <>\r\n          {link && (\r\n            <Link to={link.url} component={RouterLink}>\r\n              <Button color=\"primary\">{link.msg}</Button>\r\n            </Link>\r\n          )}\r\n          <IconButton\r\n            style={{ borderRadius: 5 }}\r\n            color=\"inherit\"\r\n            size=\"small\"\r\n            aria-label=\"close\"\r\n            component=\"span\"\r\n            onClick={() =>\r\n              store.dispatch({\r\n                type: CLEAR_SNACKBAR,\r\n                dismissAll: !key,\r\n                key,\r\n              })\r\n            }\r\n          >\r\n            <Close />\r\n          </IconButton>\r\n        </>\r\n      ),\r\n    },\r\n  };\r\n};\r\n","export const REGISTER_REQUEST = \"USER_REGISTER_REQUEST\";\r\nexport const REGISTER_SUCCESS = \"USER_REGISTER_SUCCESS\";\r\nexport const REGISTER_FAILURE = \"USER_REGISTER_FAILURE\";\r\n\r\nexport const LOGIN_REQUEST = \"USER_LOGIN_REQUEST\";\r\nexport const LOGIN_SUCCESS = \"USER_LOGIN_SUCCESS\";\r\nexport const LOGIN_FAILURE = \"USER_LOGIN_FAILURE\";\r\n\r\nexport const USER_LOGOUT = \"USER_LOGOUT\";\r\n\r\nexport const LOST_REQUEST = \"USER_LOST_REQUEST\";\r\nexport const LOST_SUCCESS = \"USER_LOST_SUCCESS\";\r\nexport const LOST_FAILURE = \"USER_LOST_FAILURE\";\r\n\r\nexport const CHANGE_THEME = \"CHANGE_THEME\";\r\n\r\nexport interface DefaultUserState {\r\n  loggedIn: boolean;\r\n  loading: boolean;\r\n  user?: LoginResponse;\r\n  error?: string;\r\n  theme: \"light\" | \"dark\";\r\n}\r\nexport type ILost = {\r\n  user_login: string;\r\n  recaptcha?: boolean;\r\n};\r\nexport type IUser = {\r\n  username: string;\r\n  password: string;\r\n  recaptcha?: boolean;\r\n};\r\nexport type IRegister = {\r\n  email: string;\r\n  username: string;\r\n  password: string;\r\n  lastname: string;\r\n  firstname: string;\r\n  policy?: boolean;\r\n  recaptcha?: boolean;\r\n};\r\nexport type LoginResponse = {\r\n  user_display_name: string;\r\n  token: string;\r\n  user_id: string;\r\n  user_email: string;\r\n  user_nicename: string;\r\n};\r\n\r\nexport interface LoginRequestAction {\r\n  type: typeof LOGIN_REQUEST;\r\n}\r\nexport interface LoginSuccessAction {\r\n  type: typeof LOGIN_SUCCESS;\r\n  user: LoginResponse;\r\n}\r\nexport interface LoginFailureAction {\r\n  type: typeof LOGIN_FAILURE;\r\n  error: string;\r\n}\r\n\r\nexport interface RegisterRequestAction {\r\n  type: typeof REGISTER_REQUEST;\r\n}\r\nexport interface RegisterSuccessAction {\r\n  type: typeof REGISTER_SUCCESS;\r\n  user: string;\r\n}\r\nexport interface RegisterFailureAction {\r\n  type: typeof REGISTER_FAILURE;\r\n  error: string;\r\n}\r\n\r\nexport interface LogoutAction {\r\n  type: typeof USER_LOGOUT;\r\n}\r\n\r\nexport interface LostRequestAction {\r\n  type: typeof LOST_REQUEST;\r\n}\r\nexport interface LostSuccessAction {\r\n  type: typeof LOST_SUCCESS;\r\n  message: string;\r\n}\r\nexport interface LostFailureAction {\r\n  type: typeof LOST_FAILURE;\r\n  error: string;\r\n}\r\n\r\nexport interface ChangeThemeAction {\r\n  type: typeof CHANGE_THEME;\r\n  theme: \"light\" | \"dark\";\r\n}\r\n\r\nexport type UserActionTypes =\r\n  | RegisterRequestAction\r\n  | RegisterSuccessAction\r\n  | RegisterFailureAction\r\n  | LostRequestAction\r\n  | LostSuccessAction\r\n  | LostFailureAction\r\n  | LogoutAction\r\n  | LoginRequestAction\r\n  | LoginSuccessAction\r\n  | LoginFailureAction\r\n  | ChangeThemeAction\r\n","import { LoginResponse } from \"../_types/auth.types\";\r\nimport fallImg from \"../assets/img/melodition.jpg\";\r\nimport { ThumbnailsInfo } from \"../_types/guide.types\";\r\n\r\nexport interface PathFinder {\r\n  post?: number;\r\n  guide?: number;\r\n  course?: number;\r\n  lesson?: number;\r\n  exercise?: number;\r\n  length: number;\r\n}\r\nexport const pathFinder = (path: string): PathFinder => {\r\n  const pathSplit = path.split(\"/\").filter((e) => e);\r\n  let compiledPath: PathFinder = { length: 0 };\r\n  if (pathSplit.length === 2) {\r\n    compiledPath = {\r\n      [pathSplit[0]]: Number(pathSplit[1]),\r\n      length: 1,\r\n    };\r\n  } else if (pathSplit.length === 3) {\r\n    const typeSplit = pathSplit[2].split(\"=\");\r\n    compiledPath = {\r\n      [pathSplit[0]]: Number(pathSplit[1]),\r\n      [typeSplit[0]]: Number(typeSplit[1]),\r\n      length: 2,\r\n    };\r\n  } else if (pathSplit.length === 4) {\r\n    const type1Split = pathSplit[2].split(\"=\");\r\n    const type2Split = pathSplit[3].split(\"=\");\r\n    compiledPath = {\r\n      [pathSplit[0]]: Number(pathSplit[1]),\r\n      [type1Split[0]]: Number(type1Split[1]),\r\n      [type2Split[0]]: Number(type2Split[1]),\r\n      length: 3,\r\n    };\r\n  }\r\n  return compiledPath;\r\n};\r\n\r\nexport const getUserLocal = (key: string): LoginResponse => {\r\n  const item = localStorage.getItem(key);\r\n  return item !== null ? JSON.parse(item) : undefined;\r\n};\r\n\r\nexport const getTheTime = (minutes: number = 0): number => {\r\n  var d = new Date();\r\n  var t = d.getTime();\r\n  const ms = minutes * 60000;\r\n  return t + ms;\r\n};\r\n\r\nexport const UniqId = (): string => {\r\n  return getTheTime(Math.random()).toString(36);\r\n};\r\n\r\nexport const thumbnailsFinder = (\r\n  img: string | ThumbnailsInfo | null\r\n): string => {\r\n  let image = fallImg;\r\n  if (img) {\r\n    if (typeof img === \"object\") image = img.medium;\r\n    else if (typeof img === \"string\") image = img;\r\n  }\r\n  return image;\r\n};\r\n\r\nexport const season = [\r\n  \"\",\r\n  \"شروع\",\r\n  \"بخش اول\",\r\n  \"بخش دوم\",\r\n  \"بخش سوم\",\r\n  \"بخش چهارم\",\r\n  \"بخش پنجم\",\r\n  \"بخش ششم\",\r\n  \"بخش هفتم\",\r\n  \"بخش هشتم\",\r\n  \"بخش نهم\",\r\n  \"بخش دهم\",\r\n];\r\n\r\nexport const cauntMeasures = (\r\n  rythm: number,\r\n  storeDrums: any[],\r\n  storeTracks: any[],\r\n  songdur: number = 0\r\n) => {\r\n  let mx: number = Math.ceil(songdur);\r\n  const add: number = songdur ? 6 : 2;\r\n  const mxT = Math.max.apply(\r\n    Math,\r\n    storeTracks.map((o) => o.beat + o.length)\r\n  );\r\n  const mxD = Math.max.apply(\r\n    Math,\r\n    storeDrums.map((o) => o.beat)\r\n  );\r\n  mx = mxT > mx ? mxT : mx;\r\n  mx = mxD > mx ? mxD : mx;\r\n  mx = mx + add;\r\n  do {\r\n    mx++;\r\n  } while (mx % rythm !== 0);\r\n  console.log(mx, songdur, mxD, mxT);\r\n  return mx;\r\n};\r\n","import React from \"react\";\r\nimport {\r\n  CircularProgress,\r\n  createStyles,\r\n  makeStyles,\r\n  Theme,\r\n} from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    loading: {\r\n      display: \"flex\",\r\n      height: \"83%\",\r\n      boxShadow: \"inset 0 1px 4px 0px black\",\r\n    },\r\n    loadingPad: {\r\n      display: \"flex\",\r\n      width: \"100vw\",\r\n      minHeight: \"calc(100vh - 300px)\",\r\n      overflow: \"hidden\",\r\n    },\r\n  })\r\n);\r\n\r\ninterface LoadingProps {\r\n  noPad?: boolean;\r\n}\r\n\r\nexport const LoadingCircle: React.FC<LoadingProps> = ({ noPad }) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={noPad ? classes.loading : classes.loadingPad}>\r\n      <CircularProgress color=\"secondary\" style={{ margin: \"auto\" }} />\r\n    </div>\r\n  );\r\n};\r\n","import Axios from \"axios\";\r\nimport { store } from \"../_store/store.config\";\r\nimport { logoutRequest } from \"../_actions/user.actions\";\r\n\r\nexport const authHeader = (): HeadersInit => {\r\n  const localUser = localStorage.getItem(\"user\");\r\n  let user: { token: string } = localUser ? JSON.parse(localUser) : null;\r\n  if (user?.token) {\r\n    return { Authorization: \"Bearer \" + user.token };\r\n  } else {\r\n    return { Authorization: \"\" };\r\n  }\r\n}\r\nexport const API = Axios.create({\r\n  baseURL: \"https://panel.melodition.com/wp-json\",\r\n  headers: authHeader(),\r\n});\r\n\r\n\r\nAPI.interceptors.response.use(\r\n  res => {\r\n    return res;\r\n  },\r\n  err => {\r\n    console.log(err)\r\n    if (err.response.status === 403) {\r\n      if (/invalid_token/.test(err.response.data.code))\r\n        store.dispatch(logoutRequest())\r\n      else if (/incorrect_password/.test(err.response.data.code))\r\n        err.response.data.button = { url: \"/lostpassword\", msg: \"بازیابی رمز\" }\r\n    }\r\n    return Promise.reject(err);\r\n  }\r\n)\r\nexport const AudioApi = Axios.create({ method: \"get\", responseType: \"arraybuffer\" });\r\n","import { TransitionProps } from \"@material-ui/core/transitions/transition\";\r\nimport { TransitionHandler, VariantType, TransitionCloseHandler, SnackbarOrigin } from \"notistack/dist\";\r\n\r\nexport const SHOW_SNACKBAR = \"SHOW_SNACKBAR\";\r\nexport const CLEAR_SNACKBAR = \"CLEAR_SNACKBAR\";\r\nexport const REMOVE_SNACKBAR = \"REMOVE_SNACKBAR\";\r\n\r\nexport interface DefaultSnackState {\r\n  type?: string;\r\n  snackbars?: ISnack[];\r\n}\r\nexport type ISnack = {\r\n  message: string;\r\n  key: string;\r\n  dismissed?: boolean;\r\n  options: SnackOption;\r\n};\r\ninterface SnackOption {\r\n  TransitionComponent?: (props: TransitionProps) => JSX.Element;\r\n  autoHideDuration?: number | null;\r\n  anchorOrigin?: SnackbarOrigin;\r\n  variant?: VariantType;\r\n  action?: (key: string) => JSX.Element;\r\n  onClose?: TransitionCloseHandler\r\n  onExited?: TransitionHandler;\r\n}\r\nexport interface SeccessSnackAction {\r\n  type: typeof SHOW_SNACKBAR;\r\n  snackbar: ISnack;\r\n}\r\nexport interface ClearSnackAction {\r\n  type: typeof CLEAR_SNACKBAR;\r\n  dismissAll?: boolean;\r\n  key?: string;\r\n}\r\nexport interface RemoveSnackAction {\r\n  type: typeof REMOVE_SNACKBAR;\r\n  key: string;\r\n}\r\n\r\nexport type SnackActionTypes =\r\n  | SeccessSnackAction\r\n  | ClearSnackAction\r\n  | RemoveSnackAction;\r\n","import { Dispatch } from \"react\";\r\nimport { AppActions, AppState } from \"../_types\";\r\nimport {\r\n  FAVORITE_SUCCESS,\r\n  IFavorite,\r\n  INFO_FAILURE,\r\n  INFO_REQUEST,\r\n  INFO_SUCCESS,\r\n  IPlaytime,\r\n  PLAYTIME_SUCCESS,\r\n} from \"../_types/profile.types\";\r\nimport { errorHandler, seccessHandler, loginErrorHandler } from \"../components/Layout/SnackBar/alert\";\r\nimport { API } from \"../_helpers/api\";\r\n\r\nexport const profileRequest = () => (\r\n  (dispatch: Dispatch<AppActions>) => {\r\n    dispatch({ type: INFO_REQUEST });\r\n    API.get(`/jwt-auth/v1/profile`)\r\n      .then(res => {\r\n        const { favorite, ...rest } = res.data\r\n        dispatch({\r\n          type: INFO_SUCCESS,\r\n          profile: rest,\r\n        });\r\n        dispatch({\r\n          type: FAVORITE_SUCCESS,\r\n          favorite,\r\n        });\r\n      })\r\n      .catch(err => errorHandler(err, INFO_FAILURE))\r\n  }\r\n)\r\nexport const updateProfile = (user: any) => (\r\n  (dispatch: Dispatch<AppActions>) => {\r\n    const requestUpdate = (userData: any) => (\r\n      API.put(`/jwt-auth/v1/profile`, userData)\r\n        .then(res => {\r\n          dispatch({\r\n            type: INFO_SUCCESS,\r\n            profile: { ...res.data },\r\n          });\r\n        })\r\n        .catch(err => errorHandler(err, INFO_FAILURE))\r\n    )\r\n    dispatch({ type: INFO_REQUEST });\r\n    if (user.image_select) {\r\n      var data = new FormData();\r\n      data.append(\"file\", user.image_select);\r\n      API.post(\"wp/v2/media\", data)\r\n        .then((res) => {\r\n          requestUpdate({ ...user, image_select: String(res.data.id) })\r\n        })\r\n        .catch((err) => errorHandler(err, INFO_FAILURE));\r\n\r\n    } else { requestUpdate(user) }\r\n  }\r\n)\r\nexport const getPlayTimes = () => (\r\n  (dispatch: Dispatch<AppActions>) => {\r\n    dispatch({ type: INFO_REQUEST });\r\n    API.get(`/jwt-auth/v1/user?for=playtime`)\r\n      .then(res => {\r\n        dispatch({\r\n          type: PLAYTIME_SUCCESS,\r\n          playtime: res.data,\r\n        });\r\n      })\r\n      .catch(err => errorHandler(err, INFO_FAILURE))\r\n  }\r\n)\r\nexport const addFavorites = (data: IFavorite) => (\r\n  (dispatch: Dispatch<AppActions>, getState: () => AppState) => {\r\n    const isLogged = getState().auth.loggedIn\r\n    if (isLogged) {\r\n      dispatch({ type: INFO_REQUEST });\r\n      API.put(`/jwt-auth/v1/user?for=favorite`, data)\r\n        .then(res => {\r\n          dispatch({\r\n            type: FAVORITE_SUCCESS,\r\n            favorite: res.data,\r\n          });\r\n        })\r\n        .catch(err => errorHandler(err, INFO_FAILURE))\r\n    } else {\r\n      loginErrorHandler(INFO_FAILURE);\r\n    }\r\n  }\r\n)\r\nexport const addPlayTimes = (data: IPlaytime) => (\r\n  (dispatch: Dispatch<AppActions>, getState: () => AppState) => {\r\n    const isLogged = getState().auth.loggedIn\r\n    if (isLogged) {\r\n      API.put(`/jwt-auth/v1/user?for=playtime`, data)\r\n        .then(res => {\r\n          dispatch({\r\n            type: PLAYTIME_SUCCESS,\r\n            playtime: res.data,\r\n          });\r\n          seccessHandler(\"Saved\")\r\n        })\r\n        .catch(err => errorHandler(err, INFO_FAILURE))\r\n    } else {\r\n      loginErrorHandler(INFO_FAILURE);\r\n    }\r\n  }\r\n)","import { Dispatch } from \"react\";\r\nimport { goBack, push } from 'connected-react-router'\r\nimport {\r\n  REGISTER_FAILURE,\r\n  REGISTER_REQUEST,\r\n  REGISTER_SUCCESS,\r\n  LOGIN_FAILURE,\r\n  LOGIN_REQUEST,\r\n  LOGIN_SUCCESS,\r\n  LOST_REQUEST,\r\n  LOST_SUCCESS,\r\n  CHANGE_THEME,\r\n  LOST_FAILURE,\r\n  USER_LOGOUT,\r\n  IRegister,\r\n  IUser,\r\n  ILost,\r\n} from \"../_types/auth.types\";\r\nimport { AppActions } from \"../_types\";\r\nimport { SHOW_SNACKBAR } from \"../_types/snackbar.types\";\r\nimport { errorHandler, snackBarMaker } from \"../components/Layout/SnackBar/alert\";\r\nimport { API } from \"../_helpers/api\";\r\nimport { DELETE_PROFILE } from \"../_types/profile.types\";\r\n\r\nexport const loginRequest = (user: IUser) => (\r\n  (dispatch: Dispatch<AppActions>) => {\r\n    dispatch({ type: LOGIN_REQUEST });\r\n    API.post(`/jwt-auth/v1/token`, user)\r\n      .then(res => {\r\n        dispatch({ type: LOGIN_SUCCESS, user: res.data });\r\n        localStorage.setItem(\"user\", JSON.stringify(res.data));\r\n        API.defaults.headers.common = { \"Authorization\": \"Bearer \" + res.data.token };\r\n        API.defaults.headers[\"Authorization\"] = \"Bearer \" + res.data.token;\r\n        dispatch(goBack());\r\n        dispatch({\r\n          type: SHOW_SNACKBAR,\r\n          snackbar: snackBarMaker(\r\n            `${res.data.user_display_name} logged in successfully.`,\r\n            \"success\"\r\n          ),\r\n        });\r\n      })\r\n      .catch(err => errorHandler(err, LOGIN_FAILURE))\r\n  }\r\n)\r\nexport const changeTheme = (theme: \"light\" | \"dark\") => (\r\n  (dispatch: Dispatch<AppActions>) => {\r\n    dispatch({ type: CHANGE_THEME, theme });\r\n  }\r\n)\r\n\r\nexport const logoutRequest = () => (\r\n  (dispatch: Dispatch<AppActions>) => {\r\n    localStorage.removeItem(\"user\");\r\n    delete API.defaults.headers.common[\"Authorization\"];\r\n    delete API.defaults.headers[\"Authorization\"];\r\n    dispatch({ type: USER_LOGOUT });\r\n    dispatch({ type: DELETE_PROFILE });\r\n  }\r\n)\r\n\r\nexport const registerRequest = (user: IRegister) => (\r\n  (dispatch: Dispatch<AppActions>) => {\r\n    dispatch({ type: REGISTER_REQUEST });\r\n    API.post(`/jwt-auth/v1/register`, user)\r\n      .then(\r\n        (res) => {\r\n          dispatch({ type: REGISTER_SUCCESS, user: res.data });\r\n          dispatch(push(\"/login\"));\r\n          dispatch({\r\n            type: SHOW_SNACKBAR,\r\n            snackbar: snackBarMaker(res.data.message, \"success\"),\r\n          });\r\n        })\r\n      .catch(err => errorHandler(err, REGISTER_FAILURE))\r\n  }\r\n)\r\n\r\nexport const lostRequest = (user: ILost) => (\r\n  (dispatch: Dispatch<AppActions>) => {\r\n    dispatch({ type: LOST_REQUEST });\r\n\r\n    API.post(`/jwt-auth/v1/lostpassword`, user)\r\n      .then(\r\n        (res) => {\r\n          const message: string = res.data.message.toString();\r\n          dispatch({ type: LOST_SUCCESS, message });\r\n          dispatch(push(\"/login\"));\r\n          dispatch({\r\n            type: SHOW_SNACKBAR,\r\n            snackbar: snackBarMaker(message, \"success\"),\r\n          });\r\n        })\r\n      .catch(err => {\r\n        errorHandler(err, LOST_FAILURE)\r\n      })\r\n  }\r\n)\r\n","import { ILesson } from \"./lesson.types\";\r\n\r\nexport const REQUEST_EXERCISES = \"REQUEST_EXERCISES\";\r\nexport const SUCCESS_EXERCISES = \"SUCCESS_EXERCISES\";\r\nexport const FAILURE_EXERCISES = \"FAILURE_EXERCISES\";\r\n\r\nexport const SAVE_EXERCISES = \"SAVE_EXERCISES\";\r\n\r\nexport const REQUEST_EXERCISE = \"REQUEST_EXERCISE\";\r\nexport const SUCCESS_EXERCISE = \"SUCCESS_EXERCISE\";\r\nexport const FAILURE_EXERCISE = \"FAILURE_EXERCISE\";\r\n\r\nexport interface DefaultExercisesState {\r\n  data: ILesson[];\r\n  error: string;\r\n  loading: boolean;\r\n  nextLoad: number;\r\n}\r\nexport interface DefaultExerciseState {\r\n  data?: ILesson;\r\n  error: string;\r\n  loading: boolean;\r\n}\r\n\r\nexport interface RequestExercises {\r\n  type: typeof REQUEST_EXERCISES;\r\n}\r\nexport interface SeccessExercises {\r\n  type: typeof SUCCESS_EXERCISES;\r\n  payload: {\r\n    data: ILesson[];\r\n    nextLoad: number;\r\n  }\r\n}\r\n\r\nexport interface SaveExercises {\r\n  type: typeof SAVE_EXERCISES;\r\n  data: ILesson[];\r\n}\r\n\r\nexport interface FailureExercises {\r\n  type: typeof FAILURE_EXERCISES;\r\n  error: string;\r\n}\r\n\r\nexport interface RequestExercise {\r\n  type: typeof REQUEST_EXERCISE;\r\n}\r\nexport interface SeccessExercise {\r\n  type: typeof SUCCESS_EXERCISE;\r\n  data: ILesson;\r\n  error?: string;\r\n}\r\nexport interface FailureExercise {\r\n  type: typeof FAILURE_EXERCISE;\r\n  error: string;\r\n}\r\n\r\nexport type ExerciseActionTypes =\r\n  | RequestExercises\r\n  | SeccessExercises\r\n  | FailureExercises\r\n  | RequestExercise\r\n  | SeccessExercise\r\n  | FailureExercise\r\n  | SaveExercises;\r\n","export const REQUEST_LESSONS = \"REQUEST_LESSONS\";\r\nexport const SUCCESS_LESSONS = \"SUCCESS_LESSONS\";\r\nexport const FAILURE_LESSONS = \"FAILURE_LESSONS\";\r\n\r\nexport const SAVE_LESSONS = \"SAVE_LESSONS\";\r\n\r\nexport const REQUEST_LESSON = \"REQUEST_LESSON\";\r\nexport const SUCCESS_LESSON = \"SUCCESS_LESSON\";\r\nexport const FAILURE_LESSON = \"FAILURE_LESSON\";\r\n\r\nexport interface DefaultLessonsState {\r\n  data: ILesson[];\r\n  error: string;\r\n  loading: boolean;\r\n  nextLoad: number;\r\n}\r\nexport interface DefaultLessonState {\r\n  data?: ILesson;\r\n  error: string;\r\n  loading: boolean;\r\n}\r\n\r\nexport interface ILesson {\r\n  id: number;\r\n  title: string;\r\n  content: string;\r\n  author: string;\r\n  excerpt: string;\r\n  featured_img: string;\r\n  slug: string;\r\n  info: LessonInfo;\r\n}\r\nexport type LessonInfo = {\r\n  series: infoDetails;\r\n  instrument: infoDetails;\r\n  grade: infoDetails;\r\n  genre: infoDetails;\r\n};\r\n\r\ntype infoDetails = {\r\n  name: string,\r\n  id: number,\r\n  img: string,\r\n  color: string,\r\n  description: string\r\n}\r\n\r\nexport interface RequestLessons {\r\n  type: typeof REQUEST_LESSONS;\r\n}\r\nexport interface SeccessLessons {\r\n  type: typeof SUCCESS_LESSONS;\r\n  payload: {\r\n    data: ILesson[];\r\n    nextLoad: number;\r\n  }\r\n}\r\nexport interface FailureLessons {\r\n  type: typeof FAILURE_LESSONS;\r\n  error: string;\r\n}\r\n\r\nexport interface SaveLessons {\r\n  type: typeof SAVE_LESSONS;\r\n  data: ILesson[];\r\n}\r\n\r\nexport interface RequestLesson {\r\n  type: typeof REQUEST_LESSON;\r\n}\r\nexport interface SeccessLesson {\r\n  type: typeof SUCCESS_LESSON;\r\n  data: ILesson;\r\n}\r\nexport interface FailureLesson {\r\n  type: typeof FAILURE_LESSON;\r\n  error: string;\r\n}\r\n\r\n\r\nexport type LessonActionTypes =\r\n  | RequestLessons\r\n  | SeccessLessons\r\n  | FailureLessons\r\n  | RequestLesson\r\n  | SeccessLesson\r\n  | FailureLesson\r\n  | SaveLessons;\r\n","import { ThumbnailsInfo } from \"./guide.types\";\r\nimport { ILesson } from \"./lesson.types\";\r\n\r\nexport const REQUEST_COURSES = \"REQUEST_COURSES\";\r\nexport const SUCCESS_COURSES = \"SUCCESS_COURSES\";\r\nexport const FAILURE_COURSES = \"FAILURE_COURSES\";\r\n\r\nexport const SAVE_COURSES = \"SAVE_COURSES\";\r\n\r\nexport const REQUEST_COURSE = \"REQUEST_COURSE\";\r\nexport const SUCCESS_COURSE = \"SUCCESS_COURSE\";\r\nexport const FAILURE_COURSE = \"FAILURE_COURSE\";\r\n\r\nexport interface DefaultCoursesState {\r\n    data: ICourse[];\r\n    error: string;\r\n    loading: boolean;\r\n    nextLoad: number;\r\n}\r\n\r\nexport interface DefaultCourseState {\r\n    data?: ICourse;\r\n    error: string;\r\n    loading: boolean;\r\n}\r\n\r\nexport interface ICourse {\r\n    title: string;\r\n    id: number;\r\n    slug: string;\r\n    content: string;\r\n    teacher: string;\r\n    description: string;\r\n    instrument_id: number,\r\n    instrument_name: string,\r\n    genre_id: number,\r\n    genre_name: string,\r\n    grade: string,\r\n    color: string,\r\n    thumbnails: ThumbnailsInfo;\r\n    course_select: ILesson[];\r\n}\r\n\r\nexport interface RequestCourses {\r\n    type: typeof REQUEST_COURSES;\r\n}\r\nexport interface SeccessCourses {\r\n    type: typeof SUCCESS_COURSES;\r\n    payload: {\r\n        data: ICourse[];\r\n        nextLoad: number;\r\n    }\r\n}\r\nexport interface FailureCourses {\r\n    type: typeof FAILURE_COURSES;\r\n    error: string;\r\n}\r\n\r\nexport interface SaveGuides {\r\n    type: typeof SAVE_COURSES;\r\n    data: ICourse[];\r\n}\r\n\r\nexport interface RequestCourse {\r\n    type: typeof REQUEST_COURSE;\r\n}\r\nexport interface SeccessCourse {\r\n    type: typeof SUCCESS_COURSE;\r\n    data: ICourse;\r\n}\r\nexport interface FailureCourse {\r\n    type: typeof FAILURE_COURSE;\r\n    error: string;\r\n}\r\n\r\nexport type CourseActionTypes =\r\n    | RequestCourses\r\n    | SeccessCourses\r\n    | FailureCourses\r\n    | RequestCourse\r\n    | SeccessCourse\r\n    | FailureCourse\r\n    | SaveGuides;\r\n","import { ICourse } from \"./course.types\";\r\nimport { ILesson } from \"./lesson.types\";\r\n\r\nexport const REQUEST_GUIDES = \"REQUEST_GUIDES\";\r\nexport const SUCCESS_GUIDES = \"SUCCESS_GUIDES\";\r\nexport const FAILURE_GUIDES = \"FAILURE_GUIDES\";\r\n\r\nexport const SAVE_GUIDES = \"SAVE_GUIDES\";\r\n\r\nexport const REQUEST_GUIDE = \"REQUEST_GUIDE\";\r\nexport const SUCCESS_GUIDE = \"SUCCESS_GUIDE\";\r\nexport const FAILURE_GUIDE = \"FAILURE_GUIDE\";\r\n\r\nexport interface DefaultGuidesState {\r\n    data: IGuide[];\r\n    error: string;\r\n    loading: boolean;\r\n    nextLoad: number;\r\n}\r\nexport interface DefaultGuideState {\r\n    data?: IGuide;\r\n    error: string;\r\n    loading: boolean;\r\n}\r\n\r\nexport interface IGuide {\r\n    title: string;\r\n    id: number;\r\n    slug: string;\r\n    teacher: string;\r\n    description: string;\r\n    instrument_id: number;\r\n    instrument_name: string;\r\n    color: string;\r\n    thumbnails: ThumbnailsInfo;\r\n    guide_select: GuideSelect[];\r\n}\r\nexport type GuideSelect = {\r\n    exercise_description: string;\r\n    exercise: ILesson[];\r\n    course_description: string;\r\n    course: ICourse[];\r\n}\r\nexport type ThumbnailsInfo = {\r\n    thumbnail: string;\r\n    medium: string;\r\n    medium_large: string;\r\n    large: string;\r\n    '1536x1536': string;\r\n    '2048x2048': string;\r\n};\r\n\r\nexport interface RequestGuides {\r\n    type: typeof REQUEST_GUIDES;\r\n}\r\nexport interface SeccessGuides {\r\n    type: typeof SUCCESS_GUIDES;\r\n    payload: {\r\n        data: IGuide[];\r\n        nextLoad: number;\r\n    }\r\n}\r\n\r\nexport interface SaveGuides {\r\n    type: typeof SAVE_GUIDES;\r\n    data: IGuide[];\r\n}\r\n\r\nexport interface FailureGuides {\r\n    type: typeof FAILURE_GUIDES;\r\n    error: string;\r\n}\r\n\r\nexport interface RequestGuide {\r\n    type: typeof REQUEST_GUIDE;\r\n}\r\nexport interface SeccessGuide {\r\n    type: typeof SUCCESS_GUIDE;\r\n    data: IGuide;\r\n}\r\nexport interface FailureGuide {\r\n    type: typeof FAILURE_GUIDE;\r\n    error: string;\r\n}\r\n\r\nexport type GuideActionTypes =\r\n    | RequestGuides\r\n    | SeccessGuides\r\n    | FailureGuides\r\n    | RequestGuide\r\n    | SeccessGuide\r\n    | FailureGuide\r\n    | SaveGuides;\r\n"],"sourceRoot":""}