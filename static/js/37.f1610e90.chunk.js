(this["webpackJsonpmelodition-typescript"]=this["webpackJsonpmelodition-typescript"]||[]).push([[37],{297:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(30),c={posts:{name:"POSTS",api:"/post/v2"},guides:{name:"GUIDES",api:"/lesson/v2/guide"},courses:{name:"COURSES",api:"/lesson/v2/course"},lessons:{name:"LESSONS",api:"/lesson/v2?course=123"},exercises:{name:"EXERCISES",api:"/lesson/v2?course=125"}},r=a(59),i=a(25),o=function(e){return function(t,a){var o=a().bank[e],l=Object(r.c)()-o.nextLoad;(!o.data||l>=0)&&(t({type:"REQUEST_".concat(c[e].name)}),n.a.get(c[e].api).then((function(a){return t({type:"SUCCESS_".concat(c[e].name),payload:{data:a.data,nextLoad:Object(r.c)(10)}})})).catch((function(t){return Object(i.a)(t,"FAILURE_".concat(c[e].name))})))}}},479:function(e,t,a){"use strict";a.r(t);var n=a(65),c=a(12),r=a(0),i=a.n(r),o=a(21),l=a(189),s=a(475),u=a(248),m=a(188),d=a(481),p=a(476),b=a(282),h=a(243),g=a(244),E=a(245),f=a(246),v=a(247),j=a(2),O=a(73),y=a(74),k=a(76),N=a(75),S=a(22),x=a(35),C=a(182),w=a(72),H=a(493),L=a(310),M=a(7),F=a(297),B=a(395),q=a(321),I=a(322),z=a(311),A=a(350),R=a(193),W=a(26),U=a(59),D=Object(l.a)((function(e){return Object(C.a)({root:Object(c.a)({width:300,maxHeight:360,margin:e.spacing(2)},e.breakpoints.down(350),{margin:e.spacing(1)}),cardAction:{justifyContent:"space-between",margin:"inherit"},content:{minHeight:150}})})),_=function(e){var t=e.guide,a=D(),n=t.title,c=t.thumbnails,r=t.description,l=t.teacher,s=function(e){W.b.dispatch(Object(o.e)("/guide/".concat(t.id)))};return i.a.createElement(B.a,{className:a.root},i.a.createElement(q.a,{onClick:s},i.a.createElement(I.a,{component:"img",alt:n,height:"140",image:Object(U.g)(c),title:n}),i.a.createElement(z.a,{className:a.content},i.a.createElement(w.a,{gutterBottom:!0,variant:"h5",component:"h2"},n),i.a.createElement(w.a,{variant:"body2",color:"textSecondary",component:"p"},r))),i.a.createElement(A.a,{className:a.cardAction},i.a.createElement(w.a,{variant:"body2",color:"textSecondary",component:"p"},"\u0627\u0632 ",l),i.a.createElement(R.a,{size:"medium",color:"secondary",onClick:s},"\u0627\u062f\u0627\u0645\u0647 \u062f\u0631\u0633")))},P=a(77),T=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.props.requestBank("guides")}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.data,n=e.error,c=e.classes,r=a?a.length:0;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:c.header},i.a.createElement(w.a,{variant:"h3"},"\u0645\u062c\u0645\u0648\u0639\u0647 \u0647\u0627"),i.a.createElement(H.a,{className:c.chip,color:"secondary",label:"\u062a\u0639\u062f\u0627\u062f: "+r})),i.a.createElement(L.a,{container:!0,justify:"center",className:c.cardList},t?i.a.createElement(P.a,null):a.length?a.map((function(e){return i.a.createElement(_,{key:e.id,guide:e})})):i.a.createElement(w.a,{component:"div",className:c.autoMargin},n)))}}]),a}(r.Component),G=Object(x.c)((function(e,t){return Object(j.a)({classes:t.classes},e.bank.guides)}),(function(e){return{requestBank:Object(S.b)(F.a,e)}}))(Object(M.a)((function(e){return Object(C.a)({header:{position:"relative"},cardList:{minHeight:"calc(100vh - 240px)"},chip:{position:"absolute",right:0,top:0},autoMargin:{margin:"auto"}})}))(T)),J=a(110),X=a(191),Q=a(190),V=a(474),K=Object(l.a)((function(e){return Object(C.a)({rightChip:{backgroundColor:e.palette.background.default,position:"absolute",zIndex:30,right:e.spacing(1),top:e.spacing(1)},svgSize:{color:e.palette.secondary.main,width:34,height:34,"&:hover":{color:e.palette.primary.main}},loading:{maxWidth:34,maxHeight:34,color:e.palette.secondary.main}})})),Y=function(e){var t=e.isFavorite,a=e.loading,c=e.handleFavorite,o=K(),l=Object(r.useState)(a),s=Object(n.a)(l,2),u=s[0],m=s[1];Object(r.useEffect)((function(){return u&&m(a),function(){m(!1)}}),[a,u]);return i.a.createElement(X.a,{"aria-label":"add to favorites",className:o.rightChip,onClick:function(){m(!0),c()}},u?i.a.createElement(Q.a,{className:o.loading}):t?i.a.createElement(v.a,{className:o.svgSize}):i.a.createElement(V.a,{className:o.svgSize}))},Z=Object(l.a)((function(e){return Object(C.a)({root:Object(c.a)({width:300,maxHeight:360,position:"relative",margin:e.spacing(2)},e.breakpoints.down(350),{margin:e.spacing(1)}),cardAction:{justifyContent:"space-between",margin:"inherit"},content:{minHeight:150},rightChip:{backgroundColor:e.palette.background.default,position:"absolute",zIndex:30,right:e.spacing(1),top:e.spacing(1)},svgSize:{color:e.palette.secondary.main,width:34,height:34,"&:hover":{color:e.palette.primary.main}},loading:{maxWidth:34,maxHeight:34,color:e.palette.secondary.main}})})),$=function(e){var t=e.lesson,a=e.user,n=e.type,c=Z(),r=t.title,l=t.featured_img,s=t.excerpt,u=t.author,m=t.id,d=a.loading,p=a.favorite,b=function(){W.b.dispatch(Object(o.e)("/".concat(n,"/").concat(m)))};return i.a.createElement(B.a,{className:c.root},i.a.createElement(Y,{isFavorite:null===p||void 0===p?void 0:p.some((function(e){return e.id===m})),loading:d,handleFavorite:function(){W.b.dispatch(Object(J.a)({title:r,featured_img:l,excerpt:s,author:u,id:m,type:n}))}}),i.a.createElement(q.a,{onClick:b},i.a.createElement(I.a,{component:"img",alt:r,height:"140",image:Object(U.g)(l),title:r}),i.a.createElement(z.a,{className:c.content},i.a.createElement(w.a,{gutterBottom:!0,variant:"h5",component:"h2"},r),i.a.createElement(w.a,{variant:"body2",color:"textSecondary",component:"p"},s))),i.a.createElement(A.a,{className:c.cardAction},i.a.createElement(w.a,{variant:"body2",color:"textSecondary",component:"p"},"\u0627\u0632 ",u),i.a.createElement(R.a,{size:"medium",color:"secondary",onClick:b},"\u0627\u062f\u0627\u0645\u0647 \u062f\u0631\u0633")))},ee=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.props.requestBank("lessons")}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.data,n=e.error,c=e.classes,r=e.user,o=a?a.length:0;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:c.header},i.a.createElement(w.a,{variant:"h3"},"\u062f\u0631\u0633 \u0647\u0627"),i.a.createElement(H.a,{className:c.chip,color:"secondary",label:"\u062a\u0639\u062f\u0627\u062f: "+o})),i.a.createElement(L.a,{container:!0,justify:"center",className:c.cardList},t?i.a.createElement(P.a,null):a.length?a.map((function(e){return i.a.createElement($,{key:e.id,lesson:e,user:r,type:"lesson"})})):i.a.createElement(w.a,{component:"div",className:c.autoMargin},n)))}}]),a}(r.Component),te=Object(x.c)((function(e,t){return Object(j.a)({classes:t.classes,user:e.user},e.bank.lessons)}),(function(e){return{requestBank:Object(S.b)(F.a,e)}}))(Object(M.a)((function(e){return Object(C.a)({header:{position:"relative"},cardList:{minHeight:"calc(100vh - 240px)"},chip:{position:"absolute",right:0,top:0},autoMargin:{margin:"auto"}})}))(ee)),ae=Object(l.a)((function(e){return Object(C.a)({root:Object(c.a)({width:300,maxHeight:360,margin:e.spacing(2)},e.breakpoints.down(350),{margin:e.spacing(1)}),cardAction:{justifyContent:"space-between",margin:"inherit"},content:{minHeight:150}})})),ne=function(e){var t=e.course,a=ae(),n=t.title,c=t.thumbnails,r=t.description,l=t.teacher,s=function(e){W.b.dispatch(Object(o.e)("/course/".concat(t.id)))};return i.a.createElement(B.a,{className:a.root},i.a.createElement(q.a,{onClick:s},i.a.createElement(I.a,{component:"img",alt:n,height:"140",image:Object(U.g)(c),title:n}),i.a.createElement(z.a,{className:a.content},i.a.createElement(w.a,{gutterBottom:!0,variant:"h5",component:"h2"},n),i.a.createElement(w.a,{variant:"body2",color:"textSecondary",component:"p"},r))),i.a.createElement(A.a,{className:a.cardAction},i.a.createElement(w.a,{variant:"body2",color:"textSecondary",component:"p"},"\u0627\u0632 ",l),i.a.createElement(R.a,{size:"medium",color:"secondary",onClick:s},"\u0627\u062f\u0627\u0645\u0647 \u062f\u0631\u0633")))},ce=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.props.requestBank("courses")}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.data,n=e.error,c=e.classes,r=a?a.length:0;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:c.header},i.a.createElement(w.a,{variant:"h3"},"\u0622\u0645\u0648\u0632\u0634 \u0647\u0627"),i.a.createElement(H.a,{className:c.chip,color:"secondary",label:"\u062a\u0639\u062f\u0627\u062f: "+r})),i.a.createElement(L.a,{container:!0,justify:"center",className:c.cardList},t?i.a.createElement(P.a,null):a.length?a.map((function(e){return i.a.createElement(ne,{key:e.id,course:e})})):i.a.createElement(w.a,{component:"div",className:c.autoMargin},n)))}}]),a}(r.Component),re=Object(x.c)((function(e,t){return Object(j.a)({classes:t.classes},e.bank.courses)}),(function(e){return{requestBank:Object(S.b)(F.a,e)}}))(Object(M.a)((function(e){return Object(C.a)({header:{position:"relative"},cardList:{minHeight:"calc(100vh - 240px)"},chip:{position:"absolute",right:0,top:0},autoMargin:{margin:"auto"}})}))(ce)),ie=Object(l.a)((function(e){return Object(C.a)({root:Object(c.a)({width:300,maxHeight:360,position:"relative",margin:e.spacing(2)},e.breakpoints.down(350),{margin:e.spacing(1)}),cardAction:{justifyContent:"space-between",margin:"inherit"},content:{minHeight:150}})})),oe=function(e){var t=e.favorite,a=ie(),n=t.title,c=t.featured_img,r=t.excerpt,l=t.author,s=t.id,u=t.type,m=function(){W.b.dispatch(Object(o.e)("/".concat(u,"/").concat(s)))};return i.a.createElement(B.a,{className:a.root},i.a.createElement(Y,{isFavorite:!0,loading:!1,handleFavorite:function(){W.b.dispatch(Object(J.a)(Object(j.a)(Object(j.a)({},t),{},{type:"lesson"})))}}),i.a.createElement(q.a,{onClick:m},i.a.createElement(I.a,{component:"img",alt:n,height:"140",image:Object(U.g)(c),title:n}),i.a.createElement(z.a,{className:a.content},i.a.createElement(w.a,{gutterBottom:!0,variant:"h5",component:"h2"},n),i.a.createElement(w.a,{variant:"body2",color:"textSecondary",component:"p"},r))),i.a.createElement(A.a,{className:a.cardAction},i.a.createElement(w.a,{variant:"body2",color:"textSecondary",component:"p"},"\u0627\u0632 ",l),i.a.createElement(R.a,{size:"medium",color:"secondary",onClick:m},"\u0627\u062f\u0627\u0645\u0647 \u062f\u0631\u0633")))},le=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"shouldComponentUpdate",value:function(e){return!e.loading}},{key:"componentDidMount",value:function(){this.props.loading&&this.props.profileRequest()}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.favorite,n=e.error,c=e.classes,r=a?a.length:0;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:c.header},i.a.createElement(w.a,{variant:"h3"},"\u0645\u0648\u0631\u062f\u0639\u0644\u0627\u0642\u0647 \u0647\u0627"),i.a.createElement(H.a,{className:c.chip,color:"secondary",label:"\u062a\u0639\u062f\u0627\u062f: "+r})),i.a.createElement(L.a,{container:!0,justify:"center",className:c.cardList},t?i.a.createElement(P.a,null):a?a.slice(0).reverse().map((function(e){return i.a.createElement(oe,{key:e.id,favorite:e})})):i.a.createElement(w.a,{component:"div",className:c.autoMargin},n)))}}]),a}(r.Component),se=Object(x.c)((function(e,t){return Object(j.a)({classes:t.classes},e.user)}),(function(e){return{profileRequest:Object(S.b)(J.d,e)}}))(Object(M.a)((function(e){return Object(C.a)({header:{position:"relative"},cardList:{minHeight:"calc(100vh - 240px)"},chip:{position:"absolute",right:0,top:0},autoMargin:{margin:"auto"}})}))(le)),ue=function(e){Object(k.a)(a,e);var t=Object(N.a)(a);function a(){return Object(O.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.props.requestBank("exercises")}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.data,n=e.error,c=e.classes,r=e.user,o=a?a.length:0;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:c.header},i.a.createElement(w.a,{variant:"h3"},"\u062a\u0645\u0631\u06cc\u0646 \u0647\u0627"),i.a.createElement(H.a,{className:c.chip,color:"secondary",label:"\u062a\u0639\u062f\u0627\u062f: "+o})),i.a.createElement(L.a,{container:!0,justify:"center",className:c.cardList},t?i.a.createElement(P.a,null):a.length?a.map((function(e){return i.a.createElement($,{key:e.id,lesson:e,user:r,type:"exercise"})})):i.a.createElement(w.a,{component:"div",className:c.autoMargin},n)))}}]),a}(r.Component),me=Object(x.c)((function(e,t){return Object(j.a)({classes:t.classes,user:e.user},e.bank.exercises)}),(function(e){return{requestBank:Object(S.b)(F.a,e)}}))(Object(M.a)((function(e){return Object(C.a)({header:{position:"relative"},cardList:{minHeight:"calc(100vh - 240px)"},chip:{position:"absolute",right:0,top:0},autoMargin:{margin:"auto"}})}))(ue)),de=[{link:"/guide",icon:i.a.createElement(h.a,null),label:"GUIDES",child:i.a.createElement(G,null)},{link:"/course",icon:i.a.createElement(g.a,null),label:"COURSES",child:i.a.createElement(re,null)},{link:"/lesson",icon:i.a.createElement(E.a,null),label:"LESSONS",child:i.a.createElement(te,null)},{link:"/exercise",icon:i.a.createElement(f.a,null),label:"EXERCISES",child:i.a.createElement(me,null)},{link:"/favorite",icon:i.a.createElement(v.a,null),label:"FAVORITES",child:i.a.createElement(se,null)}],pe=function(e){return de[e].link},be=function(e){var t=de.find((function(t){return t.link===e}));return t?de.indexOf(t):0},he=Object(l.a)((function(e){var t;return{root:{width:"100vw"},tabControl:(t={},Object(c.a)(t,e.breakpoints.down(880),{minWidth:150}),Object(c.a)(t,e.breakpoints.down(830),{minWidth:140}),Object(c.a)(t,e.breakpoints.down(780),{minWidth:120}),Object(c.a)(t,e.breakpoints.down(680),{minWidth:100}),Object(c.a)(t,e.breakpoints.down(500),{minWidth:80}),Object(c.a)(t,e.breakpoints.down(370),{minWidth:65}),Object(c.a)(t,e.breakpoints.down(320),{minWidth:55}),t),tabPanel:{padding:e.spacing(2)}}}));t.default=Object(x.c)((function(e){return{loggedIn:e.auth.loggedIn,pathName:e.router.location.pathname}}),(function(e){return{push:Object(S.b)(o.e,e)}}))((function(e){var t=e.loggedIn,a=e.pathName,c=e.push,o=he(),l=Object(r.useState)(be(a)),h=Object(n.a)(l,2),g=h[0],E=h[1];Object(r.useEffect)((function(){"/favorite"!==a||t?E(be(a)):c(pe(0))}),[a,t,c]);var f=Object(s.a)("(min-width:500px)");return i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{position:"static"},i.a.createElement(m.a,{square:!0},i.a.createElement(d.a,{value:g,onChange:function(e,t){return E(a=t),void c(pe(a));var a},variant:"scrollable",indicatorColor:"secondary",textColor:"secondary",scrollButtons:"desktop","aria-label":"icon label tabs"},de.map((function(e,a){return(4!==a||t)&&i.a.createElement(p.a,{className:o.tabControl,key:e.label,icon:e.icon,label:f?e.label:null,id:"full-width-tab-".concat(a),"aria-controls":"full-width-tabpanel-".concat(a)})}))))),de.map((function(e,t){return i.a.createElement("div",{key:e.label+t,role:"tabpanel",hidden:g!==t,id:"full-width-tabpanel-".concat(t),"aria-labelledby":"full-width-tab-".concat(t)},g===t&&i.a.createElement(b.a,{className:o.tabPanel},e.child))})))}))}}]);
//# sourceMappingURL=37.f1610e90.chunk.js.map