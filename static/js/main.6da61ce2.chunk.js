(this["webpackJsonpmelodition-typescript"]=this["webpackJsonpmelodition-typescript"]||[]).push([[16],{144:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return i}));var n="REQUEST_FAVORITES",r="SUCCESS_FAVORITES",i="FAILURE_FAVORITES"},183:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return c}));var n=a(49),r=a(56),i=a(50),o=a(51),l=function(){return function(e,t){var a=t().bank.posts,l=Object(r.b)()-a.nextLoad;a.data&&l<=0||(e({type:n.d}),o.a.get("/post/v2").then((function(t){return e({type:n.f,payload:{data:t.data,nextLoad:Object(r.b)(10)}})})).catch((function(e){return Object(i.a)(e,n.b)})))}},c=function(e){return function(t,a){var r=a().bank.posts.data,l=null===r||void 0===r?void 0:r.find((function(t){return t.id===e}));l?t({type:n.e,data:l}):(t({type:n.c}),o.a.get("/post/v2?id=".concat(e)).then((function(e){return t({type:n.e,data:e.data[0]})})).catch((function(e){return Object(i.a)(e,n.a)})))}}},192:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(52),r=a(0),i=a.n(r),o=a(176),l=a(282),c=a(283),s=a(22),u=function(e){var t=e.loading,a=Object(r.useState)(!1),u=Object(n.a)(a,2),d=u[0],f=u[1],h=function(){d?(Object(s.m)(),f(!1)):(Object(s.l)(),f(!0))},m=function(e){"Space"!==e.code||t||h()};return Object(r.useEffect)((function(){return document.addEventListener("keyup",m),function(){document.removeEventListener("keyup",m)}})),i.a.createElement(o.a,{id:"play-button",color:"secondary","aria-label":"play song",onClick:h},d?i.a.createElement(l.a,{style:{fontSize:"1.8em"}}):i.a.createElement(c.a,{style:{fontSize:"1.8em"}}))}},193:function(e,t,a){"use strict";var n=a(52),r=a(0),i=a.n(r),o=a(15),l=a(10),c=a(285),s=a(22),u=Object(o.c)((function(e){return{Melo:e.melodition}}),(function(e){return{drawSeekBar:Object(l.b)(s.f,e)}}))((function(e){var t=e.Melo,a=e.drawSeekBar,n=Object(r.useCallback)((function(e){return e&&t.seekLoading&&a({seekBar:e}),function(){}}),[t.seekLoading,a]);return i.a.createElement(d,{ref:n,Melo:t})}));t.a=u;var d=Object(r.forwardRef)((function(e,t){var a=e.Melo,o=Object(r.useState)(1),l=Object(n.a)(o,2),u=l[0],d=l[1];Object(r.useImperativeHandle)(t,(function(){return{changeSeeker:f}}));var f=function(e){"number"===typeof e&&d(e)};return i.a.createElement(c.a,{color:"secondary",orientation:"vertical","aria-label":"seekbar",defaultValue:0,max:a.songLength,min:0,onChange:function(e,t){var a;"number"===typeof(a=t)&&Object(s.a)(a)},"aria-labelledby":"vertical-slider",value:u})}))},194:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(328),o=a(393),l=[{id:"white",note:"C",front:"M0.5 0.5H42.5V155.5C42.5 156.881 43.6193 158 45 158H79.5V245C79.5 247.485 77.4853 249.5 75 249.5H5C2.51472 249.5 0.5 247.485 0.5 245V0.5Z",back:"M45.1094 203.488C44.9336 204.992 44.377 206.154 43.4395 206.975C42.5085 207.788 41.2682 208.195 39.7188 208.195C38.0391 208.195 36.6914 207.593 35.6758 206.389C34.6667 205.184 34.1621 203.573 34.1621 201.555V200.188C34.1621 198.866 34.3965 197.704 34.8652 196.701C35.3405 195.699 36.0111 194.93 36.877 194.396C37.7428 193.856 38.7454 193.586 39.8848 193.586C41.3952 193.586 42.6061 194.009 43.5176 194.855C44.429 195.695 44.9596 196.861 45.1094 198.352H43.2246C43.0618 197.219 42.707 196.398 42.1602 195.891C41.6198 195.383 40.8613 195.129 39.8848 195.129C38.6868 195.129 37.7461 195.572 37.0625 196.457C36.3854 197.342 36.0469 198.602 36.0469 200.236V201.613C36.0469 203.156 36.3691 204.383 37.0137 205.295C37.6582 206.206 38.5599 206.662 39.7188 206.662C40.7604 206.662 41.5579 206.428 42.1113 205.959C42.6712 205.484 43.0423 204.66 43.2246 203.488H45.1094Z"},{note:"Db",id:"black",front:"M95 0H45V153C45 154.105 45.8954 155 47 155H93C94.1046 155 95 154.105 95 153V0Z",back:"M79 130H61C52 130 52 150 52 150H88C88 150 88 130 79 130Z"},{id:"white",note:"D",front:"M150.5 0.5H97.5V155.5C97.5 156.881 96.3807 158 95 158H84.5V245C84.5 247.485 86.5147 249.5 89 249.5H159C161.485 249.5 163.5 247.485 163.5 245V158H153C151.619 158 150.5 156.881 150.5 155.5V0.5Z",back:"M118.65 208V193.781H122.664C123.901 193.781 124.995 194.055 125.945 194.602C126.896 195.148 127.628 195.926 128.143 196.936C128.663 197.945 128.927 199.104 128.934 200.412V201.32C128.934 202.661 128.673 203.837 128.152 204.846C127.638 205.855 126.899 206.63 125.936 207.17C124.979 207.71 123.862 207.987 122.586 208H118.65ZM120.525 195.324V206.467H122.498C123.943 206.467 125.066 206.018 125.867 205.119C126.674 204.221 127.078 202.941 127.078 201.281V200.451C127.078 198.837 126.697 197.583 125.936 196.691C125.18 195.793 124.106 195.337 122.713 195.324H120.525Z"},{note:"Eb",id:"black",front:"M203 0H153V153C153 154.105 153.895 155 155 155H201C202.105 155 203 154.105 203 153V0Z",back:"M187 130H169C160 130 160 150 160 150H196C196 150 196 130 187 130Z"},{note:"E",id:"white",front:"M247.5 0.5H205.5V155.5C205.5 156.881 204.381 158 203 158H168.5V245C168.5 247.485 170.515 249.5 173 249.5H243C245.485 249.5 247.5 247.485 247.5 245V0.5Z",back:"M211.688 201.428H205.525V206.467H212.684V208H203.65V193.781H212.586V195.324H205.525V199.895H211.688V201.428Z"},{note:"F",id:"white",front:"M252.5 0.5H291.5V155.5C291.5 156.881 292.619 158 294 158H331.5V245C331.5 247.485 329.485 249.5 327 249.5H257C254.515 249.5 252.5 247.485 252.5 245V0.5Z",back:"M295.492 201.721H289.525V208H287.65V193.781H296.459V195.324H289.525V200.188H295.492V201.721Z"},{note:"Gb",id:"black",front:"M344 0H294V153C294 154.105 294.895 155 296 155H342C343.105 155 344 154.105 344 153V0Z",back:"M328 130H310C301 130 301 150 301 150H337C337 150 337 130 328 130Z"},{note:"G",id:"white",front:"M390.5 0.5H346.5V155.5C346.5 156.881 345.381 158 344 158H336.5V245C336.5 247.485 338.515 249.5 341 249.5H411C413.485 249.5 415.5 247.485 415.5 245V158H393C391.619 158 390.5 156.881 390.5 155.5V0.5Z",back:"M381.148 206.135C380.667 206.825 379.993 207.342 379.127 207.688C378.268 208.026 377.265 208.195 376.119 208.195C374.96 208.195 373.932 207.925 373.033 207.385C372.135 206.838 371.438 206.063 370.943 205.061C370.455 204.058 370.204 202.896 370.191 201.574V200.334C370.191 198.192 370.689 196.532 371.686 195.354C372.688 194.175 374.094 193.586 375.904 193.586C377.389 193.586 378.583 193.967 379.488 194.729C380.393 195.484 380.947 196.558 381.148 197.951H379.273C378.922 196.07 377.802 195.129 375.914 195.129C374.658 195.129 373.704 195.572 373.053 196.457C372.408 197.336 372.083 198.612 372.076 200.285V201.447C372.076 203.042 372.441 204.312 373.17 205.256C373.899 206.193 374.885 206.662 376.129 206.662C376.832 206.662 377.447 206.584 377.975 206.428C378.502 206.271 378.938 206.008 379.283 205.637V202.443H375.992V200.92H381.148V206.135Z"},{note:"Ab",id:"black",front:"M443 0H393V153C393 154.105 393.895 155 395 155H441C442.105 155 443 154.105 443 153V0Z",back:"M427 130H409C400 130 400 150 400 150H436C436 150 436 130 427 130Z"},{note:"A",id:"white",front:"M491.5 0.5H445.5V155.5C445.5 156.881 444.381 158 443 158H420.5V245C420.5 247.485 422.515 249.5 425 249.5H495C497.485 249.5 499.5 247.485 499.5 245V158H494C492.619 158 491.5 156.881 491.5 155.5V0.5Z",back:"M462.502 204.289H456.545L455.207 208H453.273L458.703 193.781H460.344L465.783 208H463.859L462.502 204.289ZM457.111 202.746H461.945L459.523 196.096L457.111 202.746Z"},{note:"Bb",id:"black",front:"M544 0H494V153C494 154.105 494.895 155 496 155H542C543.105 155 544 154.105 544 153V0Z",back:"M528 130H510C501 130 501 150 501 150H537C537 150 537 130 528 130Z"},{note:"B",id:"white",front:"M583.5 0.5H546.5V155.5C546.5 156.881 545.381 158 544 158H504.5V245C504.5 247.485 506.515 249.5 509 249.5H579C581.485 249.5 583.5 247.485 583.5 245V0.5Z",back:"M538.65 208V193.781H543.299C544.842 193.781 546.001 194.1 546.775 194.738C547.557 195.376 547.947 196.32 547.947 197.57C547.947 198.234 547.758 198.824 547.381 199.338C547.003 199.846 546.489 200.24 545.838 200.52C546.606 200.734 547.212 201.145 547.654 201.75C548.104 202.349 548.328 203.065 548.328 203.898C548.328 205.174 547.915 206.177 547.088 206.906C546.261 207.635 545.092 208 543.582 208H538.65ZM540.525 201.35V206.467H543.621C544.493 206.467 545.18 206.242 545.682 205.793C546.189 205.337 546.443 204.712 546.443 203.918C546.443 202.206 545.512 201.35 543.65 201.35H540.525ZM540.525 199.846H543.357C544.178 199.846 544.832 199.641 545.32 199.23C545.815 198.82 546.062 198.264 546.062 197.561C546.062 196.779 545.835 196.213 545.379 195.861C544.923 195.503 544.23 195.324 543.299 195.324H540.525V199.846Z"}],c="M663 249.5H593C590.515 249.5 588.5 247.485 588.5 245V0.5H667.5V245C667.5 247.485 665.485 249.5 663 249.5Z",s="M633.109 203.488C632.934 204.992 632.377 206.154 631.439 206.975C630.508 207.788 629.268 208.195 627.719 208.195C626.039 208.195 624.691 207.593 623.676 206.389C622.667 205.184 622.162 203.573 622.162 201.555V200.188C622.162 198.866 622.396 197.704 622.865 196.701C623.34 195.699 624.011 194.93 624.877 194.396C625.743 193.856 626.745 193.586 627.885 193.586C629.395 193.586 630.606 194.009 631.518 194.855C632.429 195.695 632.96 196.861 633.109 198.352H631.225C631.062 197.219 630.707 196.398 630.16 195.891C629.62 195.383 628.861 195.129 627.885 195.129C626.687 195.129 625.746 195.572 625.062 196.457C624.385 197.342 624.047 198.602 624.047 200.236V201.613C624.047 203.156 624.369 204.383 625.014 205.295C625.658 206.206 626.56 206.662 627.719 206.662C628.76 206.662 629.558 206.428 630.111 205.959C630.671 205.484 631.042 204.66 631.225 203.488H633.109Z",u=a(22),d=a(15),f=a(10),h=Object(i.a)((function(e){return Object(o.a)({root:{display:"flex",flexDirection:"row-reverse",justifyContent:"center",flexWrap:"nowrap",margin:"0 auto",minWidth:"215px",width:"100%"},back:{margin:e.spacing(0,2)}})})),m=Object(d.c)((function(e){return{theme:e.auth.theme,Melo:e.melodition}}),(function(e){return{drawPiano:Object(f.b)(u.e,e)}}))((function(e){var t=e.theme,a=e.Melo,i=e.drawPiano,o=!1,d=null,f={z:48,s:49,x:50,d:51,c:52,v:53,g:54,b:55,h:56,n:57,j:58,m:59,",":60,l:61,".":62,";":63,"/":64,q:65,2:66,w:67,3:68,e:69,4:70,r:71,t:72,6:73,y:74,7:75,u:76,i:77,9:78,o:79,0:80,p:81,"-":82,"[":83,"]":84},m=35,p=36,g={},b=function(e){var t=e.key;if(f.hasOwnProperty(t)){var a=f[t];Object(u.g)(a),d=null}},v=function(e){var t=e.key;if(f.hasOwnProperty(t)&&t!==d){var a=f[t];Object(u.h)(a),d=t}},_=function(){o=!1};Object(n.useEffect)((function(){return document.addEventListener("keydown",v),document.addEventListener("keyup",b),document.addEventListener("mouseup",_),function(){document.removeEventListener("keydown",v),document.removeEventListener("keyup",b)}}));var y,E=h(),O=function(e){e.preventDefault();var t=e.currentTarget.tabIndex;o=!0,d=t,Object(u.h)(t)},S=function(e){e.preventDefault();var t=e.currentTarget.tabIndex;o&&t!==d&&(d=t,Object(u.h)(t))},k=function(e){e.preventDefault();var t=e.currentTarget.tabIndex;o&&(Object(u.g)(t),d=null)},j=function(e){e.preventDefault();var t=e.currentTarget.tabIndex;o=!1,Object(u.g)(t),d=null},w=function(e){return 1===e?668:584},C=function(e){if(e){var t=e.tabIndex;g[t]=e}},A=function(e,t,a){i(e,t,a)},x="dark"===t?1:0;return(y=a.octave)>6?(m=23,p=24):y>3?(m=35,p=36):y>1?(m=47,p=48):(m=59,p=60),r.a.createElement("div",{ref:function(e){if(e&&a.pianoLoading)if(a.playMode){var t=e.getBoundingClientRect(),n=t.width,r=Math.floor(window.innerHeight-(t.height+64)),i=function(e){return e/16}(r),o=4*i+8,l=t.left;A(g,{width:n,height:r,baseLine:o,pianoLeft:l},i)}else A(g)},className:E.root,style:{filter:"invert(".concat(x,")")}},Array.from(Array(a.octave),(function(e,t){return"oct"+(t+1)})).map((function(e,t){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",id:e,key:e,width:w(a.octave-t),height:"100%",viewBox:"0 0 ".concat(w(a.octave-t)," 275"),fill:"none",style:t!==a.octave-1?{marginRight:8/a.octave}:void 0},l.map((function(t){return r.a.createElement("g",{key:e+"-"+t.note,id:t.id,tabIndex:++m,onMouseDown:O,onMouseUp:j,onMouseLeave:k,onMouseOver:S,className:m===p?"first":t.note,ref:C},r.a.createElement("path",{id:"back",d:t.front,fill:t.id,stroke:"white"===t.id?"#B5B5B5":void 0}),r.a.createElement("path",{id:"front",d:t.back,fill:"white"===t.id?"black":"rgb(255 255 255 / 65%)"}),60===m?r.a.createElement("polygon",{points:"30,265 40,255 50,265",fill:"black"}):null)})),a.octave-t===1?r.a.createElement("g",{id:"C",className:"last",tabIndex:++m,onMouseDown:O,onMouseUp:j,onMouseLeave:k,onMouseOver:S,ref:C},r.a.createElement("path",{id:"back",d:c,fill:"white",stroke:"#B5B5B5"}),r.a.createElement("path",{id:"front",d:s,fill:"black"})):null)})))}));t.a=m},201:function(e,t,a){e.exports=a.p+"static/media/melodition.7fdc0c11.jpg"},22:function(e,t,a){"use strict";a.d(t,"i",(function(){return I})),a.d(t,"e",(function(){return G})),a.d(t,"c",(function(){return N})),a.d(t,"f",(function(){return B})),a.d(t,"d",(function(){return M})),a.d(t,"k",(function(){return R})),a.d(t,"j",(function(){return V})),a.d(t,"b",(function(){return U})),a.d(t,"a",(function(){return z})),a.d(t,"l",(function(){return P})),a.d(t,"m",(function(){return H})),a.d(t,"h",(function(){return F})),a.d(t,"g",(function(){return D}));var n=a(28),r=a(121),i=a.n(r),o=a(4),l=a(155),c=a(13),s=a(73),u=function e(t){var a=this;Object(c.a)(this,e),this.volume=1,this.tracks=[],this.analyserNode=void 0,this.sampleNodes=[],this.masterVolumeNode=void 0,this.paused=!0,this.muted=!1,this.loopEndTime=null,this.loopMode=!1,this.loopStartTime=null,this.audioContext=void 0,this.trackVolumeNodes=[],this.elapsedTimeSinceStart=null,this.decodedAudioBuffers=[],this.addTrack=function(e){a.tracks.push({decodedBuffer:e.buffer,peaks:null,volume:e.vol,panning:0,muted:!1,solo:!1,sampleNode:null,volumeNode:null})},this.loadBuffer=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a,e.next=3,a.audioContext.decodeAudioData(t.buffer,(function(e){e||Promise.reject("error decoding file data: "),a.decodedAudioBuffers=[].concat(Object(s.a)(a.decodedAudioBuffers),[e]),a.addTrack({buffer:e,vol:t.vol}),Promise.resolve(n)}),(function(e){return Promise.reject(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.buildGraph=function(){for(var e=[],t=0;t<a.decodedAudioBuffers.length;t++){var n=a.decodedAudioBuffers[t];e[t]=a.audioContext.createBufferSource(),e[t].buffer=n,a.trackVolumeNodes[t]=a.audioContext.createGain(),a.trackVolumeNodes[t]&&(a.trackVolumeNodes[t].gain.value=a.tracks[t].volume),e[t].connect(a.trackVolumeNodes[t]),a.trackVolumeNodes[t].connect(a.masterVolumeNode),a.masterVolumeNode.connect(a.analyserNode),a.analyserNode.connect(a.audioContext.destination)}a.sampleNodes=e},this.play=function(e){a.buildGraph(),a.setTrackVolumesDependingOnMuteSoloStatus(),a.elapsedTimeSinceStart=e,a.sampleNodes.forEach((function(t){t.start(0,e)})),a.paused=!1},this.stop=function(){!0!==a.paused&&(a.sampleNodes.forEach((function(e){e.stop(0)})),a.paused=!0)},this.pause=function(){a.paused?a.play(a.elapsedTimeSinceStart):a.stop()},this.setVolume=function(e){a.volume=e,a.masterVolumeNode.gain.value=e},this.setMasterVolume=function(e){var t;t=void 0===e?.8:e/100,a.setVolume(t*t)},this.setVolumeOfTrack=function(e,t){void 0!==a.trackVolumeNodes[t]&&(a.trackVolumeNodes[t].gain.value=e,a.tracks[t].volume=e)},this.getUrlsOfTracks=function(){var e=[];return a.tracks.forEach((function(t){e.push(t.url)})),e},this.getDuration=function(){if(void 0!==a.decodedAudioBuffers){for(var e=0,t=0;t<a.decodedAudioBuffers.length;t++)e<a.decodedAudioBuffers[t].duration&&(e=a.decodedAudioBuffers[t].duration);return e}},this.getNbTracks=function(){return a.tracks.length},this.toggleLoopMode=function(){a.loopMode=!a.loopMode},this.toggleMute=function(){a.muted=!a.muted,a.muted?a.masterVolumeNode.gain.value=0:a.masterVolumeNode.gain.value=a.volume},this.togglePause=function(){a.paused=!a.paused},this.setTrackVolumesDependingOnMuteSoloStatus=function(){for(var e=!1,t=a.getNbTracks(),n=0;n<t;n++)if(a.tracks[n].solo){e=!0;break}if(e)for(var r=0;r<t;r++)a.tracks[r].solo?a.trackVolumeNodes[r].gain.value=a.tracks[r].volume:a.trackVolumeNodes[r].gain.value=0;else for(var i=0;i<t;i++)void 0!==a.trackVolumeNodes[i]&&(a.tracks[i].muted?a.trackVolumeNodes[i].gain.value=0:a.trackVolumeNodes[i].gain.value=a.tracks[i].volume)},this.audioContext=t,this.masterVolumeNode=this.audioContext.createGain(),this.analyserNode=this.audioContext.createAnalyser()},d=function e(t){var a=this;Object(c.a)(this,e),this.audioContext=void 0,this.input=void 0,this.band32=void 0,this.band64=void 0,this.band128=void 0,this.band256=void 0,this.band512=void 0,this.band1k=void 0,this.band2k=void 0,this.band4k=void 0,this.band8k=void 0,this.band16k=void 0,this.output=void 0,this.bandEqualizer=function(e,t){var n=a.audioContext.createBiquadFilter();return n.frequency.setTargetAtTime(t,0,1e-4),n.type="peaking",n.gain.setTargetAtTime(0,0,1e-4),n.Q.setTargetAtTime(1,0,1e-4),e.connect(n),n},console.log("WebAudioFont Channel v1.04"),this.audioContext=t,this.input=this.audioContext.createDynamicsCompressor(),this.input.threshold.setValueAtTime(-3,0),this.input.knee.setValueAtTime(30,0),this.input.ratio.setValueAtTime(12,0),this.input.attack.setValueAtTime(.05,0),this.input.release.setValueAtTime(.08,0),this.band32=this.bandEqualizer(this.input,32),this.band64=this.bandEqualizer(this.band32,64),this.band128=this.bandEqualizer(this.band64,128),this.band256=this.bandEqualizer(this.band128,256),this.band512=this.bandEqualizer(this.band256,512),this.band1k=this.bandEqualizer(this.band512,1024),this.band2k=this.bandEqualizer(this.band1k,2048),this.band4k=this.bandEqualizer(this.band2k,4096),this.band8k=this.bandEqualizer(this.band4k,8192),this.band16k=this.bandEqualizer(this.band8k,16384),this.output=t.createGain(),this.band16k.connect(this.output)},f=function e(t){var a=this;Object(c.a)(this,e),this.player=void 0,this.cached=void 0,this.choosenInfos=void 0,this.drumKeyArray=void 0,this.drumNamesArray=void 0,this.instrumentKeyArray=void 0,this.instrumentNamesArray=void 0,this.startLoad=function(e,t){if(!window[t]){for(var n=0;n<a.cached.length;n++)if(a.cached[n].variableName===t)return;a.cached.push({filePath:e,variableName:t});var r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",e),document.getElementsByTagName("head")[0].appendChild(r),a.decodeAfterLoading(t)}},this.decodeAfterLoading=function(e){a.waitOrFinish(e,(function(){a.player.adjustPreset(window[e])}))},this.waitOrFinish=function(e,t){if(window[e])t();else{var n=a;setTimeout((function(){n.waitOrFinish(e,t)}),111)}},this.loaded=function(e){if(!window[e])return!1;for(var t=window[e],a=0;a<t.zones.length;a++)if(!t.zones[a].buffer)return!1;return!0},this.progress=function(){if(a.cached.length>0){for(var e=0;e<a.cached.length;e++)if(!a.loaded(a.cached[e].variableName))return e/a.cached.length;return 1}return 1},this.waitLoad=function(e){var t=a;a.progress()>=1?e():setTimeout((function(){t.waitLoad(e)}),333)},this.instrumentTitles=function(){if(!a.instrumentNamesArray){var e=[];e[0]="Acoustic Grand Piano: Piano",e[1]="Bright Acoustic Piano: Piano",e[2]="Electric Grand Piano: Piano",e[3]="Honky-tonk Piano: Piano",e[4]="Electric Piano 1: Piano",e[5]="Electric Piano 2: Piano",e[6]="Harpsichord: Piano",e[7]="Clavinet: Piano",e[8]="Celesta: Chromatic Percussion",e[9]="Glockenspiel: Chromatic Percussion",e[10]="Music Box: Chromatic Percussion",e[11]="Vibraphone: Chromatic Percussion",e[12]="Marimba: Chromatic Percussion",e[13]="Xylophone: Chromatic Percussion",e[14]="Tubular Bells: Chromatic Percussion",e[15]="Dulcimer: Chromatic Percussion",e[16]="Drawbar Organ: Organ",e[17]="Percussive Organ: Organ",e[18]="Rock Organ: Organ",e[19]="Church Organ: Organ",e[20]="Reed Organ: Organ",e[21]="Accordion: Organ",e[22]="Harmonica: Organ",e[23]="Tango Accordion: Organ",e[24]="Acoustic Guitar (nylon): Guitar",e[25]="Acoustic Guitar (steel): Guitar",e[26]="Electric Guitar (jazz): Guitar",e[27]="Electric Guitar (clean): Guitar",e[28]="Electric Guitar (muted): Guitar",e[29]="Overdriven Guitar: Guitar",e[30]="Distortion Guitar: Guitar",e[31]="Guitar Harmonics: Guitar",e[32]="Acoustic Bass: Bass",e[33]="Electric Bass (finger): Bass",e[34]="Electric Bass (pick): Bass",e[35]="Fretless Bass: Bass",e[36]="Slap Bass 1: Bass",e[37]="Slap Bass 2: Bass",e[38]="Synth Bass 1: Bass",e[39]="Synth Bass 2: Bass",e[40]="Violin: Strings",e[41]="Viola: Strings",e[42]="Cello: Strings",e[43]="Contrabass: Strings",e[44]="Tremolo Strings: Strings",e[45]="Pizzicato Strings: Strings",e[46]="Orchestral Harp: Strings",e[47]="Timpani: Strings",e[48]="String Ensemble 1: Ensemble",e[49]="String Ensemble 2: Ensemble",e[50]="Synth Strings 1: Ensemble",a.instrumentNamesArray=e}return a.instrumentNamesArray},this.instrumentKeys=function(){return a.instrumentKeyArray||(a.instrumentKeyArray=["0000_Aspirin_sf2_file","0001_FluidR3_GM_sf2_file","0002_GeneralUserGS_sf2_file","0003_GeneralUserGS_sf2_file","0010_Aspirin_sf2_file","0011_Aspirin_sf2_file","0012_GeneralUserGS_sf2_file","0020_Aspirin_sf2_file","0021_Aspirin_sf2_file","0022_Aspirin_sf2_file","0030_Aspirin_sf2_file","0031_Aspirin_sf2_file","0040_Aspirin_sf2_file","0041_FluidR3_GM_sf2_file","0042_GeneralUserGS_sf2_file","0043_GeneralUserGS_sf2_file","0044_GeneralUserGS_sf2_file","0045_GeneralUserGS_sf2_file","0046_GeneralUserGS_sf2_file","0050_Aspirin_sf2_file","0051_FluidR3_GM_sf2_file","0052_GeneralUserGS_sf2_file","0053_GeneralUserGS_sf2_file","0054_GeneralUserGS_sf2_file","0060_Aspirin_sf2_file","0061_Aspirin_sf2_file","0062_GeneralUserGS_sf2_file","0070_Aspirin_sf2_file","0071_GeneralUserGS_sf2_file","0080_Aspirin_sf2_file","0080_Chaos_sf2_file","0081_FluidR3_GM_sf2_file","0090_Aspirin_sf2_file","0091_SoundBlasterOld_sf2","0100_Aspirin_sf2_file","0101_GeneralUserGS_sf2_file","0110_Aspirin_sf2_file","0111_FluidR3_GM_sf2_file","0120_Aspirin_sf2_file","0121_FluidR3_GM_sf2_file","0130_Aspirin_sf2_file","0131_FluidR3_GM_sf2_file","0140_Aspirin_sf2_file","0141_FluidR3_GM_sf2_file","0142_GeneralUserGS_sf2_file","0143_GeneralUserGS_sf2_file","0150_Aspirin_sf2_file","0151_FluidR3_GM_sf2_file","0160_Aspirin_sf2_file","0161_Aspirin_sf2_file","0170_Aspirin_sf2_file","0171_FluidR3_GM_sf2_file","0172_FluidR3_GM_sf2_file","0180_Aspirin_sf2_file","0181_Aspirin_sf2_file","0190_Aspirin_sf2_file","0191_Aspirin_sf2_file","0200_Aspirin_sf2_file","0201_Aspirin_sf2_file","0210_Aspirin_sf2_file","0211_Aspirin_sf2_file","0212_GeneralUserGS_sf2_file","0220_Aspirin_sf2_file","0221_FluidR3_GM_sf2_file","0230_Aspirin_sf2_file","0231_FluidR3_GM_sf2_file","0232_FluidR3_GM_sf2_file","0233_FluidR3_GM_sf2_file","0240_Aspirin_sf2_file","0241_GeneralUserGS_sf2_file","0241_JCLive_sf2_file","0242_JCLive_sf2_file","0243_JCLive_sf2_file","0253_Acoustic_Guitar_sf2_file","0250_Aspirin_sf2_file","0251_Acoustic_Guitar_sf2_file","0252_Acoustic_Guitar_sf2_file","0253_Acoustic_Guitar_sf2_file","0254_Acoustic_Guitar_sf2_file","0255_GeneralUserGS_sf2_file","0260_Aspirin_sf2_file","0261_GeneralUserGS_sf2_file","0262_Stratocaster_sf2_file","0270_Aspirin_sf2_file","0271_GeneralUserGS_sf2_file","0280_Aspirin_sf2_file","0281_Aspirin_sf2_file","0282_FluidR3_GM_sf2_file","0283_GeneralUserGS_sf2_file","0290_Aspirin_sf2_file","0291_Aspirin_sf2_file","0292_Aspirin_sf2_file","0300_Aspirin_sf2_file","0301_Aspirin_sf2_file","0302_Aspirin_sf2_file","0303_Aspirin_sf2_file","0304_Aspirin_sf2_file","0310_Aspirin_sf2_file","0311_FluidR3_GM_sf2_file","0320_Aspirin_sf2_file","0321_GeneralUserGS_sf2_file","0322_GeneralUserGS_sf2_file","0330_Aspirin_sf2_file","0331_GeneralUserGS_sf2_file","0332_GeneralUserGS_sf2_file","0340_Aspirin_sf2_file","0341_Aspirin_sf2_file","0350_Aspirin_sf2_file","0351_GeneralUserGS_sf2_file","0360_Aspirin_sf2_file","0361_GeneralUserGS_sf2_file","0370_Aspirin_sf2_file","0371_GeneralUserGS_sf2_file","0372_GeneralUserGS_sf2_file","0380_Aspirin_sf2_file","0381_FluidR3_GM_sf2_file","0382_FluidR3_GM_sf2_file","0383_GeneralUserGS_sf2_file","0384_GeneralUserGS_sf2_file","0385_GeneralUserGS_sf2_file","0386_GeneralUserGS_sf2_file","0387_GeneralUserGS_sf2_file","0390_Aspirin_sf2_file","0391_FluidR3_GM_sf2_file","0392_FluidR3_GM_sf2_file","0393_GeneralUserGS_sf2_file","0400_Aspirin_sf2_file","0401_Aspirin_sf2_file","0402_GeneralUserGS_sf2_file","0410_Aspirin_sf2_file","0410_Chaos_sf2_file","0411_FluidR3_GM_sf2_file","0420_Aspirin_sf2_file","0421_FluidR3_GM_sf2_file","0430_Aspirin_sf2_file","0431_FluidR3_GM_sf2_file","0440_Aspirin_sf2_file","0441_GeneralUserGS_sf2_file","0442_GeneralUserGS_sf2_file","0450_Aspirin_sf2_file","0451_FluidR3_GM_sf2_file","0460_Aspirin_sf2_file","0461_FluidR3_GM_sf2_file","0470_Aspirin_sf2_file","0471_FluidR3_GM_sf2_file","0480_Aspirin_sf2_file","0480_SoundBlasterOld_sf2","04810_GeneralUserGS_sf2_file","0481_Aspirin_sf2_file","0481_FluidR3_GM_sf2_file","0481_GeneralUserGS_sf2_file","0482_Aspirin_sf2_file","0482_GeneralUserGS_sf2_file","0483_GeneralUserGS_sf2_file","0484_GeneralUserGS_sf2_file","0485_GeneralUserGS_sf2_file","0486_GeneralUserGS_sf2_file","0487_GeneralUserGS_sf2_file","0488_GeneralUserGS_sf2_file","0489_GeneralUserGS_sf2_file","0490_Aspirin_sf2_file","0490_GeneralUserGS_sf2_file","0491_GeneralUserGS_sf2_file","0492_GeneralUserGS_sf2_file","0500_Aspirin_sf2_file"]),a.instrumentKeyArray},this.instrumentInfo=function(e){var t=a.instrumentKeys()[e],n=1*Number(t.substr(0,3));return{variable:"_tone_"+t,url:"https://surikov.github.io/webaudiofontdata/sound/"+t+".js",title:a.instrumentTitles()[n]}},this.findInstrument=function(e){a.choosenInfos||(a.choosenInfos=[[1,2],[2,14],[3,25],[4,37],[5,48],[6,58],[7,70],[8,83],[9,91],[10,99],[11,107],[12,118],[13,127],[14,136],[15,144],[16,152],[17,164],[18,170],[19,183],[20,194],[21,205],[22,215],[23,228],[24,241],[25,254],[26,263],[27,277],[28,296],[29,308],[30,319],[31,350],[32,356],[33,369],[34,379],[35,385],[36,399],[37,403],[38,412],[39,421],[40,438],[41,452],[42,461],[43,467],[44,477],[45,488],[46,493],[47,501],[48,511],[49,518],[50,547]]);for(var t=0;t<a.instrumentKeys().length;t++)if(e===1*Number(a.instrumentKeys()[t].substring(0,3)))return t;return console.log("program",e,"not found"),0},this.drumTitles=function(){if(!a.drumNamesArray){var e=[];e[35]="Bass Drum 2",e[36]="Bass Drum 1",e[37]="Side Stick/Rimshot",e[38]="Snare Drum 1",e[39]="Hand Clap",e[40]="Snare Drum 2",e[41]="Low Tom 2",e[42]="Closed Hi-hat",e[43]="Low Tom 1",e[44]="Pedal Hi-hat",e[45]="Mid Tom 2",e[46]="Open Hi-hat",e[47]="Mid Tom 1",e[48]="High Tom 2",e[49]="Crash Cymbal 1",e[50]="High Tom 1",e[51]="Ride Cymbal 1",e[52]="Chinese Cymbal",e[53]="Ride Bell",e[54]="Tambourine",e[55]="Splash Cymbal",e[56]="Cowbell",e[57]="Crash Cymbal 2",e[58]="Vibra Slap",e[59]="Ride Cymbal 2",e[60]="High Bongo",e[61]="Low Bongo",e[62]="Mute High Conga",e[63]="Open High Conga",e[64]="Low Conga",e[65]="High Timbale",e[66]="Low Timbale",e[67]="High Agogo",e[68]="Low Agogo",e[69]="Cabasa",e[70]="Maracas",e[71]="Short Whistle",e[72]="Long Whistle",e[73]="Short Guiro",e[74]="Long Guiro",e[75]="Claves",e[76]="High Wood Block",e[77]="Low Wood Block",e[78]="Mute Cuica",e[79]="Open Cuica",e[80]="Mute Triangle",e[81]="Open Triangle",a.drumNamesArray=e}return a.drumNamesArray},this.drumKeys=function(){return a.drumKeyArray||(a.drumKeyArray=["35_0_SBLive_sf2","36_0_SBLive_sf2","37_0_SBLive_sf2","38_0_SBLive_sf2","39_0_SBLive_sf2","40_0_SBLive_sf2","41_0_SBLive_sf2","42_0_SBLive_sf2","43_0_SBLive_sf2","44_0_SBLive_sf2","45_0_SBLive_sf2","46_0_SBLive_sf2","47_0_SBLive_sf2","48_0_SBLive_sf2","49_0_SBLive_sf2","50_0_SBLive_sf2","51_0_SBLive_sf2","52_0_SBLive_sf2","53_0_SBLive_sf2","54_0_SBLive_sf2","55_0_SBLive_sf2","56_0_SBLive_sf2","57_0_SBLive_sf2","58_0_SBLive_sf2","59_0_SBLive_sf2","60_0_SBLive_sf2","61_0_SBLive_sf2","62_0_SBLive_sf2","63_0_SBLive_sf2","64_0_SBLive_sf2","65_0_SBLive_sf2","66_0_SBLive_sf2","67_0_SBLive_sf2","68_0_SBLive_sf2","69_0_SBLive_sf2","70_0_SBLive_sf2","71_0_SBLive_sf2","72_0_SBLive_sf2","73_0_SBLive_sf2","74_0_SBLive_sf2","75_0_SBLive_sf2","76_0_SBLive_sf2","77_0_SBLive_sf2","78_0_SBLive_sf2","79_0_SBLive_sf2","80_0_SBLive_sf2","81_0_SBLive_sf2"]),a.drumKeyArray},this.drumInfo=function(e){var t=a.drumKeys()[e],n=1*Number(t.substr(0,2));return{variable:"_drum_"+t,url:"https://surikov.github.io/webaudiofontdata/sound/128"+t+".js",pitch:n,title:a.drumTitles()[n]}},this.findDrum=function(e){for(var t=0;t<a.drumKeys().length;t++)if(e===1*Number(a.drumKeys()[t].substring(0,2)))return t;return 0},console.log("WebAudioFont Loader v1.27"),this.player=t,this.cached=[]},h=function e(t){var n=this;Object(c.a)(this,e),this.audioContext=void 0,this.input=void 0,this.convolver=void 0,this.dry=void 0,this.wet=void 0,this.irrArrayBuffer=void 0,this.output=void 0,console.log("WebAudioFont Reverberator v1.08"),this.audioContext=t,this.input=this.audioContext.createBiquadFilter(),this.input.type="lowpass",this.input.frequency.setTargetAtTime(18e3,0,1e-4),this.convolver=null,this.output=t.createGain(),this.dry=t.createGain(),this.dry.gain.setTargetAtTime(.9,0,1e-4),this.dry.connect(this.output),this.wet=t.createGain(),this.wet.gain.setTargetAtTime(.5,0,1e-4),this.input.connect(this.dry),this.input.connect(this.wet),a.e(26).then(a.bind(null,418)).then((function(e){var a=e.reverbrator,r=a.length/2;n.irrArrayBuffer=new ArrayBuffer(r);for(var i,o=new Uint8Array(n.irrArrayBuffer),l=atob(a),c=0;c<l.length;c++)i=l.charCodeAt(c),o[c]=i;n.audioContext.decodeAudioData(n.irrArrayBuffer,(function(e){n.convolver=t.createConvolver(),n.convolver.buffer=e,n.wet.connect(n.convolver),n.convolver.connect(n.output),console.log("convolver audioBuffer",e)}))}))},m=[0,.25,.5,.75,1,1.25,1.5,1.75,2],p=new(window.AudioContext||window.webkitAudioContext),g=new d(p),b=new function e(t){var a=this;Object(c.a)(this,e),this.audioContext=void 0,this.envelopes=void 0,this.loader=void 0,this.onCacheFinish=void 0,this.onCacheProgress=void 0,this.afterTime=void 0,this.nearZero=void 0,this.createChannel=function(){return new d(a.audioContext)},this.createReverberator=function(){return new h(a.audioContext)},this.limitVolume=function(e){return e?e*=1:e=.5,e},this.queueChord=function(e){var t=e.target,n=e.preset,r=e.when,i=e.pitches,o=e.duration,l=e.volume,c=e.slides;l=a.limitVolume(l);for(var s=0;s<i.length;s++)a.queueWaveTable({target:t,preset:n,when:r,pitches:i[s],duration:o,volume:l-.01*Math.random(),slides:c})},this.queueStrumUp=function(e){var t=e.target,n=e.preset,r=e.when,i=e.pitches,o=e.duration,l=e.volume,c=e.slides;i.sort((function(e,t){return e-t})),a.queueStrum({target:t,preset:n,when:r,pitches:i,duration:o,volume:l,slides:c})},this.queueStrumDown=function(e){var t=e.target,n=e.preset,r=e.when,i=e.pitches,o=e.duration,l=e.volume,c=e.slides;i.sort((function(e,t){return e-t})),a.queueStrum({target:t,preset:n,when:r,pitches:i,duration:o,volume:l,slides:c})},this.queueStrum=function(e){var t=e.target,n=e.preset,r=e.when,i=e.pitches,o=e.duration,l=e.volume,c=e.slides;l=a.limitVolume(l),r<a.audioContext.currentTime&&(r=a.audioContext.currentTime);for(var s=0;s<i.length;s++)a.queueWaveTable({target:t,preset:n,when:r+.01*s,pitches:i[s],duration:o,volume:l-.01*Math.random(),slides:c}),l*=.9},this.queueSnap=function(e){var t=e.target,n=e.preset,r=e.when,i=e.pitches,o=(e.duration,e.volume),l=e.slides;o=1.5*((o=a.limitVolume(o))||1),a.queueChord({target:t,preset:n,when:r,pitches:i,duration:.05,volume:o,slides:l})},this.queueWaveTable=function(e){var t=e.target,n=e.preset,r=e.when,i=e.pitches,o=e.duration,l=e.volume,c=e.slides;"suspended"===a.audioContext.state&&(console.log("audioContext.resume"),a.audioContext.resume()),l=a.limitVolume(l);var s=a.findZone(n,i);if(s.buffer){var u=s.originalPitch-100*s.coarseTune-s.fineTune,d=1*Math.pow(2,(100*i-u)/1200),f=r;f<a.audioContext.currentTime&&(f=a.audioContext.currentTime);var h=o+a.afterTime,m=!0;(s.loopStart<1||s.loopStart>=s.loopEnd)&&(m=!1),m||h>s.buffer.duration/d&&(h=s.buffer.duration/d);var p=a.findEnvelope({target:t,when:f,duration:h});if(a.setupEnvelope({envelope:p,zone:s,volume:l,startWhen:f,waveDuration:h,duration:o}),p.audioBufferSourceNode=a.audioContext.createBufferSource(),p.audioBufferSourceNode.playbackRate.setValueAtTime(d,0),c&&c.length>0){p.audioBufferSourceNode.playbackRate.setValueAtTime(d,r);for(var g=0;g<c.length;g++){var b=1*Math.pow(2,(100*c[g].pitch-u)/1200),v=r+c[g].when;p.audioBufferSourceNode.playbackRate.linearRampToValueAtTime(b,v)}}return p.audioBufferSourceNode.buffer=s.buffer,m?(p.audioBufferSourceNode.loop=!0,p.audioBufferSourceNode.loopStart=s.loopStart/s.sampleRate+s.delay,p.audioBufferSourceNode.loopEnd=s.loopEnd/s.sampleRate+s.delay):p.audioBufferSourceNode.loop=!1,p.audioBufferSourceNode.connect(p),p.audioBufferSourceNode.start(f,s.delay),p.audioBufferSourceNode.stop(f+h),p.when=f,p.duration=h,p.pitch=i,p.preset=n,p}console.log("empty buffer ",s)},this.noZeroVolume=function(e){return e>a.nearZero?e:a.nearZero},this.setupEnvelope=function(e){var t=e.envelope,n=e.zone,r=e.volume,i=e.startWhen,o=e.waveDuration,l=e.duration;t.gain.setValueAtTime(a.noZeroVolume(0),a.audioContext.currentTime);var c=0,s=0,u=n.ahdsr;o<l+a.afterTime&&(l=o-a.afterTime),u?u.length>0||(u=[{duration:0,volume:1},{duration:.5,volume:1},{duration:1.5,volume:.5},{duration:3,volume:0}]):u=[{duration:0,volume:1},{duration:l,volume:1}],t.gain.cancelScheduledValues(i),t.gain.setValueAtTime(a.noZeroVolume(u[0].volume*r),i);for(var d=0;d<u.length;d++)if(u[d].duration>0){if(u[d].duration+c>l){var f=s-(1-(u[d].duration+c-l)/u[d].duration)*(s-u[d].volume);t.gain.linearRampToValueAtTime(a.noZeroVolume(r*f),i+l);break}c+=u[d].duration,s=u[d].volume,t.gain.linearRampToValueAtTime(a.noZeroVolume(r*s),i+c)}t.gain.linearRampToValueAtTime(a.noZeroVolume(0),i+l+a.afterTime)},this.numValue=function(e,t){return"number"===typeof e?e:t},this.findEnvelope=function(e){for(var t=e.target,n=(e.when,e.duration,null),r=0;r<a.envelopes.length;r++){var i=a.envelopes[r];if(i.target===t&&a.audioContext.currentTime>i.when+i.duration+.001){try{i.audioBufferSourceNode.disconnect(),i.audioBufferSourceNode.stop(0),i.audioBufferSourceNode=null}catch(o){}n=i;break}}return n||((n=a.audioContext.createGain()).target=t,n.connect(t),n.cancel=function(){n.when+n.duration>a.audioContext.currentTime&&(n.gain.cancelScheduledValues(0),n.gain.setTargetAtTime(1e-5,a.audioContext.currentTime,.1),n.when=a.audioContext.currentTime+1e-5,n.duration=0)},a.envelopes.push(n)),n},this.adjustPreset=function(e){for(var t=0;t<e.zones.length;t++)a.adjustZone(e.zones[t])},this.adjustZone=function(e){if(e.buffer);else{if(e.delay=0,e.sample){var t=atob(e.sample);e.buffer=a.audioContext.createBuffer(1,t.length/2,e.sampleRate);for(var n,r,i,o=e.buffer.getChannelData(0),l=0;l<t.length/2;l++)(n=t.charCodeAt(2*l))<0&&(n=256+n),(r=t.charCodeAt(2*l+1))<0&&(r=256+r),(i=256*r+n)>=32768&&(i-=65536),o[l]=i/65536}else if(e.file){for(var c,s=e.file.length,u=new ArrayBuffer(s),d=new Uint8Array(u),f=atob(e.file),h=0;h<f.length;h++)c=f.charCodeAt(h),d[h]=c;a.audioContext.decodeAudioData(u,(function(t){e.buffer=t}))}e.loopStart=a.numValue(e.loopStart,0),e.loopEnd=a.numValue(e.loopEnd,0),e.coarseTune=a.numValue(e.coarseTune,0),e.fineTune=a.numValue(e.fineTune,0),e.originalPitch=a.numValue(e.originalPitch,6e3),e.sampleRate=a.numValue(e.sampleRate,44100),e.sustain=a.numValue(e.originalPitch,0)}},this.findZone=function(e,t){for(var n=null,r=e.zones.length-1;r>=0&&!((n=e.zones[r]).keyRangeLow<=t&&n.keyRangeHigh+1>=t);r--);try{a.adjustZone(n)}catch(i){console.log("adjustZone",i)}return n},this.cancelQueue=function(){for(var e=0;e<a.envelopes.length;e++){var t=a.envelopes[e];t.gain.cancelScheduledValues(0),t.gain.setValueAtTime(a.nearZero,a.audioContext.currentTime),t.when=-1;try{t.audioBufferSourceNode.disconnect()}catch(n){console.log(n)}}},this.audioContext=t,this.envelopes=[],this.loader=new f(this),this.onCacheFinish=null,this.onCacheProgress=null,this.afterTime=.05,this.nearZero=1e-6}(p);if("undefined"===typeof window.orientation){console.log("Melo WebAudioFontReverberator");var v=new h(p);v.output.connect(p.destination),g.output.connect(v.input)}else console.log("skip WebAudioFontReverberator"),g.output.connect(p.destination);var _,y=function e(t){Object(c.a)(this,e),this.player=b,this.master=g,this.currentSong=void 0,this.loading=!0,this.onAir=!1,this.loaded=!1,this.playMode=!1,this.sL=16,this.TrackID=0,this.tempo=120,this.zaribTempo=1,this.storeFingers=[],this.storeTracks=[],this.storeDrums=[],this.trackInfo=[],this.drumInfo=[],this.seekValue=0,this.songs=[],this.songLength=272,this.tapSize=32,this.fingerNotes={},this.equalizer=[0,0,0,0,0,0,0,0,0,0],this.drumVolumes=[70,70,70,70,70,70,70,70],Object.assign(this,t),this.master.band32.gain.setValueAtTime(this.equalizer[0],0),this.master.band64.gain.setValueAtTime(this.equalizer[1],0),this.master.band128.gain.setValueAtTime(this.equalizer[2],0),this.master.band256.gain.setValueAtTime(this.equalizer[3],0),this.master.band512.gain.setValueAtTime(this.equalizer[4],0),this.master.band1k.gain.setValueAtTime(this.equalizer[5],0),this.master.band2k.gain.setValueAtTime(this.equalizer[6],0),this.master.band4k.gain.setValueAtTime(this.equalizer[7],0),this.master.band8k.gain.setValueAtTime(this.equalizer[8],0),this.master.band16k.gain.setValueAtTime(this.equalizer[9],0)},E=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r,l,c,s,d,f,h,g,b,v,_,E,O,S,k,j,w,C,A,x,T,L,I,G,N,B,M,R,V,U,z,P,H,F,D,q,W,Z;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new y,r=t.song.content,l=t.fingers,c=[],s=[],e.prev=5,n.TrackID=t.track.id,d={},l){for(f in l)for(h=l[f].split("-"),d[f]={},g=0;g<h.length-1;g++)for(b=h[g].split("+"),v=Number(b[0])+16,_=b[1].length/5,E=0;E<_;E++)O=b[1].substring(5*E,5*E+2),S=b[1].substring(5*E+2,5*E+4),"e"!==b[1].substring(5*E+4,5*E+5)&&(d[f][S]||(d[f][S]={}),d[f][S][v]||(d[f][S][v]=[]),d[f][S][v].push(O));n.storeFingers=Object(o.a)({},d)}for(k=r.split("-"),console.log(k),n.tempo=parseInt(k[0],16),n.sL=parseInt(k[1])+1,j=parseInt(k[2]),n.zaribTempo=m[j],w=0;w<10;w++)C=k[5].substring(2*w,2*w+2),n.equalizer[w]=parseInt(C,16)-10;for(A=[],x=k[6].length/7,T=0;T<x;T++)L=parseInt(k[6].substring(7*T,7*T+1)),I=parseInt(k[6].substring(7*T+1,7*T+3),32),G=parseInt(k[6].substring(7*T+3,7*T+7),32),N=I&parseInt("1111111",2),(G|parseInt("0000000000000001",2))===G&&A.push({drum:L,beat:16*N+0}),(G|parseInt("0000000000000010",2))===G&&A.push({drum:L,beat:16*N+1}),(G|parseInt("0000000000000100",2))===G&&A.push({drum:L,beat:16*N+2}),(G|parseInt("0000000000001000",2))===G&&A.push({drum:L,beat:16*N+3}),(G|parseInt("0000000000010000",2))===G&&A.push({drum:L,beat:16*N+4}),(G|parseInt("0000000000100000",2))===G&&A.push({drum:L,beat:16*N+5}),(G|parseInt("0000000001000000",2))===G&&A.push({drum:L,beat:16*N+6}),(G|parseInt("0000000010000000",2))===G&&A.push({drum:L,beat:16*N+7}),(G|parseInt("0000000100000000",2))===G&&A.push({drum:L,beat:16*N+8}),(G|parseInt("0000001000000000",2))===G&&A.push({drum:L,beat:16*N+9}),(G|parseInt("0000010000000000",2))===G&&A.push({drum:L,beat:16*N+10}),(G|parseInt("0000100000000000",2))===G&&A.push({drum:L,beat:16*N+11}),(G|parseInt("0001000000000000",2))===G&&A.push({drum:L,beat:16*N+12}),(G|parseInt("0010000000000000",2))===G&&A.push({drum:L,beat:16*N+13}),(G|parseInt("0100000000000000",2))===G&&A.push({drum:L,beat:16*N+14}),(G|parseInt("1000000000000000",2))===G&&A.push({drum:L,beat:16*N+15});for(A.forEach((function(e,t,a){t===a.findIndex((function(t){return t.drum===e.drum}))&&s.push(e.drum),n.storeDrums.push({drum:e.drum,beat:e.beat+16})})),B=[],M=k[7].length/10,R=0;R<M;R++)V=parseInt(k[7].substring(10*R,10*R+3),32),U=parseInt(k[7].substring(10*R+3,10*R+3+1),32),z=parseInt(k[7].substring(10*R+4,10*R+4+2),32),P=parseInt(k[7].substring(10*R+6,10*R+6+2),32),H=parseInt(k[7].substring(10*R+8,10*R+8+2),32)-64,B.push({track:U,beat:V,length:z,shift:H,pitch:P});if(n.storeTracks=[],B.forEach((function(e,t,a){if(t===a.findIndex((function(t){return t.track===e.track}))&&c.push(e.track),n.storeTracks.push({beat:e.beat+16,pitch:e.pitch,track:e.track,shift:e.shift,length:e.length}),e.track===n.TrackID){var r=e.beat;n.fingerNotes[r+16]||(n.fingerNotes[r+16]=[]),n.fingerNotes[r+16].push({pitch:e.pitch,length:e.length})}})),s.forEach((function(e,t){var r={audioNode:p.createGain(),id:e,replacement:parseInt(k[8].substring(3*e,3*e+3),16),sound:null,info:"",volume:70};if(r.replacement){var i=n.player.loader.drumInfo(r.replacement-1);console.log(i),n.player.loader.startLoad(i.url,i.variable),r.info=i}a(274)("./default_drum_0".concat(e)).then((function(t){(r=Object(o.a)(Object(o.a)({},r),t.default)).volume=10*parseInt(k[4].substring(e,e+1),16),r.audioNode.connect(n.master.input),n.player.adjustPreset(r.sound),n.drumInfo.push(r)}))})),c.forEach((function(e,t){var r={audioNode:p.createGain(),nn:e,replacement:parseInt(k[9].substring(3*(7-e),3*(7-e)+3),16),sound:null,info:"",volume:70};if(r.replacement){var i=n.player.loader.instrumentInfo(r.replacement-1);console.log(i),n.player.loader.startLoad(i.url,i.variable),r.info=i}a(275)("./default_tone_0".concat(e)).then((function(t){(r=Object(o.a)(Object(o.a)({},r),t.default)).volume=10*parseInt(k[3].substring(e,e+1),16),r.audioNode.connect(n.master.input),n.player.adjustPreset(r.sound),n.trackInfo.push(r)}))})),F=[],k[10]&&"000a"!==k[10])for(D=k[10].length/4,q=0;q<D;q++)W=parseInt(k[10].substring(4*q,4*q+3),32),Z=parseInt(k[10].substring(4*q+3,4*q+4),16)/10,F.push({id:W,vol:Z});F.length>0&&(n.currentSong=new u(p)),n.songs=F,e.next=36;break;case 33:e.prev=33,e.t0=e.catch(5),Promise.reject(e.t0);case 36:return e.prev=36,e.abrupt("return",n);case 39:case"end":return e.stop()}}),e,null,[[5,33,36,39]])})));return function(t){return e.apply(this,arguments)}}(),O=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=Math.ceil(a),r=a?6:2,i=Math.max.apply(Math,t.map((function(e){return e.beat+e.length}))),o=Math.max.apply(Math,e.map((function(e){return e.beat})));n=o>(n=i>n?i:n)?o:n,n+=r;do{n++}while(n%16!==0);return console.log(n,a,o,i),n},S=a(30),k=new function e(){Object(c.a)(this,e),this.touchedKeys=[],this.score=[]},j=function(){function e(t){var a=t.note,n=t.len,r=t.hand,i=t.beat;Object(c.a)(this,e),this.len=void 0,this.note=void 0,this.finger=void 0,this.timer=void 0,this.hand=void 0,this.color=void 0,this.bColor=void 0,this.end=void 0,this.len=n,this.note=a,this.end=this.len-1+i,this.end<=i&&(this.end=i+1),this.timer=null,this.hand=r.hand,this.finger=r.finger,this.bColor=a.id,"right"===this.hand?this.color="yellow":this.color="skyblue"}return Object(S.a)(e,[{key:"show",value:function(){this.note.children.back.setAttribute("fill",this.color),this.finger.setAttribute("fill",this.color)}},{key:"hide",value:function(){this.note.children.back.setAttribute("fill",this.bColor),this.note.children.back.style.fill="",this.finger.setAttribute("fill","rgba(99, 99, 99, 0.25)")}}]),e}(),w=function e(t,a,n){var r=this;Object(c.a)(this,e),this.y=void 0,this.end=void 0,this.yPos=void 0,this.margin=void 0,this.update=function(e,t){e.drawImage(t,0,Math.floor(r.y-r.yPos-r.margin))},this.y=0,this.margin=n,this.yPos=t*a,this.end=this.yPos+a+n},C=function e(t){var a=this,n=t.width,r=t.color,i=t.x,o=t.y,l=t.lw;Object(c.a)(this,e),this.x=void 0,this.y=void 0,this.lw=void 0,this.color=void 0,this.width=void 0,this.draw=function(e){e.beginPath(),e.moveTo(0,a.y),e.lineTo(a.width,a.y),e.lineWidth=a.lw,e.strokeStyle=a.color,e.stroke(),e.fill()},this.x=i,this.y=o,this.width=n,this.color=r,this.lw=l},A=function e(t){var a=this,n=t.width,r=t.height,i=t.color,o=t.x,l=t.y,s=t.end,u=t.note,d=t.text,f=t.gap,h=t.tapSize;Object(c.a)(this,e),this.y=void 0,this.x=void 0,this.r=void 0,this.gap=void 0,this.beg=void 0,this.end=void 0,this.start=void 0,this.height=void 0,this.width=void 0,this.mover=void 0,this.note=void 0,this.tapSize=void 0,this.text=void 0,this.color=void 0,this.lineColor=void 0,this.crash=void 0,this.hit=void 0,this.move=function(){a.crash=!0,a.mover=a.y-a.gap,a.mover>-a.height&&(a.mover=-a.height)},this.update=function(e){e.beginPath(),e.moveTo(a.x,a.y+a.start),e.lineTo(a.x,a.y+a.height),e.lineWidth=.85*a.width,e.strokeStyle="black",e.lineCap="round",e.stroke(),e.beginPath(),e.moveTo(a.x,a.y+a.start),e.lineTo(a.x,a.y+a.height),e.lineWidth=.2*a.width,e.strokeStyle="white",e.stroke(),a.crash&&(e.beginPath(),e.moveTo(a.x,a.y+a.start),e.lineTo(a.x,a.y-a.mover),e.lineWidth=.2*a.width,e.strokeStyle="red",e.stroke()),a.hit&&(e.beginPath(),e.moveTo(a.x,a.y+a.start),e.lineTo(a.x,a.y-a.hit),e.lineWidth=.25*a.width,e.strokeStyle=a.color,e.stroke()),a.crash&&!a.hit&&(a.color="red"),e.beginPath(),e.arc(a.x,a.y+a.start,1.4*a.r,0,2*Math.PI),e.fillStyle="black",e.fill(),e.beginPath(),e.arc(a.x,a.y+a.start,a.r,0,2*Math.PI),e.fillStyle=a.color,e.fill(),e.font="bold "+1.3*a.r+"px arial",e.textAlign="center",e.textBaseline="middle",e.fillStyle="black",e.fillText(a.text,a.x,a.y+a.start+1)},this.y=l,this.start=-l,this.tapSize=h,this.gap=f,this.beg=l+f,this.end=s,this.note=u,this.height=-r,this.x=o,this.text=d,this.width=n,this.r=n/2,this.color=i,this.lineColor="black",this.mover=r,this.crash=!1},x=function e(t){var a=this;Object(c.a)(this,e),this.counter=0,this.tapSize=32,this.songLength=17,this.gap=384,this.margin=128,this.width=void 0,this.height=void 0,this.notes=[],this.image=void 0,this.backMover=[],this.barNotes=[],this.fullNotes=[],this.context=void 0,this.assigner=function(e){Object.assign(a,e)},this.playGame=function(e){a.clear(),a.updateBacks(e),a.updateNotes(e)},this.clear=function(){a.context.clearRect(0,0,a.width,a.height)},this.pitchName=function(e){var t=e%12,a="C";return 1===t&&(a="Db"),2===t&&(a="D"),3===t&&(a="Eb"),4===t&&(a="E"),5===t&&(a="F"),6===t&&(a="Gb"),7===t&&(a="G"),8===t&&(a="Ab"),9===t&&(a="A"),10===t&&(a="Bb"),11===t&&(a="B"),""+a},this.drawImage=function(){var e,t=document.createElement("canvas").getContext("2d");t.canvas.width=a.width,t.canvas.height=a.height,t.save(),Array.from(Array(17),(function(e,t){return t})).forEach((function(e,n){var r=n%16===0?1.5:n%8===0?1.2:n%4===0?1:n%2===0?.8:.5,i=n%16===0||n%8===0?"black":n%4===0||n%2===0?"rgba(0,0,0,0.5)":"rgba(0,0,0,0.2)",o=n*a.tapSize;new C({width:a.width,color:i,x:0,y:o,lw:r}).draw(t)})),a.image.src=t.canvas.toDataURL("image/png"),a.image.onload=function(){e||(e=new w(0,a.height,a.margin)).update(a.context,a.image)}},this.drawNote=function(e,t){var n=a.tapSize;Array.from(Array(a.songLength),(function(e,t){return t})).forEach((function(r,i){var o=t[1].width,l=n*(16*i);a.barNotes[i]=[],e.forEach((function(e){if(e.beat>=16*i&&e.beat<16*(i+1)){var r=l+n*(e.beat%16),c=t[e.pitch].center,s=r+n*e.length,u=new A({width:o,height:s,color:"yellow",x:c,y:r,end:s+3*a.height,text:a.pitchName(e.pitch),note:e.pitch+36,gap:a.gap,tapSize:a.tapSize});a.barNotes[i].push(u),a.fullNotes.push(u)}}))}))},this.drawBack=function(){a.backMover=[];for(var e=0;e<3;e++)a.backMover.push(new w(e,a.height,a.margin))},this.pushNote=function(e){e&&(a.counter=e),a.barNotes[a.counter]&&a.barNotes[a.counter].length>0&&a.barNotes[a.counter].forEach((function(e){a.notes.push(e)})),a.songLength>a.counter+3&&a.backMover.push(new w(a.counter+3,a.height,a.margin)),a.counter++},this.updateNotes=function(e){a.notes.forEach((function(t,n){var r;(t.y=e,t.update(a.context),t.end<e&&a.notes.splice(n,1),a.gap-t.y<=t.start)&&(k.touchedKeys.forEach((function(n){t.note===n.note&&n.y>t.beg-a.tapSize&&n.y<t.beg+a.tapSize&&(t.hit=e-a.gap+.1*a.tapSize,n.y-.3*a.tapSize<=t.beg&&n.y+.3*a.tapSize>=t.beg?(r="perfect",t.color="green"):n.y>t.beg?(r="late",t.color="purple"):n.y<t.beg&&(r="early",t.color="orange"),n.hit||(n.hit=r,k.score.push([t.note,n.hit]),console.log(k.score)))})),t.move())}))},this.updateBacks=function(e){a.backMover.forEach((function(t,n){t.y=e,t.update(a.context,a.image),t.y>t.end&&a.backMover.splice(n,1)}))},this.updateFullSong=function(e){a.clear(),Array.from(Array(a.songLength),(function(e,t){return t})).forEach((function(t,n){a.context.drawImage(a.image,0,Math.floor(e-n*a.image.height-4*a.tapSize))})),a.fullNotes.forEach((function(t){t.y=e,t.update(a.context)}))},this.image=new Image,this.width=t.width,this.height=t.height,this.context=t.getContext("2d")},T=function(){function e(t){var a=this;Object(c.a)(this,e),this.game=void 0,this.master=void 0,this.player=void 0,this.currentSong=void 0,this.loaded=!1,this.onAir=!1,this.score=[],this.handRefs=[],this.seekBar=void 0,this.keyRefs=[],this.canvasSize=void 0,this.pianoSize=void 0,this.seekValue=0,this.songLength=272,this.tapSize=32,this.loading=!0,this.playMode=!1,this.TrackID=0,this.tempo=120,this.zaribTempo=1,this.fingerNotes={},this.drumInfo=[],this.trackInfo=[],this.storeDrums=[],this.storeTracks=[],this.storeFingers=[],this.equalizer=[0,0,0,0,0,0,0,0,0,0],this.drumVolumes=[70,70,70,70,70,70,70,70],this.firstDelay=void 0,this.tickID=void 0,this.currentBeat=0,this.tickerDelay=1,this.tickerStep=0,this.animeFrame=0,this.nextWhen=0,this.nextBeat=0,this.anime=[],this.yPos=0,this.sentWhen=0,this.finger=[],this.midiKeys=[],this.drawGame=function(e){a.game=new x(e),a.game.assigner({tapSize:a.tapSize,songLength:Math.round(a.songLength/16),gap:12*a.tapSize,margin:4*a.tapSize});var t=[];a.storeTracks.forEach((function(e){e.track===a.TrackID&&t.push({beat:e.beat-12,pitch:e.pitch,shift:e.shift,length:e.length})})),a.game.clear(),a.game.drawImage(),a.pianoSize&&a.game.drawNote(t,a.pianoSize)},this.startPlay=function(){var e,t;if(!a.onAir&&a.loaded){var n;if(a.score=[],a.resetNodeValues(),a.nextBeat=0,a.nextWhen=0,null===(e=a.game)||void 0===e||e.assigner({counter:0}),"suspended"===(null===(t=a.player)||void 0===t?void 0:t.audioContext.state))console.log("audioContext.resume"),null===(n=a.player)||void 0===n||n.audioContext.resume();a.onAir=!0;var r,i,o=240/(a.tempo*a.zaribTempo)*1e3;if(a.firstDelay=setTimeout((function(){a.playAllTracks(.03)}),o),a.queueNextBeats(),a.playMode)null===(r=a.game)||void 0===r||r.drawBack(),null===(i=a.game)||void 0===i||i.pushNote(),a.animeFrame=requestAnimationFrame(a.moveSVG);else a.animeFrame=requestAnimationFrame(a.moveFingers);a.onAir=!0}else console.log("on air already")},this.stopPlay=function(){var e,t;a.onAir&&a.loaded?(a.finger.forEach((function(e,t){e.hide()})),null===(e=document.getElementById("play-button"))||void 0===e||e.click(),a.seekValue=a.currentBeat-1,a.onAir=!1,a.anime=[],a.finger=[],clearTimeout(a.firstDelay),a.stopAllTracks(),cancelAnimationFrame(a.animeFrame),clearTimeout(a.tickID),null===(t=a.player)||void 0===t||t.cancelQueue(),a.onAir=!1):console.log("Not On Air")},this.stopAllTracks=function(){a.currentSong&&(a.currentSong.stop(),a.currentSong.elapsedTimeSinceStart=0)},this.playAllTracks=function(e){if(a.currentSong){a.currentSong.setMasterVolume(100),a.currentSong.play(e);for(var t=0;t<a.currentSong.getNbTracks();t++);}},this.rakeMouseWheel=function(e){if(!a.onAir&&a.playMode){a.seekValue="number"!==typeof e?a.seekValue+(e.deltaY>0?-1:1):e,a.seekValue=a.seekValue<0?0:a.seekValue>a.songLength?a.songLength:a.seekValue;var t=a.seekValue*a.tapSize;a.seekMove(a.seekValue),a.seekSVG(t)}},this.seekMove=function(e){a.seekBar&&e<a.songLength&&a.seekBar.changeSeeker(e)},this.seekSVG=function(e){var t;a.onAir||(null===(t=a.game)||void 0===t||t.updateFullSong(e))},this.resetNodeValues=function(){for(var e,t,n,r,i,o,l,c,s,u,d=0;d<a.trackInfo.length;d++)a.trackInfo[d].audioNode.gain.setValueAtTime(a.trackInfo[d].volume/100,0);for(var f=0;f<a.drumInfo.length;f++)a.drumInfo[f].audioNode.gain.setValueAtTime(a.drumVolumes[f]/100,0);null===(e=a.master)||void 0===e||e.band32.gain.setValueAtTime(a.equalizer[0],0),null===(t=a.master)||void 0===t||t.band64.gain.setValueAtTime(a.equalizer[1],0),null===(n=a.master)||void 0===n||n.band128.gain.setValueAtTime(a.equalizer[2],0),null===(r=a.master)||void 0===r||r.band256.gain.setValueAtTime(a.equalizer[3],0),null===(i=a.master)||void 0===i||i.band512.gain.setValueAtTime(a.equalizer[4],0),null===(o=a.master)||void 0===o||o.band1k.gain.setValueAtTime(a.equalizer[5],0),null===(l=a.master)||void 0===l||l.band2k.gain.setValueAtTime(a.equalizer[6],0),null===(c=a.master)||void 0===c||c.band4k.gain.setValueAtTime(a.equalizer[7],0),null===(s=a.master)||void 0===s||s.band8k.gain.setValueAtTime(a.equalizer[8],0),null===(u=a.master)||void 0===u||u.band16k.gain.setValueAtTime(a.equalizer[9],0)},this.queueNextBeats=function(){if(a.onAir&&a.player){var e=240/(a.tempo*a.zaribTempo)/16,t=a.player.audioContext.currentTime;for(t&&a.nextWhen<t&&(a.nextWhen=t);a.sentWhen<t+e;){var n;if(a.sendNextBeats(a.nextWhen,a.nextBeat,a.nextBeat),a.nextWhen=a.sentWhen+e,a.nextBeat>a.songLength+1&&a.stopPlay(),a.nextBeat=a.nextBeat+1,a.playMode&&a.nextBeat/16%1===0)null===(n=a.game)||void 0===n||n.pushNote();a.seekMove(a.nextBeat),a.playMode||a.showFingers()}var r=500*(a.nextWhen-t);a.tickerStep++,a.tickerStep>=a.tickerDelay&&(a.tickerStep=0),a.tickID=setTimeout((function(){a.queueNextBeats()}),r)}},this.sendNextBeats=function(e,t,n){a.sentWhen=e;var r=1/16*(240/(a.tempo*a.zaribTempo));a.currentBeat=t,a.storeDrums.forEach((function(i){if(i.beat>=t&&i.beat<=n){var o,l=a.findDrumInfoHand(i.drum),c=l.sound;l.info&&window[l.info.variable]&&(c=window[l.info.variable]);var s=1-.2*Math.random();null===(o=a.player)||void 0===o||o.queueWaveTable({target:l.audioNode,preset:c,when:e+r*(i.beat-t),pitches:l.pitch,duration:l.length,volume:s*l.volumeRatio})}}));for(var i=[],o=0;o<a.storeTracks.length;o++){var l=a.storeTracks[o];l.beat>=t&&l.beat<=n&&i.push(l)}i.sort((function(e,t){var a=1e3*(e.beat-t.beat)+1e5*(e.track-t.track);return e.beat===t.beat&&(a+=e.pitch-t.pitch),a}));var c=-1,s=-1,u=0;i.forEach((function(n){var i,o=a.trackInfo.find((function(e){return e.nn===n.track}));n.beat===c&&n.track===s||(c=n.beat,s=n.track,u=0,n.track===a.findTrackInfoHand().nn&&a.anime.push(n.beat));var l=o.sound;o.info&&window[o.info.variable]&&(l=window[o.info.variable]);var d=[{when:n.length*r,pitch:n.shift+12*o.octave+n.pitch}],f=.6-.2*Math.random();null===(i=a.player)||void 0===i||i.queueWaveTable({target:o.audioNode,preset:l,when:e+r*(n.beat-t)+u*o.inChordDelay,pitches:12*o.octave+n.pitch,duration:.075+n.length*r,volume:f*o.volumeRatio,slides:d}),u++}))},this.showFingers=function(){var e=a.storeFingers[a.TrackID];0!==a.anime.length&&a.anime.forEach((function(t){var n=a.fingerNotes[t];if(n){var r={};for(var i in e)if(e[i][t]){var o=a.handRefs[i],l=e[i][t];r[l]={finger:o,hand:o.getAttribute("class")}}n.forEach((function(e){var t=e.length,n=e.pitch+36,i=a.keyRefs[n];r[n]&&a.finger.push(new j({note:i,len:t,hand:r[n],beat:a.currentBeat}))}))}a.anime=a.anime.filter((function(e){return e!==t}))}))},this.moveFingers=function(){a.onAir&&(a.finger.forEach((function(e,t){a.currentBeat>=e.end?(e.hide(),a.finger.splice(t,1)):e.show()})),requestAnimationFrame(a.moveFingers))},this.findTrackInfoHand=function(){var e=null;return a.trackInfo.forEach((function(t){t.nn===a.TrackID&&(e=t)})),e},this.findDrumInfoHand=function(e){var t=null;return a.drumInfo.forEach((function(a){a.id===e&&(t=a)})),t},this.moveSVG=function(){if(a.player&&a.game&&a.onAir){for(var e=1/16*(240/(a.tempo*a.zaribTempo)),t=a.nextBeat+(a.player.audioContext.currentTime-a.nextWhen)/e;t<0;)t+=a.songLength;t>a.songLength&&(t=a.songLength),a.game.counter<4&&t>100&&(t=0);var n=t*a.tapSize;a.yPos=n,a.game.playGame(n),requestAnimationFrame(a.moveSVG)}},this.midiNoteOn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.7;if(0===t)a.midiNoteOff(e);else{a.midiNoteOff(e),a.onAir&&k.touchedKeys.push({note:e,y:a.yPos});var n=a.findTrackInfoHand();if(n){var r,i=n.sound;if(n.info&&window[n.info.variable]&&(i=window[n.info.variable]),a.midiKeys[e]=null===(r=a.player)||void 0===r?void 0:r.queueWaveTable({target:n.audioNode,preset:i,when:0,pitches:e,duration:10,volume:t}),a.keyRefs[e]){var o=a.keyRefs[e],l=o.children.back.getAttribute("fill"),c="red";"white"!==l&&"black"!==l&&(c="green"),o.children.back.style.fill=c}}}},this.midiNoteOff=function(e){if(a.midiKeys[e]&&(a.midiKeys[e].cancel(),k.touchedKeys.forEach((function(t,a){var n=k.touchedKeys[a].note;e===n&&k.touchedKeys.splice(a,1)}))),a.keyRefs[e]){var t=a.keyRefs[e];t&&(t.children.back.style.fill="")}},Object.assign(this,t),console.log(this)}return Object(S.a)(e,[{key:"assigner",value:function(e){console.log(e),Object.assign(this,e)}}]),e}(),L=a(51),I=function(e){return function(t){E(e).then((function(e){e&&(e.songs.length>0?e.songs.forEach((function(a,r){return L.a.get("/song/v2/".concat(a.id)).then((function(i){var o=i.data;return Object(L.b)(o).then((function(i){var o;null===(o=e.currentSong)||void 0===o||o.loadBuffer({buffer:i.data,vol:a.vol}).then((function(){if(e.songs.length===r+1){var a=e.tempo*e.zaribTempo/60,i=e.currentSong.getDuration()/a;e.songLength=O(e.storeDrums,e.storeTracks,i),e.loaded=!0,_=new T(e),t({type:n.g,payload:{songLength:e.songLength}})}}))})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))})):(e.songLength=O(e.storeDrums,e.storeTracks),e.loaded=!0,_=new T(e),t({type:n.g,payload:{songLength:e.songLength}})))})).catch((function(e){return console.log(e)}))}},G=function(e,t,a){return function(r){if(t&&a){var i,o=function(e,t){var a=e[50].getBoundingClientRect().x-(e[48].getBoundingClientRect().x+e[48].getBoundingClientRect().width),n=t.pianoLeft,r=n||100,i=[];for(var o in e){var l=e[o],c=l.getBoundingClientRect(),s=c.x-r,u=c.width,d=s+u/2;l.classList.contains("C")||l.classList.contains("F")?i.push({left:s,center:d-3.5*a,width:u,key:"CF"}):l.classList.contains("last")?i.push({left:s,center:d,width:u,key:"last"}):"black"===l.id?i.push({left:s,center:d,width:u,key:"black"}):l.classList.contains("E")||l.classList.contains("B")?i.push({left:s,center:d+3.5*a,width:u,key:"EB"}):l.classList.contains("A")?i.push({left:s,center:d+1.8*a,width:u,key:"A"}):l.classList.contains("G")?i.push({left:s,center:d+1.4*a,width:u,key:"G"}):i.push({left:s,center:d,width:u,key:"white"})}return i.push({left:-100,center:0,width:a,key:"lineWidth"}),i}(e,t);null===(i=_)||void 0===i||i.assigner({pianoSize:o,keyRefs:e,canvasSize:t,tapSize:a}),r({type:n.c,payload:{pianoSize:o,canvasSize:t,tapSize:a}})}else{var l;null===(l=_)||void 0===l||l.assigner({keyRefs:e}),r({type:n.c})}}},N=function(e){return function(t){var a;null===(a=_)||void 0===a||a.assigner(e),t({type:n.a})}},B=function(e){return function(t){var a;null===(a=_)||void 0===a||a.assigner(e),t({type:n.d})}},M=function(e){return function(t){var a;null===(a=_)||void 0===a||a.drawGame(e),t({type:n.b})}},R=function(){return function(e){var t;null===(t=_)||void 0===t||t.stopPlay(),e({type:n.i})}},V=function(){return function(e){var t;null===(t=_)||void 0===t||t.stopPlay(),e({type:n.h})}},U=function(e){return function(t){var a,r;null===(a=_)||void 0===a||a.assigner({playMode:e}),null===(r=_)||void 0===r||r.stopPlay(),t(e?{type:n.e}:{type:n.f})}},z=function(e){var t;null===(t=_)||void 0===t||t.rakeMouseWheel(e)},P=function(){var e;null===(e=_)||void 0===e||e.startPlay()},H=function(){var e;null===(e=_)||void 0===e||e.stopPlay()},F=function(e){var t;null===(t=_)||void 0===t||t.midiNoteOn(e,.7)},D=function(e){var t;null===(t=_)||void 0===t||t.midiNoteOff(e)}},24:function(e,t,a){"use strict";a.d(t,"i",(function(){return n})),a.d(t,"j",(function(){return r})),a.d(t,"h",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"k",(function(){return s})),a.d(t,"f",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"e",(function(){return f})),a.d(t,"a",(function(){return h}));var n="USER_REGISTER_REQUEST",r="USER_REGISTER_SUCCESS",i="USER_REGISTER_FAILURE",o="USER_LOGIN_REQUEST",l="USER_LOGIN_SUCCESS",c="USER_LOGIN_FAILURE",s="USER_LOGOUT",u="USER_LOST_REQUEST",d="USER_LOST_SUCCESS",f="USER_LOST_FAILURE",h="CHANGE_THEME"},244:function(e,t,a){e.exports=a(276)},272:function(e,t,a){},274:function(e,t,a){var n={"./default_drum_00":[213,0],"./default_drum_00.ts":[213,0],"./default_drum_01":[214,1],"./default_drum_01.ts":[214,1],"./default_drum_02":[215,2],"./default_drum_02.ts":[215,2],"./default_drum_03":[216,3],"./default_drum_03.ts":[216,3],"./default_drum_04":[217,4],"./default_drum_04.ts":[217,4],"./default_drum_05":[218,5],"./default_drum_05.ts":[218,5],"./default_drum_06":[219,6],"./default_drum_06.ts":[219,6],"./default_drum_07":[220,7],"./default_drum_07.ts":[220,7]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a(r)}))}r.keys=function(){return Object.keys(n)},r.id=274,e.exports=r},275:function(e,t,a){var n={"./default_tone_00":[221,8],"./default_tone_00.ts":[221,8],"./default_tone_01":[222,9],"./default_tone_01.ts":[222,9],"./default_tone_02":[223,10],"./default_tone_02.ts":[223,10],"./default_tone_03":[224,11],"./default_tone_03.ts":[224,11],"./default_tone_04":[225,12],"./default_tone_04.ts":[225,12],"./default_tone_05":[226,13],"./default_tone_05.ts":[226,13],"./default_tone_06":[227,14],"./default_tone_06.ts":[227,14],"./default_tone_07":[228,15],"./default_tone_07.ts":[228,15]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a(r)}))}r.keys=function(){return Object.keys(n)},r.id=275,e.exports=r},276:function(e,t,a){"use strict";a.r(t);var n=a(73),r=a(0),i=a.n(r),o=a(40),l=a(195),c=a.n(l),s=a(15),u=a(66),d=a(157),f=a(29),h=a(18),m=Object(s.c)((function(e){return{loggedIn:e.auth.loggedIn}}))((function(e){var t="";if(e.loggedIn||(t=e.authenticationPath),e.loggedIn&&!e.isAllowed&&(t=e.restrictedPath),t){return r.createElement(h.b,Object.assign({},e,{component:function(){return r.createElement(h.a,{to:{pathname:t}})},render:void 0}))}return r.createElement(h.b,e)})),p=a(52),g=a(329),b=a(38),v=a(50),_=function(){var e=Object(r.useState)(""),t=Object(p.a)(e,2),a=t[0],n=t[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement("h1",null,"About"),i.a.createElement("p",null," ","Lorem ipsum dolor sit amet consectetur adipisicing elit. Atque ipsum praesentium rem asperiores fuga illo et, architecto doloremque nulla. Magni perspiciatis praesentium facere facilis, ullam officiis saepe sunt amet nulla?"),i.a.createElement("input",{type:"text",onChange:function(e){return function(e){var t=e.target.value;n(t)}(e)},value:a}),i.a.createElement(g.a,{onClick:function(){return f.b.dispatch({type:b.c,snackbar:Object(v.b)(a,"success")})}},"Snack"),i.a.createElement(g.a,{onClick:function(){return f.b.dispatch({type:b.a,dismissAll:!0})}},"Clear"))},y=a(4),E=a(13),O=a(30),S=a(43),k=a(42),j=a(10),w=a(183),C=a(14),A=a(31),x=a(330),T=a(331),L=a(332),I=a(333),G=a(77),N=a(334),B=a(328),M=a(393),R=a(56),V=Object(B.a)((function(e){return Object(M.a)({root:Object(C.a)({width:300,maxHeight:360,margin:e.spacing(2)},e.breakpoints.down(350),{margin:e.spacing(1)}),cardAction:{justifyContent:"space-between",margin:"inherit"},content:{minHeight:"140px"}})})),U=function(e){var t=e.post,a=V(),n=t.title,r=t.featured_img,o=t.excerpt,l=t.author,c=function(e){f.b.dispatch(Object(A.f)("/post/".concat(t.id)))};return i.a.createElement(x.a,{className:a.root},i.a.createElement(T.a,{onClick:c},i.a.createElement(L.a,{height:"140",component:"img",alt:t.title,title:t.title,image:Object(R.f)(r)}),i.a.createElement(I.a,{className:a.content},i.a.createElement(G.a,{gutterBottom:!0,variant:"h5",component:"h2"},n),i.a.createElement(G.a,{variant:"body2",color:"textSecondary",component:"p"},o))),i.a.createElement(N.a,{className:a.cardAction},i.a.createElement(G.a,{variant:"body2",color:"textSecondary",component:"p"},"\u0627\u0632 ",l),i.a.createElement(g.a,{size:"medium",color:"secondary",onClick:c},"\u0627\u062f\u0627\u0645\u0647 \u0645\u0637\u0644\u0628")))},z=a(394),P=a(335),H=a(336),F=a(5),D=function(e){Object(S.a)(a,e);var t=Object(k.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"componentDidMount",value:function(){this.props.requestAllPost()}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.data,n=e.error,r=e.classes,o=a?a.length:0;return i.a.createElement("div",{className:r.root},i.a.createElement("div",{className:r.header},i.a.createElement(G.a,{variant:"h3"},"\u067e\u0633\u062a \u0647\u0627"),i.a.createElement(z.a,{className:r.chip,color:"secondary",label:"\u062a\u0639\u062f\u0627\u062f: "+o})),i.a.createElement(P.a,{container:!0,justify:"center",className:r.cardList},t?i.a.createElement(H.a,{color:"secondary",className:r.autoMargin}):a.length?a.map((function(e){return i.a.createElement(U,{key:e.id,post:e})})):i.a.createElement(G.a,{component:"div",className:r.autoMargin},n)))}}]),a}(r.Component),q=Object(s.c)((function(e,t){return Object(y.a)({classes:t.classes},e.bank.posts)}),(function(e){return{requestAllPost:Object(j.b)(w.a,e)}}))(Object(F.a)((function(e){return Object(M.a)({root:{padding:e.spacing(2,1,0,2)},header:{position:"relative"},cardList:{minHeight:"calc(100vh - 143px)"},chip:{position:"absolute",right:0,top:e.spacing(1)},autoMargin:{margin:"auto"}})}))(D)),W=a(35),Z=a(20),K=a(65),Q=a(27),X=a(114),J=a.n(X),Y=a(342),$=a(343),ee=a(396),te=a(386),ae=a(341),ne=a(344),re=function(e){Object(S.a)(a,e);var t=Object(k.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0},e.script=void 0,e.loadScript=function(){window.captchaOnLoad=e.onLoad;var t=document.createElement("script");t.type="text/javascript",t.src="https://www.google.com/recaptcha/api.js?onload=captchaOnLoad&render=explicit&hl=fa",t.async=!0,t.defer=!0,e.script=document.body.appendChild(t)},e.callback=function(){e.props.onChange(!0)},e.onLoad=function(){window.grecaptcha.render("g-recaptcha",{callback:e.callback,sitekey:"6Le8wccUAAAAAA0kNONoUC-NKPecGnUGKRY7zMno",size:"normal",theme:e.props.theme}),window.grecaptcha.ready((function(){e.setState({loading:!1})}))},e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){this.loadScript()}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.script)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.onError;return r.createElement("div",{className:t.root},this.state.loading&&r.createElement(ae.a,{color:"secondary"}),r.createElement("div",{id:"g-recaptcha",className:a?t.captchaWarning:t.captcha}),r.createElement(G.a,{color:"error",variant:"caption"},a))}}]),a}(r.PureComponent),ie=Object(F.a)((function(e){return Object(M.a)({root:{position:"relative",minHeight:80},captcha:{zIndex:2,"& > div:first-child":{margin:"auto","& > div > iframe":{borderRadius:4,border:"1px solid"}}},captchaWarning:{"& > div:first-child":{margin:"auto","& > div > iframe":{borderRadius:4,border:"1px solid red"}}}})}))(re);function oe(e){var t=e.form,a=t.setFieldValue,n=t.errors,o=t.touched,l=e.field.name,c=f.b.getState().auth.theme,s=Object(r.useCallback)((function(e){a(l,!!e)}),[a,l]);return i.a.createElement(ie,{action:"login",theme:c,onChange:s,onError:o.recaptcha&&n.recaptcha})}var le=a(64),ce=function(e){Object(S.a)(a,e);var t=Object(k.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"componentDidMount",value:function(){this.props.loggedIn&&this.props.push("/profile")}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading;return t.loggedIn?null:i.a.createElement(Y.a,{component:"main",maxWidth:"xs",style:{paddingTop:"10px"}},i.a.createElement($.a,null),i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement(ee.a,{style:{margin:"auto"}},i.a.createElement(J.a,null)),i.a.createElement(G.a,{component:"h1",variant:"h5"},"Sign in"),i.a.createElement(Z.c,{initialValues:{username:"",password:"",recaptcha:""},validationSchema:W.b().shape({username:W.d().max(255).required("Email or Username is required"),password:W.d().max(255).required("Password is required"),recaptcha:W.a().required("ReCAPTCHA is required")}),onSubmit:function(t,a){var n=a.resetForm;t.username&&t.password&&(e.props.login({username:t.username,password:t.password}),n({}))}},i.a.createElement(Z.b,null,i.a.createElement(te.a,{mb:3},i.a.createElement(G.a,{color:"textSecondary",align:"center",gutterBottom:!0,variant:"body2"},"Sign in on the internal platform")),i.a.createElement(P.a,{item:!0},i.a.createElement(g.a,{fullWidth:!0,size:"large",variant:"contained",type:"submit",disabled:!0},"Login with Google")),i.a.createElement(te.a,{mt:3,mb:1},i.a.createElement(G.a,{align:"center",color:"textSecondary",variant:"body1"},"or login with username / email address")),i.a.createElement(te.a,{my:1},i.a.createElement(Z.a,{component:K.a,color:"secondary",fullWidth:!0,label:"Email Address/Username",margin:"normal",name:"username",id:"username",placeholder:"John",type:"username",variant:"outlined"})),i.a.createElement(te.a,{my:1},i.a.createElement(Z.a,{component:K.a,color:"secondary",fullWidth:!0,label:"Password",margin:"normal",name:"password",type:"password",variant:"outlined"})),i.a.createElement(te.a,{my:1},i.a.createElement(Z.a,{component:oe,color:"secondary",fullWidth:!0,label:"Recaptcha",margin:"normal",name:"recaptcha",type:"recaptcha",variant:"outlined"})),a&&i.a.createElement(ae.a,{color:"secondary"}),i.a.createElement(te.a,{my:1},i.a.createElement(g.a,{color:"secondary",disabled:a,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Sign in")),i.a.createElement(P.a,{container:!0,style:{textAlign:"initial"}},i.a.createElement(P.a,{item:!0,xs:!0},i.a.createElement(ne.a,{color:"secondary",component:Q.a,to:"/lostpassword",variant:"body2"},"Forgot password?")),i.a.createElement(P.a,{item:!0},i.a.createElement(G.a,{color:"textSecondary",variant:"body2"},"Don't have an account?",i.a.createElement(ne.a,{color:"secondary",component:Q.a,to:"/register",variant:"body2"},"Sign up"))))))))}}]),a}(i.a.Component),se=Object(s.c)((function(e){var t=e.auth;return{loggedIn:t.loggedIn,loading:t.loading}}),(function(e){return{login:Object(j.b)(le.b,e),logout:Object(j.b)(le.c,e),push:Object(j.b)(A.f,e)}}))(ce),ue=function(e){Object(S.a)(a,e);var t=Object(k.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"componentDidMount",value:function(){this.props.loggedIn&&this.props.push("/")}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading;return t.loggedIn?null:i.a.createElement(Y.a,{component:"main",maxWidth:"xs",style:{paddingTop:"10px"}},i.a.createElement($.a,null),i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement(ee.a,{style:{margin:"auto"}},i.a.createElement(J.a,null)),i.a.createElement(G.a,{component:"h1",variant:"h5"},"Lost Password"),i.a.createElement(Z.c,{initialValues:{user_login:"",recaptcha:""},validationSchema:W.b().shape({user_login:W.d().max(255).required("Email or Username is required"),recaptcha:W.a().required("ReCAPTCHA is required")}),onSubmit:function(t,a){var n=a.resetForm;t.user_login&&e.props.lostRequest(t),n({})}},i.a.createElement(Z.b,null,i.a.createElement(te.a,{my:2},i.a.createElement(G.a,{color:"textSecondary",align:"center",gutterBottom:!0,variant:"body2"},"Enter your email or user_login")),i.a.createElement(te.a,{my:1},i.a.createElement(Z.a,{component:K.a,color:"secondary",fullWidth:!0,label:"Email Address/Username",margin:"normal",name:"user_login",id:"user_login",placeholder:"John",type:"user_login",variant:"outlined"})),i.a.createElement(te.a,{my:1},i.a.createElement(Z.a,{component:oe,color:"secondary",fullWidth:!0,label:"Recaptcha",margin:"normal",name:"recaptcha",type:"recaptcha",variant:"outlined"})),a&&i.a.createElement(ae.a,{color:"secondary"}),i.a.createElement(te.a,{my:1},i.a.createElement(g.a,{color:"secondary",disabled:a,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Recover"))))))}}]),a}(i.a.Component),de=Object(s.c)((function(e,t){var a=e.auth;return{loggedIn:a.loggedIn,loading:a.loading}}),(function(e,t){return{lostRequest:Object(j.b)(le.d,e),push:Object(j.b)(A.f,e)}}))(ue),fe=a(390),he=a(340),me=function(e){Object(S.a)(a,e);var t=Object(k.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"componentDidMount",value:function(){this.props.loggedIn&&this.props.push("/")}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading;return t.loggedIn?null:i.a.createElement(Y.a,{component:"main",maxWidth:"xs",style:{paddingTop:"10px"}},i.a.createElement($.a,null),i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement(ee.a,{style:{margin:"auto"}},i.a.createElement(J.a,null)),i.a.createElement(G.a,{component:"h1",variant:"h5"},"Sign Up"),i.a.createElement(Z.c,{initialValues:{email:"",firstname:"",lastname:"",username:"",password:"",confirm_password:"",recaptcha:!1,policy:!1},validationSchema:W.b().shape({email:W.d().email("Must be a valid email").max(255).required("Email is required"),firstname:W.d().max(255).required("First name is required"),lastname:W.d().max(255).required("Last name is required"),username:W.d().max(255).required("User name is required"),password:W.d().max(255).required("Password is required"),confirm_password:W.d().oneOf([W.c("password"),""],"Both password need to be the same"),policy:W.a().oneOf([!0],"This field must be checked"),recaptcha:W.a().oneOf([!0],"This field must be checked")}),onSubmit:function(t,a){var n=a.resetForm;t.firstname&&t.lastname&&t.username&&t.email&&t.password&&e.props.registerRequest({firstname:t.firstname,lastname:t.lastname,username:t.username,password:t.password,email:t.email}),n({})}},(function(e){var t=e.handleChange,n=e.values,r=e.touched,o=e.errors;return i.a.createElement(Z.b,null,i.a.createElement(te.a,{mb:3},i.a.createElement(G.a,{color:"textSecondary",align:"center",gutterBottom:!0,variant:"body2"},"Use your email to create new account"),i.a.createElement(Z.a,{component:K.a,color:"secondary",fullWidth:!0,label:"\u0646\u0627\u0645",margin:"normal",name:"firstname",variant:"outlined"}),i.a.createElement(Z.a,{component:K.a,color:"secondary",fullWidth:!0,label:"\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc",margin:"normal",name:"lastname",variant:"outlined"}),i.a.createElement(Z.a,{component:K.a,color:"secondary",fullWidth:!0,label:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc",margin:"normal",name:"username",variant:"outlined"}),i.a.createElement(Z.a,{component:K.a,color:"secondary",fullWidth:!0,label:"\u0622\u062f\u0631\u0633 \u0627\u06cc\u0645\u06cc\u0644",margin:"normal",name:"email",dir:"ltr",type:"email",variant:"outlined"}),i.a.createElement(Z.a,{component:K.a,color:"secondary",fullWidth:!0,label:"\u067e\u0633\u0648\u0631\u062f",margin:"normal",name:"password",type:"password",variant:"outlined"}),i.a.createElement(Z.a,{component:K.a,color:"secondary",fullWidth:!0,label:"\u062a\u0627\u0626\u06cc\u062f \u067e\u0633\u0648\u0631\u062f",margin:"normal",name:"confirm_password",type:"password",variant:"outlined"}),i.a.createElement(te.a,{alignItems:"center",display:"flex",ml:-1},i.a.createElement(fe.a,{checked:n.policy,name:"policy",onChange:t}),i.a.createElement(G.a,{color:"textSecondary",variant:"body1"},"I have read the"," ",i.a.createElement(ne.a,{color:"secondary",component:Q.a,to:"#",underline:"always",variant:"body1"},"Terms and Conditions"," "))),Boolean(r.policy&&o.policy)&&i.a.createElement(he.a,{error:!0},o.policy),i.a.createElement(te.a,{my:1},i.a.createElement(Z.a,{component:oe,color:"secondary",fullWidth:!0,label:"Recaptcha",margin:"normal",name:"recaptcha",type:"recaptcha",variant:"outlined"})),a&&i.a.createElement(ae.a,{color:"secondary"}),i.a.createElement(te.a,{my:2},i.a.createElement(g.a,{color:"secondary",disabled:a,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Sign up now")),i.a.createElement(G.a,{align:"center",color:"textSecondary",variant:"body2"},"Have an account?",i.a.createElement(ne.a,{color:"secondary",component:Q.a,to:"/login",variant:"body2"},"Sign in"))))}))))}}]),a}(i.a.Component),pe=Object(s.c)((function(e){var t=e.auth;return{loggedIn:t.loggedIn,loading:t.loading}}),(function(e){return{registerRequest:Object(j.b)(le.e,e),push:Object(j.b)(A.f,e)}}))(me),ge=a(75),be=a(51),ve=function(e){return function(t){t({type:ge.b});var a=_e(e),n=a.userID;be.a.get("/wp/v2/users/".concat(n)).then((function(e){t({type:ge.c,profile:Object(y.a)(Object(y.a)({},e.data),{},{info:a})})})).catch((function(e){return Object(v.a)(e,ge.a)}))}},_e=function(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")),n=JSON.parse(a);return{userID:n.data.user.id,expire:1e3*n.exp,issued:1e3*n.iat,before:1e3*n.nbf}},ye=a(2),Ee=a(32),Oe=a(176),Se=a(349),ke=a(350),je=a(351),we=a(352),Ce=a(353),Ae=a(354),xe=a(355),Te=a(356),Le=a(397),Ie=a(345),Ge=a(346),Ne=a(347),Be=a(348),Me=Object(B.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));function Re(e){var t=Me(),a=Object(Ee.a)(),n=e.count,r=e.page,o=e.rowsPerPage,l=e.onChangePage;return i.a.createElement("div",{className:t.root},i.a.createElement(Oe.a,{onClick:function(e){l(e,0)},disabled:0===r,"aria-label":"first page"},"rtl"===a.direction?i.a.createElement(Ie.a,null):i.a.createElement(Ge.a,null)),i.a.createElement(Oe.a,{onClick:function(e){l(e,r-1)},disabled:0===r,"aria-label":"previous page"},"rtl"===a.direction?i.a.createElement(Ne.a,null):i.a.createElement(Be.a,null)),i.a.createElement(Oe.a,{onClick:function(e){l(e,r+1)},disabled:r>=Math.ceil(n/o)-1,"aria-label":"next page"},"rtl"===a.direction?i.a.createElement(Be.a,null):i.a.createElement(Ne.a,null)),i.a.createElement(Oe.a,{onClick:function(e){l(e,Math.max(0,Math.ceil(n/o)-1))},disabled:r>=Math.ceil(n/o)-1,"aria-label":"last page"},"rtl"===a.direction?i.a.createElement(Ge.a,null):i.a.createElement(Ie.a,null)))}var Ve=Object(B.a)((function(e){return{table:{minWidth:300},toolbar:{"& div":Object(C.a)({flexFlow:"wrap",justifyContent:"flex-end"},e.breakpoints.only("xs"),{justifyContent:"space-around"})}}}));function Ue(e){var t=e.res,a=Ve(),n=i.a.useState(0),r=Object(p.a)(n,2),o=r[0],l=r[1],c=i.a.useState(5),s=Object(p.a)(c,2),u=s[0],d=s[1],f=u-Math.min(u,t.length-o*u),h=t.length>500?"higher":t.length>=100?"high":t.length>=30?"average":t.length>5?"low":"lower",m=function(e,t){var a,n;return e&&(a=e),t&&(n=t),a||n};return i.a.createElement(x.a,{className:Object(ye.a)(a.root)},i.a.createElement(Se.a,{title:"\u0622\u062e\u0631\u06cc\u0646 \u0622\u0647\u0646\u06af \u0647\u0627"}),i.a.createElement(ke.a,null),i.a.createElement(te.a,null,i.a.createElement(je.a,{className:a.table,"aria-label":"custom pagination table"},i.a.createElement(we.a,null,i.a.createElement(Ce.a,null,i.a.createElement(Ae.a,null,"\u0646\u0627\u0645 \u0622\u0647\u0646\u06af"),i.a.createElement(Ae.a,null,"\u0633\u0627\u0639\u062a"),i.a.createElement(Ae.a,null,"\u062a\u0627\u0631\u06cc\u062e"),i.a.createElement(Ae.a,null,"\u062f\u0642\u062a"))),i.a.createElement(xe.a,null,(u>0?t.slice(o*u,o*u+u):t).map((function(e){return i.a.createElement(Ce.a,{key:Object(R.a)()},0!==e.song.id?i.a.createElement(Ae.a,null,i.a.createElement(ne.a,{to:"/lesson/".concat(e.song.id),color:"secondary",component:Q.a},e.song.name)):i.a.createElement(Ae.a,null,i.a.createElement(ne.a,{to:"/guide",color:"secondary",component:Q.a},e.song.name)),i.a.createElement(Ae.a,null,m(!1,e.time)),i.a.createElement(Ae.a,null,m(e.date)),i.a.createElement(Ae.a,null,i.a.createElement(z.a,{color:"secondary",label:e.progress,size:"small"})))})),f>0&&i.a.createElement(Ce.a,{style:{height:57*f}},i.a.createElement(Ae.a,{colSpan:6}))),i.a.createElement(Te.a,null,i.a.createElement(Ce.a,null,i.a.createElement(Le.a,{className:a.toolbar,rowsPerPageOptions:{lower:[{label:"\u0647\u0645\u0647",value:-1}],low:[{label:"\u06f5",value:5},{label:"\u0647\u0645\u0647",value:-1}],average:[{label:"\u06f5",value:5},{label:"\u06f1\u06f0",value:10},{label:"\u0647\u0645\u0647",value:-1}],high:[{label:"\u06f5",value:5},{label:"\u06f1\u06f0",value:10},{label:"\u06f2\u06f5",value:25},{label:"\u0647\u0645\u0647",value:-1}],higher:[{label:"\u06f5",value:5},{label:"\u06f1\u06f0",value:10},{label:"\u06f2\u06f5",value:25},{label:"\u06f5\u06f0",value:50},{label:"\u0647\u0645\u0647",value:-1}]}[h],colSpan:4,count:t.length,rowsPerPage:u,page:o,SelectProps:{inputProps:{"aria-label":"row per page"},native:!0},onChangePage:function(e,t){l(t)},onChangeRowsPerPage:function(e){d(parseInt(e.target.value,10)),l(0)},ActionsComponent:Re}))))))}var ze=function(e){Object(S.a)(a,e);var t=Object(k.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e,t=null===(e=this.props.auth.user)||void 0===e?void 0:e.token;t&&this.props.getProfile(t)}},{key:"render",value:function(){var e=this.props.profile,t=e.profile;return e.loading?i.a.createElement(H.a,{color:"secondary"}):t?i.a.createElement(Y.a,{maxWidth:!1,style:{paddingTop:"10px"}},i.a.createElement(P.a,{container:!0,spacing:3},i.a.createElement(P.a,{item:!0,lg:12,md:12,xl:12,xs:12},i.a.createElement(Ue,{res:t.meta.playtime})))):i.a.createElement("div",null,"not signed...")}}]),a}(i.a.Component),Pe=Object(s.c)((function(e,t){return{profile:e.user.profile,auth:e.auth}}),(function(e,t){return{getProfile:Object(j.b)(ve,e)}}))(ze),He=Object(r.lazy)((function(){return Promise.all([a.e(24),a.e(23)]).then(a.bind(null,420))})),Fe=Object(r.lazy)((function(){return a.e(25).then(a.bind(null,416))})),De=Object(r.lazy)((function(){return a.e(21).then(a.bind(null,422))})),qe=Object(r.lazy)((function(){return a.e(19).then(a.bind(null,423))})),We=Object(r.lazy)((function(){return a.e(22).then(a.bind(null,419))})),Ze=Object(r.lazy)((function(){return a.e(20).then(a.bind(null,417))})),Ke=function(){return i.a.createElement(h.d,null,i.a.createElement(r.Suspense,{fallback:i.a.createElement("div",null,"Loading...")},i.a.createElement(h.a,{exact:!0,path:"/",to:"/post"}),i.a.createElement(h.b,{exact:!0,path:"/post",component:q}),i.a.createElement(h.b,{exact:!0,path:"/learning",component:He}),i.a.createElement(h.b,{exact:!0,path:["/guide","/course","/exercise","/favorite","/lesson"],component:He}),i.a.createElement(h.b,{exact:!0,path:"/post/:id",component:Fe}),i.a.createElement(h.b,{exact:!0,path:"/guide/:id",component:De}),i.a.createElement(h.b,{exact:!0,path:["/course/:id","/guide/:id/course=:id"],component:qe}),i.a.createElement(h.b,{exact:!0,path:["/lesson/:id","/course/:id/lesson=:id","/guide/:id/lesson=:id","/guide/:id/course=:id/lesson=:id"],component:We}),i.a.createElement(h.b,{exact:!0,path:["/exercise/:id","/course/:id/exercise=:id","/guide/:id/exercise=:id","/guide/:id/course=:id/exercise=:id"],component:Ze}),i.a.createElement(h.b,{exact:!0,path:"/login",component:se}),i.a.createElement(h.b,{exact:!0,path:"/register",component:pe}),i.a.createElement(h.b,{exact:!0,path:"/lostpassword",component:de}),i.a.createElement(m,{exact:!0,path:"/dashboard",component:Pe,isAllowed:!0,restrictedPath:"/dashboard",authenticationPath:"/login"}),i.a.createElement(h.b,{exact:!0,path:"/about",component:_})))},Qe=(a(272),a(387)),Xe=a(398),Je=a(399),Ye=a(385),$e=a(279),et=a(211),tt=a(361),at=a(22),nt=function(e){var t,a,n=e.Melo;return i.a.createElement("canvas",{ref:function(e){return function(e){if(e&&n.canvasSize&&n.gameLoading){var t=e.getContext("2d");t.clearRect(0,0,n.canvasSize.width,n.canvasSize.height);var a=n.pianoSize,r=a?a.length-1:61,i=a?a[r].width:.5,o=n.canvasSize.height;null===a||void 0===a||a.forEach((function(e,a){t.beginPath();var n=e.left;"CF"===e.key||"last"===e.key?(t.moveTo(n,0),t.lineTo(n,o),t.lineWidth=i,t.strokeStyle="rgba(50,50,50,0.8)",t.stroke()):"black"===e.key&&(t.rect(n,0,e.width,o),t.fillStyle="rgba(0,0,0,0.4)",t.fill())}))}}(e)},width:null===(t=n.canvasSize)||void 0===t?void 0:t.width,height:null===(a=n.canvasSize)||void 0===a?void 0:a.height,style:{zIndex:1}})},rt=function(e){var t,a,n=e.Melo,r=e.drawGame;return i.a.createElement("canvas",{ref:function(e){return function(e){e&&n.gameLoading&&n.canvasSize&&r(e)}(e)},width:null===(t=n.canvasSize)||void 0===t?void 0:t.width,height:null===(a=n.canvasSize)||void 0===a?void 0:a.height,style:{position:"absolute",top:0,left:0,zIndex:2},onWheel:function(e){return Object(at.a)(e)}})},it=function(e){var t=e.width,a=e.baseLine;return i.a.createElement("svg",{width:t+7,height:a,onWheel:function(e){return Object(at.a)(e)},style:{bottom:0,left:-7,zIndex:3,position:"absolute",filter:"drop-shadow(rgba(0, 0, 0, 0.7) 0px 1px 1px)"}},i.a.createElement("style",null,"@keyframes draw{to{stroke-dashoffset:0}}"),i.a.createElement("polygon",{points:"0,0 10,8 0,16",fill:"red"}),i.a.createElement("line",{style:{strokeDasharray:t+7,strokeDashoffset:t+7,animation:"draw 1s linear forwards"},x1:0,y1:8,x2:t+7,y2:8,strokeWidth:2.5,stroke:"red"}))},ot=Object(s.c)((function(e){return{Melo:e.melodition}}),(function(e){return{drawGame:Object(j.b)(at.d,e)}}))((function(e){var t,a,n=e.Melo,r=e.drawGame;return i.a.createElement("div",{style:{width:null===(t=n.canvasSize)||void 0===t?void 0:t.width,height:null===(a=n.canvasSize)||void 0===a?void 0:a.height,position:"relative",boxShadow:"inset 0 1px 4px 0px black"}},i.a.createElement(rt,{Melo:n,drawGame:r}),i.a.createElement(nt,{Melo:n}),n.canvasSize&&i.a.createElement(it,n.canvasSize))})),lt=a(194),ct=a(192),st=a(359),ut=a(358),dt=a(360),ft=Object(B.a)((function(e){return Object(M.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},divider:{margin:e.spacing(0,2)}})}));function ht(e){var t=e.lesson,a=e.modeChanger,n=ft();return i.a.createElement(st.a,{position:"static",color:"default",className:n.root},i.a.createElement(ut.a,null,i.a.createElement(Oe.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:a},i.a.createElement(dt.a,null)),i.a.createElement(ke.a,{orientation:"vertical",flexItem:!0,className:n.divider}),i.a.createElement(G.a,{variant:"h6",color:"inherit",className:n.title},null===t||void 0===t?void 0:t.title)))}var mt=a(193),pt=function(e){Object(S.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).svgWidth=function(e){return 1===e?668:584},n.toggleDrawer=function(e){"keydown"!==e.type&&(n.state.list?n.setState({list:!1}):n.setState({list:!0}))},n.playmodeChanger=function(){n.props.changeMode(!1)},n.updateDimensions=function(){n.props.melodition.pianoLoading||n.props.resizePlayer()},n.state={list:!1},n}return Object(O.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.melodition,n=e.lesson;return i.a.createElement("div",{className:t.root},i.a.createElement(ht,{modeChanger:this.playmodeChanger,lesson:n}),a.playMode?i.a.createElement(P.a,{container:!0,className:t.main},i.a.createElement(P.a,{item:!0,xs:1},i.a.createElement(P.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:t.content},i.a.createElement(ct.a,{loading:a.loading}))),i.a.createElement(P.a,{item:!0,xs:10},i.a.createElement(P.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:t.content},i.a.createElement(P.a,{item:!0,xs:12},a.pianoLoading?i.a.createElement("div",{className:t.loading},i.a.createElement(H.a,{color:"secondary",style:{margin:"auto"}})):i.a.createElement(ot,null),i.a.createElement(lt.a,null)))),i.a.createElement(P.a,{item:!0,xs:1},i.a.createElement(P.a,{container:!0,direction:"column",justify:"space-around",alignItems:"center",className:t.content},i.a.createElement("div",{style:{height:"40%"}},i.a.createElement(mt.a,null)),i.a.createElement(Oe.a,{color:"secondary","aria-label":"play mode"},i.a.createElement(tt.a,null))))):i.a.createElement(P.a,{container:!0,className:t.main},i.a.createElement(P.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:t.root},i.a.createElement(H.a,{color:"secondary",style:{margin:"auto"}}))))}}]),a}(r.Component),gt=Object(s.c)((function(e,t){return{history:e.router.location.pathname,classes:t.classes,melodition:e.melodition,theme:e.auth.theme,lesson:e.single.lesson.data,course:e.single.course.data}}),(function(e){return{changeMode:Object(j.b)(at.b,e),drawGame:Object(j.b)(at.d,e),drawPiano:Object(j.b)(at.e,e),resizePlayer:Object(j.b)(at.k,e)}}))(Object(F.a)((function(e){var t;return Object(M.a)({root:{width:"100vw",height:"100vh",overflow:"hidden",backgroundColor:e.palette.background.paper},main:(t={width:"100vw",overflow:"hidden",minHeight:"calc(100vh - 64px)"},Object(C.a)(t,e.breakpoints.down("xs"),{minHeight:"calc(100vh - 56px)"}),Object(C.a)(t,"display","flex"),t),content:{height:"100%",width:"100%",flexWrap:"nowrap"},doubleGrid:{flexWrap:"nowrap",width:"100%",maxWidth:"100%","& > div":{margin:"auto",padding:0,height:"100%"}},centerText:{textAlign:"center"},loading:{display:"flex",height:"83%",boxShadow:"inset 0 1px 4px 0px black"}})}))(pt)),bt=a(207),vt=a(164),_t=a(163),yt=a(162),Et=a(156),Ot=Object(bt.a)({direction:"rtl",typography:{fontFamily:"Vazir"},overrides:{MuiBreadcrumbs:{root:{width:"calc(100vw - 64px)"},ol:{flexWrap:"nowrap",overflowX:"scroll",scrollbarWidth:"none",whiteSpace:"nowrap","&::-webkit-scrollbar":{display:"none"}}},MuiCardActions:{root:{padding:void 0}},MuiCssBaseline:{"@global":{"*":{scrollbarWidth:"thin",scrollbarColor:"rgb(245, 0, 87) #0000"},"*::-webkit-scrollbar":{width:"10px"},"*::-webkit-scrollbar-track":{"-webkit-border-radius":"10px",borderRadius:"8px"},"*::-webkit-scrollbar-thumb":{"-webkit-border-radius":"10px",borderRadius:"10px",background:"rgb(245, 0, 87)"},"*::-webkit-scrollbar-thumb:window-inactive":{background:"rgb(245, 0, 87)"}}},MuiIconButton:{colorSecondary:{"&:hover":{backgroundColor:"rgb(200 200 200 / 0.5)"}}}}}),St=Object(bt.a)(Object(y.a)(Object(y.a)({},Ot),{},{palette:{type:"dark",primary:vt.a,error:_t.a,secondary:{main:yt.a[300]}}}),Et.faIR),kt=Object(bt.a)(Object(y.a)(Object(y.a)({},Ot),{},{palette:{error:_t.a}}),Et.faIR),jt=a(391),wt=a(362),Ct=a(363),At=a(364),xt=a(365),Tt=a(366),Lt=a(367),It=Object(B.a)((function(e){return Object(M.a)({bracrumbs:{padding:e.spacing(1,2,0,2),"& > ol > li":{padding:e.spacing(1,.5)}},back:{margin:e.spacing(0,2)}})})),Gt={post:i.a.createElement(wt.a,null),guide:i.a.createElement(Ct.a,null),course:i.a.createElement(At.a,null),lesson:i.a.createElement(xt.a,null),exercise:i.a.createElement(Tt.a,null),favorite:i.a.createElement(Lt.a,null)},Nt=Object(s.c)((function(e,t){return{pathname:e.router.location.pathname,single:e.single}}),(function(e){return{push:Object(j.b)(A.f,e),back:Object(j.b)(A.d,e)}}))((function(e){var t=e.single,a=e.pathname,n=e.push,o=e.back,l=Object(r.useState)([]),c=Object(p.a)(l,2),s=c[0],u=c[1],d=Object(r.useState)(!1),f=Object(p.a)(d,2),h=f[0],m=f[1],g=It();Object(r.useEffect)((function(){var e=Object(R.d)(a),n=Object.keys(e),r=[];return n.forEach((function(e,i){var o,l=t[n[i-1]],c=null===l||void 0===l||null===(o=l.data)||void 0===o?void 0:o.title,s=0===i?Gt[e]:c||"...";r[i]={url:a.split("/").slice(0,i+2).join("/"),name:s}})),e.length>0&&(m(!0),u(r)),function(){m(!1)}}),[a,t]);var b=function(e){e.preventDefault(),n(e.currentTarget.pathname)};return h?i.a.createElement(st.a,{position:"static"},i.a.createElement(et.a,{square:!0,style:{overflow:"hidden"}},i.a.createElement(ut.a,{disableGutters:!0},i.a.createElement(Oe.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:o,className:g.back},i.a.createElement(dt.a,null)),i.a.createElement(ke.a,{orientation:"vertical",flexItem:!0}),i.a.createElement(jt.a,{"aria-label":"breadcrumb",className:g.bracrumbs},s.map((function(e,t){return i.a.createElement(ne.a,{key:t+e.name,href:e.url,color:"inherit","aria-label":e.name,onClick:b},e.name)})))))):null})),Bt=a(206),Mt=a.n(Bt),Rt=a(369),Vt=a(370),Ut=a(371),zt=a(372),Pt=a(368),Ht=Object(B.a)((function(e){return Object(M.a)({sectionDesktop:Object(C.a)({display:"none"},e.breakpoints.up("sm"),{display:"flex"}),sectionMobile:Object(C.a)({display:"flex"},e.breakpoints.up("sm"),{display:"none"})})})),Ft=function(e){var t=Ht(),a=e.state,n=a.menuId,r=a.mobileMenuId,o=function(t){e.dispatch({type:"profile-anchor",payload:t.currentTarget})};return e.loggedIn?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:t.sectionDesktop},i.a.createElement(Oe.a,{"aria-label":"show 4 new mails",color:"inherit"},i.a.createElement(Pt.a,{badgeContent:4,color:"secondary"},i.a.createElement(Rt.a,null))),i.a.createElement(Oe.a,{"aria-label":"show 17 new alerts",color:"inherit"},i.a.createElement(Pt.a,{badgeContent:17,color:"secondary"},i.a.createElement(Vt.a,null))),i.a.createElement(Oe.a,{edge:"end","aria-label":"account of current user","aria-controls":n,"aria-haspopup":"true",onClick:o,color:"inherit"},i.a.createElement(Ut.a,null))),i.a.createElement("div",{className:t.sectionMobile},i.a.createElement(Oe.a,{"aria-label":"show more","aria-controls":r,"aria-haspopup":"true",onClick:function(t){e.dispatch({type:"mobile-anchor",payload:t.currentTarget})},color:"inherit"},i.a.createElement(zt.a,null)))):i.a.createElement(Oe.a,{edge:"end","aria-label":"account of current user","aria-controls":n,"aria-haspopup":"true",onClick:o,color:"inherit"},i.a.createElement(Ut.a,null))},Dt=a(212),qt=a(205),Wt=a.n(qt),Zt=a(8),Kt=function(e){Object(S.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleOnInputChange=function(e){var t=e.target.value;n.setState({query:t,loading:!0})},n.fetchSearchResult=function(){},n.state={query:"",results:{},loading:!1,message:""},n}return Object(O.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.query;return i.a.createElement("div",{className:t.search},i.a.createElement("div",{className:t.searchIcon},i.a.createElement(Wt.a,null)),i.a.createElement(Dt.a,{placeholder:"\u062c\u0633\u062a\u062c\u0648...",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"},type:"text",value:a,onChange:function(t){return e.handleOnInputChange(t)}}))}}]),a}(i.a.Component),Qt=Object(F.a)((function(e){var t;return Object(M.a)({search:Object(C.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Zt.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Zt.c)(e.palette.common.white,.25)},width:"100%",marginLeft:e.spacing(1)},e.breakpoints.up(420),{width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",top:0,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},inputRoot:{color:"inherit"},inputInput:(t={padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"0","&:focus":{width:"12ch"}},Object(C.a)(t,e.breakpoints.down(420),{width:"7ch"}),Object(C.a)(t,e.breakpoints.down(350),{width:"0"}),t)})}))(Kt),Xt=a(208),Jt=a(357),Yt=a(373),$t=function(e){var t=e.state,a=t.mobileMenuId,n=t.mobileMoreAnchor,r=Boolean(n),o=function(){e.dispatch({type:"mobile-close"})};return e.loggedIn?i.a.createElement(Xt.a,{anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},id:a,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:r,onClose:o},i.a.createElement(Jt.a,null,i.a.createElement(Oe.a,{"aria-label":"show 4 new mails",color:"inherit"},i.a.createElement(Pt.a,{badgeContent:4,color:"secondary"},i.a.createElement(Yt.a,null))),i.a.createElement("p",null,"Messages")),i.a.createElement(Jt.a,null,i.a.createElement(Oe.a,{"aria-label":"show 11 new alerts",color:"inherit"},i.a.createElement(Pt.a,{badgeContent:11,color:"secondary"},i.a.createElement(Vt.a,null))),i.a.createElement("p",null,"Notification")),i.a.createElement(Jt.a,{onClick:function(t){e.dispatch({type:"profile-anchor",payload:t.currentTarget})}},i.a.createElement(Oe.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},i.a.createElement(Ut.a,null)),i.a.createElement("p",null,"Account")),i.a.createElement(Jt.a,{onClick:function(){o(),e.logout&&e.logout()}},i.a.createElement(Oe.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},i.a.createElement(Ut.a,null)),i.a.createElement("p",null,"Sign Out"))):i.a.createElement(Xt.a,{anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},id:a,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:r,onClose:o},i.a.createElement(ne.a,{to:"/login",component:Q.a,color:"secondary"},i.a.createElement(Jt.a,{onClick:o},i.a.createElement(Oe.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},i.a.createElement(Ut.a,null)),i.a.createElement("p",null,"\u0648\u0631\u0648\u062f"))),i.a.createElement(ne.a,{to:"/register",component:Q.a,color:"secondary"},i.a.createElement(Jt.a,{onClick:o},i.a.createElement(Oe.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},i.a.createElement(Ut.a,null)),i.a.createElement("p",null,"\u062b\u0628\u062a \u0646\u0627\u0645"))))},ea=a(374),ta=a(375),aa=a(376),na=a(377),ra=a(378),ia={in:[{name:"\u067e\u0631\u0648\u0641\u0627\u06cc\u0644",to:"/profile",icon:i.a.createElement(ea.a,null)},{name:"\u06a9\u0627\u0628\u0631\u06cc \u0645\u0646",to:"/dashboard",icon:i.a.createElement(ta.a,null)}],out:[{name:"\u0648\u0631\u0648\u062f",to:"/login",icon:i.a.createElement(ta.a,null)},{name:"\u062b\u0628\u062a \u0646\u0627\u0645",to:"/register",icon:i.a.createElement(ta.a,null)}]},oa=[{to:"/",title:"\u062e\u0627\u0646\u0647\u200c",icon:i.a.createElement(aa.a,null)},{to:"/learning",title:"\u062f\u0631\u0633 \u0647\u0627\u200c",icon:i.a.createElement(na.a,null)},{to:"/about",title:"\u062f\u0631\u0628\u0627\u0631\u0647\u200c",icon:i.a.createElement(ra.a,null)}],la=function(e){var t=e.loggedIn,a=e.state,n=e.logout,r=e.dispatch,o=a.profileMoreAnchor,l=a.menuId,c=Boolean(o),s=function(){r({type:"profile-close"})},u=t?ia.in:ia.out;return i.a.createElement(Xt.a,{anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},id:l,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:s},u.map((function(e,t){return i.a.createElement(ne.a,{to:e.to,key:"menuitem-"+t,onClick:s,component:Q.a,color:"secondary"},i.a.createElement(Jt.a,{onClick:s},e.name))})),t&&i.a.createElement(Jt.a,{onClick:function(){n&&n(),s()}},"\u062e\u0631\u0648\u062c"))},ca=a(392),sa=a(339),ua=a(379),da=a(380),fa=a(381),ha=a(382),ma=a(281),pa=a(383),ga=a(384),ba=Object(B.a)((function(e){return Object(M.a)({root:{display:"flex"},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(y.a)(Object(y.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-start"}),toolbar:Object(y.a)({display:"flex",alignItems:"center",justifyContent:"space-between",padding:e.spacing(0,1,0,4)},e.mixins.toolbar)})}));function va(e){var t=e.state,a=e.loggedIn,n=e.theme,r=e.changeTheme,o=e.dispatch,l=ba(),c=Object(Ee.a)().direction,s=function(){o({type:"menu-toggle"})},u=a?ia.in:ia.out;return i.a.createElement("div",{className:l.root},i.a.createElement($.a,null),i.a.createElement(ca.a,{className:l.drawer,variant:"temporary",anchor:"ltr"===c?"right":"left",open:t.menuIsOpen,onClose:s,classes:{paper:l.drawerPaper}},i.a.createElement("div",{className:l.toolbar},i.a.createElement(Oe.a,{color:"inherit","aria-label":"open drawer",onClick:function(){r("light"===n?"dark":"light")},edge:"start"},"light"===n?i.a.createElement(ua.a,null):i.a.createElement(da.a,null)),i.a.createElement(Oe.a,{onClick:s},"ltr"===c?i.a.createElement(fa.a,null):i.a.createElement(ha.a,null))),i.a.createElement(ke.a,null),i.a.createElement(sa.a,null,oa.map((function(e,t){return i.a.createElement(ne.a,{to:e.to,key:"sidelink-"+t,onClick:s,component:Q.a,color:"secondary"},i.a.createElement(ma.a,{button:!0},i.a.createElement(pa.a,null,e.icon),i.a.createElement(ga.a,{primary:e.title})))}))),i.a.createElement(ke.a,null),i.a.createElement(sa.a,null,u.map((function(e,t){return i.a.createElement(ne.a,{to:e.to,key:"sidelink-"+t,onClick:s,component:Q.a,color:"secondary"},i.a.createElement(ma.a,{button:!0},i.a.createElement(pa.a,null,e.icon),i.a.createElement(ga.a,{primary:e.name})))})))))}var _a=a(326),ya=Object(B.a)((function(e){var t;return Object(M.a)({root:(t={display:"none"},Object(C.a)(t,e.breakpoints.up(420),{marginLeft:e.spacing(1),display:"inline-block"}),Object(C.a)(t,e.breakpoints.up("sm"),{marginLeft:e.spacing(2),display:"inline-block"}),Object(C.a)(t,e.breakpoints.up("md"),{marginLeft:e.spacing(4),display:"inline-block"}),Object(C.a)(t,e.breakpoints.up("lg"),{marginLeft:e.spacing(8),display:"inline-block"}),t),linkKeeper:{overflow:"hidden",height:"1.2em",lineHeight:"1.2em"},links:{textAlign:"center",flexGrow:1}})})),Ea=function(e){var t=e.openStatus,a=ya();return i.a.createElement(_a.a,{in:!t,className:a.links},i.a.createElement("div",{className:a.linkKeeper},oa.map((function(e,t){return i.a.createElement(ne.a,{key:"link-"+t,to:e.to,className:a.root,component:Q.a,color:"secondary"},e.title)}))))},Oa=Object(B.a)((function(e){return Object(M.a)({appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},hide:{display:"none"},menuButton:{marginRight:e.spacing(2)}})})),Sa=function(e){var t=Oa(),a=e.state.menuIsOpen;return i.a.createElement(st.a,{color:"default",position:"relative",className:Object(ye.a)(t.appBar,Object(C.a)({},t.appBarShift,a))},i.a.createElement(ut.a,null,i.a.createElement(Oe.a,{color:"inherit","aria-label":"open drawer",onClick:function(){e.dispatch({type:"menu-toggle"})},edge:"start",className:Object(ye.a)(t.menuButton,Object(C.a)({},t.hide,a))},i.a.createElement(Mt.a,null)),i.a.createElement(ne.a,{component:Q.a,color:"secondary",to:"/"},"\u0645\u0644\u0648\u062f\u06cc\u0634\u0646"),i.a.createElement("p",{onClick:function(){return sessionStorage.clear()}},"(","0.5.5",")"),i.a.createElement(Ea,{openStatus:a}),i.a.createElement(Qt,null),i.a.createElement(Ft,e)),i.a.createElement(va,e),i.a.createElement($t,e),i.a.createElement(la,e))},ka={menuId:"primary-search-account-menu",mobileMenuId:"primary-search-account-menu-mobile",profileMoreAnchor:null,mobileMoreAnchor:null,menuIsOpen:!1};function ja(e,t){switch(t.type){case"field":return Object(y.a)(Object(y.a)({},e),{},Object(C.a)({},t.fieldName,t.payload));case"menu-toggle":return Object(y.a)(Object(y.a)({},e),{},{menuIsOpen:!e.menuIsOpen});case"profile-close":return Object(y.a)(Object(y.a)({},e),{},{profileMoreAnchor:null});case"mobile-close":return Object(y.a)(Object(y.a)({},e),{},{mobileMoreAnchor:null});case"mobile-anchor":return Object(y.a)(Object(y.a)({},e),{},{mobileMoreAnchor:t.payload});case"profile-anchor":return Object(y.a)(Object(y.a)({},e),{},{profileMoreAnchor:t.payload});default:return e}}var wa=Object(s.c)((function(e){var t=e.auth;return{loggedIn:t.loggedIn,theme:t.theme}}),(function(e){return{logout:Object(j.b)(le.c,e),changeTheme:Object(j.b)(le.a,e)}}))((function(e){var t=Object.assign({},e),a=Object(r.useReducer)(ja,ka),n=Object(p.a)(a,2),o=n[0],l=n[1];return i.a.createElement(Sa,Object.assign({state:o,dispatch:l},t))})),Ca=function(e){return{type:b.b,key:e}},Aa=[],xa=Object(s.c)((function(e){return{snackbars:e.snackbar.snackbars}}),(function(e){return{removeSnack:Object(j.b)(Ca,e)}}))((function(e){var t=e.snackbars,a=e.removeSnack,i=Object(d.b)(),o=i.enqueueSnackbar,l=i.closeSnackbar;return Object(r.useEffect)((function(){null===t||void 0===t||t.forEach((function(e){var t,r=e.key,i=e.message,c=e.options,s=void 0===c?{}:c,u=e.dismissed;void 0!==u&&u?l(r):Aa.includes(r)||(o(i,Object(y.a)(Object(y.a)({key:r},s),{},{onClose:function(e,t,a){s.onClose&&s.onClose(e,t,a)},onExited:function(e,t){var r;a&&a(String(t)),r=String(t),Aa=Object(n.a)(Aa.filter((function(e){return r!==e})))}})),t=r,Aa=[].concat(Object(n.a)(Aa),[t]))}))}),[t,l,o,a]),null})),Ta=Object(o.b)({plugins:[].concat(Object(n.a)(Object(Qe.a)().plugins),[c()()])}),La=Object(B.a)((function(e){return Object(M.a)({app:{width:"100vw",height:"100vh",overflowX:"hidden",display:"flex",flexDirection:"column",overflow:"hidden"},mainBody:{height:"inherit",overflowX:"hidden",overflowY:"auto"},paper:{zIndex:999999,position:"absolute"}})})),Ia=Object(s.c)((function(e){return{theme:e.auth.theme,playMode:e.melodition.playMode}}),{})((function(e){var t=e.theme,a=e.playMode,n=La(),r="light"===t?kt:St,o=Object(Xe.a)(r);return i.a.createElement(u.a,{history:f.a},i.a.createElement(Je.b,{jss:Ta},i.a.createElement(Ye.a,{theme:o},i.a.createElement(d.a,null,i.a.createElement($e.a,{direction:"right",in:a,mountOnEnter:!0,unmountOnExit:!0},i.a.createElement(et.a,{elevation:4,className:n.paper},i.a.createElement(gt,null))),i.a.createElement(te.a,{className:n.app},i.a.createElement(wa,null),i.a.createElement(Nt,null),i.a.createElement(xa,null),i.a.createElement(te.a,{id:"main-body",className:n.mainBody},i.a.createElement(Ke,null)))))))})),Ga=a(16);Object(Ga.render)(i.a.createElement(s.a,{store:f.b},i.a.createElement(Ia,null)),document.getElementById("root"))},28:function(e,t,a){"use strict";a.d(t,"g",(function(){return n})),a.d(t,"e",(function(){return r})),a.d(t,"f",(function(){return i})),a.d(t,"i",(function(){return o})),a.d(t,"h",(function(){return l})),a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return d}));var n="REQUEST_PLAYER",r="ENTER_PLAYMODE",i="EXIT_PLAYMODE",o="RESIZE_PLAYER",l="RESET_PLAYER",c="DRAW_SEEKBAR",s="DRAW_FINGER",u="DRAW_PIANO",d="DRAW_GAME"},29:function(e,t,a){"use strict";a.d(t,"a",(function(){return ae})),a.d(t,"b",(function(){return ne}));var n=a(55),r=a(200),i=a(10),o=a(182),l=a(66),c=a(4),s=a(24),u=a(56),d=Object(u.c)("user"),f="dark"===localStorage.getItem("theme")?"dark":"light",h=d?{loggedIn:!0,loading:!1,user:d,theme:f}:{loggedIn:!1,loading:!1,theme:f};function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.c:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case s.d:return Object(c.a)(Object(c.a)({},e),{},{loggedIn:!0,loading:!1,user:t.user});case s.b:return Object(c.a)(Object(c.a)({},e),{},{loading:!1});case s.i:return Object(c.a)(Object(c.a)({},e),{},{loggedIn:!1,loading:!0});case s.j:case s.h:return Object(c.a)(Object(c.a)({},e),{},{loading:!1});case s.f:return Object(c.a)(Object(c.a)({},e),{},{loggedIn:!1,loading:!0});case s.g:case s.e:return Object(c.a)(Object(c.a)({},e),{},{loading:!1});case s.k:return Object(c.a)(Object(c.a)({},e),{},{loggedIn:!1,loading:!1});case s.a:return localStorage.setItem("theme",t.theme),Object(c.a)(Object(c.a)({},e),{},{theme:t.theme});default:return e}}var p=a(75),g={loading:!0};function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.d:return{loading:!0,profile:t.userData};case p.b:return e;case p.c:return{loading:!1,profile:t.profile};case p.a:return{loading:!1,error:t.error};default:return e}}var v=a(144),_={data:[],loading:!0,error:"Not Found",nextLoad:0},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.b:return e;case v.c:return Object(c.a)(Object(c.a)({},e),{},{nextLoad:t.payload.nextLoad,data:t.payload.data,loading:!1});case v.a:return{data:[],error:t.error,nextLoad:0,loading:!1};default:return e}},E=a(73),O=a(38),S={snackbars:[]},k=function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case O.c:return Object(c.a)(Object(c.a)({},a),{},{snackbars:[].concat(Object(E.a)(a.snackbars),[Object(c.a)({},n.snackbar)])});case O.a:return Object(c.a)(Object(c.a)({},a),{},{snackbars:null===(e=a.snackbars)||void 0===e?void 0:e.map((function(e){return n.dismissAll||e.key===n.key?Object(c.a)(Object(c.a)({},e),{},{dismissed:!0}):Object(c.a)({},e)}))});case O.b:return Object(c.a)(Object(c.a)({},a),{},{snackbars:null===(t=a.snackbars)||void 0===t?void 0:t.filter((function(e){return e.key!==n.key}))});default:return a}},j=a(28),w={fingerLoading:!0,pianoLoading:!0,gameLoading:!0,seekLoading:!0,loading:!0},C=Object(c.a)(Object(c.a)({},w),{},{playMode:!1,octave:5,songLength:272,tapSize:32}),A=JSON.parse(JSON.stringify(C)),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.g:return Object(c.a)(Object(c.a)({},e),{},{loading:!1},t.payload);case j.c:return Object(c.a)(Object(c.a)(Object(c.a)({},e),t.payload),{},{pianoLoading:!1});case j.b:return Object(c.a)(Object(c.a)({},e),{},{gameLoading:!1});case j.a:return Object(c.a)(Object(c.a)({},e),{},{fingerLoading:!1});case j.d:return Object(c.a)(Object(c.a)({},e),{},{seekLoading:!1});case j.e:return Object(c.a)(Object(c.a)(Object(c.a)({},e),w),{},{loading:!1,playMode:!0,canvasSize:void 0});case j.f:return Object(c.a)(Object(c.a)(Object(c.a)({},e),w),{},{loading:!1,playMode:!1});case j.i:return Object(c.a)(Object(c.a)({},e),{},{pianoLoading:!0,gameLoading:!0});case j.h:return A;default:return e}},T=a(49),L={data:[],loading:!0,error:"Not Found",nextLoad:0},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.d:return e;case T.f:return Object(c.a)(Object(c.a)({},e),{},{data:t.payload.data,nextLoad:t.payload.nextLoad,loading:!1});case T.b:return{data:[],error:t.error,nextLoad:0,loading:!1};default:return e}},G={loading:!0,error:"Not Found"},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.c:return Object(c.a)(Object(c.a)({},e),{},{loading:!0,data:void 0});case T.e:return t.data,Object(c.a)(Object(c.a)({},e),{},{data:t.data,loading:!1});case T.a:return Object(c.a)(Object(c.a)({},e),{},{error:t.error,loading:!1});default:return e}},B=a(82),M={data:[],loading:!0,error:"Not Found",nextLoad:0},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B.d:return e;case B.g:return Object(c.a)(Object(c.a)({},e),{},{data:t.payload.data,nextLoad:t.payload.nextLoad,loading:!1});case B.e:var a=!1;return e.data.length&&(a=t.data.every((function(t){return e.data.map((function(e){return e.id===t.id}))}))),Object(c.a)(Object(c.a)({},e),{},{data:a?e.data:t.data});case B.b:return{data:[],error:t.error,nextLoad:0,loading:!1};default:return e}},V={loading:!0,error:"Not Found"},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B.c:return Object(c.a)(Object(c.a)({},e),{},{loading:!0,data:void 0});case B.f:return Object(c.a)(Object(c.a)({},e),{},{data:t.data,loading:!1});case B.a:return Object(c.a)(Object(c.a)({},e),{},{error:t.error,loading:!1});default:return e}},z=a(79),P={data:[],loading:!0,error:"Not Found",nextLoad:0},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z.d:return e;case z.g:return Object(c.a)(Object(c.a)({},e),{},{data:t.payload.data,nextLoad:t.payload.nextLoad,loading:!1});case z.e:var a=!1;return e.data.length&&(a=t.data.every((function(t){return e.data.map((function(e){return e.id===t.id}))}))),Object(c.a)(Object(c.a)({},e),{},{data:a?e.data:t.data});case z.b:return{data:[],error:t.error,nextLoad:0,loading:!1};default:return e}},F={loading:!0,error:"Not Found"},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z.c:return Object(c.a)(Object(c.a)({},e),{},{loading:!0,data:void 0});case z.f:return Object(c.a)(Object(c.a)({},e),{},{data:t.data,loading:!1});case z.a:return Object(c.a)(Object(c.a)({},e),{},{error:t.error,loading:!1});default:return e}},q=a(80),W={data:[],loading:!0,error:"Not Found",nextLoad:0},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.d:return e;case q.g:return Object(c.a)(Object(c.a)({},e),{},{data:t.payload.data,nextLoad:t.payload.nextLoad,loading:!1});case q.e:var a=!1;return e.data.length&&(a=t.data.every((function(t){return e.data.map((function(e){return e.id===t.id}))}))),Object(c.a)(Object(c.a)({},e),{},{data:a?e.data:t.data});case q.b:return{data:[],nextLoad:0,error:t.error,loading:!1};default:return e}},K={loading:!0,error:"Not Found"},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.c:return Object(c.a)(Object(c.a)({},e),{},{loading:!0,data:void 0});case q.f:return void 0===t.data?Object(c.a)(Object(c.a)({},e),{},{loading:!1}):Object(c.a)(Object(c.a)({},e),{},{data:t.data,loading:!1});case q.a:return Object(c.a)(Object(c.a)({},e),{},{error:t.error,loading:!1});default:return e}},X=a(78),J={data:[],loading:!0,error:"Not Found",nextLoad:0},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X.d:return e;case X.g:return Object(c.a)(Object(c.a)({},e),{},{data:t.payload.data,nextLoad:t.payload.nextLoad,loading:!1});case X.e:var a=!1;return e.data.length&&(a=t.data.every((function(t){return e.data.map((function(e){return e.id===t.id}))}))),Object(c.a)(Object(c.a)({},e),{},{data:a?e.data:t.data});case X.b:return{data:[],error:t.error,nextLoad:0,loading:!1};default:return e}},$={loading:!0,error:"Not Found"},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X.c:return Object(c.a)(Object(c.a)({},e),{},{loading:!0,data:void 0});case X.f:return t.data,Object(c.a)(Object(c.a)({},e),{},{data:t.data,loading:!1});case X.a:return Object(c.a)(Object(c.a)({},e),{},{error:t.error,loading:!1});default:return e}},te=function(e){return Object(i.c)({router:Object(l.b)(e),single:Object(i.c)({post:N,guide:U,course:Q,lesson:D,exercise:ee}),bank:Object(i.c)({posts:I,guides:R,courses:Z,lessons:H,exercises:Y}),melodition:x,user:Object(i.c)({profile:b,favorites:y}),snackbar:k,auth:m})},ae=Object(n.a)(),ne=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d;return Object(i.e)(te(ae),e,t(Object(i.a)(Object(o.a)(ae),r.a)))}()},38:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i}));var n="SHOW_SNACKBAR",r="CLEAR_SNACKBAR",i="REMOVE_SNACKBAR"},49:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"f",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"a",(function(){return c}));var n="REQUEST_POSTS",r="SUCCESS_POSTS",i="FAILURE_POSTS",o="REQUEST_POST",l="SUCCESS_POST",c="FAILURE_POST"},50:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return f}));var n=a(0),r=a.n(n),i=a(280),o=a(29),l=a(279),c=a(176),s=a(56),u=a(38),d=function(e,t){var a,n=null===(a=e.response)||void 0===a?void 0:a.data.message.toString();n&&(o.b.dispatch({type:t,error:n}),o.b.dispatch({type:u.c,snackbar:f(n,"error")}))},f=function(e,t){return{message:e.replace(/<[^>]+>/g,""),key:Object(s.a)(),options:{TransitionComponent:function(e){return r.a.createElement(l.a,Object.assign({},e,{direction:"left"}))},anchorOrigin:{horizontal:"left",vertical:"bottom"},variant:t,autoHideDuration:"error"===t?null:5e3,action:function(e){return r.a.createElement(c.a,{style:{borderRadius:5},color:"inherit",size:"small","aria-label":"close",component:"span",onClick:function(){return o.b.dispatch({type:u.a,dismissAll:!e,key:e})}},r.a.createElement(i.a,null))}}}}},51:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return c}));var n=a(174),r=a.n(n),i=a(29),o=a(64),l=r.a.create({baseURL:"https://panel.melodition.com/wp-json",headers:function(){var e=localStorage.getItem("user"),t=e?JSON.parse(e):null;return(null===t||void 0===t?void 0:t.token)?{Authorization:"Bearer "+t.token}:{}}()});l.interceptors.response.use((function(e){return e}),(function(e){return console.log(e),403===e.response.status&&/Expire/.test(e.response.data.code)&&i.b.dispatch(Object(o.c)()),Promise.reject(e)}));var c=r.a.create({method:"get",responseType:"arraybuffer"})},56:function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return s})),a.d(t,"f",(function(){return u})),a.d(t,"e",(function(){return d}));var n=a(14),r=a(201),i=a.n(r),o=function(e){var t,a=e.split("/"),r={length:0};if(3===a.length)t={},Object(n.a)(t,a[1],Number(a[2])),Object(n.a)(t,"length",1),r=t;else if(4===a.length){var i,o=a[3].split("=");i={},Object(n.a)(i,a[1],Number(a[2])),Object(n.a)(i,o[0],Number(o[1])),Object(n.a)(i,"length",2),r=i}else if(5===a.length){var l,c=a[3].split("="),s=a[4].split("=");l={},Object(n.a)(l,a[1],Number(a[2])),Object(n.a)(l,c[0],Number(c[1])),Object(n.a)(l,s[0],Number(s[1])),Object(n.a)(l,"length",3),r=l}return r},l=function(e){var t=localStorage.getItem(e);return null!==t?JSON.parse(t):void 0},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new Date,a=t.getTime(),n=6e4*e;return a+n},s=function(){return c(Math.random()).toString(36)},u=function(e){var t=i.a;return e&&("object"===typeof e?t=e.medium:"string"===typeof e&&(t=e)),t},d=["","\u0634\u0631\u0648\u0639","\u0628\u062e\u0634 \u0627\u0648\u0644","\u0628\u062e\u0634 \u062f\u0648\u0645","\u0628\u062e\u0634 \u0633\u0648\u0645","\u0628\u062e\u0634 \u0686\u0647\u0627\u0631\u0645","\u0628\u062e\u0634 \u067e\u0646\u062c\u0645","\u0628\u062e\u0634 \u0634\u0634\u0645","\u0628\u062e\u0634 \u0647\u0641\u062a\u0645","\u0628\u062e\u0634 \u0647\u0634\u062a\u0645","\u0628\u062e\u0634 \u0646\u0647\u0645","\u0628\u062e\u0634 \u062f\u0647\u0645"]},64:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"d",(function(){return f}));var n=a(31),r=a(24),i=a(38),o=a(50),l=a(51),c=function(e){return function(t){t({type:r.c}),l.a.post("/jwt-auth/v1/token",e).then((function(e){t({type:r.d,user:e.data}),localStorage.setItem("user",JSON.stringify(e.data)),l.a.defaults.headers.common={Authorization:"Bearer "+e.data.token},t(Object(n.d)()),t({type:i.c,snackbar:Object(o.b)("".concat(e.data.user_display_name," logged in successfully."),"success")})})).catch((function(e){return Object(o.a)(e,r.b)}))}},s=function(e){return function(t){t({type:r.a,theme:e})}},u=function(){return function(e){localStorage.removeItem("user"),l.a.defaults.headers.common={},e(Object(n.c)(0)),e({type:r.k})}},d=function(e){return function(t){t({type:r.i}),l.a.post("/jwt-auth/v1/register",e).then((function(e){t({type:r.j,user:e.data}),t(Object(n.f)("/login")),t({type:i.c,snackbar:Object(o.b)(e.data.message,"success")})})).catch((function(e){return Object(o.a)(e,r.h)}))}},f=function(e){return function(t){t({type:r.f}),l.a.post("/jwt-auth/v1/lostpassword",e).then((function(e){var a=e.data.message.toString();t({type:r.g,message:a}),t(Object(n.f)("/login")),t({type:i.c,snackbar:Object(o.b)(a,"success")})})).catch((function(e){Object(o.a)(e,r.e)}))}}},75:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return o}));var n="PROFILE_INFO_REQUEST",r="PROFILE_INFO_SUCCESS",i="PROFILE_INFO_FAILURE",o="SAVE_PROFILE"},78:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"g",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"e",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"a",(function(){return s}));var n="REQUEST_EXERCISES",r="SUCCESS_EXERCISES",i="FAILURE_EXERCISES",o="SAVE_EXERCISES",l="REQUEST_EXERCISE",c="SUCCESS_EXERCISE",s="FAILURE_EXERCISE"},79:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"g",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"e",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"a",(function(){return s}));var n="REQUEST_LESSONS",r="SUCCESS_LESSONS",i="FAILURE_LESSONS",o="SAVE_LESSONS",l="REQUEST_LESSON",c="SUCCESS_LESSON",s="FAILURE_LESSON"},80:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"g",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"e",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"a",(function(){return s}));var n="REQUEST_COURSES",r="SUCCESS_COURSES",i="FAILURE_COURSES",o="SAVE_COURSES",l="REQUEST_COURSE",c="SUCCESS_COURSE",s="FAILURE_COURSE"},82:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"g",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"e",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"a",(function(){return s}));var n="REQUEST_GUIDES",r="SUCCESS_GUIDES",i="FAILURE_GUIDES",o="SAVE_GUIDES",l="REQUEST_GUIDE",c="SUCCESS_GUIDE",s="FAILURE_GUIDE"}},[[244,17,18]]]);
//# sourceMappingURL=main.6da61ce2.chunk.js.map