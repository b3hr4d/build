{"version":3,"sources":["assets/img/melodition.jpg","router/ProtectedRoute.tsx","_helpers/constants.tsx","_reducers/auth.reducer.ts","_types/user.types.ts","_types/profile.types.ts","_reducers/profile.reducer.ts","_types/favorite.types.ts","_reducers/favorite.reducer.ts","_reducers/snackbar.reducer.ts","_types/snackbar.types.ts","_reducers/post.reducer.ts","_types/post.types.ts","_reducers/guide.reducer.ts","_types/guide.types.ts","_reducers/lesson.reducer.ts","_types/lesson.types.ts","_reducers/course.reducer.ts","_types/course.types.ts","_reducers/exercise.reducer.ts","_types/exercise.types.ts","_reducers/index.ts","_store/store.config.ts","_helpers/alert.tsx","components/InfoPages/About.tsx","_actions/user.actions.ts","_helpers/api.ts","_actions/post.actions.ts","components/PostPages/PostCard.tsx","components/PostPages/PostList.tsx","assets/captcha/ReCaptcha.tsx","assets/captcha/Captcha.tsx","components/AuthPages/LoginPage.tsx","components/AuthPages/LostPage.tsx","components/AuthPages/RegisterPage.tsx","_actions/profile.actions.ts","components/ProfilePages/Dashboard/LatestSongs.js","components/ProfilePages/ProfilePage.tsx","_actions/lesson.actions.ts","_actions/course.actions.ts","_actions/exercise.actions.ts","_actions/guide.actions.ts","components/LearningPages/Guide/GuideCard.tsx","components/LearningPages/Guide/GuideList.tsx","components/LearningPages/Lesson/LessonCard.tsx","components/LearningPages/Lesson/LessonList.tsx","components/LearningPages/Course/CourseCard.tsx","components/LearningPages/Course/CourseList.tsx","components/LearningPages/Favorite/FavoriteCard.tsx","_actions/favorite.actions.ts","components/LearningPages/Favorite/FavoriteList.tsx","components/LearningPages/Exercise/ExerciseCard.tsx","components/LearningPages/Exercise/ExerciseList.tsx","components/LearningPages/LearningPage.tsx","components/PostPages/Post.tsx","components/LearningPages/Guide/GuideItems.tsx","components/LearningPages/Guide/Guide.tsx","components/LearningPages/Course/CourseItems.tsx","components/LearningPages/Course/Course.tsx","components/LearningPages/Lesson/Lesson.tsx","components/LearningPages/Exercise/Exercise.tsx","router/index.tsx","components/Layout/theme/GlobalTheme.ts","components/Layout/theme/DarkTheme.ts","components/Layout/theme/LightTheme.ts","components/Layout/AppBar/MiniDrawer.tsx","components/Layout/AppBar/LinkConst.tsx","components/Layout/AppBar/MobileMenu.tsx","components/Layout/AppBar/MenuRender.tsx","components/Layout/AppBar/LeftIcons.tsx","components/Layout/AppBar/SearchInput.tsx","components/Layout/AppBar/MainAppBar.tsx","components/Layout/Header.tsx","_actions/snackbar.actions.ts","components/Layout/Notifier.ts","components/Layout/Breadcrumbs.tsx","App.tsx","index.tsx"],"names":["module","exports","connect","state","loggedIn","auth","props","redirectPath","authenticationPath","isAllowed","restrictedPath","component","to","pathname","render","undefined","pathFinder","path","pathSplit","split","compiledPath","length","Number","typeSplit","type1Split","type2Split","localTheme","com","localStorage","setItem","getItem","getTheTime","minutes","d","Date","t","getTime","ms","sideLink","in","name","icon","SettingsApplications","AccountBox","out","links","title","Home","FileCopy","Info","UniqId","Math","random","toString","thumbnailsFinder","img","image","fallImg","medium","user","key","item","JSON","parse","getUserLocal","initialState","loading","authReducer","action","type","profileReducerDefaultState","profileReducer","profile","userData","error","favoriteReducerDefaultState","data","nextLoad","favoriteReducer","payload","snackbarReducerDefaultState","snackbars","snackbarReducer","snackbar","map","dismissAll","dismissed","filter","postsReducerDefaultState","postsReducer","postReducerDefaultState","postReducer","guidesReducerDefaultState","guidesReducer","match","every","_","id","guideReducerDefaultState","guideReducer","lessonsReducerDefaultState","lessonsReducer","lessonReducerDefaultState","lessonReducer","coursesReducerDefaultState","coursesReducer","courseReducerDefaultState","courseReducer","exercisesReducerDefaultState","exercisesReducer","exerciseReducerDefaultState","exerciseReducer","rootReducer","history","combineReducers","router","connectRouter","single","post","guide","course","lesson","exercise","bank","posts","guides","courses","lessons","exercises","favorites","createBrowserHistory","store","preloadingState","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","createRootReducer","applyMiddleware","routerMiddleware","thunk","configureStore","errorHandler","err","target","response","message","dispatch","snackBarMaker","variant","replace","options","TransitionComponent","Slide","direction","anchorOrigin","horizontal","vertical","autoHideDuration","IconButton","style","borderRadius","color","size","aria-label","onClick","Close","About","useState","input","setInput","onChange","e","value","handleChange","Button","loginRequest","API","then","res","stringify","defaults","headers","common","Authorization","token","goBack","user_display_name","catch","logoutRequest","removeItem","go","registerRequest","push","lostRequest","Axios","create","baseURL","localUser","authHeader","interceptors","use","console","log","Promise","reject","requestAllPost","getState","postState","resetTime","get","requestPost","found","find","useStyles","makeStyles","theme","createStyles","root","maxWidth","maxHeight","margin","spacing","cardAction","justifyContent","content","minHeight","PostCard","classes","featured_img","excerpt","author","clickHandler","Card","className","CardActionArea","CardMedia","height","alt","CardContent","Typography","gutterBottom","CardActions","PostList","this","header","Chip","chip","label","Grid","container","justify","cardList","CircularProgress","autoMargin","Component","ownProps","bindActionCreators","withStyles","padding","position","right","top","ReCaptcha","script","loadScript","captchaOnLoad","onLoad","document","createElement","src","url","async","defer","body","appendChild","callback","grecaptcha","sitekey","ready","setState","removeChild","onError","LinearProgress","captchaWarning","captcha","React","zIndex","border","Captcha","form","setFieldValue","errors","touched","field","useCallback","event","recaptcha","LoginPage","Container","paddingTop","CssBaseline","textAlign","Avatar","initialValues","username","password","validationSchema","Yup","shape","max","required","onSubmit","login","Box","mb","align","fullWidth","disabled","mt","my","TextField","placeholder","xs","Link","RouterLink","logout","LostPage","user_login","RegisterPage","email","firstname","lastname","confirm_password","policy","oneOf","values","dir","alignItems","display","ml","Checkbox","checked","underline","Boolean","FormHelperText","profileRequest","userInfo","parseToken","userID","info","base64","jsonPayload","decodeURIComponent","atob","c","charCodeAt","slice","join","resJson","expire","exp","issued","iat","before","nbf","useStyles1","flexShrink","marginLeft","TablePaginationActions","useTheme","count","page","rowsPerPage","onChangePage","LastPage","FirstPage","KeyboardArrowRight","KeyboardArrowLeft","ceil","useStyles2","table","minWidth","toolbar","flexFlow","breakpoints","only","LatestSongs","setPage","setRowsPerPage","emptyRows","min","sel","dateChanger","date","time","clsx","CardHeader","Divider","Table","TableHead","TableRow","TableCell","TableBody","row","song","progress","colSpan","TableFooter","TablePagination","rowsPerPageOptions","lower","low","average","high","higher","SelectProps","inputProps","native","newPage","onChangeRowsPerPage","parseInt","ActionsComponent","ProfilePage","getProfile","lg","md","xl","meta","playtime","requestAllLesson","lessonState","requestLesson","requestGuide","requestCourse","requestAllCourse","courseState","newPath","compiler","Compiler","course_select","select","genre","requestAllExercise","exerciseState","requestExercise","requestAllGuide","guideState","addCourses","guide_select","addExercises","added","GuideCard","thumbnails","description","teacher","GuideList","LessonCard","LessonList","CourseCard","CourseList","FavoriteCard","favorite","requestAllFavorite","favoriteState","FavoriteList","ExerciseCard","ExerciseList","pages","link","LibraryMusic","child","QueueMusic","MusicNote","EmojiSymbols","Favorite","pageName","num","pageNumber","obj","indexOf","width","tabControl","down","tabPanel","LearningPage","pathName","location","setValue","useEffect","matches","useMediaQuery","AppBar","Paper","square","Tabs","newValue","indicatorColor","textColor","scrollButtons","i","Tab","aria-controls","role","hidden","aria-labelledby","Post","dangerouslySetInnerHTML","__html","backgroundColor","palette","background","paper","secondary","main","fontWeight","rightChip","cursor","leftChip","CourseItem","index","courseItem","grade","ExerciseItem","exerciseItem","season","Guide","counter","k","List","ListItem","ListItemAvatar","ListItemText","primary","exercise_description","guideItem","course_description","typer","sm","Course","text","opacity","Lesson","Exercise","AppRouter","exact","LostPassPage","globalStyle","createMuiTheme","typography","fontFamily","overrides","MuiCardActions","MuiCssBaseline","scrollbarWidth","scrollbarColor","MuiIconButton","colorSecondary","DarkTheme","blue","red","pink","faIR","LightTheme","hide","drawer","drawerPaper","drawerHeader","mixins","MiniDrawer","handleDrawerClose","isDark","setIsDark","botLinks","Drawer","anchor","open","menuIsOpen","onClose","prev","edge","Brightness7","Brightness4","ChevronLeft","ChevronRight","button","ListItemIcon","up","linkKeeper","overflow","lineHeight","flexGrow","LinkConst","openStatus","Collapse","MobileMenu","mobileMenuId","mobileMoreAnchor","mobileMenuIsOpen","handleMobileMenu","anchorEl","keepMounted","transformOrigin","MenuItem","Badge","badgeContent","Stars","Notifications","currentTarget","aria-haspopup","AccountCircle","MenuRender","profileMoreAnchor","menuId","profileMenuIsOpen","sectionDesktop","sectionMobile","IconController","profileMenuOpen","Fragment","Star","MoreHoriz","SearchInput","handleOnInputChange","query","fetchSearchResult","results","search","searchIcon","InputBase","inputRoot","inputInput","fade","white","pointerEvents","paddingLeft","transition","transitions","appBar","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButton","marginRight","MainAppBar","Toolbar","sessionStorage","clear","process","HeaderReducer","fieldName","rest","useReducer","snackbarRemove","displayed","removeSnack","useSnackbar","enqueueSnackbar","closeSnackbar","forEach","includes","reason","myKey","onExited","String","bracrumbs","back","AllInbox","keys","Object","trigger","linkGenerator","linkName","handleClick","preventDefault","disableGutters","ArrowForward","orientation","flexItem","Breadcrumbs","href","jss","plugins","jssPreset","jssRTL","app","overflowX","flexDirection","mainBody","overflowY","App","responsiveFontSizes","StylesProvider","ThemeProvider","getElementById"],"mappings":"yHAAAA,EAAOC,QAAU,IAA0B,wC,mMCoC5BC,eAPS,SAACC,GAEvB,MAAO,CACLC,SAFeD,EAATE,KAESD,YAIJF,EAxB8C,SAACI,GAC5D,IAAIC,EAAe,GAQnB,GAPKD,EAAMF,WACTG,EAAeD,EAAME,oBAEnBF,EAAMF,WAAaE,EAAMG,YAC3BF,EAAeD,EAAMI,gBAGnBH,EAAc,CAEhB,OAAO,gBAAC,IAAD,iBAAWD,EAAX,CAAkBK,UADD,kBAAM,gBAAC,IAAD,CAAUC,GAAI,CAAEC,SAAUN,MACHO,YAAQC,KAE7D,OAAO,gBAAC,IAAUT,M,wHCLTU,EAAa,SAACC,GACzB,IAE4B,EAFtBC,EAAYD,EAAKE,MAAM,KACzBC,EAA2B,CAAEC,OAAQ,GACzC,GAAyB,IAArBH,EAAUG,OACA,mBACTH,EAAU,GAAKI,OAAOJ,EAAU,KADvB,uBAEF,GAFVE,EAAY,OAIP,GAAyB,IAArBF,EAAUG,OAAc,CAAC,IAAD,EAC3BE,EAAYL,EAAU,GAAGC,MAAM,KACzB,mBACTD,EAAU,GAAKI,OAAOJ,EAAU,KADvB,cAETK,EAAU,GAAKD,OAAOC,EAAU,KAFvB,uBAGF,GAHVH,EAAY,OAKP,GAAyB,IAArBF,EAAUG,OAAc,CAAC,IAAD,EAC3BG,EAAaN,EAAU,GAAGC,MAAM,KAChCM,EAAaP,EAAU,GAAGC,MAAM,KAC1B,mBACTD,EAAU,GAAKI,OAAOJ,EAAU,KADvB,cAETM,EAAW,GAAKF,OAAOE,EAAW,KAFzB,cAGTC,EAAW,GAAKH,OAAOG,EAAW,KAHzB,uBAIF,GAJVL,EAAY,EAOd,OAAOA,GAQF,SAASM,EAAWC,GACzB,OAAQA,GACN,IAAK,OAEH,OADAC,aAAaC,QAAQ,QAAS,SACvB,EACT,IAAK,QAEH,OADAD,aAAaC,QAAQ,QAAS,UACvB,EACT,IAAK,MACH,MAAyC,SAAlCD,aAAaE,QAAQ,SAC9B,QACE,OAAO,GAGN,SAASC,IAAyC,IAA9BC,EAA6B,uDAAX,EACvCC,EAAI,IAAIC,KACRC,EAAIF,EAAEG,UACJC,EAAe,IAAVL,EACX,OAAOG,EAAIE,EAGN,IAAMC,EAAW,CACtBC,GAAI,CACF,CAAEC,KAAM,6CAAW5B,GAAI,WAAY6B,KAAM,kBAACC,EAAA,EAAD,OACzC,CAAEF,KAAM,8CAAY5B,GAAI,aAAc6B,KAAM,kBAACE,EAAA,EAAD,QAE9CC,IAAK,CACH,CAAEJ,KAAM,2BAAQ5B,GAAI,SAAU6B,KAAM,kBAACE,EAAA,EAAD,OACpC,CAAEH,KAAM,wCAAW5B,GAAI,YAAa6B,KAAM,kBAACE,EAAA,EAAD,SAGjCE,EAAQ,CACnB,CAAEjC,GAAI,IAAKkC,MAAO,iCAASL,KAAM,kBAACM,EAAA,EAAD,OACjC,CAAEnC,GAAI,YAAakC,MAAO,wCAAWL,KAAM,kBAACO,EAAA,EAAD,OAC3C,CAAEpC,GAAI,SAAUkC,MAAO,6CAAWL,KAAM,kBAACQ,EAAA,EAAD,QAG7BC,EAAS,WACpB,OAAOnB,EAAWoB,KAAKC,UAAUC,SAAS,KAG/BC,EAAmB,SAC9BC,GAEA,IAAIC,EAAQC,IAKZ,OAJIF,IACiB,kBAARA,EAAkBC,EAAQD,EAAIG,OACjB,kBAARH,IAAkBC,EAAQD,IAErCC,GCtFHG,EDgCC,SAAsBC,GAC3B,IAAMC,EAAOjC,aAAaE,QAAQ8B,GAClC,OAAgB,OAATC,EAAgBC,KAAKC,MAAMF,QAAQ9C,EClC/BiD,CAAa,QAEpBC,EAAiCN,EACnC,CAAEvD,UAAU,EAAM8D,SAAS,EAAOP,QAClC,CAAEvD,UAAU,EAAO8D,SAAS,GAEzB,SAASC,IAGK,IAFnBhE,EAEkB,uDAFV8D,EACRG,EACkB,uCAClB,OAAQA,EAAOC,MACb,ICvByB,qBDwBvB,OAAO,2BAAKlE,GAAZ,IAAmB+D,SAAS,IAC9B,ICxByB,qBDyBvB,MAAO,CACL9D,UAAU,EACV8D,SAAS,EACTP,KAAMS,EAAOT,MAEjB,IC7ByB,qBD8BvB,OAAO,2BAAKxD,GAAZ,IAAmB+D,SAAS,IAC9B,ICrC4B,wBDsC1B,MAAO,CAAE9D,UAAU,EAAO8D,SAAS,GACrC,ICtC4B,wBDwC5B,ICvC4B,wBDwC1B,OAAO,2BAAK/D,GAAZ,IAAmB+D,SAAS,IAC9B,ICjCwB,oBDkCtB,MAAO,CAAE9D,UAAU,EAAO8D,SAAS,GACrC,IClCwB,oBDoCxB,ICnCwB,oBDoCtB,OAAO,2BAAK/D,GAAZ,IAAmB+D,SAAS,IAC9B,ICzCuB,cD0CrB,MAAO,CAAE9D,UAAU,EAAO8D,SAAS,GACrC,QACE,OAAO/D,GEpDN,ICeDmE,EAAkD,CACtDJ,SAAS,GAGJ,SAASK,IAGQ,IAFtBpE,EAEqB,uDAFbmE,EACRF,EACqB,uCACrB,OAAQA,EAAOC,MACb,IDZwB,eCatB,MAAO,CACLH,SAAS,EACTM,QAASJ,EAAOK,UAEpB,ID7BwB,uBC8BtB,OAAOtE,EACT,ID9BwB,uBC+BtB,MAAO,CACL+D,SAAS,EACTM,QAASJ,EAAOI,SAEpB,IDlCwB,uBCmCtB,MAAO,CACLN,SAAS,EACTQ,MAAON,EAAOM,OAElB,QACE,OAAOvE,GC1CN,ICQDwE,EAAqD,CACzDC,KAAM,GACNV,SAAS,EACTQ,MAAO,YACPG,SAAU,GAGCC,EAAkB,WAGF,IAF3B3E,EAE0B,uDAFlBwE,EACRP,EAC0B,uCAC1B,OAAQA,EAAOC,MACb,IDpB6B,oBCqB3B,OAAOlE,EACT,IDrB6B,oBCsB3B,OAAO,2BACFA,GADL,IAEE0E,SAAUT,EAAOW,QAAQF,SACzBD,KAAMR,EAAOW,QAAQH,KACrBV,SAAS,IAEb,ID3B6B,oBC4B3B,MAAO,CACLU,KAAM,GACNF,MAAON,EAAOM,MACdG,SAAU,EACVX,SAAS,GAEb,QACE,OAAO/D,IC7BP6E,EAAiD,CACrDC,UAAW,IAGAC,EAAkB,WAGN,IAAD,IAFtB/E,EAEsB,uDAFd6E,EACRZ,EACsB,uCACtB,OAAQA,EAAOC,MACb,ICdyB,gBDevB,OAAO,2BACFlE,GADL,IAEE8E,UAAU,GAAD,mBACJ9E,EAAM8E,WADF,gBAGFb,EAAOe,cAIlB,ICvB0B,iBDwBxB,OAAO,2BACFhF,GADL,IAEE8E,UAAS,UAAE9E,EAAM8E,iBAAR,aAAE,EAAiBG,KAAI,SAACD,GAAD,OAC9Bf,EAAOiB,YAAcF,EAASvB,MAAQQ,EAAOR,IAA7C,2BACSuB,GADT,IACmBG,WAAW,IAD9B,eAESH,QAGf,IC/B2B,kBDgCzB,OAAO,2BACFhF,GADL,IAEE8E,UAAS,UAAE9E,EAAM8E,iBAAR,aAAE,EAAiBM,QAC1B,SAACJ,GAAD,OAAcA,EAASvB,MAAQQ,EAAOR,SAG5C,QACE,OAAOzD,IEhCPqF,EAA8C,CAClDZ,KAAM,GACNV,SAAS,EACTQ,MAAO,YACPG,SAAU,GAGCY,EAAe,WAGH,IAFvBtF,EAEsB,uDAFdqF,EACRpB,EACsB,uCACtB,OAAQA,EAAOC,MACb,ICxByB,gBDyBvB,OAAOlE,EACT,ICzByB,gBD0BvB,OAAO,2BACFA,GADL,IAEEyE,KAAMR,EAAOW,QAAQH,KACrBC,SAAUT,EAAOW,QAAQF,SACzBX,SAAS,IAEb,IC/ByB,gBDgCvB,MAAO,CACLU,KAAM,GACNF,MAAON,EAAOM,MACdG,SAAU,EACVX,SAAS,GAEb,QACE,OAAO/D,IAIPuF,EAA4C,CAChDxB,SAAS,EACTQ,MAAO,aAGIiB,EAAc,WAGH,IAFtBxF,EAEqB,uDAFbuF,EACRtB,EACqB,uCACrB,OAAQA,EAAOC,MACb,ICnDwB,eDoDtB,OAAO,2BAAKlE,GAAZ,IAAmB+D,SAAS,EAAMU,UAAM7D,IAC1C,ICpDwB,eDqDtB,OAAIqD,EAAOQ,KACF,2BACFzE,GADL,IAEEyE,KAAMR,EAAOQ,KACbV,SAAS,IASf,ICjEwB,eDkEtB,OAAO,2BACF/D,GADL,IAEEuE,MAAON,EAAOM,MACdR,SAAS,IAEb,QACE,OAAO/D,IEjEPyF,EAAgD,CACpDhB,KAAM,GACNV,SAAS,EACTQ,MAAO,YACPG,SAAU,GAGCgB,EAAgB,WAGH,IAFxB1F,EAEuB,uDAFfyF,EACRxB,EACuB,uCACvB,OAAQA,EAAOC,MACb,ICtB0B,iBDuBxB,OAAOlE,EACT,ICvB0B,iBDwBxB,OAAO,2BACFA,GADL,IAEEyE,KAAMR,EAAOW,QAAQH,KACrBC,SAAUT,EAAOW,QAAQF,SACzBX,SAAS,IAEb,IC3BuB,cD4BrB,IAAI4B,GAAQ,EAGZ,OAFI3F,EAAMyE,KAAKvD,SACbyE,EAAQ1B,EAAOQ,KAAKmB,OAAM,SAAAlC,GAAI,OAAI1D,EAAMyE,KAAKQ,KAAI,SAAAY,GAAC,OAAIA,EAAEC,KAAOpC,EAAKoC,UAC/D,2BACF9F,GADL,IAEEyE,KAAMkB,EAAQ3F,EAAMyE,KAAOR,EAAOQ,OAEtC,ICrC0B,iBDsCxB,MAAO,CACLA,KAAM,GACNF,MAAON,EAAOM,MACdG,SAAU,EACVX,SAAS,GAEb,QACE,OAAO/D,IAIP+F,EAA8C,CAClDhC,SAAS,EACTQ,MAAO,aAGIyB,EAAe,WAGH,IAFvBhG,EAEsB,uDAFd+F,EACR9B,EACsB,uCACtB,OAAQA,EAAOC,MACb,ICvDyB,gBDwDvB,OAAO,2BAAKlE,GAAZ,IAAmB+D,SAAS,EAAMU,UAAM7D,IAC1C,ICxDyB,gBDyDvB,OAAO,2BACFZ,GADL,IAEEyE,KAAMR,EAAOQ,KACbV,SAAS,IAEb,IC7DyB,gBD8DvB,OAAO,2BACF/D,GADL,IAEEuE,MAAON,EAAOM,MACdR,SAAS,IAEb,QACE,OAAO/D,IElEPiG,EAAkD,CACtDxB,KAAM,GACNV,SAAS,EACTQ,MAAO,YACPG,SAAU,GAGCwB,GAAiB,WAGH,IAFzBlG,EAEwB,uDAFhBiG,EACRhC,EACwB,uCACxB,OAAQA,EAAOC,MACb,ICzB2B,kBD0BzB,OAAOlE,EACT,IC1B2B,kBD2BzB,OAAO,2BACFA,GADL,IAEEyE,KAAMR,EAAOW,QAAQH,KACrBC,SAAUT,EAAOW,QAAQF,SACzBX,SAAS,IAEb,IC9BwB,eD+BtB,IAAI4B,GAAQ,EAGZ,OAFI3F,EAAMyE,KAAKvD,SACbyE,EAAQ1B,EAAOQ,KAAKmB,OAAM,SAAAlC,GAAI,OAAI1D,EAAMyE,KAAKQ,KAAI,SAAAY,GAAC,OAAIA,EAAEC,KAAOpC,EAAKoC,UAC/D,2BACF9F,GADL,IAEEyE,KAAMkB,EAAQ3F,EAAMyE,KAAOR,EAAOQ,OAEtC,ICxC2B,kBDyCzB,MAAO,CACLA,KAAM,GACNF,MAAON,EAAOM,MACdG,SAAU,EACVX,SAAS,GAEb,QACE,OAAO/D,IAIPmG,GAAgD,CACpDpC,SAAS,EACTQ,MAAO,aAGI6B,GAAgB,WAGH,IAFxBpG,EAEuB,uDAFfmG,GACRlC,EACuB,uCACvB,OAAQA,EAAOC,MACb,IC1D0B,iBD2DxB,OAAO,2BAAKlE,GAAZ,IAAmB+D,SAAS,EAAMU,UAAM7D,IAC1C,IC3D0B,iBD4DxB,OAAO,2BACFZ,GADL,IAEEyE,KAAMR,EAAOQ,KACbV,SAAS,IAEb,IChE0B,iBDiExB,OAAO,2BACF/D,GADL,IAEEuE,MAAON,EAAOM,MACdR,SAAS,IAEb,QACE,OAAO/D,IElEPqG,GAAkD,CACtD5B,KAAM,GACNV,SAAS,EACTQ,MAAO,YACPG,SAAU,GAGC4B,GAAiB,WAGH,IAFzBtG,EAEwB,uDAFhBqG,GACRpC,EACwB,uCACxB,OAAQA,EAAOC,MACb,ICvB2B,kBDwBzB,OAAOlE,EACT,ICxB2B,kBDyBzB,OAAO,2BACFA,GADL,IAEEyE,KAAMR,EAAOW,QAAQH,KACrBC,SAAUT,EAAOW,QAAQF,SACzBX,SAAS,IAEb,IC5BwB,eD6BtB,IAAI4B,GAAQ,EAGZ,OAFI3F,EAAMyE,KAAKvD,SACbyE,EAAQ1B,EAAOQ,KAAKmB,OAAM,SAAAlC,GAAI,OAAI1D,EAAMyE,KAAKQ,KAAI,SAAAY,GAAC,OAAIA,EAAEC,KAAOpC,EAAKoC,UAC/D,2BACF9F,GADL,IAEEyE,KAAMkB,EAAQ3F,EAAMyE,KAAOR,EAAOQ,OAEtC,ICtC2B,kBDuCzB,MAAO,CACLA,KAAM,GACNC,SAAU,EACVH,MAAON,EAAOM,MACdR,SAAS,GAEb,QACE,OAAO/D,IAIPuG,GAAgD,CACpDxC,SAAS,EACTQ,MAAO,aAGIiC,GAAgB,WAGH,IAFxBxG,EAEuB,uDAFfuG,GACRtC,EACuB,uCACvB,OAAQA,EAAOC,MACb,ICxD0B,iBDyDxB,OAAO,2BAAKlE,GAAZ,IAAmB+D,SAAS,EAAMU,UAAM7D,IAC1C,ICzD0B,iBD0DxB,YAAoBA,IAAhBqD,EAAOQ,KACF,2BACFzE,GADL,IAEE+D,SAAS,IAGJ,2BACF/D,GADL,IAEEyE,KAAMR,EAAOQ,KACbV,SAAS,IAGf,ICrE0B,iBDsExB,OAAO,2BACF/D,GADL,IAEEuE,MAAON,EAAOM,MACdR,SAAS,IAEb,QACE,OAAO/D,IEzEPyG,GAAsD,CAC1DhC,KAAM,GACNV,SAAS,EACTQ,MAAO,YACPG,SAAU,GAGCgC,GAAmB,WAGH,IAF3B1G,EAE0B,uDAFlByG,GACRxC,EAC0B,uCAC1B,OAAQA,EAAOC,MACb,ICvB6B,oBDwB3B,OAAOlE,EACT,ICxB6B,oBDyB3B,OAAO,2BACFA,GADL,IAEEyE,KAAMR,EAAOW,QAAQH,KACrBC,SAAUT,EAAOW,QAAQF,SACzBX,SAAS,IAEb,IC5B0B,iBD6BxB,IAAI4B,GAAQ,EAGZ,OAFI3F,EAAMyE,KAAKvD,SACbyE,EAAQ1B,EAAOQ,KAAKmB,OAAM,SAAAlC,GAAI,OAAI1D,EAAMyE,KAAKQ,KAAI,SAAAY,GAAC,OAAIA,EAAEC,KAAOpC,EAAKoC,UAC/D,2BACF9F,GADL,IAEEyE,KAAMkB,EAAQ3F,EAAMyE,KAAOR,EAAOQ,OAEtC,ICtC6B,oBDuC3B,MAAO,CACLA,KAAM,GACNF,MAAON,EAAOM,MACdG,SAAU,EACVX,SAAS,GAEb,QACE,OAAO/D,IAIP2G,GAAoD,CACxD5C,SAAS,EACTQ,MAAO,aAGIqC,GAAkB,WAGH,IAF1B5G,EAEyB,uDAFjB2G,GACR1C,EACyB,uCACzB,OAAQA,EAAOC,MACb,ICxD4B,mBDyD1B,OAAO,2BAAKlE,GAAZ,IAAmB+D,SAAS,EAAMU,UAAM7D,IAC1C,ICzD4B,mBD0D1B,OAAIqD,EAAOQ,KACF,2BACFzE,GADL,IAEEyE,KAAMR,EAAOQ,KACbV,SAAS,IASf,ICtE4B,mBDuE1B,OAAO,2BACF/D,GADL,IAEEuE,MAAON,EAAOM,MACdR,SAAS,IAEb,QACE,OAAO/D,IEjDE6G,GAxBK,SAACC,GAAD,OAAsBC,YAAgB,CACtDC,OAAQC,YAAcH,GACtBI,OAAQH,YAAgB,CACpBI,KAAM3B,EACN4B,MAAOpB,EACPqB,OAAQb,GACRc,OAAQlB,GACRmB,SAAUX,KAEdY,KAAMT,YAAgB,CAClBU,MAAOnC,EACPoC,OAAQhC,EACRiC,QAASrB,GACTsB,QAAS1B,GACT2B,UAAWnB,KAEflD,KAAMuD,YAAgB,CAClB1C,QAASD,EACT0D,UAAWnD,IAEfK,SAAUD,EACV7E,KAAM8D,KC3BG8C,GAAUiB,cAEVC,GAEE,SAAwBC,GACrC,IAAMC,EAAmCC,OAAeC,sCAAwCC,IAYhG,OAXcC,YACZC,GAAkBzB,IAClBmB,EACAC,EACEM,YACEC,YAAiB3B,IACjB4B,OAVaC,G,kCCGRC,GAAe,SAACC,EAAUC,GAAuB,IAAD,EACrDvE,EAAa,UAAGsE,EAAIE,gBAAP,aAAG,EAActE,KAAKuE,QAAQ9F,WAC7CqB,IACFyD,GAAMiB,SAAS,CAAE/E,KAAM4E,EAAQvE,UAC/ByD,GAAMiB,SAAS,CACb/E,KbfuB,gBagBvBc,SAAUkE,GAAc3E,EAAO,aAqBxB2E,GAAgB,SAC3BF,EACAG,GAEA,MAAO,CACLH,QAASA,EAAQI,QAAQ,WAAY,IACrC3F,IAAKV,IACLsG,QAAS,CACPC,oBAAqB,SAACnJ,GAAD,OACnB,kBAACoJ,GAAA,EAAD,iBAAWpJ,EAAX,CAAkBqJ,UAAU,WAE9BC,aAAc,CAAEC,WAAY,OAAQC,SAAU,UAC9CR,QAASA,EACTS,iBAA8B,UAAZT,EAAsB,KAAO,IAC/ClF,OAAQ,SAACR,GAAD,OACN,kBAACoG,GAAA,EAAD,CACEC,MAAO,CAAEC,aAAc,GACvBC,MAAM,UACNC,KAAK,QACLC,aAAW,QACX1J,UAAU,OACV2J,QAAS,kBACPnC,GAAMiB,SAAS,CACb/E,Kb3DgB,iBa4DhBgB,YAAazB,EACbA,UAIJ,kBAAC2G,GAAA,EAAD,WCpBKC,GAzCqB,WAAO,IAAD,EACdC,mBAAiB,IADH,mBACjCC,EADiC,KAC1BC,EAD0B,KAOxC,OACE,oCACE,qCACA,2BACG,IADH,mOAOA,2BAAOtG,KAAK,OAAOuG,SAAU,SAACC,GAAD,OAdZ,SAACA,GAAkD,IAC9DC,EAAUD,EAAE5B,OAAZ6B,MACRH,EAASG,GAY6BC,CAAaF,IAAIC,MAAOJ,IAC5D,kBAACM,EAAA,EAAD,CACEV,QAAS,kBACPnC,GAAMiB,SAAS,CACb/E,Kd1BiB,gBc2BjBc,SAAUkE,GAAcqB,EAAO,eAJrC,SAUA,kBAACM,EAAA,EAAD,CACEV,QAAS,kBACPnC,GAAMiB,SAAS,CACb/E,KdnCkB,iBcoClBgB,YAAY,MAJlB,W,kECdO4F,GAAe,SAACtH,GAAD,OAC1B,SAACyF,GACCA,EAAS,CAAE/E,KrBpBc,uBqBqBzB6G,GAAI5D,KAAJ,qBAA+B3D,GAC5BwH,MAAK,SAAAC,GACJhC,EAAS,CAAE/E,KrBtBU,qBqBsBWV,KAAMyH,EAAIxG,OAC1ChD,aAAaC,QAAQ,OAAQiC,KAAKuH,UAAUD,EAAIxG,OAChDsG,GAAII,SAASC,QAAQC,OAAS,CAAEC,cAAe,UAAYL,EAAIxG,KAAK8G,OACpEtC,EAASuC,gBACTvC,EAAS,CACP/E,Kf7BmB,gBe8BnBc,SAAUkE,GAAc,GAAD,OAClB+B,EAAIxG,KAAKgH,kBADS,4BAErB,gBAILC,OAAM,SAAA7C,GAAG,OAAID,GAAaC,ErBjCJ,2BqBqChB8C,GAAgB,kBAC3B,SAAC1C,GACCxH,aAAamK,WAAW,QACxBb,GAAII,SAASC,QAAQC,OAAS,GAC9BpC,EAAS4C,aAAG,IACZ5C,EAAS,CAAE/E,KrBxCY,kBqB4Cd4H,GAAkB,SAACtI,GAAD,OAC7B,SAACyF,GACCA,EAAS,CAAE/E,KrBtDiB,0BqBuD5B6G,GAAI5D,KAAJ,wBAAkC3D,GAC/BwH,MACC,SAACC,GACChC,EAAS,CAAE/E,KrBzDW,wBqByDaV,KAAMyH,EAAIxG,OAC7CwE,EAAS8C,aAAK,WACd9C,EAAS,CACP/E,Kf1DiB,gBe2DjBc,SAAUkE,GAAc+B,EAAIxG,KAAKuE,QAAS,gBAG/C0C,OAAM,SAAA7C,GAAG,OAAID,GAAaC,ErB/DD,8BqBmEnBmD,GAAc,SAACxI,GAAD,OACzB,SAACyF,GACCA,EAAS,CAAE/E,KrB7Da,sBqB+DxB6G,GAAI5D,KAAJ,4BAAsC3D,GACnCwH,MACC,SAACC,GACC,IAAMjC,EAAkBiC,EAAIxG,KAAKuE,QAAQ9F,WACzC+F,EAAS,CAAE/E,KrBlEO,oBqBkEa8E,YAC/BC,EAAS8C,aAAK,WACd9C,EAAS,CACP/E,Kf7EiB,gBe8EjBc,SAAUkE,GAAcF,EAAS,gBAGtC0C,OAAM,SAAA7C,GACLD,GAAaC,ErBzEO,0BsBEfkC,GAAMkB,KAAMC,OAAO,CAC9BC,QAAS,uCACTf,QAZwB,WACxB,IAAMgB,EAAY3K,aAAaE,QAAQ,QACnC6B,EAA0B4I,EAAYzI,KAAKC,MAAMwI,GAAa,KAClE,cAAI5I,QAAJ,IAAIA,OAAJ,EAAIA,EAAM+H,OACD,CAAED,cAAe,UAAY9H,EAAK+H,OAElC,GAMAc,KAGXtB,GAAIuB,aAAavD,SAASwD,KACxB,SAAAtB,GACE,OAAOA,KAET,SAAApC,GAKE,OAJA2D,QAAQC,IAAI5D,GACsB,kBAA9BA,EAAIE,SAAStE,KAAKuE,SACpBhB,GAAMiB,SAAS0C,MAEVe,QAAQC,OAAO9D,MCbnB,IAAM+D,GAAiB,kBAC5B,SAAC3D,EAAgC4D,GAC/B,IAAMC,EAAYD,IAAWrF,KAAKC,MAE5BsF,EADcnL,IACYkL,EAAUpI,SACtCoI,EAAUrI,MAAQsI,GAAa,IAGnC9D,EAAS,CAAE/E,KfvBc,kBeyBzB6G,GAAIiC,IAAJ,YACGhC,MAAK,SAAAC,GAAG,OAAIhC,EAAS,CACpB/E,Kf1BqB,gBe0BAU,QAAS,CAC5BH,KAAMwG,EAAIxG,KACVC,SAAU9C,EAAW,UAGxB8J,OAAM,SAAA7C,GAAG,OAAID,GAAaC,Ef9BJ,uBekChBoE,GAAc,SAACnH,GAAD,OACzB,SAACmD,EAAgC4D,GAC/B,IAAMC,EAAYD,IAAWrF,KAAKC,MAAMhD,KAElCyI,EAAK,OAAGJ,QAAH,IAAGA,OAAH,EAAGA,EAAWK,MAAK,SAAAhG,GAAI,OAAIA,EAAKrB,KAAOA,KAC9CoH,EACFjE,EAAS,CAAE/E,KfrCW,eeqCSO,KAAMyI,KAErCjE,EAAS,CAAE/E,KfxCW,iBeyCtB6G,GAAIiC,IAAJ,sBAAuBlH,IACpBkF,MAAK,SAACC,GAAD,OAAShC,EAAS,CAAE/E,KfzCN,eeyC0BO,KAAMwG,EAAIxG,KAAK,QAC5DiH,OAAM,SAAA7C,GAAG,OAAID,GAAaC,EfzCP,sB,+EgBWtBuE,GAAYC,cAAW,SAACC,GAAD,OAC3BC,aAAa,CACXC,KAAM,CACJC,SAAU,IACVC,UAAW,IACXC,OAAQL,EAAMM,QAAQ,IAExBC,WAAY,CACVC,eAAgB,gBAChBH,OAAQ,WAEVI,QAAS,CACPC,UAAW,cASJC,GAA4B,SAAC,GAAc,IAAZ9G,EAAW,EAAXA,KACpC+G,EAAUd,KACRzK,EAAyCwE,EAAzCxE,MAAOwL,EAAkChH,EAAlCgH,aAAcC,EAAoBjH,EAApBiH,QAASC,EAAWlH,EAAXkH,OAEhCC,EAAe,SACnB5D,GAEA1C,GAAMiB,SAAS8C,aAAK,SAAD,OAAU5E,EAAKrB,OAEpC,OACE,kBAACyI,GAAA,EAAD,CAAMC,UAAWN,EAAQV,MACvB,kBAACiB,GAAA,EAAD,CAAgBtE,QAASmE,GACvB,kBAACI,GAAA,EAAD,CACEC,OAAO,MACPnO,UAAU,MACVoO,IAAKzH,EAAKxE,MACVA,MAAOwE,EAAKxE,MACZU,MAAOF,EAAiBgL,KAE1B,kBAACU,GAAA,EAAD,CAAaL,UAAWN,EAAQH,SAC9B,kBAACe,GAAA,EAAD,CAAYC,cAAY,EAAC5F,QAAQ,KAAK3I,UAAU,MAC7CmC,GAEH,kBAACmM,GAAA,EAAD,CAAY3F,QAAQ,QAAQa,MAAM,gBAAgBxJ,UAAU,KACzD4N,KAIP,kBAACY,GAAA,EAAD,CAAaR,UAAWN,EAAQL,YAC9B,kBAACiB,GAAA,EAAD,CAAY3F,QAAQ,QAAQa,MAAM,gBAAgBxJ,UAAU,KAA5D,gBACM6N,GAEN,kBAACxD,EAAA,EAAD,CAAQZ,KAAK,SAASD,MAAM,YAAYG,QAASmE,GAAjD,8D,sCCpBKW,GAAb,sLAEIC,KAAK/O,MAAMyM,mBAFf,+BAKY,IAAD,EACmCsC,KAAK/O,MAAvC4D,EADD,EACCA,QAASU,EADV,EACUA,KAAMF,EADhB,EACgBA,MAAO2J,EADvB,EACuBA,QACxBhN,EAASuD,EAAOA,EAAKvD,OAAS,EACpC,OACE,yBAAKsN,UAAWN,EAAQV,MACtB,yBAAKgB,UAAWN,EAAQiB,QACtB,kBAACL,GAAA,EAAD,CAAY3F,QAAQ,MAApB,mCACA,kBAACiG,GAAA,EAAD,CACEZ,UAAWN,EAAQmB,KACnBrF,MAAM,YACNsF,MAAO,mCAAYpO,KAGvB,kBAACqO,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,SAASjB,UAAWN,EAAQwB,UACjD3L,EACC,kBAAC4L,GAAA,EAAD,CACE3F,MAAM,YACNwE,UAAWN,EAAQ0B,aAEnBnL,EAAKvD,OACPuD,EAAKQ,KAAI,SAACkC,GAAD,OAAiB,kBAAC,GAAD,CAAU1D,IAAK0D,EAAKrB,GAAIqB,KAAMA,OAExD,kBAAC2H,GAAA,EAAD,CAAYtO,UAAU,MAAMgO,UAAWN,EAAQ0B,YAC5CrL,SA5Bf,GAA8BsL,aAoDf9P,gBAXS,SAACC,EAAiB8P,GAAlB,oBACtB5B,QAAS4B,EAAS5B,SACflO,EAAMwH,KAAKC,UAGW,SACzBwB,GADyB,MAEF,CACvB2D,eAAgBmD,YAAmBnD,GAAgB3D,MAGtClJ,CAGbiQ,cApFgB,SAAC1C,GAAD,OAChBC,aAAa,CACXC,KAAM,CACJyC,QAAS3C,EAAMM,QAAQ,EAAG,EAAG,EAAG,IAElCuB,OAAQ,CACNe,SAAU,YAEZR,SAAU,CACR1B,UAAW,uBAEbqB,KAAM,CACJa,SAAU,WACVC,MAAO,EACPC,IAAK9C,EAAMM,QAAQ,IAErBgC,WAAY,CACVjC,OAAQ,YAmEZqC,CAAsBf,K,qHCzBlBoB,G,+MACJrQ,MAAe,CACb+D,SAAS,G,EAGHuM,Y,IA2BAC,WAAa,WACnBpI,OAAOqI,cAAgB,EAAKC,OAE5B,IAEMH,EAASI,SAASC,cAAc,UACtCL,EAAOpM,KAAO,kBACdoM,EAAOM,IAAMC,qFACbP,EAAOQ,OAAQ,EACfR,EAAOS,OAAQ,EACf,EAAKT,OAASI,SAASM,KAAKC,YAAYX,I,EAGlCY,SAAW,WACjB,EAAK/Q,MAAMsK,UAAS,I,EAGdgG,OAAS,WACftI,OAAOgJ,WAAWxQ,OAAO,cAAe,CACtCuQ,SAAU,EAAKA,SACfE,QAAS,2CACTnH,KAAM,SACNqD,MAAO,EAAKnN,MAAMmN,QAGpBnF,OAAOgJ,WAAWE,OAAM,WACtB,EAAKC,SAAS,CAAEvN,SAAS,Q,mEAlD3BmL,KAAKqB,e,6CAILG,SAASM,KAAKO,YAAYrC,KAAKoB,U,+BAGvB,IAAD,EACsBpB,KAAK/O,MAA1B+N,EADD,EACCA,QAASsD,EADV,EACUA,QAEjB,OACE,uBAAKhD,UAAWN,EAAQV,MACrB0B,KAAKlP,MAAM+D,SAAW,gBAAC0N,GAAA,EAAD,CAAgBzH,MAAM,cAC7C,uBACElE,GAAG,cACH0I,UAAWgD,EAAUtD,EAAQwD,eAAiBxD,EAAQyD,UAExD,gBAAC7C,GAAA,EAAD,CAAY9E,MAAM,QAAQb,QAAQ,WAC/BqI,Q,GA1BaI,iBA+DT5B,iBA5GG,SAAC1C,GAAD,OAChBC,aAAa,CACXC,KAAM,CACJ0C,SAAU,WACVlC,UAAW,IAEb2D,QAAS,CACPE,OAAQ,EACR,sBAAuB,CACrBlE,OAAQ,OACR,mBAAoB,CAClB5D,aAAc,EACd+H,OAAQ,eAIdJ,eAAgB,CACd,sBAAuB,CACrB/D,OAAQ,OACR,mBAAoB,CAClB5D,aAAc,EACd+H,OAAQ,uBAuFH9B,CAAsBK,IC1I9B,SAAS0B,GAAQ5R,GAAqB,IAAD,EAItCA,EAFF6R,KAAQC,EAFgC,EAEhCA,cAAeC,EAFiB,EAEjBA,OAAQC,EAFS,EAETA,QACtB9P,EACPlC,EADFiS,MAAS/P,KAGLoI,EAAWmH,IAAMS,aACrB,SAACC,GACCL,EAAc5P,IAAMiQ,KAEtB,CAACL,EAAe5P,IAElB,OACE,kBAAC,GAAD,CACE4B,OAAO,QACPqJ,MAAO/L,EAAW,OAAS,OAAS,QACpCkJ,SAAUA,EACV+G,QAASW,EAAQI,WAAaL,EAAOK,Y,ICcrCC,G,sLAEEtD,KAAK/O,MAAMF,UACbiP,KAAK/O,MAAM4L,KAAK,c,+BAGV,IAAD,SACuBmD,KAAK/O,MAA3B4D,EADD,EACCA,QACR,OAFO,EACU9D,SAgJb,KA9IF,kBAACwS,GAAA,EAAD,CAAWjS,UAAU,OAAOiN,SAAS,KAAK3D,MAAO,CAAE4I,WAAY,SAC7D,kBAACC,GAAA,EAAD,MACA,yBAAK7I,MAAO,CAAE8I,UAAW,WACvB,kBAACC,GAAA,EAAD,CAAQ/I,MAAO,CAAE6D,OAAQ,SACvB,kBAAC,KAAD,OAEF,kBAACmB,GAAA,EAAD,CAAYtO,UAAU,KAAK2I,QAAQ,MAAnC,WAGA,kBAAC,KAAD,CACE2J,cAAe,CACbC,SAAU,GACVC,SAAU,GACVT,UAAW,IAEbU,iBAAkBC,OAAaC,MAAM,CACnCJ,SAAUG,OACPE,IAAI,KACJC,SAAS,iCACZL,SAAUE,OAAaE,IAAI,KAAKC,SAAS,wBACzCd,UAAWW,OAAcG,SAAS,2BAEpCC,SAAU,SAAChB,GACLA,EAAMS,UAAYT,EAAMU,UAC1B,EAAK7S,MAAMoT,MAAM,CACfR,SAAUT,EAAMS,SAChBC,SAAUV,EAAMU,aAKtB,kBAAC,KAAD,KACE,kBAACQ,GAAA,EAAD,CAAKC,GAAI,GACP,kBAAC3E,GAAA,EAAD,CACE9E,MAAM,gBACN0J,MAAM,SACN3E,cAAY,EACZ5F,QAAQ,SAJV,qCASF,kBAACoG,GAAA,EAAD,CAAM7L,MAAI,GACR,kBAACmH,EAAA,EAAD,CACE8I,WAAS,EACT1J,KAAK,QACLd,QAAQ,YACRjF,KAAK,SACL0P,UAAU,GALZ,sBAUF,kBAACJ,GAAA,EAAD,CAAKK,GAAI,EAAGJ,GAAI,GACd,kBAAC3E,GAAA,EAAD,CACE4E,MAAM,SACN1J,MAAM,gBACNb,QAAQ,SAHV,2CAQF,kBAACqK,GAAA,EAAD,CAAKM,GAAI,GACP,kBAAC,KAAD,CACEtT,UAAWuT,KACX/J,MAAM,YACN2J,WAAS,EACTrE,MAAM,yBACN3B,OAAO,SACPtL,KAAK,WACLyD,GAAG,WACHkO,YAAY,OACZ9P,KAAK,WACLiF,QAAQ,cAGZ,kBAACqK,GAAA,EAAD,CAAKM,GAAI,GACP,kBAAC,KAAD,CACEtT,UAAWuT,KACX/J,MAAM,YACN2J,WAAS,EACTrE,MAAM,WACN3B,OAAO,SACPtL,KAAK,WACL6B,KAAK,WACLiF,QAAQ,cAGZ,kBAACqK,GAAA,EAAD,CAAKM,GAAI,GACP,kBAAC,KAAD,CACEtT,UAAWuR,GACX/H,MAAM,YACN2J,WAAS,EACTrE,MAAM,YACN3B,OAAO,SACPtL,KAAK,YACL6B,KAAK,YACLiF,QAAQ,cAGXpF,GAAW,kBAAC0N,GAAA,EAAD,CAAgBzH,MAAM,cAClC,kBAACwJ,GAAA,EAAD,CAAKM,GAAI,GACP,kBAACjJ,EAAA,EAAD,CACEb,MAAM,YACN4J,SAAU7P,EACV4P,WAAS,EACT1J,KAAK,QACL/F,KAAK,SACLiF,QAAQ,aANV,YAWF,kBAACoG,GAAA,EAAD,CAAMC,WAAS,EAAC1F,MAAO,CAAE8I,UAAW,YAClC,kBAACrD,GAAA,EAAD,CAAM7L,MAAI,EAACuQ,IAAE,GACX,kBAACC,GAAA,EAAD,CACElK,MAAM,YACNxJ,UAAW2T,KACX1T,GAAG,gBACH0I,QAAQ,SAJV,qBASF,kBAACoG,GAAA,EAAD,CAAM7L,MAAI,GACR,kBAACoL,GAAA,EAAD,CAAY9E,MAAM,gBAAgBb,QAAQ,SAA1C,yBAEE,kBAAC+K,GAAA,EAAD,CACElK,MAAM,YACNxJ,UAAW2T,KACX1T,GAAG,YACH0I,QAAQ,SAJV,sB,GAxIIyI,IAAM/B,WAiLf9P,gBAhBS,SAACC,GAAqC,IAAD,EAC7BA,EAAME,KACpC,MAAO,CACLD,SAHyD,EACnDA,SAGN8D,QAJyD,EACzCA,YAOO,SACzBkF,GADyB,MAEF,CACvBsK,MAAOxD,YAAmBjF,GAAc7B,GACxCmL,OAAQrE,YAAmBpE,GAAe1C,GAC1C8C,KAAMgE,YAAmBhE,KAAM9C,MAGlBlJ,CAA6CyS,ICpLtD6B,G,sLAEEnF,KAAK/O,MAAMF,UACbiP,KAAK/O,MAAM4L,KAAK,O,+BAGV,IAAD,SACuBmD,KAAK/O,MAA3B4D,EADD,EACCA,QACR,OAFO,EACU9D,SAkFb,KAhFF,kBAACwS,GAAA,EAAD,CAAWjS,UAAU,OAAOiN,SAAS,KAAK3D,MAAO,CAAE4I,WAAY,SAC7D,kBAACC,GAAA,EAAD,MACA,yBAAK7I,MAAO,CAAE8I,UAAW,WACvB,kBAACC,GAAA,EAAD,CAAQ/I,MAAO,CAAE6D,OAAQ,SACvB,kBAAC,KAAD,OAEF,kBAACmB,GAAA,EAAD,CAAYtO,UAAU,KAAK2I,QAAQ,MAAnC,iBAGA,kBAAC,KAAD,CACE2J,cAAe,CACbwB,WAAY,GACZ/B,UAAW,IAEbU,iBAAkBC,OAAaC,MAAM,CACnCmB,WAAYpB,OACTE,IAAI,KACJC,SAAS,iCACZd,UAAWW,OAAcG,SAAS,2BAEpCC,SAAU,SAAChB,GACLA,EAAMgC,YACR,EAAKnU,MAAM6L,YAAYsG,KAI3B,kBAAC,KAAD,KACE,kBAACkB,GAAA,EAAD,CAAKM,GAAI,GACP,kBAAChF,GAAA,EAAD,CACE9E,MAAM,gBACN0J,MAAM,SACN3E,cAAY,EACZ5F,QAAQ,SAJV,mCASF,kBAACqK,GAAA,EAAD,CAAKM,GAAI,GACP,kBAAC,KAAD,CACEtT,UAAWuT,KACX/J,MAAM,YACN2J,WAAS,EACTrE,MAAM,yBACN3B,OAAO,SACPtL,KAAK,aACLyD,GAAG,aACHkO,YAAY,OACZ9P,KAAK,aACLiF,QAAQ,cAGZ,kBAACqK,GAAA,EAAD,CAAKM,GAAI,GACP,kBAAC,KAAD,CACEtT,UAAWuR,GACX/H,MAAM,YACN2J,WAAS,EACTrE,MAAM,YACN3B,OAAO,SACPtL,KAAK,YACL6B,KAAK,YACLiF,QAAQ,cAGXpF,GAAW,kBAAC0N,GAAA,EAAD,CAAgBzH,MAAM,cAClC,kBAACwJ,GAAA,EAAD,CAAKM,GAAI,GACP,kBAACjJ,EAAA,EAAD,CACEb,MAAM,YACN4J,SAAU7P,EACV4P,WAAS,EACT1J,KAAK,QACL/F,KAAK,SACLiF,QAAQ,aANV,oB,GA1EOyI,IAAM/B,WAiHd9P,gBAhBS,SAACC,EAAiB8P,GAAoC,IAAD,EAC7C9P,EAAME,KACpC,MAAO,CACLD,SAHyE,EACnEA,SAGN8D,QAJyE,EACzDA,YAOO,SACzBkF,EACA6G,GAFyB,MAGF,CACvB9D,YAAa+D,YAAmB/D,GAAa/C,GAC7C8C,KAAMgE,YAAmBhE,KAAM9C,MAGlBlJ,CAA6CsU,I,oBC7GtDE,G,sLAEErF,KAAK/O,MAAMF,UACbiP,KAAK/O,MAAM4L,KAAK,O,+BAGV,IAAD,SACuBmD,KAAK/O,MAA3B4D,EADD,EACCA,QACR,OAFO,EACU9D,SAsMb,KApMF,kBAACwS,GAAA,EAAD,CAAWjS,UAAU,OAAOiN,SAAS,KAAK3D,MAAO,CAAE4I,WAAY,SAC7D,kBAACC,GAAA,EAAD,MACA,yBAAK7I,MAAO,CAAE8I,UAAW,WACvB,kBAACC,GAAA,EAAD,CAAQ/I,MAAO,CAAE6D,OAAQ,SACvB,kBAAC,KAAD,OAEF,kBAACmB,GAAA,EAAD,CAAYtO,UAAU,KAAK2I,QAAQ,MAAnC,WAGA,kBAAC,KAAD,CACE2J,cAAe,CACb0B,MAAO,GACPC,UAAW,GACXC,SAAU,GACV3B,SAAU,GACVC,SAAU,GACV2B,iBAAkB,GAClBpC,WAAW,EACXqC,QAAQ,GAEV3B,iBAAkBC,OAAaC,MAAM,CACnCqB,MAAOtB,OACJsB,MAAM,yBACNpB,IAAI,KACJC,SAAS,qBACZoB,UAAWvB,OACRE,IAAI,KACJC,SAAS,0BACZqB,SAAUxB,OAAaE,IAAI,KAAKC,SAAS,yBACzCN,SAAUG,OAAaE,IAAI,KAAKC,SAAS,yBACzCL,SAAUE,OAAaE,IAAI,KAAKC,SAAS,wBACzCsB,iBAAkBzB,OAAa2B,MAC7B,CAAC3B,KAAQ,YAAa,IACtB,qCAEF0B,OAAQ1B,OAAc2B,MAAM,EAAC,GAAO,8BACpCtC,UAAWW,OAAc2B,MACvB,EAAC,GACD,gCAGJvB,SAAU,SAAC5I,GAEPA,EAAE+J,WACF/J,EAAEgK,UACFhK,EAAEqI,UACFrI,EAAE8J,OACF9J,EAAEsI,UAEF,EAAK7S,MAAM2L,gBAAgB,CACzB2I,UAAW/J,EAAE+J,UACbC,SAAUhK,EAAEgK,SACZ3B,SAAUrI,EAAEqI,SACZC,SAAUtI,EAAEsI,SACZwB,MAAO9J,EAAE8J,WAKd,gBAAG5J,EAAH,EAAGA,aAAckK,EAAjB,EAAiBA,OAAQ3C,EAAzB,EAAyBA,QAASD,EAAlC,EAAkCA,OAAlC,OACC,kBAAC,KAAD,KACE,kBAACsB,GAAA,EAAD,CAAKC,GAAI,GACP,kBAAC3E,GAAA,EAAD,CACE9E,MAAM,gBACN0J,MAAM,SACN3E,cAAY,EACZ5F,QAAQ,SAJV,wCAQA,kBAAC,KAAD,CACE3I,UAAWuT,KACX/J,MAAM,YACN2J,WAAS,EACTrE,MAAM,qBACN3B,OAAO,SACPtL,KAAK,YACL8G,QAAQ,aAEV,kBAAC,KAAD,CACE3I,UAAWuT,KACX/J,MAAM,YACN2J,WAAS,EACTrE,MAAM,sEACN3B,OAAO,SACPtL,KAAK,WACL8G,QAAQ,aAEV,kBAAC,KAAD,CACE3I,UAAWuT,KACX/J,MAAM,YACN2J,WAAS,EACTrE,MAAM,0DACN3B,OAAO,SACPtL,KAAK,WACL8G,QAAQ,aAEV,kBAAC,KAAD,CACE3I,UAAWuT,KACX/J,MAAM,YACN2J,WAAS,EACTrE,MAAM,0DACN3B,OAAO,SACPtL,KAAK,QACL0S,IAAI,MACJ7Q,KAAK,QACLiF,QAAQ,aAEV,kBAAC,KAAD,CACE3I,UAAWuT,KACX/J,MAAM,YACN2J,WAAS,EACTrE,MAAM,iCACN3B,OAAO,SACPtL,KAAK,WACL6B,KAAK,WACLiF,QAAQ,aAEV,kBAAC,KAAD,CACE3I,UAAWuT,KACX/J,MAAM,YACN2J,WAAS,EACTrE,MAAM,gEACN3B,OAAO,SACPtL,KAAK,mBACL6B,KAAK,WACLiF,QAAQ,aAEV,kBAACqK,GAAA,EAAD,CAAKwB,WAAW,SAASC,QAAQ,OAAOC,IAAK,GAC3C,kBAACC,GAAA,EAAD,CACEC,QAASN,EAAOF,OAChBvS,KAAK,SACLoI,SAAUG,IAEZ,kBAACkE,GAAA,EAAD,CAAY9E,MAAM,gBAAgBb,QAAQ,SAA1C,kBACkB,IAChB,kBAAC+K,GAAA,EAAD,CACElK,MAAM,YACNxJ,UAAW2T,KACX1T,GAAG,IACH4U,UAAU,SACVlM,QAAQ,SALV,uBAOuB,OAI1BmM,QAAQnD,EAAQyC,QAAU1C,EAAO0C,SAChC,kBAACW,GAAA,EAAD,CAAgBhR,OAAK,GAAE2N,EAAO0C,QAEhC,kBAACpB,GAAA,EAAD,CAAKM,GAAI,GACP,kBAAC,KAAD,CACEtT,UAAWuR,GACX/H,MAAM,YACN2J,WAAS,EACTrE,MAAM,YACN3B,OAAO,SACPtL,KAAK,YACL6B,KAAK,YACLiF,QAAQ,cAGXpF,GAAW,kBAAC0N,GAAA,EAAD,CAAgBzH,MAAM,cAClC,kBAACwJ,GAAA,EAAD,CAAKM,GAAI,GACP,kBAACjJ,EAAA,EAAD,CACEb,MAAM,YACN4J,SAAU7P,EACV4P,WAAS,EACT1J,KAAK,QACL/F,KAAK,SACLiF,QAAQ,aANV,gBAWF,kBAAC2F,GAAA,EAAD,CACE4E,MAAM,SACN1J,MAAM,gBACNb,QAAQ,SAHV,mBAME,kBAAC+K,GAAA,EAAD,CACElK,MAAM,YACNxJ,UAAW2T,KACX1T,GAAG,SACH0I,QAAQ,SAJV,uB,GA9LOyI,IAAM/B,WAqOlB9P,gBAfS,SAACC,GAAwC,IAAD,EAChCA,EAAME,KACpC,MAAO,CACLD,SAH4D,EACtDA,SAGN8D,QAJ4D,EAC5CA,YAOO,SACzBkF,GADyB,MAEF,CACvB6C,gBAAiBiE,YAAmBjE,GAAiB7C,GACrD8C,KAAMgE,YAAmBhE,KAAM9C,MAGlBlJ,CAA6CwU,IC/P/CiB,GAAiB,SAACjK,GAAD,OAC5B,SAACtC,GACCA,EAAS,CAAE/E,K9Bba,yB8BcxB,IAAMuR,EAAqBC,GAAWnK,GAChCzF,EAAa2P,EAASE,OAC5B5K,GAAIiC,IAAJ,uBAAwBlH,IACrBkF,MAAK,SAAAC,GACJhC,EAAS,CACP/E,K9BlBkB,uB8BmBlBG,QAAQ,2BAAM4G,EAAIxG,MAAX,IAAiBmR,KAAMH,SAGjC/J,OAAM,SAAA7C,GAAG,OAAID,GAAaC,E9BrBL,6B8ByBtB6M,GAAa,SAACnK,GAClB,IACMsK,EADYtK,EAAMvK,MAAM,KAAK,GACVoI,QAAQ,KAAM,KAAKA,QAAQ,KAAM,KACpD0M,EAAcC,mBAClBC,KAAKH,GACF7U,MAAM,IACNiE,KAAI,SAAUgR,GACb,MAAO,KAAO,KAAOA,EAAEC,WAAW,GAAGhT,SAAS,KAAKiT,OAAO,MAE3DC,KAAK,KAEJC,EAAU1S,KAAKC,MAAMkS,GAO3B,MANiB,CACfH,OAAQU,EAAQ5R,KAAKjB,KAAKsC,GAC1BwQ,OAAsB,IAAdD,EAAQE,IAChBC,OAAsB,IAAdH,EAAQI,IAChBC,OAAsB,IAAdL,EAAQM,M,mJCbdC,GAAavJ,cAAW,SAACC,GAAD,MAAY,CACxCE,KAAM,CACJqJ,WAAY,EACZC,WAAYxJ,EAAMM,QAAQ,UAI9B,SAASmJ,GAAuB5W,GAC9B,IAAM+N,EAAU0I,KACVtJ,EAAQ0J,eACNC,EAA2C9W,EAA3C8W,MAAOC,EAAoC/W,EAApC+W,KAAMC,EAA8BhX,EAA9BgX,YAAaC,EAAiBjX,EAAjBiX,aAiBlC,OACE,yBAAK5I,UAAWN,EAAQV,MACtB,kBAAC3D,GAAA,EAAD,CACEM,QAnB6B,SAACmI,GAClC8E,EAAa9E,EAAO,IAmBhBsB,SAAmB,IAATsD,EACVhN,aAAW,cAEU,QAApBoD,EAAM9D,UAAsB,kBAAC6N,GAAA,EAAD,MAAe,kBAACC,GAAA,EAAD,OAE9C,kBAACzN,GAAA,EAAD,CACEM,QAtBwB,SAACmI,GAC7B8E,EAAa9E,EAAO4E,EAAO,IAsBvBtD,SAAmB,IAATsD,EACVhN,aAAW,iBAEU,QAApBoD,EAAM9D,UACL,kBAAC+N,GAAA,EAAD,MAEA,kBAACC,GAAA,EAAD,OAGJ,kBAAC3N,GAAA,EAAD,CACEM,QA7BwB,SAACmI,GAC7B8E,EAAa9E,EAAO4E,EAAO,IA6BvBtD,SAAUsD,GAAQlU,KAAKyU,KAAKR,EAAQE,GAAe,EACnDjN,aAAW,aAEU,QAApBoD,EAAM9D,UACL,kBAACgO,GAAA,EAAD,MAEA,kBAACD,GAAA,EAAD,OAGJ,kBAAC1N,GAAA,EAAD,CACEM,QApC4B,SAACmI,GACjC8E,EAAa9E,EAAOtP,KAAKoQ,IAAI,EAAGpQ,KAAKyU,KAAKR,EAAQE,GAAe,KAoC7DvD,SAAUsD,GAAQlU,KAAKyU,KAAKR,EAAQE,GAAe,EACnDjN,aAAW,aAEU,QAApBoD,EAAM9D,UAAsB,kBAAC8N,GAAA,EAAD,MAAgB,kBAACD,GAAA,EAAD,QAarD,IAAMK,GAAarK,cAAW,SAACC,GAAD,MAAY,CACxCqK,MAAO,CACLC,SAAU,KAEZC,QAAS,CACP,QAAQ,aACNC,SAAU,OACVhK,eAAgB,YACfR,EAAMyK,YAAYC,KAAK,MAAQ,CAC9BlK,eAAgB,sBAMT,SAASmK,GAAT,GAA+B,IAARhN,EAAO,EAAPA,IAC9BiD,EAAUwJ,KAD2B,EAEnB9F,IAAMtH,SAAS,GAFI,mBAEpC4M,EAFoC,KAE9BgB,EAF8B,OAGLtG,IAAMtH,SAAS,GAHV,mBAGpC6M,EAHoC,KAGvBgB,EAHuB,KAKrCC,EACJjB,EAAcnU,KAAKqV,IAAIlB,EAAalM,EAAI/J,OAASgW,EAAOC,GAmCpDmB,EACJrN,EAAI/J,OAAS,IACT,SACA+J,EAAI/J,QAAU,IACd,OACA+J,EAAI/J,QAAU,GACd,UACA+J,EAAI/J,OAAS,EACb,MACA,QAIAqX,EAAc,SAACzW,EAAGE,GACtB,IAAIwW,EAAMC,EAGV,OAFI3W,IAAG0W,EAAO1W,GACVE,IAAGyW,EAAOzW,GACPwW,GAAcC,GAEvB,OACE,kBAAClK,GAAA,EAAD,CAAMC,UAAWkK,aAAKxK,EAAQV,OAC5B,kBAACmL,GAAA,EAAD,CAAYhW,MAAM,yEAClB,kBAACiW,GAAA,EAAD,MACA,kBAACpF,GAAA,EAAD,KACE,kBAACqF,GAAA,EAAD,CAAOrK,UAAWN,EAAQyJ,MAAOzN,aAAW,2BAC1C,kBAAC4O,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,oDACA,kBAACA,GAAA,EAAD,iCACA,kBAACA,GAAA,EAAD,uCACA,kBAACA,GAAA,EAAD,6BAGJ,kBAACC,GAAA,EAAD,MACI9B,EAAc,EACZlM,EAAIkL,MAAMe,EAAOC,EAAaD,EAAOC,EAAcA,GACnDlM,GACFhG,KAAI,SAACiU,GAAD,OACJ,kBAACH,GAAA,EAAD,CAAUtV,IAAKV,KACI,IAAhBmW,EAAIC,KAAKrT,GACR,kBAACkT,GAAA,EAAD,KACE,kBAAC9E,GAAA,EAAD,CACEzT,GAAE,kBAAayY,EAAIC,KAAKrT,IACxBkE,MAAM,YACNxJ,UAAW2T,MAEV+E,EAAIC,KAAK9W,OAId,kBAAC2W,GAAA,EAAD,KACE,kBAAC9E,GAAA,EAAD,CAAMzT,GAAG,SAASuJ,MAAM,YAAYxJ,UAAW2T,MAC5C+E,EAAIC,KAAK9W,OAIhB,kBAAC2W,GAAA,EAAD,KAAYT,GAAY,EAAOW,EAAIT,OACnC,kBAACO,GAAA,EAAD,KAAYT,EAAYW,EAAIV,OAC5B,kBAACQ,GAAA,EAAD,KACE,kBAAC5J,GAAA,EAAD,CAAMpF,MAAM,YAAYsF,MAAO4J,EAAIE,SAAUnP,KAAK,eAIvDmO,EAAY,GACX,kBAACW,GAAA,EAAD,CAAUjP,MAAO,CAAE6E,OAAQ,GAAKyJ,IAC9B,kBAACY,GAAA,EAAD,CAAWK,QAAS,MAI1B,kBAACC,GAAA,EAAD,KACE,kBAACP,GAAA,EAAD,KACE,kBAACQ,GAAA,EAAD,CACE/K,UAAWN,EAAQ2J,QACnB2B,mBAlGK,CACjBC,MAAO,CAAC,CAAEnK,MAAO,qBAAO3E,OAAQ,IAChC+O,IAAK,CACH,CAAEpK,MAAO,SAAK3E,MAAO,GACrB,CAAE2E,MAAO,qBAAO3E,OAAQ,IAE1BgP,QAAS,CACP,CAAErK,MAAO,SAAK3E,MAAO,GACrB,CAAE2E,MAAO,eAAM3E,MAAO,IACtB,CAAE2E,MAAO,qBAAO3E,OAAQ,IAE1BiP,KAAM,CACJ,CAAEtK,MAAO,SAAK3E,MAAO,GACrB,CAAE2E,MAAO,eAAM3E,MAAO,IACtB,CAAE2E,MAAO,eAAM3E,MAAO,IACtB,CAAE2E,MAAO,qBAAO3E,OAAQ,IAE1BkP,OAAQ,CACN,CAAEvK,MAAO,SAAK3E,MAAO,GACrB,CAAE2E,MAAO,eAAM3E,MAAO,IACtB,CAAE2E,MAAO,eAAM3E,MAAO,IACtB,CAAE2E,MAAO,eAAM3E,MAAO,IACtB,CAAE2E,MAAO,qBAAO3E,OAAQ,KA4EiB2N,GAC/Be,QAAS,EACTpC,MAAOhM,EAAI/J,OACXiW,YAAaA,EACbD,KAAMA,EACN4C,YAAa,CACXC,WAAY,CAAE,aAAc,gBAC5BC,QAAQ,GAEV5C,aAnHW,SAAC9E,EAAO2H,GAC/B/B,EAAQ+B,IAmHIC,oBAhHkB,SAAC5H,GAC/B6F,EAAegC,SAAS7H,EAAMxJ,OAAO6B,MAAO,KAC5CuN,EAAQ,IA+GIkC,iBAAkBrD,U,ICnO5BsD,G,sLACiB,IAAD,EACZ9O,EAAK,UAAG2D,KAAK/O,MAAMD,KAAKsD,YAAnB,aAAG,EAAsB+H,MAChCA,GAAO2D,KAAK/O,MAAMma,WAAW/O,K,+BAGzB,IAAD,EACsB2D,KAAK/O,MAAMkE,QAAhCA,EADD,EACCA,QACR,OAFO,EACUN,QAER,kBAAC4L,GAAA,EAAD,CAAkB3F,MAAM,cAE5B3F,EAID,kBAACoO,GAAA,EAAD,CAAWhF,UAAU,EAAO3D,MAAO,CAAE4I,WAAY,SAC/C,kBAACnD,GAAA,EAAD,CAAMC,WAAS,EAAC5B,QAAS,GACvB,kBAAC2B,GAAA,EAAD,CAAM7L,MAAI,EAAC6W,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIxG,GAAI,IACrC,kBAACgE,GAAD,CAAahN,IAAK5G,EAAQqW,KAAKC,cANhC,kD,GAZa/I,IAAM/B,WAuEjB9P,gBAdS,SACtBC,EACA8P,GAEA,MAAO,CAAEzL,QAASrE,EAAMwD,KAAKa,QAASnE,KAAMF,EAAME,SAGzB,SACzB+I,EACA6G,GAFyB,MAGF,CACvBwK,WAAYvK,YAAmByF,GAAgBvM,MAGlClJ,CAA6Csa,I,8GCvE/CO,GAAmB,kBAC9B,SAAC3R,EAAgC4D,GAC/B,IAAMgO,EAAchO,IAAWrF,KAAKI,QAE9BmF,EADcnL,IACYiZ,EAAYnW,SACxCmW,EAAYpW,MAAQsI,GAAa,IAGrC9D,EAAS,CAAE/E,KtB3BgB,oBsB6B3B6G,GAAIiC,IAAJ,cACGhC,MAAK,SAAAC,GAAG,OAAIhC,EAAS,CACpB/E,KtB9BuB,kBsB8BAU,QAAS,CAC9BH,KAAMwG,EAAIxG,KACVC,SAAU9C,EAAW,UAGxB8J,OAAM,SAAA7C,GAAG,OAAID,GAAaC,EtBlCF,yBsBsClBiS,GAAgB,SAACha,GAAD,OAC3B,SAACmI,EAA0D4D,GACzD,IAAMK,EAAQL,IAAWrF,KAAKI,QAAQnD,KAAK0I,MAAK,SAAA7F,GAAM,OAAIA,EAAOxB,KAAOhF,EAAKwG,UAEzE4F,EACFjE,EAAS,CAAE/E,KtBtCa,iBsBsCSO,KAAMyI,IAEhCpM,EAAKsG,MACZ6B,EAAS8R,GAAaja,IAEfA,EAAKuG,OACZ4B,EAAS+R,GAAcla,IAEfoM,IACRjE,EAAS,CAAE/E,KtBhDa,mBsBiDxB6G,GAAIiC,IAAJ,wBAAyBlM,EAAKwG,SAC3B0D,MAAK,SAAAC,GACJhC,EAAS,CAAE/E,KtBlDS,iBsBkDaO,KAAMwG,EAAIxG,KAAK,KAChDwE,EAAS,CAAE/E,KtBtDO,esBsDaO,KAAMwG,EAAIxG,UAE1CiH,OAAM,SAAA7C,GAAG,OAAID,GAAaC,EtBpDL,wBuBajBoS,GAAmB,kBAC9B,SAAChS,EAAgC4D,GAC/B,IAAMqO,EAAcrO,IAAWrF,KAAKG,QAE9BoF,EADcnL,IACYsZ,EAAYxW,SACxCwW,EAAYzW,MAAQsI,GAAa,IAGrC9D,EAAS,CAAE/E,KrB3BgB,oBqB6B3B6G,GAAIiC,IAAJ,qBACGhC,MAAK,SAAAC,GAAG,OAAIhC,EAAS,CACpB/E,KrB9BuB,kBqB8BAU,QAAS,CAC9BH,KAAMwG,EAAIxG,KACVC,SAAU9C,EAAW,UAGxB8J,OAAM,SAAA7C,GAAG,OAAID,GAAaC,ErBlCF,yBqBsClBmS,GAAgB,SAACla,GAAD,OAC3B,SAACmI,EAA0D4D,GACzD,IAAMK,EAAQL,IAAWrF,KAAKG,QAAQlD,KAAK0I,MAAK,SAAA9F,GAAM,OAAIA,EAAOvB,KAAOhF,EAAKuG,UAC1D8T,GAAYra,EAAvBuG,OAF8E,aAEvDvG,EAFuD,aAGtF,GAAIoM,EAAO,CAET,IAAMkO,EAAWC,GAASnO,EAAMoO,eAChCrS,EAAS,CAAE/E,KrBxCa,iBqBwCSO,KAAMyI,IACvCjE,EAAS,CAAE/E,KvB9CW,euB8CSO,KAAM2W,EAASxT,UAC9CqB,EAAS,CAAE/E,KnB7Ca,iBmB6CSO,KAAM2W,EAASvT,YAC5C/G,EAAKwG,QAAQ2B,EAAS6R,GAAcK,IACpCra,EAAKyG,UAAU0B,EAAS6R,GAAcK,SAEnCra,EAAKsG,MACZ6B,EAAS8R,GAAaja,IAEdoM,IAERjE,EAAS,CAAE/E,KrBpDa,mBqBqDxB6G,GAAIiC,IAAJ,+BAAgClM,EAAKuG,SAClC2D,MAAK,SAAAC,GACJ,IAAMmQ,EAAWC,GAASpQ,EAAIxG,KAAK,GAAG6W,eACtCrS,EAAS,CAAE/E,KrBvDS,iBqBuDaO,KAAMwG,EAAIxG,KAAK,KAChDwE,EAAS,CAAE/E,KrB3DO,eqB2DaO,KAAMwG,EAAIxG,OACzCwE,EAAS,CAAE/E,KvB9DO,euB8DaO,KAAM2W,EAASxT,UAC9CqB,EAAS,CAAE/E,KnB7DS,iBmB6DaO,KAAM2W,EAASvT,YAC5C/G,EAAKwG,QAAQ2B,EAAS6R,GAAcK,IACpCra,EAAKyG,UAAU0B,EAAS6R,GAAcK,OAE3CzP,OAAM,SAAA7C,GAAG,OAAID,GAAaC,ErB7DL,wBqBkExBwS,GAAW,SAACC,GAChB,IAAM1T,EAAqB,GACrBC,EAAuB,GAE7B,OADAyT,EAAcrW,KAAI,SAAAsW,GAAM,MAA+B,aAA3BA,EAAO3F,KAAK4F,MAAMnZ,KAAsBwF,EAAUkE,KAAKwP,GAAU3T,EAAQmE,KAAKwP,MACnG,CAAE3T,UAASC,cC7DP4T,GAAqB,kBAChC,SAACxS,EAAgC4D,GAC/B,IAAM6O,EAAgB7O,IAAWrF,KAAKK,UAEhCkF,EADcnL,IACY8Z,EAAchX,SAC1CgX,EAAcjX,MAAQsI,GAAa,IAGvC9D,EAAS,CAAE/E,KpBzBkB,sBoB2B7B6G,GAAIiC,IAAJ,yBACGhC,MAAK,SAAAC,GAAG,OAAIhC,EAAS,CACpB/E,KpB5ByB,oBoB4BAU,QAAS,CAChCH,KAAMwG,EAAIxG,KACVC,SAAU9C,EAAW,UAGxB8J,OAAM,SAAA7C,GAAG,OAAID,GAAaC,EpBhCA,2BoBoCpB8S,GAAkB,SAAC7a,GAAD,OAC7B,SAACmI,EAA0D4D,GACzD,IAAMK,EAAQL,IAAWrF,KAAKK,UAAUpD,KAAK0I,MAAK,SAAA5F,GAAQ,OAAIA,EAASzB,KAAOhF,EAAKyG,YAE/E2F,EACFjE,EAAS,CAAE/E,KpBpCe,mBoBoCSO,KAAMyI,IAElCpM,EAAKsG,MACZ6B,EAAS8R,GAAaja,IAEfA,EAAKuG,OACZ4B,EAAS+R,GAAcla,IAEfoM,IACRjE,EAAS,CAAE/E,KpB9Ce,qBoB+C1B6G,GAAIiC,IAAJ,wBAAyBlM,EAAKyG,WAC3ByD,MAAK,SAAAC,GACJhC,EAAS,CAAE/E,KpBhDW,mBoBgDaO,KAAMwG,EAAIxG,KAAK,KAClDwE,EAAS,CAAE/E,KpBpDS,iBoBoDaO,KAAMwG,EAAIxG,UAE5CiH,OAAM,SAAA7C,GAAG,OAAID,GAAaC,EpBlDH,0BqBanB+S,GAAkB,kBAC7B,SAAC3S,EAAgC4D,GAC/B,IAAMgP,EAAahP,IAAWrF,KAAKE,OAE7BqF,EADcnL,IACYia,EAAWnX,SACvCmX,EAAWpX,MAAQsI,GAAa,IAGpC9D,EAAS,CAAE/E,K3B5Be,mB2B8B1B6G,GAAIiC,IAAJ,oBACGhC,MAAK,SAAAC,GAAG,OAAIhC,EAAS,CACpB/E,K3B/BsB,iB2B+BAU,QAAS,CAC7BH,KAAMwG,EAAIxG,KACVC,SAAU9C,EAAW,UAGxB8J,OAAM,SAAA7C,GAAG,OAAID,GAAaC,E3BnCH,wB2BuCjBkS,GAAe,SAACja,GAAD,OAC1B,SAACmI,EAA0D4D,GAC3B/L,EAAtBsG,MAD+E,IACrE+T,EADoE,aACxDra,EADwD,WAEhFoM,EAAQL,IAAWrF,KAAKE,OAAOjD,KAAK0I,MAAK,SAAA/F,GAAK,OAAIA,EAAMtB,KAAOhF,EAAKsG,SACtE8F,GAEFjE,EAAS,CAAE/E,K3BxCY,gB2BwCSO,KAAMyI,IACtCjE,EAAS,CAAE/E,KvB7CW,euB6CSO,KAAMqX,GAAW5O,EAAM6O,gBACtD9S,EAAS,CAAE/E,KrB9Ca,iBqB8CSO,KAAMuX,GAAa9O,EAAM6O,gBACtDjb,EAAKuG,QAAQ4B,EAAS+R,GAAcG,IACpCra,EAAKyG,UAAU0B,EAAS0S,GAAgBR,MAG5ClS,EAAS,CAAE/E,K3BhDY,kB2BiDvB6G,GAAIiC,IAAJ,8BAA+BlM,EAAKsG,QACjC4D,MAAK,SAAAC,GACJhC,EAAS,CAAE/E,K3BlDQ,gB2BkDaO,KAAMwG,EAAIxG,KAAK,KAC/CwE,EAAS,CAAE/E,K3BtDM,c2BsDaO,KAAMwG,EAAIxG,OACxCwE,EAAS,CAAE/E,KvBxDO,euBwDaO,KAAMqX,GAAW7Q,EAAIxG,KAAK,GAAGsX,gBAC5D9S,EAAS,CAAE/E,KrBzDS,iBqByDaO,KAAMuX,GAAa/Q,EAAIxG,KAAK,GAAGsX,gBAC5Djb,EAAKuG,QAAQ4B,EAAS+R,GAAcG,IACpCra,EAAKyG,UAAU0B,EAAS0S,GAAgBR,OAE7CzP,OAAM,SAAA7C,GAAG,OAAID,GAAaC,E3BxDN,uB2B6DvBiT,GAAa,SAACC,GAClB,IAAME,EAAmB,GAEzB,OADAF,EAAa9W,KAAI,SAACoC,GAAD,uBAAYA,EAAOA,cAAnB,aAAY,EAAepC,KAAI,SAAAqC,GAAM,OAAI2U,EAAMlQ,KAAKzE,SAC9D2U,GAEHD,GAAe,SAACD,GACpB,IAAME,EAAmB,GAEzB,OADAF,EAAa9W,KAAI,SAACoC,GAAD,uBAAYA,EAAOE,gBAAnB,aAAY,EAAiBtC,KAAI,SAAAsC,GAAQ,OAAI0U,EAAMlQ,KAAKxE,SAClE0U,GC/DH7O,GAAYC,cAAW,SAACC,GAAD,OAC3BC,aAAa,CACXC,KAAM,CACJC,SAAU,IACVC,UAAW,IACXC,OAAQL,EAAMM,QAAQ,IAExBC,WAAY,CACVC,eAAgB,gBAChBH,OAAQ,WAEVI,QAAS,CACPC,UAAW,UASJkO,GAA6B,SAAC,GAAe,IAAb9U,EAAY,EAAZA,MACrC8G,EAAUd,KACRzK,EAA4CyE,EAA5CzE,MAAOwZ,EAAqC/U,EAArC+U,WAAYC,EAAyBhV,EAAzBgV,YAAaC,EAAYjV,EAAZiV,QAElC/N,EAAe,SACnB5D,GAEA1C,GAAMiB,SAAS8C,aAAK,UAAD,OAAW3E,EAAMtB,OAEtC,OACE,kBAACyI,GAAA,EAAD,CAAMC,UAAWN,EAAQV,MACvB,kBAACiB,GAAA,EAAD,CAAgBtE,QAASmE,GACvB,kBAACI,GAAA,EAAD,CACElO,UAAU,MACVoO,IAAKjM,EACLgM,OAAO,MACPtL,MAAOF,EAAiBgZ,GACxBxZ,MAAOA,IAET,kBAACkM,GAAA,EAAD,CAAaL,UAAWN,EAAQH,SAC9B,kBAACe,GAAA,EAAD,CAAYC,cAAY,EAAC5F,QAAQ,KAAK3I,UAAU,MAC7CmC,GAEH,kBAACmM,GAAA,EAAD,CAAY3F,QAAQ,QAAQa,MAAM,gBAAgBxJ,UAAU,KACzD4b,KAIP,kBAACpN,GAAA,EAAD,CAAaR,UAAWN,EAAQL,YAC9B,kBAACiB,GAAA,EAAD,CAAY3F,QAAQ,QAAQa,MAAM,gBAAgBxJ,UAAU,KAA5D,gBACM6b,GAEN,kBAACxR,EAAA,EAAD,CAAQZ,KAAK,SAASD,MAAM,YAAYG,QAASmE,GAAjD,8DCvBFgO,G,sLAEFpN,KAAK/O,MAAMyb,oB,+BAGH,IAAD,EACmC1M,KAAK/O,MAAvC4D,EADD,EACCA,QAASU,EADV,EACUA,KAAMF,EADhB,EACgBA,MAAO2J,EADvB,EACuBA,QACxBhN,EAASuD,EAAOA,EAAKvD,OAAS,EACpC,OACE,oCACE,yBAAKsN,UAAWN,EAAQiB,QACtB,kBAACL,GAAA,EAAD,CAAY3F,QAAQ,MAApB,qDACA,kBAACiG,GAAA,EAAD,CACEZ,UAAWN,EAAQmB,KACnBrF,MAAM,YACNsF,MAAO,mCAAYpO,KAGvB,kBAACqO,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,SAASjB,UAAWN,EAAQwB,UACjD3L,EACC,kBAAC4L,GAAA,EAAD,CACE3F,MAAM,YACNwE,UAAWN,EAAQ0B,aAEnBnL,EAAKvD,OACPuD,EAAKQ,KAAI,SAACmC,GAAD,OACP,kBAAC,GAAD,CAAW3D,IAAK2D,EAAMtB,GAAIsB,MAAOA,OAGnC,kBAAC0H,GAAA,EAAD,CAAYtO,UAAU,MAAMgO,UAAWN,EAAQ0B,YAC5CrL,S,GA9BSsL,aAwDR9P,gBAbQ,SAACC,EAAiB8P,GACxC,OAAO,aACL5B,QAAS4B,EAAS5B,SACflO,EAAMwH,KAAKE,WAIS,SACzBuB,GADyB,MAEF,CACvB2S,gBAAiB7L,YAAmB6L,GAAiB3S,MAGvClJ,CAGdiQ,cArFgB,SAAC1C,GAAD,OAChBC,aAAa,CACX4B,OAAQ,CACNe,SAAU,YAEZR,SAAU,CACR1B,UAAW,uBAEbqB,KAAM,CACJa,SAAU,WACVC,MAAO,EACPC,IAAK,GAEPR,WAAY,CACVjC,OAAQ,YAuEZqC,CAAsBsM,KCzFlBlP,GAAYC,cAAW,SAACC,GAAD,OAC3BC,aAAa,CACXC,KAAM,CACJC,SAAU,IACVC,UAAW,IACXC,OAAQL,EAAMM,QAAQ,IAExBC,WAAY,CACVC,eAAgB,gBAChBH,OAAQ,WAEVI,QAAS,CACPC,UAAW,UASJuO,GAA8B,SAAC,GAAgB,IAAdjV,EAAa,EAAbA,OACtC4G,EAAUd,KACRzK,EAAyC2E,EAAzC3E,MAAOwL,EAAkC7G,EAAlC6G,aAAcC,EAAoB9G,EAApB8G,QAASC,EAAW/G,EAAX+G,OAEhCC,EAAe,SACnB5D,GAEA1C,GAAMiB,SAAS8C,aAAK,WAAD,OAAYzE,EAAOxB,OAExC,OACE,kBAACyI,GAAA,EAAD,CAAMC,UAAWN,EAAQV,MACvB,kBAACiB,GAAA,EAAD,CAAgBtE,QAASmE,GACvB,kBAACI,GAAA,EAAD,CACElO,UAAU,MACVoO,IAAKjM,EACLgM,OAAO,MACPtL,MAAOF,EAAiBgL,GACxBxL,MAAOA,IAET,kBAACkM,GAAA,EAAD,CAAaL,UAAWN,EAAQH,SAC9B,kBAACe,GAAA,EAAD,CAAYC,cAAY,EAAC5F,QAAQ,KAAK3I,UAAU,MAC7CmC,GAEH,kBAACmM,GAAA,EAAD,CAAY3F,QAAQ,QAAQa,MAAM,gBAAgBxJ,UAAU,KACzD4N,KAIP,kBAACY,GAAA,EAAD,CAAaR,UAAWN,EAAQL,YAC9B,kBAACiB,GAAA,EAAD,CAAY3F,QAAQ,QAAQa,MAAM,gBAAgBxJ,UAAU,KAA5D,gBACM6N,GAEN,kBAACxD,EAAA,EAAD,CAAQZ,KAAK,SAASD,MAAM,YAAYG,QAASmE,GAAjD,8DCvBFkO,G,sLAEFtN,KAAK/O,MAAMya,qB,+BAGH,IAAD,EACmC1L,KAAK/O,MAAvC4D,EADD,EACCA,QAASU,EADV,EACUA,KAAMF,EADhB,EACgBA,MAAO2J,EADvB,EACuBA,QACxBhN,EAASuD,EAAOA,EAAKvD,OAAS,EACpC,OACE,oCACE,yBAAKsN,UAAWN,EAAQiB,QACtB,kBAACL,GAAA,EAAD,CAAY3F,QAAQ,MAApB,mCACA,kBAACiG,GAAA,EAAD,CACEZ,UAAWN,EAAQmB,KACnBrF,MAAM,YACNsF,MAAO,mCAAYpO,KAGvB,kBAACqO,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,SAASjB,UAAWN,EAAQwB,UACjD3L,EACC,kBAAC4L,GAAA,EAAD,CACE3F,MAAM,YACNwE,UAAWN,EAAQ0B,aAEnBnL,EAAKvD,OACPuD,EAAKQ,KAAI,SAACqC,GAAD,OACP,kBAAC,GAAD,CAAY7D,IAAK6D,EAAOxB,GAAIwB,OAAQA,OAGtC,kBAACwH,GAAA,EAAD,CAAYtO,UAAU,MAAMgO,UAAWN,EAAQ0B,YAC5CrL,S,GA9BUsL,aAwDT9P,gBAbQ,SAACC,EAAiB8P,GACxC,OAAO,aACL5B,QAAS4B,EAAS5B,SACflO,EAAMwH,KAAKI,YAIS,SACzBqB,GADyB,MAEF,CACvB2R,iBAAkB7K,YAAmB6K,GAAkB3R,MAGzClJ,CAGdiQ,cArFgB,SAAC1C,GAAD,OAChBC,aAAa,CACX4B,OAAQ,CACNe,SAAU,YAEZR,SAAU,CACR1B,UAAW,uBAEbqB,KAAM,CACJa,SAAU,WACVC,MAAO,EACPC,IAAK,GAEPR,WAAY,CACVjC,OAAQ,YAuEZqC,CAAsBwM,KCzFlBpP,GAAYC,cAAW,SAACC,GAAD,OAC3BC,aAAa,CACXC,KAAM,CACJC,SAAU,IACVC,UAAW,IACXC,OAAQL,EAAMM,QAAQ,IAExBC,WAAY,CACVC,eAAgB,gBAChBH,OAAQ,WAEVI,QAAS,CACPC,UAAW,UASJyO,GAA8B,SAAC,GAAgB,IAAdpV,EAAa,EAAbA,OACtC6G,EAAUd,KACRzK,EAA4C0E,EAA5C1E,MAAOwZ,EAAqC9U,EAArC8U,WAAYC,EAAyB/U,EAAzB+U,YAAaC,EAAYhV,EAAZgV,QAElC/N,EAAe,SACnB5D,GAEA1C,GAAMiB,SAAS8C,aAAK,WAAD,OAAY1E,EAAOvB,OAExC,OACE,kBAACyI,GAAA,EAAD,CAAMC,UAAWN,EAAQV,MACvB,kBAACiB,GAAA,EAAD,CAAgBtE,QAASmE,GACvB,kBAACI,GAAA,EAAD,CACElO,UAAU,MACVoO,IAAKjM,EACLgM,OAAO,MACPtL,MAAOF,EAAiBgZ,GACxBxZ,MAAOA,IAET,kBAACkM,GAAA,EAAD,CAAaL,UAAWN,EAAQH,SAC9B,kBAACe,GAAA,EAAD,CAAYC,cAAY,EAAC5F,QAAQ,KAAK3I,UAAU,MAC7CmC,GAEH,kBAACmM,GAAA,EAAD,CAAY3F,QAAQ,QAAQa,MAAM,gBAAgBxJ,UAAU,KACzD4b,KAIP,kBAACpN,GAAA,EAAD,CAAaR,UAAWN,EAAQL,YAC9B,kBAACiB,GAAA,EAAD,CAAY3F,QAAQ,QAAQa,MAAM,gBAAgBxJ,UAAU,KAA5D,gBACM6b,GAEN,kBAACxR,EAAA,EAAD,CAAQZ,KAAK,SAASD,MAAM,YAAYG,QAASmE,GAAjD,8DCvBFoO,G,sLAEFxN,KAAK/O,MAAM8a,qB,+BAGH,IAAD,EACmC/L,KAAK/O,MAAvC4D,EADD,EACCA,QAASU,EADV,EACUA,KAAMF,EADhB,EACgBA,MAAO2J,EADvB,EACuBA,QACxBhN,EAASuD,EAAOA,EAAKvD,OAAS,EACpC,OACE,oCACE,yBAAKsN,UAAWN,EAAQiB,QACtB,kBAACL,GAAA,EAAD,CAAY3F,QAAQ,MAApB,+CACA,kBAACiG,GAAA,EAAD,CACEZ,UAAWN,EAAQmB,KACnBrF,MAAM,YACNsF,MAAO,mCAAYpO,KAGvB,kBAACqO,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,SAASjB,UAAWN,EAAQwB,UACjD3L,EACC,kBAAC4L,GAAA,EAAD,CACE3F,MAAM,YACNwE,UAAWN,EAAQ0B,aAEnBnL,EAAKvD,OACPuD,EAAKQ,KAAI,SAACoC,GAAD,OACP,kBAAC,GAAD,CAAY5D,IAAK4D,EAAOvB,GAAIuB,OAAQA,OAGtC,kBAACyH,GAAA,EAAD,CAAYtO,UAAU,MAAMgO,UAAWN,EAAQ0B,YAC5CrL,S,GA9BUsL,aAwDT9P,gBAbQ,SAACC,EAAiB8P,GACxC,OAAO,aACL5B,QAAS4B,EAAS5B,SACflO,EAAMwH,KAAKG,YAIS,SACzBsB,GADyB,MAEF,CACvBgS,iBAAkBlL,YAAmBkL,GAAkBhS,MAGzClJ,CAGdiQ,cArFgB,SAAC1C,GAAD,OAChBC,aAAa,CACX4B,OAAQ,CACNe,SAAU,YAEZR,SAAU,CACR1B,UAAW,uBAEbqB,KAAM,CACJa,SAAU,WACVC,MAAO,EACPC,IAAK,GAEPR,WAAY,CACVjC,OAAQ,YAuEZqC,CAAsB0M,KC3FlBtP,GAAYC,cAAW,SAACC,GAAD,OAC3BC,aAAa,CACXC,KAAM,CACJC,SAAU,IACVC,UAAW,IACXC,OAAQL,EAAMM,QAAQ,IAExBC,WAAY,CACVC,eAAgB,gBAChBH,OAAQ,WAEVI,QAAS,CACPC,UAAW,UASJ2O,GAAgC,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACxC1O,EAAUd,KACRzK,EAAyCia,EAAzCja,MAAOwL,EAAkCyO,EAAlCzO,aAAcC,EAAoBwO,EAApBxO,QAASC,EAAWuO,EAAXvO,OACtC,OACE,kBAACE,GAAA,EAAD,CAAMC,UAAWN,EAAQV,MACvB,kBAACiB,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACElO,UAAU,MACVoO,IAAKjM,EACLgM,OAAO,MACPtL,MAAOF,EAAiBgL,GACxBxL,MAAOA,IAET,kBAACkM,GAAA,EAAD,CAAaL,UAAWN,EAAQH,SAC9B,kBAACe,GAAA,EAAD,CAAYC,cAAY,EAAC5F,QAAQ,KAAK3I,UAAU,MAC7CmC,GAEH,kBAACmM,GAAA,EAAD,CAAY3F,QAAQ,QAAQa,MAAM,gBAAgBxJ,UAAU,KACzD4N,KAIP,kBAACY,GAAA,EAAD,CAAaR,UAAWN,EAAQL,YAC9B,kBAACiB,GAAA,EAAD,CAAY3F,QAAQ,QAAQa,MAAM,gBAAgBxJ,UAAU,KAA5D,gBACM6N,GAEN,kBAACxD,EAAA,EAAD,CAAQZ,KAAK,SAASD,MAAM,aAA5B,8DClDK6S,GAAqB,kBAChC,SAAC5T,EAAgC4D,GAC/B,IAAMiQ,EAAgBjQ,IAAWrJ,KAAKsE,UAEhCiF,EADcnL,IACYkb,EAAcpY,SAC1CoY,EAAcrY,MAAQsI,GAAa,IAGvC9D,EAAS,CAAE/E,K1CpBkB,sB0CsB7B6G,GAAIiC,IAAJ,cACGhC,MAAK,SAAAC,GAAG,OAAIhC,EAAS,CACpB/E,K1CvByB,oB0CuBAU,QAAS,CAChCH,KAAMwG,EAAIxG,KACVC,SAAU9C,EAAW,UAGxB8J,OAAM,SAAA7C,GAAG,OAAID,GAAaC,E1C3BA,2B2C4C3BkU,G,sLAEF7N,KAAK/O,MAAM0c,uB,+BAGH,IAAD,EACmC3N,KAAK/O,MAAvC4D,EADD,EACCA,QAASU,EADV,EACUA,KAAMF,EADhB,EACgBA,MAAO2J,EADvB,EACuBA,QACxBhN,EAASuD,EAAOA,EAAKvD,OAAS,EACpC,OACE,oCACE,yBAAKsN,UAAWN,EAAQiB,QACtB,kBAACL,GAAA,EAAD,CAAY3F,QAAQ,MAApB,uEACA,kBAACiG,GAAA,EAAD,CACEZ,UAAWN,EAAQmB,KACnBrF,MAAM,YACNsF,MAAO,mCAAYpO,KAGvB,kBAACqO,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,SAASjB,UAAWN,EAAQwB,UACjD3L,EACC,kBAAC4L,GAAA,EAAD,CACE3F,MAAM,YACNwE,UAAWN,EAAQ0B,aAEnBnL,EAAKvD,OACPuD,EAAKQ,KAAI,SAAC2X,GAAD,OACP,kBAAC,GAAD,CAAcnZ,IAAKmZ,EAAS9W,GAAI8W,SAAUA,OAG5C,kBAAC9N,GAAA,EAAD,CAAYtO,UAAU,MAAMgO,UAAWN,EAAQ0B,YAC5CrL,S,GA9BYsL,aAwDX9P,gBAbQ,SAACC,EAAiB8P,GACxC,OAAO,aACL5B,QAAS4B,EAAS5B,SACflO,EAAMwD,KAAKsE,cAIS,SACzBmB,GADyB,MAEF,CACvB4T,mBAAoB9M,YAAmB8M,GAAoB5T,MAG7ClJ,CAGdiQ,cApFgB,SAAC1C,GAAD,OAChBC,aAAa,CACX4B,OAAQ,CACNe,SAAU,YAEZR,SAAU,CACR1B,UAAW,uBAEbqB,KAAM,CACJa,SAAU,WACVC,MAAO,EACPC,IAAK,GAEPR,WAAY,CACVjC,OAAQ,YAsEZqC,CAAsB+M,KCxFlB3P,GAAYC,cAAW,SAACC,GAAD,OAC3BC,aAAa,CACXC,KAAM,CACJC,SAAU,IACVC,UAAW,IACXC,OAAQL,EAAMM,QAAQ,IAExBC,WAAY,CACVC,eAAgB,gBAChBH,OAAQ,WAEVI,QAAS,CACPC,UAAW,UASJgP,GAAgC,SAAC,GAAkB,IAAhBzV,EAAe,EAAfA,SACxC2G,EAAUd,KACRzK,EAAyC4E,EAAzC5E,MAAOwL,EAAkC5G,EAAlC4G,aAAcC,EAAoB7G,EAApB6G,QAASC,EAAW9G,EAAX8G,OAEhCC,EAAe,SACnB5D,GAEA1C,GAAMiB,SAAS8C,aAAK,aAAD,OAAcxE,EAASzB,OAE5C,OACE,kBAACyI,GAAA,EAAD,CAAMC,UAAWN,EAAQV,MACvB,kBAACiB,GAAA,EAAD,CAAgBtE,QAASmE,GACvB,kBAACI,GAAA,EAAD,CACElO,UAAU,MACVoO,IAAKjM,EACLgM,OAAO,MACPtL,MAAOF,EAAiBgL,GACxBxL,MAAOA,IAET,kBAACkM,GAAA,EAAD,CAAaL,UAAWN,EAAQH,SAC9B,kBAACe,GAAA,EAAD,CAAYC,cAAY,EAAC5F,QAAQ,KAAK3I,UAAU,MAC7CmC,GAEH,kBAACmM,GAAA,EAAD,CAAY3F,QAAQ,QAAQa,MAAM,gBAAgBxJ,UAAU,KACzD4N,KAIP,kBAACY,GAAA,EAAD,CAAaR,UAAWN,EAAQL,YAC9B,kBAACiB,GAAA,EAAD,CAAY3F,QAAQ,QAAQa,MAAM,gBAAgBxJ,UAAU,KAA5D,gBACM6N,GAEN,kBAACxD,EAAA,EAAD,CAAQZ,KAAK,SAASD,MAAM,YAAYG,QAASmE,GAAjD,8DCvBF2O,G,sLAEF/N,KAAK/O,MAAMsb,uB,+BAGH,IAAD,EACmCvM,KAAK/O,MAAvC4D,EADD,EACCA,QAASU,EADV,EACUA,KAAMF,EADhB,EACgBA,MAAO2J,EADvB,EACuBA,QACxBhN,EAASuD,EAAOA,EAAKvD,OAAS,EACpC,OACE,oCACE,yBAAKsN,UAAWN,EAAQiB,QACtB,kBAACL,GAAA,EAAD,CAAY3F,QAAQ,MAApB,+CACA,kBAACiG,GAAA,EAAD,CACEZ,UAAWN,EAAQmB,KACnBrF,MAAM,YACNsF,MAAO,mCAAYpO,KAGvB,kBAACqO,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,SAASjB,UAAWN,EAAQwB,UACjD3L,EACC,kBAAC4L,GAAA,EAAD,CACE3F,MAAM,YACNwE,UAAWN,EAAQ0B,aAEnBnL,EAAKvD,OACPuD,EAAKQ,KAAI,SAACsC,GAAD,OACP,kBAAC,GAAD,CAAc9D,IAAK8D,EAASzB,GAAIyB,SAAUA,OAG5C,kBAACuH,GAAA,EAAD,CAAYtO,UAAU,MAAMgO,UAAWN,EAAQ0B,YAC5CrL,S,GA9BYsL,aAwDX9P,gBAbQ,SAACC,EAAiB8P,GACxC,OAAO,aACL5B,QAAS4B,EAAS5B,SACflO,EAAMwH,KAAKK,cAIS,SACzBoB,GADyB,MAEF,CACvBwS,mBAAoB1L,YAAmB0L,GAAoBxS,MAG7ClJ,CAGdiQ,cArFgB,SAAC1C,GAAD,OAChBC,aAAa,CACX4B,OAAQ,CACNe,SAAU,YAEZR,SAAU,CACR1B,UAAW,uBAEbqB,KAAM,CACJa,SAAU,WACVC,MAAO,EACPC,IAAK,GAEPR,WAAY,CACVjC,OAAQ,YAuEZqC,CAAsBiN,KC/ElBC,GAAQ,CACZ,CACEC,KAAM,SACN7a,KAAM,kBAAC8a,GAAA,EAAD,MACN9N,MAAO,SACP+N,MAAO,kBAAC,GAAD,OAET,CACEF,KAAM,UACN7a,KAAM,kBAACgb,GAAA,EAAD,MACNhO,MAAO,UACP+N,MAAO,kBAAC,GAAD,OAET,CACEF,KAAM,UACN7a,KAAM,kBAACib,GAAA,EAAD,MACNjO,MAAO,UACP+N,MAAO,kBAAC,GAAD,OAET,CACEF,KAAM,YACN7a,KAAM,kBAACkb,GAAA,EAAD,MACNlO,MAAO,YACP+N,MAAO,kBAAC,GAAD,OAET,CACEF,KAAM,YACN7a,KAAM,kBAACmb,GAAA,EAAD,MACNnO,MAAO,YACP+N,MAAO,kBAAC,GAAD,QAILK,GAAW,SAACC,GAChB,OAAOT,GAAMS,GAAKR,MAEdS,GAAa,SAACvb,GAClB,IAAMwb,EAAMX,GAAM/P,MAAK,SAAC+J,GAAD,OAAUA,EAAKiG,OAAS9a,KAC/C,OAAIwb,EAAYX,GAAMY,QAAQD,GACvB,GAGHzQ,GAAYC,cAAW,SAACC,GAAD,YAAmB,CAC9CE,KAAM,CACJuQ,MAAO,SAETC,YAAU,mBACP1Q,EAAMyK,YAAYkG,KAAK,KAAO,CAC7BrG,SAAU,MAFJ,cAIPtK,EAAMyK,YAAYkG,KAAK,KAAO,CAC7BrG,SAAU,MALJ,cAOPtK,EAAMyK,YAAYkG,KAAK,KAAO,CAC7BrG,SAAU,MARJ,cAUPtK,EAAMyK,YAAYkG,KAAK,KAAO,CAC7BrG,SAAU,MAXJ,cAaPtK,EAAMyK,YAAYkG,KAAK,KAAO,CAC7BrG,SAAU,KAdJ,cAgBPtK,EAAMyK,YAAYkG,KAAK,KAAO,CAC7BrG,SAAU,KAjBJ,cAmBPtK,EAAMyK,YAAYkG,KAAK,KAAO,CAC7BrG,SAAU,KApBJ,GAuBVsG,SAAU,CACRjO,QAAS3C,EAAMM,QAAQ,QAIZ,SAASuQ,KACtB,IAAMjQ,EAAUd,KAEVnN,EAAW+H,GAAM6E,WAAW3M,KAAKD,SACjCme,EAAWpW,GAAM6E,WAAW7F,OAAOqX,SAAS3d,SAJb,EAMX4J,mBAASsT,GAAWQ,IANT,mBAM9BzT,EAN8B,KAMvB2T,EANuB,KAQrCC,qBAAU,WACS,cAAbH,GAA6Bne,EAE5Bqe,EAASV,GAAWQ,IADvBpW,GAAMiB,SAAS8C,aAAK2R,GAAS,OAE9B,CAACU,EAAUne,IAEd,IAAMue,EAAUC,aAAc,qBAO9B,OACE,oCACE,kBAACC,GAAA,EAAD,CAAQxO,SAAS,UACf,kBAACyO,GAAA,EAAD,CAAOC,QAAM,GACX,kBAACC,GAAA,EAAD,CACElU,MAAOA,EACPF,SAXW,SAAC6H,EAA8BwM,GAClDR,EAASQ,GACT9W,GAAMiB,SAAS8C,aAAK2R,GAASoB,MAUrB3V,QAAQ,aACR4V,eAAe,YACfC,UAAU,YACVC,cAAc,UACd/U,aAAW,mBAEVgT,GAAMjY,KAAI,SAACiS,EAAMgI,GAAP,OACH,IAANA,GAUEjf,IATA,kBAACkf,GAAA,EAAD,CACE3Q,UAAWN,EAAQ8P,WACnBva,IAAKyT,EAAK5H,MACVhN,KAAM4U,EAAK5U,KACXgN,MAAOkP,EAAUtH,EAAK5H,MAAQ,KAC9BxJ,GAAE,yBAAoBoZ,GACtBE,gBAAA,8BAAsCF,WAkBjDhC,GAAMjY,KAAI,SAACiS,EAAMgI,GAAP,OACT,yBACEzb,IAAKyT,EAAK5H,MAAQ4P,EAClBG,KAAK,WACLC,OAAQ3U,IAAUuU,EAClBpZ,GAAE,8BAAyBoZ,GAC3BK,kBAAA,yBAAmCL,IAElCvU,IAAUuU,GAAK,kBAAC1L,GAAA,EAAD,CAAKhF,UAAWN,EAAQgQ,UAAWhH,EAAKmG,YCvJlE,IAuEMmC,G,sLAEF,IAAM1e,EAAOD,EAAWqO,KAAK/O,MAAMO,UAC/BI,EAAKqG,MAAM+H,KAAK/O,MAAM8M,YAAYnM,EAAKqG,Q,+BAGnC,IAAD,EACmC+H,KAAK/O,MAAvC+N,EADD,EACCA,QAASzJ,EADV,EACUA,KAAMV,EADhB,EACgBA,QAASQ,EADzB,EACyBA,MAChC,OACE,kBAACkO,GAAA,EAAD,CAAWjE,UAAWN,EAAQV,MAC3BzJ,EACC,kBAAC4L,GAAA,EAAD,CAAkB3F,MAAM,YAAYwE,UAAWN,EAAQ0B,aACrDnL,EACF,yBACE+J,UAAWN,EAAQ1G,KACnBiY,wBAAyB,CAAEC,OAAQjb,EAAKsJ,WAG1C,kBAACe,GAAA,EAAD,CAAYtO,UAAU,MAAMgO,UAAWN,EAAQ0B,YAC5CrL,Q,GAnBMsL,aA2CJ9P,gBAZS,SAACC,EAAiB8P,GAAlB,oBACtBpP,SAAUV,EAAMgH,OAAOqX,SAAS3d,SAChCwN,QAAS4B,EAAS5B,SACflO,EAAMkH,OAAOC,SAGS,SACzB8B,GADyB,MAEF,CACvBgE,YAAa8C,YAAmB9C,GAAahE,MAGhClJ,CAGbiQ,cArHgB,SAAC1C,GAAD,aAChBC,aAAa,CACXC,MAAI,GACFuQ,MAAO,OACP/P,UAAW,uBAFT,cAGDV,EAAMyK,YAAYkG,KAAK,MAAQ,CAC9BjQ,UAAW,sBACXiC,QAAS3C,EAAMM,QAAQ,KALvB,wBAOON,EAAMM,QAAQ,IAPrB,wBAQO,QARP,8BASa,UATb,GAWJgC,WAAY,CACVjC,OAAQ,QAEVnG,KAAM,CACJoL,UAAW,SACXmL,MAAO,OACP9N,QAAS,GACT0P,gBAAiBrS,EAAMsS,QAAQC,WAAWC,MAC1ChO,OAAO,aAAD,OAAexE,EAAMsS,QAAQG,UAAUC,MAC7C,SAAU,CACR/P,QAAS,GACTtC,OAAQ,GACRsS,WAAY,IACZN,gBAAiBrS,EAAMsS,QAAQG,UAAUC,MAE3C,SAAU,CACR/P,QAAS,GACTtC,OAAQ,GACRsS,WAAY,KAEd,SAAU,CACRhQ,QAAS,EACTtC,OAAQ,EACRsS,WAAY,KAEd,UAAW,CACTxS,SAAU,QAEZ,cAAe,CACbA,SAAU,QAEZ,SAAU,CACRwC,QAAS,EACTtC,OAAQ,EACRsS,WAAY,KAEd,aAAc,CACZtS,OAAQ,OACRsC,QAAS,GACT,iBAAkB,CAChBgF,QAAS,SAGb,iBAAkB,CAChBgL,WAAY,UA4DlBjQ,CAAsBwP,K,wCCtHlBpS,GAAYC,cAAW,SAACC,GAAD,OAC3BC,aAAa,CACXC,KAAM,CACJC,SAAU,IACVC,UAAW,IACXC,OAAQL,EAAMM,QAAQ,IAExBC,WAAY,CACVC,eAAgB,gBAChBH,OAAQ,WAEVI,QAAS,CACPC,UAAW,KAEbkS,UAAW,CACThQ,SAAU,WACViQ,OAAQ,UACRxS,OAAQL,EAAMM,QAAQ,GACtB+R,gBAAiB,SAEnBS,SAAU,CACRlQ,SAAU,WACVC,MAAO,EACPgQ,OAAQ,UACRxS,OAAQL,EAAMM,QAAQ,SAYfyS,GAA8B,SAAC,GAKrC,IAJLC,EAII,EAJJA,MACApc,EAGI,EAHJA,KACAqc,EAEI,EAFJA,WACAzf,EACI,EADJA,KAEMoN,EAAUd,KACRzK,EAAiC4d,EAAjC5d,MAAOmD,EAA0Bya,EAA1Bza,GAAIqW,EAAsBoE,EAAtBpE,WAAYqE,EAAUD,EAAVC,MAO/B,OACE,kBAACjS,GAAA,EAAD,CAAMC,UAAWN,EAAQV,MACvB,kBAACiB,GAAA,EAAD,CAAgBtE,QAPC,SACnBO,GAEA1C,GAAMiB,SAAS8C,aAAKjL,EAAO,IAAMoD,EAAO4B,MAKpC,kBAACsJ,GAAA,EAAD,CAAME,MAAOgR,EAAQ,EAAG9R,UAAWN,EAAQgS,YAC3C,kBAAC9Q,GAAA,EAAD,CAAME,MAAOkR,EAAOhS,UAAWN,EAAQkS,SAAUpW,MAAM,cACvD,kBAAC0E,GAAA,EAAD,CACElO,UAAU,MACVoO,IAAKjM,EACLgM,OAAO,MACPtL,MAAOF,EAAiBgZ,GACxBxZ,MAAOA,IAET,kBAACkM,GAAA,EAAD,CAAaL,UAAWN,EAAQH,SAC9B,kBAACe,GAAA,EAAD,CAAYC,cAAY,EAAC5F,QAAQ,QAAQ3I,UAAU,MAChDmC,OAeA8d,GAAwC,SAAC,GAK/C,IAJLC,EAII,EAJJA,aACAJ,EAGI,EAHJA,MACApc,EAEI,EAFJA,KACApD,EACI,EADJA,KAEMoN,EAAUd,KACRzK,EAAkC+d,EAAlC/d,MAAOmD,EAA2B4a,EAA3B5a,GAAIqI,EAAuBuS,EAAvBvS,aAAcyH,EAAS8K,EAAT9K,KAOjC,OACE,kBAACrH,GAAA,EAAD,CAAMC,UAAWN,EAAQV,MACvB,kBAACiB,GAAA,EAAD,CAAgBtE,QAPC,SACnBO,GAEA1C,GAAMiB,SAAS8C,aAAKjL,EAAO,IAAMoD,EAAO4B,MAKpC,kBAACsJ,GAAA,EAAD,CAAME,MAAOgR,EAAQ,EAAG9R,UAAWN,EAAQgS,YAC3C,kBAAC9Q,GAAA,EAAD,CACEE,MAAOsG,EAAK4K,MAAMne,KAClBmM,UAAWN,EAAQkS,SACnBpW,MAAM,cAER,kBAAC0E,GAAA,EAAD,CACElO,UAAU,MACVoO,IAAKjM,EACLgM,OAAO,MACPtL,MAAOF,EAAiBgL,GACxBxL,MAAOA,IAET,kBAACkM,GAAA,EAAD,CAAaL,UAAWN,EAAQH,SAC9B,kBAACe,GAAA,EAAD,CAAYC,cAAY,EAAC5F,QAAQ,QAAQ3I,UAAU,MAChDmC,OCpFPge,GAAS,CACb,GACA,2BACA,wCACA,wCACA,wCACA,oDACA,8CACA,wCACA,8CACA,8CACA,wCACA,yCAYIC,G,sLAEF,IAAM9f,EAAOD,EAAWqO,KAAK/O,MAAMO,UAC/BI,EAAKsG,OAAO8H,KAAK/O,MAAM4a,aAAaja,K,+BAGhC,IAAD,EAC6CoO,KAAK/O,MAAjD+N,EADD,EACCA,QAASzJ,EADV,EACUA,KAAMV,EADhB,EACgBA,QAASQ,EADzB,EACyBA,MAAO7D,EADhC,EACgCA,SACnCmgB,EAAU,EACd,OACE,kBAACtR,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,SAASjB,UAAWN,EAAQV,MACjDzJ,EACC,kBAAC4L,GAAA,EAAD,CAAkB3F,MAAM,YAAYwE,UAAWN,EAAQ0B,aACrDnL,EACFA,EAAKsX,aAAa9W,KAAI,SAACmC,EAAO0Z,GAAR,aACpB,kBAACC,GAAA,EAAD,CAAMtd,IAAKqd,GACR1Z,EAAMG,UACL,oCACE,kBAACyZ,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACpO,GAAA,EAAD,KACE,kBAACzD,GAAA,EAAD,CAAME,MAAOuR,IAAW7W,MAAM,gBAGlC,kBAACkX,GAAA,EAAD,CACEC,QAASR,GAAOE,GAChBd,UAAW3Y,EAAMga,wBAGrB,kBAACxI,GAAA,EAAD,CAASzP,QAAQ,QAAQ3I,UAAU,OACnC,kBAAC+O,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,UACrBrI,EAAMG,SAAStC,KAAI,SAACoc,EAAWnC,GAAZ,OAClB,kBAAC,GAAD,CACEzb,IAAKyb,EACLoB,MAAOpB,EACPhb,KAAM,YACNpD,KAAMJ,EACNggB,aAAcW,SAMvBja,EAAMC,QACL,oCACE,kBAAC2Z,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACpO,GAAA,EAAD,KACE,kBAACzD,GAAA,EAAD,CAAME,MAAOuR,IAAW7W,MAAM,gBAGlC,kBAACkX,GAAA,EAAD,CACEC,QAASR,GAAOE,GAChBd,UAAW3Y,EAAMka,sBAGrB,kBAAC1I,GAAA,EAAD,CAASzP,QAAQ,QAAQ3I,UAAU,OACnC,kBAAC+O,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,UAAxB,UACGrI,EAAMC,cADT,aACG,EAAcpC,KAAI,SAACoc,EAAWnC,GAAZ,OACjB,kBAAC,GAAD,CACEzb,IAAKyb,EACLoB,MAAOpB,EACPhb,KAAM,UACNpD,KAAMJ,EACN6f,WAAYc,aAS1B,kBAACvS,GAAA,EAAD,CAAYtO,UAAU,MAAMgO,UAAWN,EAAQ0B,YAC5CrL,Q,GA1EOsL,aAkGL9P,gBAZS,SAACC,EAAiB8P,GAAlB,oBACtBpP,SAAUV,EAAMgH,OAAOqX,SAAS3d,SAChCwN,QAAS4B,EAAS5B,SACflO,EAAMkH,OAAOE,UAGS,SACzB6B,GADyB,MAEF,CACvB8R,aAAchL,YAAmBgL,GAAc9R,MAGlClJ,CAGbiQ,cA/IgB,SAAC1C,GAAD,aAChBC,aAAa,CACXC,MAAI,GACFuQ,MAAO,OACP/P,UAAW,uBAFT,cAGDV,EAAMyK,YAAYkG,KAAK,MAAQ,CAC9BjQ,UAAW,sBACXiC,QAAS3C,EAAMM,QAAQ,KALvB,wBAOON,EAAMM,QAAQ,IAPrB,wBAQO,QARP,8BASa,UATb,GAWJgC,WAAY,CACVjC,OAAQ,YAiIZqC,CAAsB4Q,KCxJlBxT,GAAYC,cAAW,SAACC,GAAD,OAC3BC,aAAa,CACXC,KAAM,CACJE,UAAW,IACXqQ,MAAO,OACPpQ,OAAQL,EAAMM,QAAQ,IAExBG,QAAS,CACPC,UAAW,KAEbkS,UAAW,CACThQ,SAAU,WACViQ,OAAQ,UACRxS,OAAQL,EAAMM,QAAQ,GACtB+R,gBAAiB,cAWVU,GAA8B,SAAC,GAAgC,IAA9Bnc,EAA6B,EAA7BA,KAAMqc,EAAuB,EAAvBA,WAAYzf,EAAW,EAAXA,KACxDoN,EAAUd,KACRzK,EAAkC4d,EAAlC5d,MAAOmD,EAA2Bya,EAA3Bza,GAAIqI,EAAuBoS,EAAvBpS,aAAcyH,EAAS2K,EAAT3K,KAQjC,OACE,kBAACrH,GAAA,EAAD,CAAMC,UAAWN,EAAQV,MACvB,kBAACiB,GAAA,EAAD,CAAgBtE,QARC,SACnBO,GAEA,IAAM6W,EAAiB,aAATrd,EAAsB,WAAa,SACjD8D,GAAMiB,SAAS8C,aAAKjL,EAAO,IAAMygB,EAAQ,IAAMzb,MAK3C,kBAACyJ,GAAA,EAAD,CAAMC,WAAS,GACb,kBAACD,GAAA,EAAD,CAAM7L,MAAI,EAAC6W,GAAI,EAAGtG,GAAI,EAAGuN,GAAI,EAAG/G,GAAI,GAClC,kBAACrL,GAAA,EAAD,CAAME,MAAOsG,EAAK4K,MAAMne,KAAMmM,UAAWN,EAAQgS,YACjD,kBAACxR,GAAA,EAAD,CACElO,UAAU,MACVoO,IAAKjM,EACLgM,OAAO,MACPtL,MAAOF,EAAiBgL,GACxBxL,MAAOA,KAGX,kBAAC4M,GAAA,EAAD,CAAM7L,MAAI,EAAC6W,GAAI,EAAGtG,GAAI,EAAGuN,GAAI,EAAG/G,GAAI,GAClC,kBAAC5L,GAAA,EAAD,CAAaL,UAAWN,EAAQH,SAC9B,kBAACe,GAAA,EAAD,CAAYC,cAAY,EAAC5F,QAAQ,QAAQ3I,UAAU,MAChDmC,SCGX8e,G,sLAEF,IAAM3gB,EAAOD,EAAWqO,KAAK/O,MAAMO,UACnCwO,KAAK/O,MAAM6a,cAAcla,K,+BAGjB,IAAD,EAC6CoO,KAAK/O,MAAjD+N,EADD,EACCA,QAASzJ,EADV,EACUA,KAAMV,EADhB,EACgBA,QAASQ,EADzB,EACyBA,MAAO7D,EADhC,EACgCA,SACvC,OACE,kBAAC6O,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,SAASjB,UAAWN,EAAQV,MACjDzJ,EACC,kBAAC4L,GAAA,EAAD,CAAkB3F,MAAM,YAAYwE,UAAWN,EAAQ0B,aACrDnL,EACF,kBAAC8K,GAAA,EAAD,CAAMC,WAAS,EAAC5B,QAAS,GACvB,kBAAC2B,GAAA,EAAD,CAAM7L,MAAI,EAAC6W,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGxG,GAAI,IAClC,yBAAKzF,UAAWN,EAAQH,SACtB,kBAACW,GAAA,EAAD,CACErL,MAAOF,EAAiBsB,EAAK0X,YAC7B3N,UAAWN,EAAQ7K,QAErB,kBAACyL,GAAA,EAAD,CACEC,cAAY,EACZ5F,QAAQ,QACR3I,UAAU,KACVgO,UAAWN,EAAQwT,MAElBjd,EAAK2X,eAIZ,kBAAC7M,GAAA,EAAD,CAAM7L,MAAI,EAAC6W,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGxG,GAAI,IAClC,kBAAC1E,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,YAAxB,OACGhL,QADH,IACGA,OADH,EACGA,EAAM6W,cAAcrW,KAAI,SAACoC,EAAQyZ,GAAT,OACvB,kBAAC,GAAD,CACErd,IAAKqd,EACL5c,KAAMmD,EAAOuO,KAAK4F,MAAMnZ,KACxBvB,KAAMJ,EACN6f,WAAYlZ,UAOtB,kBAACyH,GAAA,EAAD,CAAYtO,UAAU,MAAMgO,UAAWN,EAAQ0B,YAC5CrL,Q,GA7CQsL,aAqEN9P,gBAZS,SAACC,EAAiB8P,GAAlB,oBACtB5B,QAAS4B,EAAS5B,QAClBxN,SAAUV,EAAMgH,OAAOqX,SAAS3d,UAC7BV,EAAMkH,OAAOG,WAGS,SACzB4B,GADyB,MAEF,CACvB+R,cAAejL,YAAmBiL,GAAe/R,MAGpClJ,CAGbiQ,cAvHgB,SAAC1C,GAAD,eAChBC,aAAa,CACXC,MAAI,GACFuQ,MAAO,OACP/P,UAAW,uBAFT,cAGDV,EAAMyK,YAAYkG,KAAK,MAAQ,CAC9BjQ,UAAW,sBACXiC,QAAS3C,EAAMM,QAAQ,KALvB,wBAOON,EAAMM,QAAQ,IAPrB,wBAQO,QARP,8BASa,UATb,+BAUc,cAVd,GAYJgC,WAAY,CACVjC,OAAQ,QAEVI,SAAO,GACLmC,SAAU,WACVlC,UAAW,uBAFN,cAGJV,EAAMyK,YAAYkG,KAAK,MAAQ,CAC9BjQ,UAAW,SAJR,2CAMgBV,EAAMsS,QAAQG,UAAUC,OANxC,uBAOG,QAPH,sBAQE,QARF,GAUP0B,KAAM,CACJzR,QAAS,IAEX5M,MAAO,CACL0a,MAAO,OACPpP,OAAQ,OACRgT,QAAS,MACTzR,SAAU,gBAqFdF,CAAsByR,KC3FlBG,G,sLAEF,IAAM9gB,EAAOD,EAAWqO,KAAK/O,MAAMO,UACnCwO,KAAK/O,MAAM2a,cAAcha,K,+BAGjB,IAAD,EACmCoO,KAAK/O,MAAvC+N,EADD,EACCA,QAASzJ,EADV,EACUA,KAAMV,EADhB,EACgBA,QAASQ,EADzB,EACyBA,MAChC,OACE,kBAACkO,GAAA,EAAD,CAAWjE,UAAWN,EAAQV,MAC3BzJ,EACC,kBAAC4L,GAAA,EAAD,CAAkB3F,MAAM,YAAYwE,UAAWN,EAAQ0B,aACrDnL,EACF,yBACE+J,UAAWN,EAAQH,QACnB0R,wBAAyB,CAAEC,OAAQjb,EAAKsJ,WAG1C,kBAACe,GAAA,EAAD,CAAYtO,UAAU,MAAMgO,UAAWN,EAAQ0B,YAC5CrL,Q,GAnBQsL,aA2CN9P,gBAZS,SAACC,EAAiB8P,GAAlB,oBACtBpP,SAAUV,EAAMgH,OAAOqX,SAAS3d,SAChCwN,QAAS4B,EAAS5B,SACflO,EAAMkH,OAAOI,WAGS,SACzB2B,GADyB,MAEF,CACvB6R,cAAe/K,YAAmB+K,GAAe7R,MAGpClJ,CAGbiQ,cAhFgB,SAAC1C,GAAD,aAChBC,aAAa,CACXC,MAAI,GACFuQ,MAAO,OACP/P,UAAW,uBAFT,cAGDV,EAAMyK,YAAYkG,KAAK,MAAQ,CAC9BjQ,UAAW,sBACXiC,QAAS3C,EAAMM,QAAQ,KALvB,wBAOON,EAAMM,QAAQ,IAPrB,wBAQO,QARP,8BASa,UATb,GAWJgC,WAAY,CACVjC,OAAQ,QAEVI,QAAS,CACP6E,UAAW,SACXmL,MAAO,OACP9N,QAAS,GACT0P,gBAAiBrS,EAAMsS,QAAQC,WAAWC,MAC1ChO,OAAO,aAAD,OAAexE,EAAMsS,QAAQG,UAAUC,WA2DjDhQ,CAAsB4R,KC9ClBC,G,sLAEF,IAAM/gB,EAAOD,EAAWqO,KAAK/O,MAAMO,UAC/BI,EAAKyG,UAAU2H,KAAK/O,MAAMwb,gBAAgB7a,K,+BAGtC,IAAD,EACmCoO,KAAK/O,MAAvC+N,EADD,EACCA,QAASzJ,EADV,EACUA,KAAMV,EADhB,EACgBA,QAASQ,EADzB,EACyBA,MAChC,OACE,kBAACkO,GAAA,EAAD,CAAWjE,UAAWN,EAAQV,MAC3BzJ,EACC,kBAAC4L,GAAA,EAAD,CAAkB3F,MAAM,YAAYwE,UAAWN,EAAQ0B,aACrDnL,EACF,yBACE+J,UAAWN,EAAQH,QACnB0R,wBAAyB,CAAEC,OAAQjb,EAAKsJ,WAG1C,kBAACe,GAAA,EAAD,CAAYtO,UAAU,MAAMgO,UAAWN,EAAQ0B,YAC5CrL,Q,GAnBUsL,aA2CR9P,gBAZS,SAACC,EAAiB8P,GAAlB,oBACtBpP,SAAUV,EAAMgH,OAAOqX,SAAS3d,SAChCwN,QAAS4B,EAAS5B,SACflO,EAAMkH,OAAOK,aAGS,SACzB0B,GADyB,MAEF,CACvB0S,gBAAiB5L,YAAmB4L,GAAiB1S,MAGxClJ,CAGbiQ,cAhFgB,SAAC1C,GAAD,aAChBC,aAAa,CACXC,MAAI,GACFuQ,MAAO,OACP/P,UAAW,uBAFT,cAGDV,EAAMyK,YAAYkG,KAAK,MAAQ,CAC9BjQ,UAAW,sBACXiC,QAAS3C,EAAMM,QAAQ,KALvB,wBAOON,EAAMM,QAAQ,IAPrB,wBAQO,QARP,8BASa,UATb,GAWJgC,WAAY,CACVjC,OAAQ,QAEVI,QAAS,CACP6E,UAAW,SACXmL,MAAO,OACP9N,QAAS,GACT0P,gBAAiBrS,EAAMsS,QAAQC,WAAWC,MAC1ChO,OAAO,aAAD,OAAexE,EAAMsS,QAAQG,UAAUC,WA2DjDhQ,CAAsB6R,KC5BTC,GArDG,kBAChB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAUC,OAAK,EAACjhB,KAAK,IAAIL,GAAG,UAC5B,kBAAC,IAAD,CAAOshB,OAAK,EAACjhB,KAAK,QAAQN,UAAWyO,KACrC,kBAAC,IAAD,CAAO8S,OAAK,EAACjhB,KAAK,YAAYN,UAAW2d,KACzC,kBAAC,IAAD,CACE4D,OAAK,EACLjhB,KAAM,CAAC,SAAU,UAAW,YAAa,YAAa,WACtDN,UAAW2d,KAEb,kBAAC,IAAD,CAAO4D,OAAK,EAACjhB,KAAK,YAAYN,UAAWgf,KACzC,kBAAC,IAAD,CAAOuC,OAAK,EAACjhB,KAAK,aAAaN,UAAWogB,KAC1C,kBAAC,IAAD,CAAOmB,OAAK,EAACjhB,KAAK,aAAaN,UAAWogB,KAC1C,kBAAC,IAAD,CACEmB,OAAK,EACLjhB,KAAM,CAAC,cAAe,yBACtBN,UAAWihB,KAEb,kBAAC,IAAD,CACEM,OAAK,EACLjhB,KAAM,CACJ,cACA,yBACA,wBACA,oCAEFN,UAAWohB,KAEb,kBAAC,IAAD,CACEG,OAAK,EACLjhB,KAAM,CACJ,gBACA,2BACA,0BACA,sCAEFN,UAAWqhB,KAEb,kBAAC,IAAD,CAAOE,OAAK,EAACjhB,KAAK,SAASN,UAAWgS,KACtC,kBAAC,IAAD,CAAOuP,OAAK,EAACjhB,KAAK,YAAYN,UAAW+T,KACzC,kBAAC,IAAD,CAAOwN,OAAK,EAACjhB,KAAK,gBAAgBN,UAAWwhB,KAC7C,kBAAC,EAAD,CACED,OAAK,EACLjhB,KAAK,WACLN,UAAW6Z,GACX/Z,WAAW,EACXC,eAAe,WACfF,mBAAmB,WAErB,kBAAC,IAAD,CAAO0hB,OAAK,EAACjhB,KAAK,SAASN,UAAW6J,O,mGCjE7B4X,GAAcC,aACvB,CACI1Y,UAAW,MACX2Y,WAAY,CACRC,WAAY,SAEhBC,UAAW,CACPC,eAAgB,CACZ9U,KAAM,CACFyC,aAASrP,IAGjB2hB,eAAgB,CACZ,UAAW,CACP,IAAK,CACDC,eAAgB,OAChBC,eAAgB,2BAEpB,uBAAwB,CACpB1E,MAAO,QAEX,6BAA8B,CAC1B,wBAAyB,OACzBhU,aAAc,OAElB,6BAA8B,CAC1B,wBAAyB,OACzBA,aAAc,OACd8V,WAAY,mBAEhB,6CAA8C,CAC1CA,WAAY,qBAIxB6C,cAAe,CACXC,eAAgB,CACZ,UAAW,CACPhD,gBAAiB,+BCnC5BiD,GAAYV,aAAe,2BAE7BD,IAF4B,IAG/BrC,QAAS,CACL1b,KAAM,OACNid,QAAS0B,KACTte,MAAOue,KACP/C,UAAW,CACPC,KAAM+C,KAAK,SAIvBC,SCZSC,GAAaf,aAAe,2BAElCD,IAFiC,IAGpCrC,QAAS,CACPrb,MAAOue,QAGXE,S,2FCiBI5V,GAAYC,cAAW,SAACC,GAAD,OAC3BC,aAAa,CACXC,KAAM,CACJyH,QAAS,QAEXiO,KAAM,CACJjO,QAAS,QAEXkO,OAAQ,CACNpF,MAXc,IAYdlH,WAAY,GAEduM,YAAa,CACXrF,MAfc,KAiBhBsF,aAAa,yBACXpO,QAAS,OACTD,WAAY,SACZ/E,QAAS3C,EAAMM,QAAQ,EAAG,IAEvBN,EAAMgW,OAAOzL,SALN,IAMV/J,eAAgB,eAElB+J,QAAQ,aACN5C,QAAS,OACTD,WAAY,SACZlH,eAAgB,gBAChBmC,QAAS3C,EAAMM,QAAQ,EAAG,EAAG,EAAG,IAE7BN,EAAMgW,OAAOzL,cAKP,SAAS0L,GAAT,GAKM,IAJnBvjB,EAIkB,EAJlBA,MACAC,EAGkB,EAHlBA,SACAqN,EAEkB,EAFlBA,MACArE,EACkB,EADlBA,SAEMiF,EAAUd,KACR5D,EAAcwN,eAAdxN,UACFga,EAAoB,WACxBva,EAAS,CAAE/E,KAAM,iBAGXuf,EAAsBnW,EAAtBmW,OAAQC,EAAcpW,EAAdoW,UAOVC,EAAW1jB,EAAWkC,EAASC,GAAKD,EAASM,IACnD,OACE,yBAAK+L,UAAWN,EAAQV,MACtB,kBAACmF,GAAA,EAAD,MACA,kBAACiR,GAAA,EAAD,CACEpV,UAAWN,EAAQiV,OACnBha,QAAQ,YACR0a,OAAsB,QAAdra,EAAsB,QAAU,OACxCsa,KAAM9jB,EAAM+jB,WACZC,QAASR,EACTtV,QAAS,CACP4R,MAAO5R,EAAQkV,cAGjB,yBAAK5U,UAAWN,EAAQ2J,SACtB,kBAAChO,GAAA,EAAD,CACEG,MAAM,UACNE,aAAW,cACXC,QAvBiB,WACrBuZ,GAAWA,GAAU,SAACO,GAAD,OAAWA,KAC3B1iB,EAATkiB,EAAoB,QAAsB,SAsBlCS,KAAK,SAEJT,EAAS,kBAACU,GAAA,EAAD,MAAkB,kBAACC,GAAA,EAAD,OAE9B,kBAACva,GAAA,EAAD,CAAYM,QAASqZ,GACJ,QAAdha,EAAsB,kBAAC6a,GAAA,EAAD,MAAkB,kBAACC,GAAA,EAAD,QAG7C,kBAAC1L,GAAA,EAAD,MACA,kBAACmI,GAAA,EAAD,KACGre,EAAMuC,KAAI,SAACyc,EAAMpB,GAAP,OACT,kBAACpM,GAAA,EAAD,CACEzT,GAAIihB,EAAKjhB,GACTgD,IAAK,YAAc6c,EACnBnW,QAASqZ,EACThjB,UAAW2T,KACXnK,MAAM,aAEN,kBAACgX,GAAA,EAAD,CAAUuD,QAAM,GACd,kBAACC,GAAA,EAAD,KAAe9C,EAAKpf,MACpB,kBAAC4e,GAAA,EAAD,CAAcC,QAASO,EAAK/e,cAKpC,kBAACiW,GAAA,EAAD,MACA,kBAACmI,GAAA,EAAD,KACG4C,EAAS1e,KAAI,SAACvB,EAAM4c,GAAP,OACZ,kBAACpM,GAAA,EAAD,CACEzT,GAAIiD,EAAKjD,GACTgD,IAAK,YAAc6c,EACnBnW,QAASqZ,EACThjB,UAAW2T,KACXnK,MAAM,aAEN,kBAACgX,GAAA,EAAD,CAAUuD,QAAM,GACd,kBAACC,GAAA,EAAD,KAAe9gB,EAAKpB,MACpB,kBAAC4e,GAAA,EAAD,CAAcC,QAASzd,EAAKrB,e,cCnItC+K,GAAYC,cAAW,SAACC,GAAD,aAC3BC,aAAa,CACXC,MAAI,GACFyH,QAAS,QADP,cAED3H,EAAMyK,YAAY0M,GAAG,KAAO,CAC3B3N,WAAYxJ,EAAMM,QAAQ,GAC1BqH,QAAS,iBAJT,cAMD3H,EAAMyK,YAAY0M,GAAG,MAAQ,CAC5B3N,WAAYxJ,EAAMM,QAAQ,GAC1BqH,QAAS,iBART,cAUD3H,EAAMyK,YAAY0M,GAAG,MAAQ,CAC5B3N,WAAYxJ,EAAMM,QAAQ,GAC1BqH,QAAS,iBAZT,cAcD3H,EAAMyK,YAAY0M,GAAG,MAAQ,CAC5B3N,WAAYxJ,EAAMM,QAAQ,GAC1BqH,QAAS,iBAhBT,GAmBJyP,WAAY,CACVC,SAAU,SACVhW,OAAQ,QACRiW,WAAY,SAEdliB,MAAO,CACLkQ,UAAW,SACXiS,SAAU,QA6BDC,GApBG,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,WACb7W,EAAUd,KAChB,OACE,kBAAC4X,GAAA,EAAD,CAAU5iB,IAAK2iB,EAAYvW,UAAWN,EAAQxL,OAC5C,yBAAK8L,UAAWN,EAAQwW,YACrBhiB,EAAMuC,KAAI,SAACkY,EAAM+B,GAAP,OACT,kBAAChL,GAAA,EAAD,CACEzQ,IAAK,QAAUyb,EACfze,GAAI0c,EAAK1c,GACT+N,UAAWN,EAAQV,KACnBhN,UAAW2T,KACXnK,MAAM,aAELmT,EAAKxa,a,4DCqDHsiB,GAvGI,SAAC9kB,GAA4B,IAAD,EACFA,EAAMH,MAAzCklB,EADqC,EACrCA,aAAcC,EADuB,EACvBA,iBAChBC,EAAmB9P,QAAQ6P,GAM3BE,EAAmB,WACvBllB,EAAM8I,SAAS,CAAE/E,KAAM,kBAMzB,OAAO/D,EAAMF,SACX,kBAAC,KAAD,CACEqlB,SAAUH,EACV1b,aAAc,CAAEE,SAAU,MAAOD,WAAY,SAC7C5D,GAAIof,EACJK,aAAW,EACXC,gBAAiB,CAAE7b,SAAU,MAAOD,WAAY,SAChDoa,KAAMsB,EACNpB,QAASqB,GAET,kBAACI,GAAA,EAAD,KACE,kBAAC5b,GAAA,EAAD,CAAYK,aAAW,mBAAmBF,MAAM,WAC9C,kBAAC0b,GAAA,EAAD,CAAOC,aAAc,EAAG3b,MAAM,aAC5B,kBAAC4b,GAAA,EAAD,QAGJ,wCAEF,kBAACH,GAAA,EAAD,KACE,kBAAC5b,GAAA,EAAD,CAAYK,aAAW,qBAAqBF,MAAM,WAChD,kBAAC0b,GAAA,EAAD,CAAOC,aAAc,GAAI3b,MAAM,aAC7B,kBAAC6b,GAAA,EAAD,QAGJ,4CAEF,kBAACJ,GAAA,EAAD,CAAUtb,QAtCY,SACxBmI,GAEAnS,EAAM8I,SAAS,CAAE/E,KAAM,iBAAkBU,QAAS0N,EAAMwT,kBAoCpD,kBAACjc,GAAA,EAAD,CACEK,aAAW,0BACXkV,gBAAc,8BACd2G,gBAAc,OACd/b,MAAM,WAEN,kBAACgc,GAAA,EAAD,OAEF,uCAEF,kBAACP,GAAA,EAAD,CAAUtb,QAzCQ,WACpBkb,IACIllB,EAAMiU,QAAQjU,EAAMiU,WAwCpB,kBAACvK,GAAA,EAAD,CACEK,aAAW,0BACXkV,gBAAc,8BACd2G,gBAAc,OACd/b,MAAM,WAEN,kBAACgc,GAAA,EAAD,OAEF,yCAIJ,kBAAC,KAAD,CACEV,SAAUH,EACV1b,aAAc,CAAEE,SAAU,MAAOD,WAAY,SAC7C5D,GAAIof,EACJK,aAAW,EACXC,gBAAiB,CAAE7b,SAAU,MAAOD,WAAY,SAChDoa,KAAMsB,EACNpB,QAASqB,GAET,kBAACnR,GAAA,EAAD,CAAMzT,GAAG,SAASD,UAAW2T,KAAYnK,MAAM,aAC7C,kBAACyb,GAAA,EAAD,CAAUtb,QAASkb,GACjB,kBAACxb,GAAA,EAAD,CACEK,aAAW,0BACXkV,gBAAc,8BACd2G,gBAAc,OACd/b,MAAM,WAEN,kBAACgc,GAAA,EAAD,OAEF,yDAGJ,kBAAC9R,GAAA,EAAD,CAAMzT,GAAG,YAAYD,UAAW2T,KAAYnK,MAAM,aAChD,kBAACyb,GAAA,EAAD,CAAUtb,QAASkb,GACjB,kBAACxb,GAAA,EAAD,CACEK,aAAW,0BACXkV,gBAAc,8BACd2G,gBAAc,OACd/b,MAAM,WAEN,kBAACgc,GAAA,EAAD,OAEF,wEC3DKC,GArCI,SAAC9lB,GAA4B,IACtCF,EAAsCE,EAAtCF,SAAUD,EAA4BG,EAA5BH,MAAOoU,EAAqBjU,EAArBiU,OAAQnL,EAAa9I,EAAb8I,SACzBid,EAA8BlmB,EAA9BkmB,kBAAmBC,EAAWnmB,EAAXmmB,OACrBC,EAAoB9Q,QAAQ4Q,GAK5B1C,EAAoB,WACxBva,EAAS,CAAE/E,KAAM,mBAEbyf,EAAW1jB,EAAWkC,EAASC,GAAKD,EAASM,IACnD,OACE,kBAAC,KAAD,CACE6iB,SAAUY,EACVzc,aAAc,CAAEE,SAAU,MAAOD,WAAY,SAC7C5D,GAAIqgB,EACJZ,aAAW,EACXC,gBAAiB,CAAE7b,SAAU,MAAOD,WAAY,SAChDoa,KAAMsC,EACNpC,QAASR,GAERG,EAAS1e,KAAI,SAACvB,EAAM4c,GAAP,OACZ,kBAACpM,GAAA,EAAD,CACEzT,GAAIiD,EAAKjD,GACTgD,IAAK,YAAc6c,EACnBnW,QAASqZ,EACThjB,UAAW2T,KACXnK,MAAM,aAEN,kBAACyb,GAAA,EAAD,CAAUtb,QAASqZ,GAAoB9f,EAAKrB,UAG/CpC,GAAY,kBAACwlB,GAAA,EAAD,CAAUtb,QA7BL,WAChBiK,GAAQA,IACZoP,MA2Be,8B,oBC7BbpW,GAAYC,cAAW,SAACC,GAAD,OAC3BC,aAAa,CACX8Y,eAAe,aACbpR,QAAS,QACR3H,EAAMyK,YAAY0M,GAAG,MAAQ,CAC5BxP,QAAS,SAGbqR,cAAc,aACZrR,QAAS,QACR3H,EAAMyK,YAAY0M,GAAG,MAAQ,CAC5BxP,QAAS,cAgEFsR,GA1DQ,SAACpmB,GACtB,IAAM+N,EAAUd,KADiC,EAEhBjN,EAAMH,MAA/BmmB,EAFyC,EAEzCA,OAAQjB,EAFiC,EAEjCA,aACVsB,EAAkB,SAAClU,GACvBnS,EAAM8I,SAAS,CAAE/E,KAAM,iBAAkBU,QAAS0N,EAAMwT,iBAK1D,OAAO3lB,EAAMF,SACX,kBAAC,IAAMwmB,SAAP,KACE,yBAAKjY,UAAWN,EAAQmY,gBACtB,kBAACxc,GAAA,EAAD,CAAYK,aAAW,mBAAmBF,MAAM,WAC9C,kBAAC0b,GAAA,EAAD,CAAOC,aAAc,EAAG3b,MAAM,aAC5B,kBAAC0c,GAAA,EAAD,QAGJ,kBAAC7c,GAAA,EAAD,CAAYK,aAAW,qBAAqBF,MAAM,WAChD,kBAAC0b,GAAA,EAAD,CAAOC,aAAc,GAAI3b,MAAM,aAC7B,kBAAC6b,GAAA,EAAD,QAGJ,kBAAChc,GAAA,EAAD,CACEqa,KAAK,MACLha,aAAW,0BACXkV,gBAAe+G,EACfJ,gBAAc,OACd5b,QAASqc,EACTxc,MAAM,WAEN,kBAACgc,GAAA,EAAD,QAGJ,yBAAKxX,UAAWN,EAAQoY,eACtB,kBAACzc,GAAA,EAAD,CACEK,aAAW,YACXkV,gBAAe8F,EACfa,gBAAc,OACd5b,QAhCe,SAACmI,GACtBnS,EAAM8I,SAAS,CAAE/E,KAAM,gBAAiBU,QAAS0N,EAAMwT,iBAgCjD9b,MAAM,WAEN,kBAAC2c,GAAA,EAAD,SAKN,kBAAC9c,GAAA,EAAD,CACEqa,KAAK,MACLha,aAAW,0BACXkV,gBAAe+G,EACfJ,gBAAc,OACd5b,QAASqc,EACTxc,MAAM,WAEN,kBAACgc,GAAA,EAAD,Q,uCCjBAY,G,oDACJ,WAAYzmB,GAAqB,IAAD,+BAC9B,cAAMA,IASR0mB,oBAAsB,SACpBvU,GAEA,IAAMwU,EAAQxU,EAAMxJ,OAAO6B,MAC3B,EAAK2G,SAAS,CAAEwV,QAAO/iB,SAAS,KAdF,EAiBhCgjB,kBAAoB,aAdlB,EAAK/mB,MAAQ,CACX8mB,MAAO,GACPE,QAAS,GACTjjB,SAAS,EACTiF,QAAS,IAPmB,E,sDAmBtB,IAAD,OACCkF,EAAYgB,KAAK/O,MAAjB+N,QACA4Y,EAAU5X,KAAKlP,MAAf8mB,MACR,OACE,yBAAKtY,UAAWN,EAAQ+Y,QACtB,yBAAKzY,UAAWN,EAAQgZ,YACtB,kBAAC,KAAD,OAEF,kBAACC,GAAA,EAAD,CACEnT,YAAY,oCACZ9F,QAAS,CACPV,KAAMU,EAAQkZ,UACd7c,MAAO2D,EAAQmZ,YAEjBtN,WAAY,CAAE,aAAc,UAC5B7V,KAAK,OACLyG,MAAOmc,EACPrc,SAAU,SAAC6H,GAAD,OAAW,EAAKuU,oBAAoBvU,W,GArC9BV,IAAM/B,WA2CjBG,iBAlGA,SAAC1C,GAAD,aACbC,aAAa,CACX0Z,OAAO,aACL/W,SAAU,WACVnG,aAAcuD,EAAM6F,MAAMpJ,aAC1B4V,gBAAiB2H,aAAKha,EAAMsS,QAAQvU,OAAOkc,MAAO,KAClD,UAAW,CACT5H,gBAAiB2H,aAAKha,EAAMsS,QAAQvU,OAAOkc,MAAO,MAEpDxJ,MAAO,OACPjH,WAAYxJ,EAAMM,QAAQ,IACzBN,EAAMyK,YAAY0M,GAAG,KAAO,CAC3B1G,MAAO,SAGXmJ,WAAY,CACVjX,QAAS3C,EAAMM,QAAQ,EAAG,GAC1Be,OAAQ,OACRuB,SAAU,WACVE,IAAK,EACLoX,cAAe,OACfvS,QAAS,OACTD,WAAY,SACZlH,eAAgB,SAChBqS,OAAQ,WAEViH,UAAW,CACTpd,MAAO,WAETqd,YAAU,GACRpX,QAAS3C,EAAMM,QAAQ,EAAG,EAAG,EAAG,GAEhC6Z,YAAY,cAAD,OAAgBna,EAAMM,QAAQ,GAA9B,OACX8Z,WAAYpa,EAAMqa,YAAYzb,OAAO,SACrC6R,MAAO,IACP,UAAW,CACTA,MAAO,SAPD,cASPzQ,EAAMyK,YAAYkG,KAAK,KAAO,CAC7BF,MAAO,QAVD,cAYPzQ,EAAMyK,YAAYkG,KAAK,KAAO,CAC7BF,MAAO,MAbD,OAqEC/N,CAAmB4W,ICzF5BxZ,GAAYC,cAAW,SAACC,GAAD,OAC3BC,aAAa,CACXqa,OAAQ,CACN/V,OAAQvE,EAAMuE,OAAOsR,OAAS,EAC9BuE,WAAYpa,EAAMqa,YAAYzb,OAAO,CAAC,QAAS,UAAW,CACxD2b,OAAQva,EAAMqa,YAAYE,OAAOC,MACjCC,SAAUza,EAAMqa,YAAYI,SAASC,iBAGzCC,YAAa,CACXnR,WAbc,IAcdiH,MAAM,eAAD,OAdS,IAcT,OACL2J,WAAYpa,EAAMqa,YAAYzb,OAAO,CAAC,QAAS,UAAW,CACxD2b,OAAQva,EAAMqa,YAAYE,OAAOC,MACjCC,SAAUza,EAAMqa,YAAYI,SAASG,kBAGzChF,KAAM,CACJjO,QAAS,QAEXkT,WAAY,CACVC,YAAa9a,EAAMM,QAAQ,SAsDlBya,GA3CI,SAACloB,GAClB,IAAM+N,EAAUd,KAER2W,EAAe5jB,EAAMH,MAArB+jB,WAMR,OACE,kBAACrF,GAAA,EAAD,CACE1U,MAAO,UACPkG,SAAS,WACT1B,UAAWkK,aAAKxK,EAAQ0Z,OAAT,eACZ1Z,EAAQ+Z,YAAclE,KAGzB,kBAACuE,GAAA,EAAD,CAASxiB,GAAG,sBACV,kBAAC+D,GAAA,EAAD,CACEG,MAAM,UACNE,aAAW,cACXC,QAhBiB,WACvBhK,EAAM8I,SAAS,CAAE/E,KAAM,iBAgBjBggB,KAAK,QACL1V,UAAWkK,aAAKxK,EAAQia,WAAT,eACZja,EAAQgV,KAAOa,KAGlB,kBAAC,KAAD,OAEF,kBAAC7P,GAAA,EAAD,CAAM1T,UAAW2T,KAAYnK,MAAM,YAAYvJ,GAAG,KAAlD,8CAGA,uBAAG0J,QAAS,kBAAMoe,eAAeC,UAAjC,IAlEQC,QAkER,KACA,kBAAC,GAAD,CAAW1D,WAAYhB,IACvB,kBAAC,GAAD,MACA,kBAAC,GAAmB5jB,IAEtB,kBAACojB,GAAepjB,GAChB,kBAAC,GAAeA,GAChB,kBAAC,GAAeA,KC1EhB2D,GAA4B,CAChCqiB,OAAQ,8BACRjB,aAAc,qCACdgB,kBAAmB,KACnBf,iBAAkB,KAClBpB,YAAY,GAUd,SAAS2E,GAAc1oB,EAAoBiE,GACzC,OAAQA,EAAOC,MACb,IAAK,QACH,OAAO,2BACFlE,GADL,kBAEGiE,EAAO0kB,UAAY1kB,EAAOW,UAG/B,IAAK,cACH,OAAO,2BACF5E,GADL,IAEE+jB,YAAa/jB,EAAM+jB,aAGvB,IAAK,gBACH,OAAO,2BACF/jB,GADL,IAEEkmB,kBAAmB,OAGvB,IAAK,eACH,OAAO,2BACFlmB,GADL,IAEEmlB,iBAAkB,OAGtB,IAAK,gBACH,OAAO,2BACFnlB,GADL,IAEEmlB,iBAAkBlhB,EAAOW,UAG7B,IAAK,iBACH,OAAO,2BACF5E,GADL,IAEEkmB,kBAAmBjiB,EAAOW,UAG9B,QACE,OAAO5E,GAab,IAwBeD,gBAXS,SAACC,GAEvB,MAAO,CAAEC,SADYD,EAAME,KAAnBD,aAIiB,SACzBgJ,GADyB,MAEF,CACvBmL,OAAQrE,YAAmBpE,GAAe1C,MAG7BlJ,EAxBwB,SAAC,GAAiB,IAAZ6oB,EAAW,sBAC5BC,qBAAWH,GAAe5kB,IADE,mBAC/C9D,EAD+C,KACxCiJ,EADwC,KAGtD,OAAO,kBAAC,GAAD,eAAYjJ,MAAOA,EAAOiJ,SAAUA,GAAc2f,OC1E9CE,GAAiB,SAACrlB,GAAD,MAAkB,CAAES,K/DRnB,kB+DQ0CT,QCJrEslB,GAAsB,GAgEXhpB,gBAbS,SAACC,GAEvB,MAAO,CACL8E,UAFmB9E,EAAbgF,SAEcF,cAIG,SACzBmE,GADyB,MAEF,CACvB+f,YAAajZ,YAAmB+Y,GAAgB7f,MAGnClJ,EAxDE,SAAC,GAA6C,IAA3C+E,EAA0C,EAA1CA,UAAWkkB,EAA+B,EAA/BA,YAA+B,EACjBC,cAAnCC,EADoD,EACpDA,gBAAiBC,EADmC,EACnCA,cAoCzB,OA1BA5K,qBAAU,WACC,OAATzZ,QAAS,IAATA,KAAWskB,SACT,YAAgE,IAV5CtjB,EAUjBrC,EAA4D,EAA5DA,IAAKuF,EAAuD,EAAvDA,QAAuD,IAA9CK,eAA8C,MAApC,GAAoC,MAAhClE,eAAgC,SAE3DgkB,EAAc1lB,GAGZslB,GAAUM,SAAS5lB,KACvBylB,EAAgBlgB,EAAD,YAAC,aACdvF,OACG4F,GAFU,IAGb2a,QAAS,SAAC1R,EAAOgX,EAAQC,GACnBlgB,EAAQ2a,SACV3a,EAAQ2a,QAAQ1R,EAAOgX,EAAQC,IAGnCC,SAAU,SAAClX,EAAOiX,GApBF,IAACzjB,EAqBXkjB,GAAaA,EAAYS,OAAOF,IArBrBzjB,EAsBC2jB,OAAOF,GArB/BR,GAAS,YAAOA,GAAU3jB,QAAO,SAAC3B,GAAD,OAASqC,IAAOrC,UAL3BqC,EA6BHrC,EA5BnBslB,GAAS,sBAAOA,IAAP,CAAkBjjB,UA+B1B,CAAChB,EAAWqkB,EAAeD,EAAiBF,IAExC,Q,8BC3BH5b,GAAYC,cAAW,SAACC,GAAD,OAC3BC,aAAa,CACXmc,UAAW,CACTzZ,QAAS3C,EAAMM,QAAQ,EAAG,EAAG,EAAG,GAChC,cAAe,CACbqC,QAAS3C,EAAMM,QAAQ,EAAG,MAG9B+b,KAAM,CACJhc,OAAQL,EAAMM,QAAQ,EAAG,SAIzBsP,GAAa,CACjB/V,KAAM,kBAACyiB,GAAA,EAAD,MACNxiB,MAAO,kBAACgW,GAAA,EAAD,MACP/V,OAAQ,kBAACiW,GAAA,EAAD,MACRhW,OAAQ,kBAACiW,GAAA,EAAD,MACRhW,SAAU,kBAACiW,GAAA,EAAD,MACVZ,SAAU,kBAACa,GAAA,EAAD,OAyFG1d,gBAfS,SAACC,GAEvB,MAAO,CACLU,SAFmBV,EAAMgH,OAAOqX,SAA1B3d,SAGNwG,OAAQlH,EAAMkH,WAIS,SACzB+B,GADyB,MAEF,CACvB8C,KAAMgE,YAAmBhE,KAAM9C,GAC/B0gB,KAAM5Z,YAAmBvE,KAAQvC,MAGpBlJ,EA/EI,SAAC,GAA6C,IAA3CmH,EAA0C,EAA1CA,OAAQxG,EAAkC,EAAlCA,SAAUqL,EAAwB,EAAxBA,KAAM4d,EAAkB,EAAlBA,KACtCzb,EAAUd,KAEVtM,EAAOD,EAAWH,GAClBmpB,EAAOC,OAAOD,KAAK/oB,GACnBgU,EAASgV,OAAOhV,OAAOhU,GACvBipB,EAAUjpB,EAAKI,OAAS,EAExB8oB,EAAgB,SAAC9K,GAErB,OADoBxe,EAASM,MAAM,KAAKmV,MAAM,EAAG+I,EAAI,GAClC9I,KAAK,MAGpB6T,EAAW,SAAC/K,GAAuB,IAAD,EAChC/X,EAAOD,EAAO2iB,EAAK3K,EAAI,IACvB7c,EAAI,OAAG8E,QAAH,IAAGA,GAAH,UAAGA,EAAM1C,YAAT,aAAG,EAAY9B,MACzB,OAAON,GAAcyS,EAAOoK,EAAI,IAG5BgL,EAAc,SAClB5X,GAEAA,EAAM6X,iBACNpe,EAAKuG,EAAMwT,cAAcplB,WAG3B,OAAOqpB,EACL,kBAACrL,GAAA,EAAD,CAAQxO,SAAS,UACf,kBAACyO,GAAA,EAAD,CAAOC,QAAM,GACX,kBAAC0J,GAAA,EAAD,CAAS8B,gBAAc,GACrB,kBAACvgB,GAAA,EAAD,CACEqa,KAAK,QACLla,MAAM,UACNE,aAAW,OACXC,QAASwf,EACTnb,UAAWN,EAAQyb,MAEnB,kBAACU,GAAA,EAAD,OAEF,kBAACzR,GAAA,EAAD,CAAS0R,YAAY,WAAWC,UAAQ,IACxC,kBAACC,GAAA,EAAD,CAAatgB,aAAW,aAAasE,UAAWN,EAAQwb,WACrDG,EAAK5kB,KAAI,SAACxB,EAAKyb,GAAN,OACR,kBAAChL,GAAA,EAAD,CACEzQ,IAAKyb,EACLuL,KAAMT,EAAc9K,GACpBlV,MAAM,UACNE,aAAY+f,EAAS/K,GACrB/U,QAAS+f,GAEF,IAANhL,EAAUhC,GAAMzZ,GAAOwmB,EAAS/K,WAO3C,QCxFAwL,GAAMxe,YAAO,CAAEye,QAAQ,GAAD,mBAAMC,eAAYD,SAAlB,CAA2BE,UAEjDzd,GAAYC,cAAW,SAACC,GAAD,OAC3BC,aAAa,CACXud,IAAK,CACH/M,MAAO,QACPpP,OAAQ,QACRoc,UAAW,SACX9V,QAAS,OACT+V,cAAe,SACfrG,SAAU,UAEZsG,SAAU,CACRtc,OAAQ,UACRoc,UAAW,SACXG,UAAW,aAiCFC,GAxBH,SAAC,GAA2B,IAAzBrkB,EAAwB,EAAxBA,QAAwB,EACTwD,mBAAkB/I,EAAW,QADpB,mBAC9BkiB,EAD8B,KACtBC,EADsB,KAE/BxV,EAAUd,KAEVE,EAAQ8d,aAAoB3H,EAASb,GAAYK,IACvD,OACE,kBAAC,IAAD,CAAiBnc,QAASA,GACxB,kBAACukB,GAAA,EAAD,CAAgBX,IAAKA,IACnB,kBAACY,GAAA,EAAD,CAAehe,MAAOA,GACpB,kBAAC,IAAD,KACE,kBAACkG,GAAA,EAAD,CAAKhF,UAAWN,EAAQ4c,KACtB,kBAAC,GAAD,CAAQxd,MAAO,CAAEmW,SAAQC,eACzB,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAClQ,GAAA,EAAD,CAAK1N,GAAG,YAAY0I,UAAWN,EAAQ+c,UACrC,kBAAC,GAAD,a,SCzDhBtqB,kBACE,kBAAC,IAAD,CAAUqH,MAAOA,IACf,kBAAC,GAAD,CAAKlB,QAASA,MAEhB4J,SAAS6a,eAAe,W","file":"static/js/main.e1588a29.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/melodition.7fdc0c11.jpg\";","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect, Route, RouteProps } from \"react-router\";\r\nimport { AppState } from \"../_types\";\r\n\r\ninterface ProtectedRouteProps extends RouteProps {\r\n  loggedIn?: boolean;\r\n  isAllowed?: boolean;\r\n  restrictedPath: string;\r\n  authenticationPath: string;\r\n}\r\n\r\nexport const ProtectedRoute: React.FC<ProtectedRouteProps> = (props) => {\r\n  let redirectPath = \"\";\r\n  if (!props.loggedIn) {\r\n    redirectPath = props.authenticationPath;\r\n  }\r\n  if (props.loggedIn && !props.isAllowed) {\r\n    redirectPath = props.restrictedPath;\r\n  }\r\n\r\n  if (redirectPath) {\r\n    const renderComponent = () => <Redirect to={{ pathname: redirectPath }} />;\r\n    return <Route {...props} component={renderComponent} render={undefined} />;\r\n  } else {\r\n    return <Route {...props} />;\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state: AppState) => {\r\n  const { auth } = state;\r\n  return {\r\n    loggedIn: auth.loggedIn,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(ProtectedRoute);\r\n","import React from \"react\";\r\nimport { LoginResponse } from \"../_types/user.types\";\r\nimport {\r\n  SettingsApplications,\r\n  AccountBox,\r\n  Home,\r\n  FileCopy,\r\n  Info,\r\n} from \"@material-ui/icons\";\r\n\r\nimport fallImg from \"../assets/img/melodition.jpg\";\r\n\r\nexport interface PathFinder {\r\n  post?: number;\r\n  guide?: number;\r\n  course?: number;\r\n  lesson?: number;\r\n  exercise?: number;\r\n  length: number;\r\n}\r\nexport const pathFinder = (path: string): PathFinder => {\r\n  const pathSplit = path.split(\"/\");\r\n  let compiledPath: PathFinder = { length: 0 };\r\n  if (pathSplit.length === 3) {\r\n    compiledPath = {\r\n      [pathSplit[1]]: Number(pathSplit[2]),\r\n      length: 1,\r\n    };\r\n  } else if (pathSplit.length === 4) {\r\n    const typeSplit = pathSplit[3].split(\"=\");\r\n    compiledPath = {\r\n      [pathSplit[1]]: Number(pathSplit[2]),\r\n      [typeSplit[0]]: Number(typeSplit[1]),\r\n      length: 2,\r\n    };\r\n  } else if (pathSplit.length === 5) {\r\n    const type1Split = pathSplit[3].split(\"=\");\r\n    const type2Split = pathSplit[4].split(\"=\");\r\n    compiledPath = {\r\n      [pathSplit[1]]: Number(pathSplit[2]),\r\n      [type1Split[0]]: Number(type1Split[1]),\r\n      [type2Split[0]]: Number(type2Split[1]),\r\n      length: 3,\r\n    };\r\n  }\r\n  return compiledPath;\r\n};\r\n\r\nexport function getUserLocal(key: string): LoginResponse {\r\n  const item = localStorage.getItem(key);\r\n  return item !== null ? JSON.parse(item) : undefined;\r\n}\r\n\r\nexport function localTheme(com: \"dark\" | \"light\" | \"get\"): boolean {\r\n  switch (com) {\r\n    case \"dark\":\r\n      localStorage.setItem(\"theme\", \"dark\");\r\n      return false;\r\n    case \"light\":\r\n      localStorage.setItem(\"theme\", \"light\");\r\n      return false;\r\n    case \"get\":\r\n      return localStorage.getItem(\"theme\") === \"dark\" ? true : false;\r\n    default:\r\n      return false;\r\n  }\r\n}\r\nexport function getTheTime(minutes: number = 0): number {\r\n  var d = new Date();\r\n  var t = d.getTime();\r\n  const ms = minutes * 60000;\r\n  return t + ms;\r\n}\r\n\r\nexport const sideLink = {\r\n  in: [\r\n    { name: \"پروفایل\", to: \"/profile\", icon: <SettingsApplications /> },\r\n    { name: \"کابری من\", to: \"/dashboard\", icon: <AccountBox /> },\r\n  ],\r\n  out: [\r\n    { name: \"ورود\", to: \"/login\", icon: <AccountBox /> },\r\n    { name: \"ثبت نام\", to: \"/register\", icon: <AccountBox /> },\r\n  ],\r\n};\r\nexport const links = [\r\n  { to: \"/\", title: \"خانه‌\", icon: <Home /> },\r\n  { to: \"/learning\", title: \"درس ها‌\", icon: <FileCopy /> },\r\n  { to: \"/about\", title: \"درباره‌\", icon: <Info /> },\r\n];\r\n\r\nexport const UniqId = (): string => {\r\n  return getTheTime(Math.random()).toString(36);\r\n};\r\n\r\nexport const thumbnailsFinder = (\r\n  img: string | { medium: string } | null\r\n): string => {\r\n  let image = fallImg;\r\n  if (img) {\r\n    if (typeof img === \"object\") image = img.medium;\r\n    else if (typeof img === \"string\") image = img;\r\n  }\r\n  return image;\r\n};\r\n","import {\r\n  LOST_FAILURE,\r\n  LOST_REQUEST,\r\n  LOST_SUCCESS,\r\n  LOGIN_REQUEST,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAILURE,\r\n  REGISTER_FAILURE,\r\n  REGISTER_REQUEST,\r\n  REGISTER_SUCCESS,\r\n  USER_LOGOUT,\r\n  UserActionTypes,\r\n  DefaultUserState,\r\n} from \"../_types/user.types\";\r\nimport { getUserLocal } from \"../_helpers/constants\";\r\n\r\nconst user = getUserLocal(\"user\");\r\n\r\nconst initialState: DefaultUserState = user\r\n  ? { loggedIn: true, loading: false, user }\r\n  : { loggedIn: false, loading: false };\r\n\r\nexport function authReducer(\r\n  state = initialState,\r\n  action: UserActionTypes\r\n): DefaultUserState {\r\n  switch (action.type) {\r\n    case LOGIN_REQUEST:\r\n      return { ...state, loading: true };\r\n    case LOGIN_SUCCESS:\r\n      return {\r\n        loggedIn: true,\r\n        loading: false,\r\n        user: action.user,\r\n      };\r\n    case LOGIN_FAILURE:\r\n      return { ...state, loading: false };\r\n    case REGISTER_REQUEST:\r\n      return { loggedIn: false, loading: true };\r\n    case REGISTER_SUCCESS:\r\n      return { ...state, loading: false };\r\n    case REGISTER_FAILURE:\r\n      return { ...state, loading: false };\r\n    case LOST_REQUEST:\r\n      return { loggedIn: false, loading: true };\r\n    case LOST_SUCCESS:\r\n      return { ...state, loading: false };\r\n    case LOST_FAILURE:\r\n      return { ...state, loading: false };\r\n    case USER_LOGOUT:\r\n      return { loggedIn: false, loading: false };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","export const REGISTER_REQUEST = \"USER_REGISTER_REQUEST\";\r\nexport const REGISTER_SUCCESS = \"USER_REGISTER_SUCCESS\";\r\nexport const REGISTER_FAILURE = \"USER_REGISTER_FAILURE\";\r\n\r\nexport const LOGIN_REQUEST = \"USER_LOGIN_REQUEST\";\r\nexport const LOGIN_SUCCESS = \"USER_LOGIN_SUCCESS\";\r\nexport const LOGIN_FAILURE = \"USER_LOGIN_FAILURE\";\r\n\r\nexport const USER_LOGOUT = \"USER_LOGOUT\";\r\n\r\nexport const LOST_REQUEST = \"USER_LOST_REQUEST\";\r\nexport const LOST_SUCCESS = \"USER_LOST_SUCCESS\";\r\nexport const LOST_FAILURE = \"USER_LOST_FAILURE\";\r\n\r\nexport interface DefaultUserState {\r\n  loggedIn: boolean;\r\n  loading: boolean;\r\n  user?: LoginResponse;\r\n  error?: string;\r\n}\r\nexport type ILost = {\r\n  user_login: string;\r\n};\r\nexport type IUser = {\r\n  username: string;\r\n  password: string;\r\n};\r\nexport type IRegister = {\r\n  username: string;\r\n  password: string;\r\n  firstname: string;\r\n  lastname: string;\r\n  email: string;\r\n};\r\nexport type LoginResponse = {\r\n  user_display_name: string;\r\n  token: string;\r\n  user_email: string;\r\n  user_nicename: string;\r\n};\r\n\r\nexport interface LoginRequestAction {\r\n  type: typeof LOGIN_REQUEST;\r\n}\r\nexport interface LoginSuccessAction {\r\n  type: typeof LOGIN_SUCCESS;\r\n  user: LoginResponse;\r\n}\r\nexport interface LoginFailureAction {\r\n  type: typeof LOGIN_FAILURE;\r\n  error: string;\r\n}\r\n\r\nexport interface RegisterRequestAction {\r\n  type: typeof REGISTER_REQUEST;\r\n}\r\nexport interface RegisterSuccessAction {\r\n  type: typeof REGISTER_SUCCESS;\r\n  user: string;\r\n}\r\nexport interface RegisterFailureAction {\r\n  type: typeof REGISTER_FAILURE;\r\n  error: string;\r\n}\r\n\r\nexport interface LogoutAction {\r\n  type: typeof USER_LOGOUT;\r\n}\r\n\r\nexport interface LostRequestAction {\r\n  type: typeof LOST_REQUEST;\r\n}\r\nexport interface LostSuccessAction {\r\n  type: typeof LOST_SUCCESS;\r\n  message: string;\r\n}\r\nexport interface LostFailureAction {\r\n  type: typeof LOST_FAILURE;\r\n  error: string;\r\n}\r\n\r\nexport type UserActionTypes =\r\n  | RegisterRequestAction\r\n  | RegisterSuccessAction\r\n  | RegisterFailureAction\r\n  | LostRequestAction\r\n  | LostSuccessAction\r\n  | LostFailureAction\r\n  | LogoutAction\r\n  | LoginRequestAction\r\n  | LoginSuccessAction\r\n  | LoginFailureAction;\r\n","export const INFO_REQUEST = \"PROFILE_INFO_REQUEST\";\r\nexport const INFO_SUCCESS = \"PROFILE_INFO_SUCCESS\";\r\nexport const INFO_FAILURE = \"PROFILE_INFO_FAILURE\";\r\n\r\nexport const ADD_REQUEST = \"PROFILE_ADD_REQUEST\";\r\nexport const ADD_SUCCESS = \"PROFILE_ADD_SUCCESS\";\r\nexport const ADD_FAILURE = \"PROFILE_ADD_FAILURE\";\r\n\r\nexport const REMOVE_REQUEST = \"PROFILE_REMOVE_REQUEST\";\r\nexport const REMOVE_SUCCESS = \"PROFILE_REMOVE_SUCCESS\";\r\nexport const REMOVE_FAILURE = \"PROFILE_REMOVE_FAILURE\";\r\n\r\nexport const SAVE_PROFILE = \"SAVE_PROFILE\";\r\nexport const DELETE_PROFILE = \"DELETE_PROFILE\";\r\n\r\nexport interface DefaultProfileState {\r\n  error?: string;\r\n  loading: boolean;\r\n  profile?: IProfile;\r\n}\r\nexport type IProfile = {\r\n  id: string;\r\n  name: string;\r\n  slug: string;\r\n  meta: {\r\n    playtime: Playtime[];\r\n  };\r\n  title: { rendered: string };\r\n  score: { rendered: string };\r\n  favorite: favorite[];\r\n  info?: UserInfo;\r\n};\r\nexport type UserInfo = {\r\n  userID: string;\r\n  expire: number;\r\n  issued: number;\r\n  before: number;\r\n};\r\ntype Playtime = {\r\n  song: {\r\n    name: string;\r\n    id: number;\r\n    notes: number;\r\n  };\r\n  time: string;\r\n  score: string;\r\n  date: string;\r\n  progress: string;\r\n};\r\ninterface favorite {\r\n  id: string;\r\n}\r\n\r\nexport interface SaveProfileInfoAction {\r\n  type: typeof SAVE_PROFILE;\r\n  userData: any;\r\n}\r\nexport interface DeleteProfileInfoAction {\r\n  type: typeof DELETE_PROFILE;\r\n}\r\n\r\nexport interface ProfileInfoRequestAction {\r\n  type: typeof INFO_REQUEST;\r\n}\r\nexport interface ProfileInfoSuccessAction {\r\n  type: typeof INFO_SUCCESS;\r\n  profile: IProfile;\r\n}\r\nexport interface ProfileInfoFailureAction {\r\n  type: typeof INFO_FAILURE;\r\n  error: string;\r\n}\r\n\r\nexport interface ProfileAddRequestAction {\r\n  type: typeof ADD_REQUEST;\r\n}\r\nexport interface ProfileAddSuccessAction {\r\n  type: typeof ADD_SUCCESS;\r\n  items: IProfile;\r\n}\r\nexport interface ProfileAddFailureAction {\r\n  type: typeof ADD_FAILURE;\r\n  items: IProfile;\r\n}\r\n\r\nexport interface ProfileRemoveRequestAction {\r\n  type: typeof REMOVE_REQUEST;\r\n  id: number;\r\n}\r\nexport interface ProfileRemoveSuccessAction {\r\n  type: typeof REMOVE_SUCCESS;\r\n  id: number;\r\n}\r\nexport interface ProfileRemoveFailureAction {\r\n  type: typeof REMOVE_FAILURE;\r\n  error: boolean;\r\n  id: number;\r\n}\r\n\r\nexport type ProfileActionTypes =\r\n  | SaveProfileInfoAction\r\n  | DeleteProfileInfoAction\r\n  | ProfileInfoRequestAction\r\n  | ProfileInfoSuccessAction\r\n  | ProfileInfoFailureAction\r\n  | ProfileAddRequestAction\r\n  | ProfileAddSuccessAction\r\n  | ProfileAddFailureAction\r\n  | ProfileRemoveRequestAction\r\n  | ProfileRemoveSuccessAction\r\n  | ProfileRemoveFailureAction;\r\n","import {\r\n  // ADD_REQUEST,\r\n  // ADD_SUCCESS,\r\n  // ADD_FAILURE,\r\n  INFO_REQUEST,\r\n  INFO_FAILURE,\r\n  INFO_SUCCESS,\r\n  // REMOVE_REQUEST,\r\n  // REMOVE_SUCCESS,\r\n  // REMOVE_FAILURE,\r\n  ProfileActionTypes,\r\n  SAVE_PROFILE,\r\n  DefaultProfileState,\r\n} from \"../_types/profile.types\";\r\n\r\nconst profileReducerDefaultState: DefaultProfileState = {\r\n  loading: true,\r\n};\r\n\r\nexport function profileReducer(\r\n  state = profileReducerDefaultState,\r\n  action: ProfileActionTypes\r\n): DefaultProfileState {\r\n  switch (action.type) {\r\n    case SAVE_PROFILE:\r\n      return {\r\n        loading: true,\r\n        profile: action.userData,\r\n      };\r\n    case INFO_REQUEST:\r\n      return state;\r\n    case INFO_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        profile: action.profile,\r\n      };\r\n    case INFO_FAILURE:\r\n      return {\r\n        loading: false,\r\n        error: action.error,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","export const REQUEST_FAVORITES = \"REQUEST_FAVORITES\";\r\nexport const SUCCESS_FAVORITES = \"SUCCESS_FAVORITES\";\r\nexport const FAILURE_FAVORITES = \"FAILURE_FAVORITES\";\r\n\r\nexport interface DefaultFavoritesState {\r\n  data: IFavorite[];\r\n  error: string;\r\n  loading: boolean;\r\n  nextLoad: number;\r\n}\r\n\r\nexport interface IFavorite {\r\n  id: number;\r\n  title: string;\r\n  content: string;\r\n  author: string;\r\n  excerpt: string;\r\n  featured_img: string;\r\n  slug: string;\r\n  info: FavoriteInfo;\r\n}\r\ntype FavoriteInfo = {\r\n  series: string[];\r\n  instrument: string;\r\n  grade: string[];\r\n  genre: string[];\r\n  img: string[];\r\n  tags: string[];\r\n};\r\n\r\nexport interface RequestFavorites {\r\n  type: typeof REQUEST_FAVORITES;\r\n}\r\nexport interface SeccessFavorites {\r\n  type: typeof SUCCESS_FAVORITES;\r\n  payload: {\r\n    data: IFavorite[];\r\n    nextLoad: number;\r\n  }\r\n}\r\nexport interface FailureFavorites {\r\n  type: typeof FAILURE_FAVORITES;\r\n  error: string;\r\n}\r\n\r\nexport type FavoriteActionTypes =\r\n  | RequestFavorites\r\n  | SeccessFavorites\r\n  | FailureFavorites;\r\n","import {\r\n  REQUEST_FAVORITES,\r\n  SUCCESS_FAVORITES,\r\n  FAILURE_FAVORITES,\r\n  FavoriteActionTypes,\r\n  DefaultFavoritesState,\r\n} from \"../_types/favorite.types\";\r\n\r\nconst favoriteReducerDefaultState: DefaultFavoritesState = {\r\n  data: [],\r\n  loading: true,\r\n  error: 'Not Found',\r\n  nextLoad: 0,\r\n};\r\n\r\nexport const favoriteReducer = (\r\n  state = favoriteReducerDefaultState,\r\n  action: FavoriteActionTypes\r\n): DefaultFavoritesState => {\r\n  switch (action.type) {\r\n    case REQUEST_FAVORITES:\r\n      return state;\r\n    case SUCCESS_FAVORITES:\r\n      return {\r\n        ...state,\r\n        nextLoad: action.payload.nextLoad,\r\n        data: action.payload.data,\r\n        loading: false,\r\n      };\r\n    case FAILURE_FAVORITES:\r\n      return {\r\n        data: [],\r\n        error: action.error,\r\n        nextLoad: 0,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  DefaultSnackState,\r\n  CLEAR_SNACKBAR,\r\n  SHOW_SNACKBAR,\r\n  SnackActionTypes,\r\n  REMOVE_SNACKBAR,\r\n} from \"../_types/snackbar.types\";\r\n\r\nconst snackbarReducerDefaultState: DefaultSnackState = {\r\n  snackbars: [],\r\n};\r\n\r\nexport const snackbarReducer = (\r\n  state = snackbarReducerDefaultState,\r\n  action: SnackActionTypes\r\n): DefaultSnackState => {\r\n  switch (action.type) {\r\n    case SHOW_SNACKBAR:\r\n      return {\r\n        ...state,\r\n        snackbars: [\r\n          ...state.snackbars,\r\n          {\r\n            ...action.snackbar,\r\n          },\r\n        ],\r\n      };\r\n    case CLEAR_SNACKBAR:\r\n      return {\r\n        ...state,\r\n        snackbars: state.snackbars?.map((snackbar) =>\r\n          action.dismissAll || snackbar.key === action.key\r\n            ? { ...snackbar, dismissed: true }\r\n            : { ...snackbar }\r\n        ),\r\n      };\r\n    case REMOVE_SNACKBAR:\r\n      return {\r\n        ...state,\r\n        snackbars: state.snackbars?.filter(\r\n          (snackbar) => snackbar.key !== action.key\r\n        ),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { TransitionProps } from \"@material-ui/core/transitions/transition\";\r\nimport { TransitionHandler, VariantType, TransitionCloseHandler, SnackbarOrigin } from \"notistack/dist\";\r\n\r\nexport const SHOW_SNACKBAR = \"SHOW_SNACKBAR\";\r\nexport const CLEAR_SNACKBAR = \"CLEAR_SNACKBAR\";\r\nexport const REMOVE_SNACKBAR = \"REMOVE_SNACKBAR\";\r\n\r\nexport interface DefaultSnackState {\r\n  type?: string;\r\n  snackbars?: ISnack[];\r\n}\r\nexport type ISnack = {\r\n  message: string;\r\n  key: string;\r\n  dismissed?: boolean;\r\n  options: SnackOption;\r\n};\r\ninterface SnackOption {\r\n  TransitionComponent?: (props: TransitionProps) => JSX.Element;\r\n  autoHideDuration?: number | null;\r\n  anchorOrigin?: SnackbarOrigin;\r\n  variant?: VariantType;\r\n  action?: (key: string) => JSX.Element;\r\n  onClose?: TransitionCloseHandler\r\n  onExited?: TransitionHandler;\r\n}\r\nexport interface SeccessSnackAction {\r\n  type: typeof SHOW_SNACKBAR;\r\n  snackbar: ISnack;\r\n}\r\nexport interface ClearSnackAction {\r\n  type: typeof CLEAR_SNACKBAR;\r\n  dismissAll?: boolean;\r\n  key?: string;\r\n}\r\nexport interface RemoveSnackAction {\r\n  type: typeof REMOVE_SNACKBAR;\r\n  key: string;\r\n}\r\n\r\nexport type SnackActionTypes =\r\n  | SeccessSnackAction\r\n  | ClearSnackAction\r\n  | RemoveSnackAction;\r\n","import {\r\n  REQUEST_POST,\r\n  SUCCESS_POST,\r\n  FAILURE_POST,\r\n  REQUEST_POSTS,\r\n  SUCCESS_POSTS,\r\n  FAILURE_POSTS,\r\n  PostActionTypes,\r\n  DefaultPostState,\r\n  DefaultPostsState,\r\n} from \"../_types/post.types\";\r\n\r\nconst postsReducerDefaultState: DefaultPostsState = {\r\n  data: [],\r\n  loading: true,\r\n  error: 'Not Found',\r\n  nextLoad: 0,\r\n};\r\n\r\nexport const postsReducer = (\r\n  state = postsReducerDefaultState,\r\n  action: PostActionTypes\r\n): DefaultPostsState => {\r\n  switch (action.type) {\r\n    case REQUEST_POSTS:\r\n      return state;\r\n    case SUCCESS_POSTS:\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n        nextLoad: action.payload.nextLoad,\r\n        loading: false,\r\n      };\r\n    case FAILURE_POSTS:\r\n      return {\r\n        data: [],\r\n        error: action.error,\r\n        nextLoad: 0,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst postReducerDefaultState: DefaultPostState = {\r\n  loading: true,\r\n  error: 'Not Found'\r\n};\r\n\r\nexport const postReducer = (\r\n  state = postReducerDefaultState,\r\n  action: PostActionTypes\r\n): DefaultPostState => {\r\n  switch (action.type) {\r\n    case REQUEST_POST:\r\n      return { ...state, loading: true, data: undefined };\r\n    case SUCCESS_POST:\r\n      if (action.data === undefined) {\r\n        return {\r\n          ...state,\r\n          data: action.data,\r\n          loading: false,\r\n        }\r\n      } else {\r\n        return {\r\n          ...state,\r\n          data: action.data,\r\n          loading: false,\r\n        };\r\n      }\r\n    case FAILURE_POST:\r\n      return {\r\n        ...state,\r\n        error: action.error,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const REQUEST_POSTS = \"REQUEST_POSTS\";\r\nexport const SUCCESS_POSTS = \"SUCCESS_POSTS\";\r\nexport const FAILURE_POSTS = \"FAILURE_POSTS\";\r\n\r\nexport const REQUEST_POST = \"REQUEST_POST\";\r\nexport const SUCCESS_POST = \"SUCCESS_POST\";\r\nexport const FAILURE_POST = \"FAILURE_POST\";\r\n\r\nexport interface DefaultPostsState {\r\n  data: IPost[];\r\n  error: string;\r\n  loading: boolean;\r\n  nextLoad: number;\r\n}\r\nexport interface DefaultPostState {\r\n  data?: IPost;\r\n  error: string;\r\n  loading: boolean;\r\n}\r\n\r\nexport interface IPost {\r\n  id: number,\r\n  title: string,\r\n  content: string,\r\n  slug: string,\r\n  excerpt: string,\r\n  date: string,\r\n  author: string,\r\n  featured_img: string,\r\n  categories: string[]\r\n  tags: string[]\r\n}\r\n\r\nexport interface RequestPosts {\r\n  type: typeof REQUEST_POSTS;\r\n}\r\nexport interface SeccessPosts {\r\n  type: typeof SUCCESS_POSTS;\r\n  payload: {\r\n    data: IPost[];\r\n    nextLoad: number;\r\n  }\r\n}\r\nexport interface FailurePosts {\r\n  type: typeof FAILURE_POSTS;\r\n  error: string;\r\n}\r\n\r\nexport interface RequestPost {\r\n  type: typeof REQUEST_POST;\r\n}\r\nexport interface SeccessPost {\r\n  type: typeof SUCCESS_POST;\r\n  data: IPost;\r\n}\r\nexport interface FailurePost {\r\n  type: typeof FAILURE_POST;\r\n  error: string;\r\n}\r\n\r\nexport type PostActionTypes =\r\n  | RequestPosts\r\n  | SeccessPosts\r\n  | FailurePosts\r\n  | RequestPost\r\n  | SeccessPost\r\n  | FailurePost;\r\n","import {\r\n  SAVE_GUIDES,\r\n  REQUEST_GUIDE,\r\n  SUCCESS_GUIDE,\r\n  FAILURE_GUIDE,\r\n  REQUEST_GUIDES,\r\n  SUCCESS_GUIDES,\r\n  FAILURE_GUIDES,\r\n  GuideActionTypes,\r\n  DefaultGuideState,\r\n  DefaultGuidesState,\r\n} from \"../_types/guide.types\";\r\n\r\nconst guidesReducerDefaultState: DefaultGuidesState = {\r\n  data: [],\r\n  loading: true,\r\n  error: \"Not Found\",\r\n  nextLoad: 0,\r\n};\r\n\r\nexport const guidesReducer = (\r\n  state = guidesReducerDefaultState,\r\n  action: GuideActionTypes\r\n): DefaultGuidesState => {\r\n  switch (action.type) {\r\n    case REQUEST_GUIDES:\r\n      return state;\r\n    case SUCCESS_GUIDES:\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n        nextLoad: action.payload.nextLoad,\r\n        loading: false,\r\n      };\r\n    case SAVE_GUIDES:\r\n      let match = false;\r\n      if (state.data.length)\r\n        match = action.data.every(item => state.data.map(_ => _.id === item.id));\r\n      return {\r\n        ...state,\r\n        data: match ? state.data : action.data,\r\n      };\r\n    case FAILURE_GUIDES:\r\n      return {\r\n        data: [],\r\n        error: action.error,\r\n        nextLoad: 0,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst guideReducerDefaultState: DefaultGuideState = {\r\n  loading: true,\r\n  error: \"Not Found\",\r\n};\r\n\r\nexport const guideReducer = (\r\n  state = guideReducerDefaultState,\r\n  action: GuideActionTypes\r\n): DefaultGuideState => {\r\n  switch (action.type) {\r\n    case REQUEST_GUIDE:\r\n      return { ...state, loading: true, data: undefined };\r\n    case SUCCESS_GUIDE:\r\n      return {\r\n        ...state,\r\n        data: action.data,\r\n        loading: false,\r\n      };\r\n    case FAILURE_GUIDE:\r\n      return {\r\n        ...state,\r\n        error: action.error,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { ICourse } from \"./course.types\";\r\nimport { ILesson } from \"./lesson.types\";\r\n\r\nexport const REQUEST_GUIDES = \"REQUEST_GUIDES\";\r\nexport const SUCCESS_GUIDES = \"SUCCESS_GUIDES\";\r\nexport const FAILURE_GUIDES = \"FAILURE_GUIDES\";\r\n\r\nexport const SAVE_GUIDES = \"SAVE_GUIDES\";\r\n\r\nexport const REQUEST_GUIDE = \"REQUEST_GUIDE\";\r\nexport const SUCCESS_GUIDE = \"SUCCESS_GUIDE\";\r\nexport const FAILURE_GUIDE = \"FAILURE_GUIDE\";\r\n\r\nexport interface DefaultGuidesState {\r\n    data: IGuide[];\r\n    error: string;\r\n    loading: boolean;\r\n    nextLoad: number;\r\n}\r\nexport interface DefaultGuideState {\r\n    data?: IGuide;\r\n    error: string;\r\n    loading: boolean;\r\n}\r\n\r\nexport interface IGuide {\r\n    title: string;\r\n    id: number;\r\n    slug: string;\r\n    teacher: string;\r\n    description: string;\r\n    instrument_id: number;\r\n    instrument_name: string;\r\n    color: string;\r\n    thumbnails: ThumbnailsInfo;\r\n    guide_select: GuideSelect[];\r\n}\r\nexport type GuideSelect = {\r\n    exercise_description: string;\r\n    exercise: ILesson[];\r\n    course_description: string;\r\n    course: ICourse[];\r\n}\r\ntype ThumbnailsInfo = {\r\n    thumbnail: string;\r\n    medium: string;\r\n    medium_large: string;\r\n    large: string;\r\n    '1536x1536': string;\r\n    '2048x2048': string;\r\n};\r\n\r\nexport interface RequestGuides {\r\n    type: typeof REQUEST_GUIDES;\r\n}\r\nexport interface SeccessGuides {\r\n    type: typeof SUCCESS_GUIDES;\r\n    payload: {\r\n        data: IGuide[];\r\n        nextLoad: number;\r\n    }\r\n}\r\n\r\nexport interface SaveGuides {\r\n    type: typeof SAVE_GUIDES;\r\n    data: IGuide[];\r\n}\r\n\r\nexport interface FailureGuides {\r\n    type: typeof FAILURE_GUIDES;\r\n    error: string;\r\n}\r\n\r\nexport interface RequestGuide {\r\n    type: typeof REQUEST_GUIDE;\r\n}\r\nexport interface SeccessGuide {\r\n    type: typeof SUCCESS_GUIDE;\r\n    data: IGuide;\r\n}\r\nexport interface FailureGuide {\r\n    type: typeof FAILURE_GUIDE;\r\n    error: string;\r\n}\r\n\r\nexport type GuideActionTypes =\r\n    | RequestGuides\r\n    | SeccessGuides\r\n    | FailureGuides\r\n    | RequestGuide\r\n    | SeccessGuide\r\n    | FailureGuide\r\n    | SaveGuides;\r\n","import {\r\n  SAVE_LESSONS,\r\n  REQUEST_LESSON,\r\n  SUCCESS_LESSON,\r\n  FAILURE_LESSON,\r\n  REQUEST_LESSONS,\r\n  SUCCESS_LESSONS,\r\n  FAILURE_LESSONS,\r\n  LessonActionTypes,\r\n  DefaultLessonState,\r\n  DefaultLessonsState,\r\n} from \"../_types/lesson.types\";\r\n\r\nconst lessonsReducerDefaultState: DefaultLessonsState = {\r\n  data: [],\r\n  loading: true,\r\n  error: \"Not Found\",\r\n  nextLoad: 0,\r\n};\r\n\r\nexport const lessonsReducer = (\r\n  state = lessonsReducerDefaultState,\r\n  action: LessonActionTypes\r\n): DefaultLessonsState => {\r\n  switch (action.type) {\r\n    case REQUEST_LESSONS:\r\n      return state;\r\n    case SUCCESS_LESSONS:\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n        nextLoad: action.payload.nextLoad,\r\n        loading: false,\r\n      };\r\n    case SAVE_LESSONS:\r\n      let match = false;\r\n      if (state.data.length)\r\n        match = action.data.every(item => state.data.map(_ => _.id === item.id));\r\n      return {\r\n        ...state,\r\n        data: match ? state.data : action.data,\r\n      };\r\n    case FAILURE_LESSONS:\r\n      return {\r\n        data: [],\r\n        error: action.error,\r\n        nextLoad: 0,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst lessonReducerDefaultState: DefaultLessonState = {\r\n  loading: true,\r\n  error: \"Not Found\",\r\n};\r\n\r\nexport const lessonReducer = (\r\n  state = lessonReducerDefaultState,\r\n  action: LessonActionTypes\r\n): DefaultLessonState => {\r\n  switch (action.type) {\r\n    case REQUEST_LESSON:\r\n      return { ...state, loading: true, data: undefined };\r\n    case SUCCESS_LESSON:\r\n      return {\r\n        ...state,\r\n        data: action.data,\r\n        loading: false,\r\n      };\r\n    case FAILURE_LESSON:\r\n      return {\r\n        ...state,\r\n        error: action.error,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const REQUEST_LESSONS = \"REQUEST_LESSONS\";\r\nexport const SUCCESS_LESSONS = \"SUCCESS_LESSONS\";\r\nexport const FAILURE_LESSONS = \"FAILURE_LESSONS\";\r\n\r\nexport const SAVE_LESSONS = \"SAVE_LESSONS\";\r\n\r\nexport const REQUEST_LESSON = \"REQUEST_LESSON\";\r\nexport const SUCCESS_LESSON = \"SUCCESS_LESSON\";\r\nexport const FAILURE_LESSON = \"FAILURE_LESSON\";\r\n\r\nexport interface DefaultLessonsState {\r\n  data: ILesson[];\r\n  error: string;\r\n  loading: boolean;\r\n  nextLoad: number;\r\n}\r\nexport interface DefaultLessonState {\r\n  data?: ILesson;\r\n  error: string;\r\n  loading: boolean;\r\n}\r\n\r\nexport interface ILesson {\r\n  id: number;\r\n  title: string;\r\n  content: string;\r\n  author: string;\r\n  excerpt: string;\r\n  featured_img: string;\r\n  slug: string;\r\n  info: LessonInfo;\r\n}\r\nexport type LessonInfo = {\r\n  series: infoDetails;\r\n  instrument: infoDetails;\r\n  grade: infoDetails;\r\n  genre: infoDetails;\r\n};\r\n\r\ntype infoDetails = {\r\n  name: string,\r\n  id: number,\r\n  img: string,\r\n  color: string,\r\n  description: string\r\n}\r\n\r\nexport interface RequestLessons {\r\n  type: typeof REQUEST_LESSONS;\r\n}\r\nexport interface SeccessLessons {\r\n  type: typeof SUCCESS_LESSONS;\r\n  payload: {\r\n    data: ILesson[];\r\n    nextLoad: number;\r\n  }\r\n}\r\nexport interface FailureLessons {\r\n  type: typeof FAILURE_LESSONS;\r\n  error: string;\r\n}\r\n\r\nexport interface SaveLessons {\r\n  type: typeof SAVE_LESSONS;\r\n  data: ILesson[];\r\n}\r\n\r\nexport interface RequestLesson {\r\n  type: typeof REQUEST_LESSON;\r\n}\r\nexport interface SeccessLesson {\r\n  type: typeof SUCCESS_LESSON;\r\n  data: ILesson;\r\n}\r\nexport interface FailureLesson {\r\n  type: typeof FAILURE_LESSON;\r\n  error: string;\r\n}\r\n\r\n\r\nexport type LessonActionTypes =\r\n  | RequestLessons\r\n  | SeccessLessons\r\n  | FailureLessons\r\n  | RequestLesson\r\n  | SeccessLesson\r\n  | FailureLesson\r\n  | SaveLessons;\r\n","import {\r\n  SAVE_COURSES,\r\n  REQUEST_COURSE,\r\n  SUCCESS_COURSE,\r\n  FAILURE_COURSE,\r\n  REQUEST_COURSES,\r\n  SUCCESS_COURSES,\r\n  FAILURE_COURSES,\r\n  CourseActionTypes,\r\n  DefaultCourseState,\r\n  DefaultCoursesState,\r\n} from \"../_types/course.types\";\r\n\r\nconst coursesReducerDefaultState: DefaultCoursesState = {\r\n  data: [],\r\n  loading: true,\r\n  error: \"Not Found\",\r\n  nextLoad: 0,\r\n};\r\n\r\nexport const coursesReducer = (\r\n  state = coursesReducerDefaultState,\r\n  action: CourseActionTypes\r\n): DefaultCoursesState => {\r\n  switch (action.type) {\r\n    case REQUEST_COURSES:\r\n      return state;\r\n    case SUCCESS_COURSES:\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n        nextLoad: action.payload.nextLoad,\r\n        loading: false,\r\n      };\r\n    case SAVE_COURSES:\r\n      let match = false;\r\n      if (state.data.length)\r\n        match = action.data.every(item => state.data.map(_ => _.id === item.id));\r\n      return {\r\n        ...state,\r\n        data: match ? state.data : action.data,\r\n      };\r\n    case FAILURE_COURSES:\r\n      return {\r\n        data: [],\r\n        nextLoad: 0,\r\n        error: action.error,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst courseReducerDefaultState: DefaultCourseState = {\r\n  loading: true,\r\n  error: 'Not Found',\r\n};\r\n\r\nexport const courseReducer = (\r\n  state = courseReducerDefaultState,\r\n  action: CourseActionTypes\r\n): DefaultCourseState => {\r\n  switch (action.type) {\r\n    case REQUEST_COURSE:\r\n      return { ...state, loading: true, data: undefined };\r\n    case SUCCESS_COURSE:\r\n      if (action.data === undefined) {\r\n        return {\r\n          ...state,\r\n          loading: false,\r\n        }\r\n      } else {\r\n        return {\r\n          ...state,\r\n          data: action.data,\r\n          loading: false,\r\n        };\r\n      }\r\n    case FAILURE_COURSE:\r\n      return {\r\n        ...state,\r\n        error: action.error,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { ILesson } from \"./lesson.types\";\r\n\r\nexport const REQUEST_COURSES = \"REQUEST_COURSES\";\r\nexport const SUCCESS_COURSES = \"SUCCESS_COURSES\";\r\nexport const FAILURE_COURSES = \"FAILURE_COURSES\";\r\n\r\nexport const SAVE_COURSES = \"SAVE_COURSES\";\r\n\r\nexport const REQUEST_COURSE = \"REQUEST_COURSE\";\r\nexport const SUCCESS_COURSE = \"SUCCESS_COURSE\";\r\nexport const FAILURE_COURSE = \"FAILURE_COURSE\";\r\n\r\nexport interface DefaultCoursesState {\r\n    data: ICourse[];\r\n    error: string;\r\n    loading: boolean;\r\n    nextLoad: number;\r\n}\r\n\r\nexport interface DefaultCourseState {\r\n    data?: ICourse;\r\n    error: string;\r\n    loading: boolean;\r\n}\r\n\r\nexport interface ICourse {\r\n    title: string;\r\n    id: number;\r\n    slug: string;\r\n    content: string;\r\n    teacher: string;\r\n    description: string;\r\n    instrument_id: number,\r\n    instrument_name: string,\r\n    genre_id: number,\r\n    genre_name: string,\r\n    grade: string,\r\n    color: string,\r\n    thumbnails: ThumbnailsInfo;\r\n    course_select: ILesson[];\r\n}\r\n\r\ntype ThumbnailsInfo = {\r\n    thumbnail: string;\r\n    medium: string;\r\n    medium_large: string;\r\n    large: string;\r\n    '1536x1536': string;\r\n    '2048x2048': string;\r\n};\r\n\r\nexport interface RequestCourses {\r\n    type: typeof REQUEST_COURSES;\r\n}\r\nexport interface SeccessCourses {\r\n    type: typeof SUCCESS_COURSES;\r\n    payload: {\r\n        data: ICourse[];\r\n        nextLoad: number;\r\n    }\r\n}\r\nexport interface FailureCourses {\r\n    type: typeof FAILURE_COURSES;\r\n    error: string;\r\n}\r\n\r\nexport interface SaveGuides {\r\n    type: typeof SAVE_COURSES;\r\n    data: ICourse[];\r\n}\r\n\r\nexport interface RequestCourse {\r\n    type: typeof REQUEST_COURSE;\r\n}\r\nexport interface SeccessCourse {\r\n    type: typeof SUCCESS_COURSE;\r\n    data: ICourse;\r\n}\r\nexport interface FailureCourse {\r\n    type: typeof FAILURE_COURSE;\r\n    error: string;\r\n}\r\n\r\nexport type CourseActionTypes =\r\n    | RequestCourses\r\n    | SeccessCourses\r\n    | FailureCourses\r\n    | RequestCourse\r\n    | SeccessCourse\r\n    | FailureCourse\r\n    | SaveGuides;\r\n","import {\r\n  SAVE_EXERCISES,\r\n  REQUEST_EXERCISE,\r\n  SUCCESS_EXERCISE,\r\n  FAILURE_EXERCISE,\r\n  REQUEST_EXERCISES,\r\n  SUCCESS_EXERCISES,\r\n  FAILURE_EXERCISES,\r\n  ExerciseActionTypes,\r\n  DefaultExerciseState,\r\n  DefaultExercisesState,\r\n} from \"../_types/exercise.types\";\r\n\r\nconst exercisesReducerDefaultState: DefaultExercisesState = {\r\n  data: [],\r\n  loading: true,\r\n  error: \"Not Found\",\r\n  nextLoad: 0,\r\n};\r\n\r\nexport const exercisesReducer = (\r\n  state = exercisesReducerDefaultState,\r\n  action: ExerciseActionTypes\r\n): DefaultExercisesState => {\r\n  switch (action.type) {\r\n    case REQUEST_EXERCISES:\r\n      return state;\r\n    case SUCCESS_EXERCISES:\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n        nextLoad: action.payload.nextLoad,\r\n        loading: false,\r\n      };\r\n    case SAVE_EXERCISES:\r\n      let match = false;\r\n      if (state.data.length)\r\n        match = action.data.every(item => state.data.map(_ => _.id === item.id));\r\n      return {\r\n        ...state,\r\n        data: match ? state.data : action.data,\r\n      };\r\n    case FAILURE_EXERCISES:\r\n      return {\r\n        data: [],\r\n        error: action.error,\r\n        nextLoad: 0,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst exerciseReducerDefaultState: DefaultExerciseState = {\r\n  loading: true,\r\n  error: \"Not Found\",\r\n};\r\n\r\nexport const exerciseReducer = (\r\n  state = exerciseReducerDefaultState,\r\n  action: ExerciseActionTypes\r\n): DefaultExerciseState => {\r\n  switch (action.type) {\r\n    case REQUEST_EXERCISE:\r\n      return { ...state, loading: true, data: undefined };\r\n    case SUCCESS_EXERCISE:\r\n      if (action.data === undefined) {\r\n        return {\r\n          ...state,\r\n          data: action.data,\r\n          loading: false,\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n          data: action.data,\r\n          loading: false,\r\n        };;\r\n      }\r\n    case FAILURE_EXERCISE:\r\n      return {\r\n        ...state,\r\n        error: action.error,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { ILesson } from \"./lesson.types\";\r\n\r\nexport const REQUEST_EXERCISES = \"REQUEST_EXERCISES\";\r\nexport const SUCCESS_EXERCISES = \"SUCCESS_EXERCISES\";\r\nexport const FAILURE_EXERCISES = \"FAILURE_EXERCISES\";\r\n\r\nexport const SAVE_EXERCISES = \"SAVE_EXERCISES\";\r\n\r\nexport const REQUEST_EXERCISE = \"REQUEST_EXERCISE\";\r\nexport const SUCCESS_EXERCISE = \"SUCCESS_EXERCISE\";\r\nexport const FAILURE_EXERCISE = \"FAILURE_EXERCISE\";\r\n\r\nexport interface DefaultExercisesState {\r\n  data: ILesson[];\r\n  error: string;\r\n  loading: boolean;\r\n  nextLoad: number;\r\n}\r\nexport interface DefaultExerciseState {\r\n  data?: ILesson;\r\n  error: string;\r\n  loading: boolean;\r\n}\r\n\r\nexport interface RequestExercises {\r\n  type: typeof REQUEST_EXERCISES;\r\n}\r\nexport interface SeccessExercises {\r\n  type: typeof SUCCESS_EXERCISES;\r\n  payload: {\r\n    data: ILesson[];\r\n    nextLoad: number;\r\n  }\r\n}\r\n\r\nexport interface SaveExercises {\r\n  type: typeof SAVE_EXERCISES;\r\n  data: ILesson[];\r\n}\r\n\r\nexport interface FailureExercises {\r\n  type: typeof FAILURE_EXERCISES;\r\n  error: string;\r\n}\r\n\r\nexport interface RequestExercise {\r\n  type: typeof REQUEST_EXERCISE;\r\n}\r\nexport interface SeccessExercise {\r\n  type: typeof SUCCESS_EXERCISE;\r\n  data: ILesson;\r\n  error?: string;\r\n}\r\nexport interface FailureExercise {\r\n  type: typeof FAILURE_EXERCISE;\r\n  error: string;\r\n}\r\n\r\nexport type ExerciseActionTypes =\r\n  | RequestExercises\r\n  | SeccessExercises\r\n  | FailureExercises\r\n  | RequestExercise\r\n  | SeccessExercise\r\n  | FailureExercise\r\n  | SaveExercises;\r\n","import { History } from 'history';\r\nimport { combineReducers } from \"redux\";\r\nimport { connectRouter } from 'connected-react-router'\r\n\r\nimport { authReducer } from \"./auth.reducer\";\r\nimport { profileReducer } from \"./profile.reducer\";\r\nimport { favoriteReducer } from \"./favorite.reducer\";\r\nimport { snackbarReducer } from \"./snackbar.reducer\";\r\nimport { postReducer, postsReducer } from \"./post.reducer\";\r\nimport { guideReducer, guidesReducer } from \"./guide.reducer\";\r\nimport { lessonReducer, lessonsReducer } from \"./lesson.reducer\";\r\nimport { courseReducer, coursesReducer } from \"./course.reducer\";\r\nimport { exerciseReducer, exercisesReducer } from \"./exercise.reducer\";\r\n\r\nconst rootReducer = (history: History) => combineReducers({\r\n    router: connectRouter(history),\r\n    single: combineReducers({\r\n        post: postReducer,\r\n        guide: guideReducer,\r\n        course: courseReducer,\r\n        lesson: lessonReducer,\r\n        exercise: exerciseReducer,\r\n    }),\r\n    bank: combineReducers({\r\n        posts: postsReducer,\r\n        guides: guidesReducer,\r\n        courses: coursesReducer,\r\n        lessons: lessonsReducer,\r\n        exercises: exercisesReducer,\r\n    }),\r\n    user: combineReducers({\r\n        profile: profileReducer,\r\n        favorites: favoriteReducer,\r\n    }),\r\n    snackbar: snackbarReducer,\r\n    auth: authReducer,\r\n});\r\n\r\nexport default rootReducer","import { createBrowserHistory } from 'history'\nimport thunk, { ThunkMiddleware } from \"redux-thunk\";\n\nimport { applyMiddleware, compose, createStore } from 'redux'\nimport { routerMiddleware } from 'connected-react-router'\nimport createRootReducer from '../_reducers'\nimport { AppActions, AppState } from '../_types';\n\nexport const history = createBrowserHistory()\n\nexport const store = configureStore();\n\nexport default function configureStore(preloadingState?: any) {\n  const composeEnhancer: typeof compose = (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\n  const store = createStore(\n    createRootReducer(history),\n    preloadingState,\n    composeEnhancer(\n      applyMiddleware(\n        routerMiddleware(history),\n        thunk as ThunkMiddleware<AppState, AppActions>,\n      ),\n    ),\n  )\n\n  return store\n}","import React from \"react\";\r\nimport { Close } from \"@material-ui/icons\";\r\nimport { store } from \"../_store/store.config\";\r\nimport { IconButton, Slide } from \"@material-ui/core\";\r\nimport { TransitionProps } from \"@material-ui/core/transitions/transition\";\r\nimport { UniqId } from \"../_helpers/constants\";\r\nimport {\r\n  ISnack,\r\n  CLEAR_SNACKBAR,\r\n  SHOW_SNACKBAR,\r\n} from \"../_types/snackbar.types\";\r\nimport { VariantType } from \"notistack\";\r\n\r\nexport const errorHandler = (err: any, target: any): void => {\r\n  const error: string = err.response?.data.message.toString();\r\n  if (error) {\r\n    store.dispatch({ type: target, error });\r\n    store.dispatch({\r\n      type: SHOW_SNACKBAR,\r\n      snackbar: snackBarMaker(error, \"error\"),\r\n    });\r\n  }\r\n};\r\nexport const seccessHandler = (err: any, target: any): void => {\r\n  const error: string = err.response.data.message.toString();\r\n  store.dispatch({ type: target, error });\r\n  store.dispatch({\r\n    type: SHOW_SNACKBAR,\r\n    snackbar: snackBarMaker(error, \"success\"),\r\n  });\r\n};\r\nexport const warningHandler = (err: any, target: any): void => {\r\n  const error: string = err.response.data.message.toString();\r\n  store.dispatch({ type: target, error });\r\n  store.dispatch({\r\n    type: SHOW_SNACKBAR,\r\n    snackbar: snackBarMaker(error, \"warning\"),\r\n  });\r\n};\r\n\r\nexport const snackBarMaker = (\r\n  message: string,\r\n  variant: VariantType\r\n): ISnack => {\r\n  return {\r\n    message: message.replace(/<[^>]+>/g, \"\"),\r\n    key: UniqId(),\r\n    options: {\r\n      TransitionComponent: (props: TransitionProps) => (\r\n        <Slide {...props} direction=\"left\" />\r\n      ),\r\n      anchorOrigin: { horizontal: \"left\", vertical: \"bottom\" },\r\n      variant: variant,\r\n      autoHideDuration: variant === \"error\" ? null : 5000,\r\n      action: (key: string) => (\r\n        <IconButton\r\n          style={{ borderRadius: 5 }}\r\n          color=\"inherit\"\r\n          size=\"small\"\r\n          aria-label=\"close\"\r\n          component=\"span\"\r\n          onClick={() =>\r\n            store.dispatch({\r\n              type: CLEAR_SNACKBAR,\r\n              dismissAll: !key,\r\n              key,\r\n            })\r\n          }\r\n        >\r\n          <Close />\r\n        </IconButton>\r\n      ),\r\n    },\r\n  };\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport { store } from \"../../_store/store.config\";\r\nimport { SHOW_SNACKBAR, CLEAR_SNACKBAR } from \"../../_types/snackbar.types\";\r\nimport { snackBarMaker } from \"../../_helpers/alert\";\r\n\r\ninterface AboutProps {}\r\n\r\nconst About: React.FC<AboutProps> = () => {\r\n  const [input, setInput] = useState<string>(\"\");\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n    const { value } = e.target;\r\n    setInput(value);\r\n  };\r\n  return (\r\n    <>\r\n      <h1>About</h1>\r\n      <p>\r\n        {\" \"}\r\n        Lorem ipsum dolor sit amet consectetur adipisicing elit. Atque ipsum\r\n        praesentium rem asperiores fuga illo et, architecto doloremque nulla.\r\n        Magni perspiciatis praesentium facere facilis, ullam officiis saepe sunt\r\n        amet nulla?\r\n      </p>\r\n      <input type=\"text\" onChange={(e) => handleChange(e)} value={input} />\r\n      <Button\r\n        onClick={() =>\r\n          store.dispatch({\r\n            type: SHOW_SNACKBAR,\r\n            snackbar: snackBarMaker(input, \"success\"),\r\n          })\r\n        }\r\n      >\r\n        Snack\r\n      </Button>\r\n      <Button\r\n        onClick={() =>\r\n          store.dispatch({\r\n            type: CLEAR_SNACKBAR,\r\n            dismissAll: true,\r\n          })\r\n        }\r\n      >\r\n        Clear\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\nexport default About;\r\n","import {\r\n  LOGIN_FAILURE,\r\n  LOGIN_REQUEST,\r\n  LOGIN_SUCCESS,\r\n  USER_LOGOUT,\r\n  REGISTER_FAILURE,\r\n  REGISTER_REQUEST,\r\n  REGISTER_SUCCESS,\r\n  LOST_REQUEST,\r\n  LOST_SUCCESS,\r\n  LOST_FAILURE,\r\n  IRegister,\r\n  IUser,\r\n  ILost\r\n} from \"../_types/user.types\";\r\nimport { Dispatch } from \"react\";\r\nimport { AppActions } from \"../_types\";\r\nimport { SHOW_SNACKBAR } from \"../_types/snackbar.types\";\r\nimport { errorHandler, snackBarMaker } from \"../_helpers/alert\";\r\nimport { go, goBack, push } from 'connected-react-router'\r\nimport { API } from \"../_helpers/api\";\r\n\r\nexport const loginRequest = (user: IUser) => (\r\n  (dispatch: Dispatch<AppActions>) => {\r\n    dispatch({ type: LOGIN_REQUEST });\r\n    API.post(`/jwt-auth/v1/token`, user)\r\n      .then(res => {\r\n        dispatch({ type: LOGIN_SUCCESS, user: res.data });\r\n        localStorage.setItem(\"user\", JSON.stringify(res.data));\r\n        API.defaults.headers.common = { Authorization: \"Bearer \" + res.data.token };\r\n        dispatch(goBack());\r\n        dispatch({\r\n          type: SHOW_SNACKBAR,\r\n          snackbar: snackBarMaker(\r\n            `${res.data.user_display_name} logged in successfully.`,\r\n            \"success\"\r\n          ),\r\n        });\r\n      })\r\n      .catch(err => errorHandler(err, LOGIN_FAILURE))\r\n  }\r\n)\r\n\r\nexport const logoutRequest = () => (\r\n  (dispatch: Dispatch<AppActions>) => {\r\n    localStorage.removeItem(\"user\");\r\n    API.defaults.headers.common = {};\r\n    dispatch(go(0));\r\n    dispatch({ type: USER_LOGOUT });\r\n  }\r\n)\r\n\r\nexport const registerRequest = (user: IRegister) => (\r\n  (dispatch: Dispatch<AppActions>) => {\r\n    dispatch({ type: REGISTER_REQUEST });\r\n    API.post(`/jwt-auth/v1/register`, user)\r\n      .then(\r\n        (res) => {\r\n          dispatch({ type: REGISTER_SUCCESS, user: res.data });\r\n          dispatch(push(\"/login\"));\r\n          dispatch({\r\n            type: SHOW_SNACKBAR,\r\n            snackbar: snackBarMaker(res.data.message, \"success\"),\r\n          });\r\n        })\r\n      .catch(err => errorHandler(err, REGISTER_FAILURE))\r\n  }\r\n)\r\n\r\nexport const lostRequest = (user: ILost) => (\r\n  (dispatch: Dispatch<AppActions>) => {\r\n    dispatch({ type: LOST_REQUEST });\r\n\r\n    API.post(`/jwt-auth/v1/lostpassword`, user)\r\n      .then(\r\n        (res) => {\r\n          const message: string = res.data.message.toString();\r\n          dispatch({ type: LOST_SUCCESS, message });\r\n          dispatch(push(\"/login\"));\r\n          dispatch({\r\n            type: SHOW_SNACKBAR,\r\n            snackbar: snackBarMaker(message, \"success\"),\r\n          });\r\n        })\r\n      .catch(err => {\r\n        errorHandler(err, LOST_FAILURE)\r\n      })\r\n  }\r\n)\r\n","import Axios from \"axios\";\r\nimport { store } from \"../_store/store.config\";\r\nimport { logoutRequest } from \"../_actions/user.actions\";\r\n\r\nexport const authHeader = (): HeadersInit => {\r\n  const localUser = localStorage.getItem(\"user\");\r\n  let user: { token: string } = localUser ? JSON.parse(localUser) : null;\r\n  if (user?.token) {\r\n    return { Authorization: \"Bearer \" + user.token };\r\n  } else {\r\n    return {};\r\n  }\r\n}\r\n\r\nexport const API = Axios.create({\r\n  baseURL: \"https://panel.melodition.com/wp-json\",\r\n  headers: authHeader()\r\n});\r\n\r\nAPI.interceptors.response.use(\r\n  res => {\r\n    return res;\r\n  },\r\n  err => {\r\n    console.log(err)\r\n    if (err.response.data.message === 'Expired Token') {\r\n      store.dispatch(logoutRequest())\r\n    }\r\n    return Promise.reject(err);\r\n  }\r\n)","import { Dispatch } from \"redux\";\r\nimport {\r\n  REQUEST_POSTS,\r\n  SUCCESS_POSTS,\r\n  FAILURE_POSTS,\r\n  REQUEST_POST,\r\n  SUCCESS_POST,\r\n  FAILURE_POST,\r\n} from \"../_types/post.types\";\r\nimport { AppState } from \"../_types\";\r\nimport { AppActions } from \"../_types\";\r\nimport { getTheTime } from \"../_helpers/constants\";\r\nimport { errorHandler } from \"../_helpers/alert\";\r\nimport { API } from \"../_helpers/api\";\r\n\r\nexport const requestAllPost = () => (\r\n  (dispatch: Dispatch<AppActions>, getState: () => AppState) => {\r\n    const postState = getState().bank.posts;\r\n    const currentTime = getTheTime();\r\n    const resetTime = currentTime - postState.nextLoad;\r\n    if (postState.data && resetTime <= 0) {\r\n      return;\r\n    }\r\n    dispatch({ type: REQUEST_POSTS });\r\n\r\n    API.get(`/post/v2`)\r\n      .then(res => dispatch({\r\n        type: SUCCESS_POSTS, payload: {\r\n          data: res.data,\r\n          nextLoad: getTheTime(10)\r\n        }\r\n      }))\r\n      .catch(err => errorHandler(err, FAILURE_POSTS))\r\n  }\r\n)\r\n\r\nexport const requestPost = (id: number) => (\r\n  (dispatch: Dispatch<AppActions>, getState: () => AppState) => {\r\n    const postState = getState().bank.posts.data;\r\n\r\n    const found = postState?.find(post => post.id === id);\r\n    if (found) {\r\n      dispatch({ type: SUCCESS_POST, data: found })\r\n    } else {\r\n      dispatch({ type: REQUEST_POST });\r\n      API.get(`/post/v2?id=${id}`)\r\n        .then((res) => dispatch({ type: SUCCESS_POST, data: res.data[0] }))\r\n        .catch(err => errorHandler(err, FAILURE_POST))\r\n    }\r\n  }\r\n)","import React from \"react\";\r\nimport { push } from \"connected-react-router\";\r\nimport {\r\n  Card,\r\n  Button,\r\n  CardMedia,\r\n  Typography,\r\n  CardContent,\r\n  CardActions,\r\n  CardActionArea,\r\n} from \"@material-ui/core\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\nimport { store } from \"../../_store/store.config\";\r\nimport { IPost } from \"../../_types/post.types\";\r\nimport { thumbnailsFinder } from \"../../_helpers/constants\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      maxWidth: 345,\r\n      maxHeight: 360,\r\n      margin: theme.spacing(2),\r\n    },\r\n    cardAction: {\r\n      justifyContent: \"space-between\",\r\n      margin: \"inherit\",\r\n    },\r\n    content: {\r\n      minHeight: \"140px\",\r\n    },\r\n  })\r\n);\r\n\r\ntype Props = {\r\n  post: IPost;\r\n};\r\n\r\nexport const PostCard: React.FC<Props> = ({ post }) => {\r\n  const classes = useStyles();\r\n  const { title, featured_img, excerpt, author } = post;\r\n\r\n  const clickHandler = (\r\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>\r\n  ): void => {\r\n    store.dispatch(push(`/post/${post.id}`));\r\n  };\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardActionArea onClick={clickHandler}>\r\n        <CardMedia\r\n          height=\"140\"\r\n          component=\"img\"\r\n          alt={post.title}\r\n          title={post.title}\r\n          image={thumbnailsFinder(featured_img)}\r\n        />\r\n        <CardContent className={classes.content}>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {title}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            {excerpt}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions className={classes.cardAction}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n          از {author}\r\n        </Typography>\r\n        <Button size=\"medium\" color=\"secondary\" onClick={clickHandler}>\r\n          ادامه مطلب\r\n        </Button>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { AppActions } from \"../../_types\";\r\nimport { IPost } from \"../../_types/post.types\";\r\nimport { AppState } from \"../../_types\";\r\nimport { requestAllPost } from \"../../_actions/post.actions\";\r\nimport { PostCard } from \"./PostCard\";\r\nimport {\r\n  Chip,\r\n  CircularProgress,\r\n  createStyles,\r\n  Grid,\r\n  Theme,\r\n  Typography,\r\n  WithStyles,\r\n  withStyles,\r\n} from \"@material-ui/core\";\r\n\r\nconst useStyles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      padding: theme.spacing(2, 1, 0, 2),\r\n    },\r\n    header: {\r\n      position: \"relative\",\r\n    },\r\n    cardList: {\r\n      minHeight: \"calc(100vh - 143px)\",\r\n    },\r\n    chip: {\r\n      position: \"absolute\",\r\n      right: 0,\r\n      top: theme.spacing(1),\r\n    },\r\n    autoMargin: {\r\n      margin: \"auto\",\r\n    },\r\n  });\r\n\r\ninterface PostsPorps extends WithStyles<typeof useStyles> {\r\n  data: IPost[];\r\n  error: string;\r\n  loading: boolean;\r\n}\r\n\r\ntype Props = PostsPorps & LinkDispatchProps;\r\n\r\nexport class PostList extends Component<Props> {\r\n  componentDidMount() {\r\n    this.props.requestAllPost();\r\n  }\r\n\r\n  render() {\r\n    const { loading, data, error, classes } = this.props;\r\n    const length = data ? data.length : 0;\r\n    return (\r\n      <div className={classes.root}>\r\n        <div className={classes.header}>\r\n          <Typography variant=\"h3\">پست ها</Typography>\r\n          <Chip\r\n            className={classes.chip}\r\n            color=\"secondary\"\r\n            label={\"تعداد: \" + length}\r\n          />\r\n        </div>\r\n        <Grid container justify=\"center\" className={classes.cardList}>\r\n          {loading ? (\r\n            <CircularProgress\r\n              color=\"secondary\"\r\n              className={classes.autoMargin}\r\n            />\r\n          ) : data.length ? (\r\n            data.map((post: IPost) => <PostCard key={post.id} post={post} />)\r\n          ) : (\r\n            <Typography component=\"div\" className={classes.autoMargin}>\r\n              {error}\r\n            </Typography>\r\n          )}\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n  requestAllPost: () => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState, ownProps: Props): PostsPorps => ({\r\n  classes: ownProps.classes,\r\n  ...state.bank.posts,\r\n});\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n  requestAllPost: bindActionCreators(requestAllPost, dispatch),\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(useStyles)(PostList));\r\n","import {\r\n  createStyles,\r\n  LinearProgress,\r\n  Theme,\r\n  Typography,\r\n  WithStyles,\r\n  withStyles,\r\n} from \"@material-ui/core\";\r\nimport { FormikErrors } from \"formik\";\r\nimport * as React from \"react\";\r\n\r\ndeclare global {\r\n  interface Window {\r\n    captchaOnLoad: () => void;\r\n    grecaptcha: ReCaptchaInstance;\r\n  }\r\n}\r\n\r\ninterface ReCaptchaInstance {\r\n  ready: (cb: () => any) => any;\r\n  execute: (options: ReCaptchaExecuteOptions) => Promise<string>;\r\n  render: (id: string, options: ReCaptchaRenderOptions) => any;\r\n}\r\n\r\ninterface ReCaptchaExecuteOptions {\r\n  action: string;\r\n}\r\n\r\ninterface ReCaptchaRenderOptions {\r\n  callback: () => void;\r\n  sitekey: string;\r\n  size: \"normal\";\r\n  theme: \"dark\" | \"light\";\r\n}\r\n\r\nconst useStyles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      position: \"relative\",\r\n      minHeight: 80,\r\n    },\r\n    captcha: {\r\n      zIndex: 2,\r\n      \"& > div:first-child\": {\r\n        margin: \"auto\",\r\n        \"& > div > iframe\": {\r\n          borderRadius: 4,\r\n          border: \"1px solid\",\r\n        },\r\n      },\r\n    },\r\n    captchaWarning: {\r\n      \"& > div:first-child\": {\r\n        margin: \"auto\",\r\n        \"& > div > iframe\": {\r\n          borderRadius: 4,\r\n          border: \"1px solid red\",\r\n        },\r\n      },\r\n    },\r\n  });\r\n\r\ninterface Props extends WithStyles<typeof useStyles> {\r\n  action: string;\r\n  theme: \"light\" | \"dark\";\r\n  onError: error;\r\n  onChange: (val: boolean) => void;\r\n}\r\ntype error =\r\n  | string\r\n  | false\r\n  | FormikErrors<any>\r\n  | string[]\r\n  | FormikErrors<any>[]\r\n  | undefined;\r\n\r\ninterface State {\r\n  readonly loading: boolean;\r\n}\r\n\r\nclass ReCaptcha extends React.PureComponent<Props, State> {\r\n  state: State = {\r\n    loading: true,\r\n  };\r\n\r\n  private script!: HTMLScriptElement;\r\n\r\n  componentDidMount(): void {\r\n    this.loadScript();\r\n  }\r\n\r\n  componentWillUnmount(): void {\r\n    document.body.removeChild(this.script);\r\n  }\r\n\r\n  render() {\r\n    const { classes, onError } = this.props;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        {this.state.loading && <LinearProgress color=\"secondary\" />}\r\n        <div\r\n          id=\"g-recaptcha\"\r\n          className={onError ? classes.captchaWarning : classes.captcha}\r\n        />\r\n        <Typography color=\"error\" variant=\"caption\">\r\n          {onError}\r\n        </Typography>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private loadScript = (): void => {\r\n    window.captchaOnLoad = this.onLoad;\r\n\r\n    const url = \"https://www.google.com/recaptcha/api.js\";\r\n    const queryString = \"?onload=captchaOnLoad&render=explicit&hl=fa\";\r\n    const script = document.createElement(\"script\");\r\n    script.type = \"text/javascript\";\r\n    script.src = url + queryString;\r\n    script.async = true;\r\n    script.defer = true;\r\n    this.script = document.body.appendChild(script);\r\n  };\r\n\r\n  private callback = () => {\r\n    this.props.onChange(true);\r\n  };\r\n\r\n  private onLoad = (): void => {\r\n    window.grecaptcha.render(\"g-recaptcha\", {\r\n      callback: this.callback,\r\n      sitekey: \"6Le8wccUAAAAAA0kNONoUC-NKPecGnUGKRY7zMno\",\r\n      size: \"normal\",\r\n      theme: this.props.theme,\r\n    });\r\n\r\n    window.grecaptcha.ready(() => {\r\n      this.setState({ loading: false });\r\n    });\r\n  };\r\n}\r\n\r\nexport default withStyles(useStyles)(ReCaptcha);\r\n","import React from \"react\";\r\nimport { SwitchProps } from \"formik-material-ui\";\r\nimport { localTheme } from \"../../_helpers/constants\";\r\nimport ReCaptcha from \"./ReCaptcha\";\r\n\r\nexport function Captcha(props: SwitchProps) {\r\n  const {\r\n    form: { setFieldValue, errors, touched },\r\n    field: { name },\r\n  } = props;\r\n\r\n  const onChange = React.useCallback(\r\n    (event) => {\r\n      setFieldValue(name, event ? true : false);\r\n    },\r\n    [setFieldValue, name]\r\n  );\r\n  return (\r\n    <ReCaptcha\r\n      action=\"login\"\r\n      theme={localTheme(\"get\") ? \"dark\" : \"light\"}\r\n      onChange={onChange}\r\n      onError={touched.recaptcha && errors.recaptcha}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { Field, Form, Formik } from \"formik\";\r\nimport { TextField } from \"formik-material-ui\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport {\r\n  Avatar,\r\n  CssBaseline,\r\n  Box,\r\n  Button,\r\n  Container,\r\n  Link,\r\n  Grid,\r\n  Typography,\r\n  LinearProgress,\r\n} from \"@material-ui/core\";\r\n\r\nimport { AppState } from \"../../_types\";\r\nimport { AppActions } from \"../../_types\";\r\nimport { IUser } from \"../../_types/user.types\";\r\nimport { Captcha } from \"../../assets/captcha/Captcha\";\r\nimport { loginRequest, logoutRequest } from \"../../_actions/user.actions\";\r\nimport { push } from \"connected-react-router\";\r\nimport { Path } from \"history\";\r\n\r\ninterface LoginPageProps {\r\n  loading: boolean;\r\n  loggedIn: boolean;\r\n}\r\n\r\ntype Props = LoginPageProps & LinkDispatchProps;\r\n\r\nclass LoginPage extends React.Component<Props> {\r\n  componentDidMount() {\r\n    if (this.props.loggedIn) {\r\n      this.props.push(\"/profile\");\r\n    }\r\n  }\r\n  render() {\r\n    const { loading, loggedIn } = this.props;\r\n    return !loggedIn ? (\r\n      <Container component=\"main\" maxWidth=\"xs\" style={{ paddingTop: \"10px\" }}>\r\n        <CssBaseline />\r\n        <div style={{ textAlign: \"center\" }}>\r\n          <Avatar style={{ margin: \"auto\" }}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign in\r\n          </Typography>\r\n          <Formik\r\n            initialValues={{\r\n              username: \"\",\r\n              password: \"\",\r\n              recaptcha: \"\",\r\n            }}\r\n            validationSchema={Yup.object().shape({\r\n              username: Yup.string()\r\n                .max(255)\r\n                .required(\"Email or Username is required\"),\r\n              password: Yup.string().max(255).required(\"Password is required\"),\r\n              recaptcha: Yup.boolean().required(\"ReCAPTCHA is required\"),\r\n            })}\r\n            onSubmit={(event: IUser) => {\r\n              if (event.username && event.password) {\r\n                this.props.login({\r\n                  username: event.username,\r\n                  password: event.password,\r\n                });\r\n              }\r\n            }}\r\n          >\r\n            <Form>\r\n              <Box mb={3}>\r\n                <Typography\r\n                  color=\"textSecondary\"\r\n                  align=\"center\"\r\n                  gutterBottom\r\n                  variant=\"body2\"\r\n                >\r\n                  Sign in on the internal platform\r\n                </Typography>\r\n              </Box>\r\n              <Grid item>\r\n                <Button\r\n                  fullWidth\r\n                  size=\"large\"\r\n                  variant=\"contained\"\r\n                  type=\"submit\"\r\n                  disabled={true}\r\n                >\r\n                  Login with Google\r\n                </Button>\r\n              </Grid>\r\n              <Box mt={3} mb={1}>\r\n                <Typography\r\n                  align=\"center\"\r\n                  color=\"textSecondary\"\r\n                  variant=\"body1\"\r\n                >\r\n                  or login with username / email address\r\n                </Typography>\r\n              </Box>\r\n              <Box my={1}>\r\n                <Field\r\n                  component={TextField}\r\n                  color=\"secondary\"\r\n                  fullWidth\r\n                  label=\"Email Address/Username\"\r\n                  margin=\"normal\"\r\n                  name=\"username\"\r\n                  id=\"username\"\r\n                  placeholder=\"John\"\r\n                  type=\"username\"\r\n                  variant=\"outlined\"\r\n                />\r\n              </Box>\r\n              <Box my={1}>\r\n                <Field\r\n                  component={TextField}\r\n                  color=\"secondary\"\r\n                  fullWidth\r\n                  label=\"Password\"\r\n                  margin=\"normal\"\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  variant=\"outlined\"\r\n                />\r\n              </Box>\r\n              <Box my={1}>\r\n                <Field\r\n                  component={Captcha}\r\n                  color=\"secondary\"\r\n                  fullWidth\r\n                  label=\"Recaptcha\"\r\n                  margin=\"normal\"\r\n                  name=\"recaptcha\"\r\n                  type=\"recaptcha\"\r\n                  variant=\"outlined\"\r\n                />\r\n              </Box>\r\n              {loading && <LinearProgress color=\"secondary\" />}\r\n              <Box my={1}>\r\n                <Button\r\n                  color=\"secondary\"\r\n                  disabled={loading}\r\n                  fullWidth\r\n                  size=\"large\"\r\n                  type=\"submit\"\r\n                  variant=\"contained\"\r\n                >\r\n                  Sign in\r\n                </Button>\r\n              </Box>\r\n              <Grid container style={{ textAlign: \"initial\" }}>\r\n                <Grid item xs>\r\n                  <Link\r\n                    color=\"secondary\"\r\n                    component={RouterLink}\r\n                    to=\"/lostpassword\"\r\n                    variant=\"body2\"\r\n                  >\r\n                    Forgot password?\r\n                  </Link>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Typography color=\"textSecondary\" variant=\"body2\">\r\n                    Don&apos;t have an account?\r\n                    <Link\r\n                      color=\"secondary\"\r\n                      component={RouterLink}\r\n                      to=\"/register\"\r\n                      variant=\"body2\"\r\n                    >\r\n                      Sign up\r\n                    </Link>\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid>\r\n            </Form>\r\n          </Formik>\r\n        </div>\r\n      </Container>\r\n    ) : null;\r\n  }\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n  login: (user: IUser) => void;\r\n  logout: () => void;\r\n  push: (path: Path) => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState): LoginPageProps => {\r\n  const { loggedIn, loading } = state.auth;\r\n  return {\r\n    loggedIn,\r\n    loading,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n  login: bindActionCreators(loginRequest, dispatch),\r\n  logout: bindActionCreators(logoutRequest, dispatch),\r\n  push: bindActionCreators(push, dispatch),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginPage);\r\n","import React from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { Field, Form, Formik } from \"formik\";\r\nimport { TextField } from \"formik-material-ui\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport {\r\n  Avatar,\r\n  CssBaseline,\r\n  Box,\r\n  Button,\r\n  Container,\r\n  Typography,\r\n  LinearProgress,\r\n} from \"@material-ui/core\";\r\n\r\nimport { AppState } from \"../../_types\";\r\nimport { AppActions } from \"../../_types\";\r\nimport { ILost } from \"../../_types/user.types\";\r\nimport { lostRequest } from \"../../_actions/user.actions\";\r\nimport { Captcha } from \"../../assets/captcha/Captcha\";\r\nimport { push } from \"connected-react-router\";\r\nimport { Path } from \"history\";\r\n\r\ninterface LostPageProps {\r\n  loading: boolean;\r\n  loggedIn: boolean;\r\n}\r\n\r\ntype Props = LostPageProps & LinkDispatchProps;\r\n\r\nclass LostPage extends React.Component<Props> {\r\n  componentDidMount() {\r\n    if (this.props.loggedIn) {\r\n      this.props.push(\"/\");\r\n    }\r\n  }\r\n  render() {\r\n    const { loading, loggedIn } = this.props;\r\n    return !loggedIn ? (\r\n      <Container component=\"main\" maxWidth=\"xs\" style={{ paddingTop: \"10px\" }}>\r\n        <CssBaseline />\r\n        <div style={{ textAlign: \"center\" }}>\r\n          <Avatar style={{ margin: \"auto\" }}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Lost Password\r\n          </Typography>\r\n          <Formik\r\n            initialValues={{\r\n              user_login: \"\",\r\n              recaptcha: \"\",\r\n            }}\r\n            validationSchema={Yup.object().shape({\r\n              user_login: Yup.string()\r\n                .max(255)\r\n                .required(\"Email or Username is required\"),\r\n              recaptcha: Yup.boolean().required(\"ReCAPTCHA is required\"),\r\n            })}\r\n            onSubmit={(event: ILost) => {\r\n              if (event.user_login) {\r\n                this.props.lostRequest(event);\r\n              }\r\n            }}\r\n          >\r\n            <Form>\r\n              <Box my={2}>\r\n                <Typography\r\n                  color=\"textSecondary\"\r\n                  align=\"center\"\r\n                  gutterBottom\r\n                  variant=\"body2\"\r\n                >\r\n                  Enter your email or user_login\r\n                </Typography>\r\n              </Box>\r\n              <Box my={1}>\r\n                <Field\r\n                  component={TextField}\r\n                  color=\"secondary\"\r\n                  fullWidth\r\n                  label=\"Email Address/Username\"\r\n                  margin=\"normal\"\r\n                  name=\"user_login\"\r\n                  id=\"user_login\"\r\n                  placeholder=\"John\"\r\n                  type=\"user_login\"\r\n                  variant=\"outlined\"\r\n                />\r\n              </Box>\r\n              <Box my={1}>\r\n                <Field\r\n                  component={Captcha}\r\n                  color=\"secondary\"\r\n                  fullWidth\r\n                  label=\"Recaptcha\"\r\n                  margin=\"normal\"\r\n                  name=\"recaptcha\"\r\n                  type=\"recaptcha\"\r\n                  variant=\"outlined\"\r\n                />\r\n              </Box>\r\n              {loading && <LinearProgress color=\"secondary\" />}\r\n              <Box my={1}>\r\n                <Button\r\n                  color=\"secondary\"\r\n                  disabled={loading}\r\n                  fullWidth\r\n                  size=\"large\"\r\n                  type=\"submit\"\r\n                  variant=\"contained\"\r\n                >\r\n                  Recover\r\n                </Button>\r\n              </Box>\r\n            </Form>\r\n          </Formik>\r\n        </div>\r\n      </Container>\r\n    ) : null;\r\n  }\r\n}\r\ninterface LinkDispatchProps {\r\n  lostRequest: (user: ILost) => void;\r\n  push: (path: Path) => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState, ownProps: Props): LostPageProps => {\r\n  const { loggedIn, loading } = state.auth;\r\n  return {\r\n    loggedIn,\r\n    loading,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>,\r\n  ownProps: LostPageProps\r\n): LinkDispatchProps => ({\r\n  lostRequest: bindActionCreators(lostRequest, dispatch),\r\n  push: bindActionCreators(push, dispatch),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LostPage);\r\n","import React from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { Field, Form, Formik } from \"formik\";\r\nimport { TextField } from \"formik-material-ui\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport {\r\n  Avatar,\r\n  CssBaseline,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Container,\r\n  FormHelperText,\r\n  Link,\r\n  Typography,\r\n  LinearProgress,\r\n} from \"@material-ui/core\";\r\n\r\nimport { AppState } from \"../../_types\";\r\nimport { AppActions } from \"../../_types\";\r\nimport { IRegister } from \"../../_types/user.types\";\r\nimport { Captcha } from \"../../assets/captcha/Captcha\";\r\nimport { registerRequest } from \"../../_actions/user.actions\";\r\nimport { push } from \"connected-react-router\";\r\nimport { Path } from \"history\";\r\n\r\ninterface RegisterPageProps {\r\n  loading: boolean;\r\n  loggedIn: boolean;\r\n}\r\n\r\ntype Props = RegisterPageProps & LinkDispatchProps;\r\n\r\nclass RegisterPage extends React.Component<Props> {\r\n  componentDidMount() {\r\n    if (this.props.loggedIn) {\r\n      this.props.push(\"/\");\r\n    }\r\n  }\r\n  render() {\r\n    const { loading, loggedIn } = this.props;\r\n    return !loggedIn ? (\r\n      <Container component=\"main\" maxWidth=\"xs\" style={{ paddingTop: \"10px\" }}>\r\n        <CssBaseline />\r\n        <div style={{ textAlign: \"center\" }}>\r\n          <Avatar style={{ margin: \"auto\" }}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign Up\r\n          </Typography>\r\n          <Formik\r\n            initialValues={{\r\n              email: \"\",\r\n              firstname: \"\",\r\n              lastname: \"\",\r\n              username: \"\",\r\n              password: \"\",\r\n              confirm_password: \"\",\r\n              recaptcha: false,\r\n              policy: false,\r\n            }}\r\n            validationSchema={Yup.object().shape({\r\n              email: Yup.string()\r\n                .email(\"Must be a valid email\")\r\n                .max(255)\r\n                .required(\"Email is required\"),\r\n              firstname: Yup.string()\r\n                .max(255)\r\n                .required(\"First name is required\"),\r\n              lastname: Yup.string().max(255).required(\"Last name is required\"),\r\n              username: Yup.string().max(255).required(\"User name is required\"),\r\n              password: Yup.string().max(255).required(\"Password is required\"),\r\n              confirm_password: Yup.string().oneOf(\r\n                [Yup.ref(\"password\"), \"\"],\r\n                \"Both password need to be the same\"\r\n              ),\r\n              policy: Yup.boolean().oneOf([true], \"This field must be checked\"),\r\n              recaptcha: Yup.boolean().oneOf(\r\n                [true],\r\n                \"This field must be checked\"\r\n              ),\r\n            })}\r\n            onSubmit={(e) => {\r\n              if (\r\n                e.firstname &&\r\n                e.lastname &&\r\n                e.username &&\r\n                e.email &&\r\n                e.password\r\n              ) {\r\n                this.props.registerRequest({\r\n                  firstname: e.firstname,\r\n                  lastname: e.lastname,\r\n                  username: e.username,\r\n                  password: e.password,\r\n                  email: e.email,\r\n                });\r\n              }\r\n            }}\r\n          >\r\n            {({ handleChange, values, touched, errors }) => (\r\n              <Form>\r\n                <Box mb={3}>\r\n                  <Typography\r\n                    color=\"textSecondary\"\r\n                    align=\"center\"\r\n                    gutterBottom\r\n                    variant=\"body2\"\r\n                  >\r\n                    Use your email to create new account\r\n                  </Typography>\r\n                  <Field\r\n                    component={TextField}\r\n                    color=\"secondary\"\r\n                    fullWidth\r\n                    label=\"نام\"\r\n                    margin=\"normal\"\r\n                    name=\"firstname\"\r\n                    variant=\"outlined\"\r\n                  />\r\n                  <Field\r\n                    component={TextField}\r\n                    color=\"secondary\"\r\n                    fullWidth\r\n                    label=\"نام خانوادگی\"\r\n                    margin=\"normal\"\r\n                    name=\"lastname\"\r\n                    variant=\"outlined\"\r\n                  />\r\n                  <Field\r\n                    component={TextField}\r\n                    color=\"secondary\"\r\n                    fullWidth\r\n                    label=\"نام کاربری\"\r\n                    margin=\"normal\"\r\n                    name=\"username\"\r\n                    variant=\"outlined\"\r\n                  />\r\n                  <Field\r\n                    component={TextField}\r\n                    color=\"secondary\"\r\n                    fullWidth\r\n                    label=\"آدرس ایمیل\"\r\n                    margin=\"normal\"\r\n                    name=\"email\"\r\n                    dir=\"ltr\"\r\n                    type=\"email\"\r\n                    variant=\"outlined\"\r\n                  />\r\n                  <Field\r\n                    component={TextField}\r\n                    color=\"secondary\"\r\n                    fullWidth\r\n                    label=\"پسورد\"\r\n                    margin=\"normal\"\r\n                    name=\"password\"\r\n                    type=\"password\"\r\n                    variant=\"outlined\"\r\n                  />\r\n                  <Field\r\n                    component={TextField}\r\n                    color=\"secondary\"\r\n                    fullWidth\r\n                    label=\"تائید پسورد\"\r\n                    margin=\"normal\"\r\n                    name=\"confirm_password\"\r\n                    type=\"password\"\r\n                    variant=\"outlined\"\r\n                  />\r\n                  <Box alignItems=\"center\" display=\"flex\" ml={-1}>\r\n                    <Checkbox\r\n                      checked={values.policy}\r\n                      name=\"policy\"\r\n                      onChange={handleChange}\r\n                    />\r\n                    <Typography color=\"textSecondary\" variant=\"body1\">\r\n                      I have read the{\" \"}\r\n                      <Link\r\n                        color=\"secondary\"\r\n                        component={RouterLink}\r\n                        to=\"#\"\r\n                        underline=\"always\"\r\n                        variant=\"body1\"\r\n                      >\r\n                        Terms and Conditions{\" \"}\r\n                      </Link>\r\n                    </Typography>\r\n                  </Box>\r\n                  {Boolean(touched.policy && errors.policy) && (\r\n                    <FormHelperText error>{errors.policy}</FormHelperText>\r\n                  )}\r\n                  <Box my={1}>\r\n                    <Field\r\n                      component={Captcha}\r\n                      color=\"secondary\"\r\n                      fullWidth\r\n                      label=\"Recaptcha\"\r\n                      margin=\"normal\"\r\n                      name=\"recaptcha\"\r\n                      type=\"recaptcha\"\r\n                      variant=\"outlined\"\r\n                    />\r\n                  </Box>\r\n                  {loading && <LinearProgress color=\"secondary\" />}\r\n                  <Box my={2}>\r\n                    <Button\r\n                      color=\"secondary\"\r\n                      disabled={loading}\r\n                      fullWidth\r\n                      size=\"large\"\r\n                      type=\"submit\"\r\n                      variant=\"contained\"\r\n                    >\r\n                      Sign up now\r\n                    </Button>\r\n                  </Box>\r\n                  <Typography\r\n                    align=\"center\"\r\n                    color=\"textSecondary\"\r\n                    variant=\"body2\"\r\n                  >\r\n                    Have an account?\r\n                    <Link\r\n                      color=\"secondary\"\r\n                      component={RouterLink}\r\n                      to=\"/login\"\r\n                      variant=\"body2\"\r\n                    >\r\n                      Sign in\r\n                    </Link>\r\n                  </Typography>\r\n                </Box>\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        </div>\r\n      </Container>\r\n    ) : null;\r\n  }\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n  registerRequest: (user: IRegister) => void;\r\n  push: (path: Path) => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState): RegisterPageProps => {\r\n  const { loggedIn, loading } = state.auth;\r\n  return {\r\n    loggedIn,\r\n    loading,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n  registerRequest: bindActionCreators(registerRequest, dispatch),\r\n  push: bindActionCreators(push, dispatch),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RegisterPage);\r\n","import { Dispatch } from \"react\";\r\nimport { AppActions } from \"../_types\";\r\nimport {\r\n  INFO_FAILURE,\r\n  INFO_REQUEST,\r\n  INFO_SUCCESS,\r\n} from \"../_types/profile.types\";\r\nimport { UserInfo } from \"../_types/profile.types\";\r\nimport { errorHandler } from \"../_helpers/alert\";\r\nimport { API } from \"../_helpers/api\";\r\n\r\nexport const profileRequest = (token: string) => (\r\n  (dispatch: Dispatch<AppActions>) => {\r\n    dispatch({ type: INFO_REQUEST });\r\n    const userInfo: UserInfo = parseToken(token);\r\n    const id: string = userInfo.userID;\r\n    API.get(`/wp/v2/users/${id}`)\r\n      .then(res => {\r\n        dispatch({\r\n          type: INFO_SUCCESS,\r\n          profile: { ...res.data, info: userInfo },\r\n        });\r\n      })\r\n      .catch(err => errorHandler(err, INFO_FAILURE))\r\n  }\r\n)\r\n\r\nconst parseToken = (token: string): UserInfo => {\r\n  const base64Url = token.split(\".\")[1];\r\n  const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n  const jsonPayload = decodeURIComponent(\r\n    atob(base64)\r\n      .split(\"\")\r\n      .map(function (c) {\r\n        return \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2);\r\n      })\r\n      .join(\"\")\r\n  );\r\n  const resJson = JSON.parse(jsonPayload);\r\n  const userData = {\r\n    userID: resJson.data.user.id,\r\n    expire: resJson.exp * 1000,\r\n    issued: resJson.iat * 1000,\r\n    before: resJson.nbf * 1000,\r\n  };\r\n  return userData;\r\n};\r\n","import React from \"react\";\r\nimport clsx from \"clsx\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  Box,\r\n  Card,\r\n  CardHeader,\r\n  Chip,\r\n  Divider,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableFooter,\r\n  TableRow,\r\n  makeStyles,\r\n  Link,\r\n  useTheme,\r\n  IconButton,\r\n  TablePagination,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  KeyboardArrowLeft,\r\n  KeyboardArrowRight,\r\n  FirstPage,\r\n  LastPage,\r\n} from \"@material-ui/icons\";\r\nimport { UniqId } from \"../../../_helpers/constants\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\n\r\nconst useStyles1 = makeStyles((theme) => ({\r\n  root: {\r\n    flexShrink: 0,\r\n    marginLeft: theme.spacing(2.5),\r\n  },\r\n}));\r\n\r\nfunction TablePaginationActions(props) {\r\n  const classes = useStyles1();\r\n  const theme = useTheme();\r\n  const { count, page, rowsPerPage, onChangePage } = props;\r\n  const handleFirstPageButtonClick = (event) => {\r\n    onChangePage(event, 0);\r\n  };\r\n\r\n  const handleBackButtonClick = (event) => {\r\n    onChangePage(event, page - 1);\r\n  };\r\n\r\n  const handleNextButtonClick = (event) => {\r\n    onChangePage(event, page + 1);\r\n  };\r\n\r\n  const handleLastPageButtonClick = (event) => {\r\n    onChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <IconButton\r\n        onClick={handleFirstPageButtonClick}\r\n        disabled={page === 0}\r\n        aria-label=\"first page\"\r\n      >\r\n        {theme.direction === \"rtl\" ? <LastPage /> : <FirstPage />}\r\n      </IconButton>\r\n      <IconButton\r\n        onClick={handleBackButtonClick}\r\n        disabled={page === 0}\r\n        aria-label=\"previous page\"\r\n      >\r\n        {theme.direction === \"rtl\" ? (\r\n          <KeyboardArrowRight />\r\n        ) : (\r\n          <KeyboardArrowLeft />\r\n        )}\r\n      </IconButton>\r\n      <IconButton\r\n        onClick={handleNextButtonClick}\r\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n        aria-label=\"next page\"\r\n      >\r\n        {theme.direction === \"rtl\" ? (\r\n          <KeyboardArrowLeft />\r\n        ) : (\r\n          <KeyboardArrowRight />\r\n        )}\r\n      </IconButton>\r\n      <IconButton\r\n        onClick={handleLastPageButtonClick}\r\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n        aria-label=\"last page\"\r\n      >\r\n        {theme.direction === \"rtl\" ? <FirstPage /> : <LastPage />}\r\n      </IconButton>\r\n    </div>\r\n  );\r\n}\r\n\r\nTablePaginationActions.propTypes = {\r\n  count: PropTypes.number.isRequired,\r\n  onChangePage: PropTypes.func.isRequired,\r\n  page: PropTypes.number.isRequired,\r\n  rowsPerPage: PropTypes.number.isRequired,\r\n};\r\n\r\nconst useStyles2 = makeStyles((theme) => ({\r\n  table: {\r\n    minWidth: 300,\r\n  },\r\n  toolbar: {\r\n    \"& div\": {\r\n      flexFlow: \"wrap\",\r\n      justifyContent: \"flex-end\",\r\n      [theme.breakpoints.only(\"xs\")]: {\r\n        justifyContent: \"space-around\",\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function LatestSongs({ res }) {\r\n  const classes = useStyles2();\r\n  const [page, setPage] = React.useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\r\n\r\n  const emptyRows =\r\n    rowsPerPage - Math.min(rowsPerPage, res.length - page * rowsPerPage);\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n  const pagination = {\r\n    lower: [{ label: \"همه\", value: -1 }],\r\n    low: [\r\n      { label: \"۵\", value: 5 },\r\n      { label: \"همه\", value: -1 },\r\n    ],\r\n    average: [\r\n      { label: \"۵\", value: 5 },\r\n      { label: \"۱۰\", value: 10 },\r\n      { label: \"همه\", value: -1 },\r\n    ],\r\n    high: [\r\n      { label: \"۵\", value: 5 },\r\n      { label: \"۱۰\", value: 10 },\r\n      { label: \"۲۵\", value: 25 },\r\n      { label: \"همه\", value: -1 },\r\n    ],\r\n    higher: [\r\n      { label: \"۵\", value: 5 },\r\n      { label: \"۱۰\", value: 10 },\r\n      { label: \"۲۵\", value: 25 },\r\n      { label: \"۵۰\", value: 50 },\r\n      { label: \"همه\", value: -1 },\r\n    ],\r\n  };\r\n  const sel =\r\n    res.length > 500\r\n      ? \"higher\"\r\n      : res.length >= 100\r\n      ? \"high\"\r\n      : res.length >= 30\r\n      ? \"average\"\r\n      : res.length > 5\r\n      ? \"low\"\r\n      : \"lower\";\r\n\r\n  // moment.loadPersian({ usePersianDigits: true });\r\n\r\n  const dateChanger = (d, t) => {\r\n    let date, time;\r\n    if (d) date = d;\r\n    if (t) time = t;\r\n    return date ? date : time;\r\n  };\r\n  return (\r\n    <Card className={clsx(classes.root)}>\r\n      <CardHeader title=\"آخرین آهنگ ها\" />\r\n      <Divider />\r\n      <Box>\r\n        <Table className={classes.table} aria-label=\"custom pagination table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>نام آهنگ</TableCell>\r\n              <TableCell>ساعت</TableCell>\r\n              <TableCell>تاریخ</TableCell>\r\n              <TableCell>دقت</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {(rowsPerPage > 0\r\n              ? res.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n              : res\r\n            ).map((row) => (\r\n              <TableRow key={UniqId()}>\r\n                {row.song.id !== 0 ? (\r\n                  <TableCell>\r\n                    <Link\r\n                      to={`/lesson/${row.song.id}`}\r\n                      color=\"secondary\"\r\n                      component={RouterLink}\r\n                    >\r\n                      {row.song.name}\r\n                    </Link>\r\n                  </TableCell>\r\n                ) : (\r\n                  <TableCell>\r\n                    <Link to=\"/guide\" color=\"secondary\" component={RouterLink}>\r\n                      {row.song.name}\r\n                    </Link>\r\n                  </TableCell>\r\n                )}\r\n                <TableCell>{dateChanger(false, row.time)}</TableCell>\r\n                <TableCell>{dateChanger(row.date)}</TableCell>\r\n                <TableCell>\r\n                  <Chip color=\"secondary\" label={row.progress} size=\"small\" />\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n            {emptyRows > 0 && (\r\n              <TableRow style={{ height: 57 * emptyRows }}>\r\n                <TableCell colSpan={6} />\r\n              </TableRow>\r\n            )}\r\n          </TableBody>\r\n          <TableFooter>\r\n            <TableRow>\r\n              <TablePagination\r\n                className={classes.toolbar}\r\n                rowsPerPageOptions={pagination[sel]}\r\n                colSpan={4}\r\n                count={res.length}\r\n                rowsPerPage={rowsPerPage}\r\n                page={page}\r\n                SelectProps={{\r\n                  inputProps: { \"aria-label\": \"row per page\" },\r\n                  native: true,\r\n                }}\r\n                onChangePage={handleChangePage}\r\n                onChangeRowsPerPage={handleChangeRowsPerPage}\r\n                ActionsComponent={TablePaginationActions}\r\n              />\r\n            </TableRow>\r\n          </TableFooter>\r\n        </Table>\r\n      </Box>\r\n    </Card>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { CircularProgress, Container, Grid } from \"@material-ui/core\";\r\nimport { connect } from \"react-redux\";\r\nimport { profileRequest } from \"../../_actions/profile.actions\";\r\nimport { DefaultProfileState } from \"../../_types/profile.types\";\r\nimport { DefaultUserState } from \"../../_types/user.types\";\r\nimport { AppState } from \"../../_types\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { AppActions } from \"../../_types\";\r\nimport LatestSongs from \"./Dashboard/LatestSongs\";\r\n\r\ninterface ProfilePageProps {\r\n  auth: DefaultUserState;\r\n  profile: DefaultProfileState;\r\n}\r\n\r\ntype Props = ProfilePageProps & LinkDispatchProps;\r\n\r\nclass ProfilePage extends React.Component<Props> {\r\n  componentDidMount() {\r\n    const token = this.props.auth.user?.token;\r\n    if (token) this.props.getProfile(token);\r\n  }\r\n\r\n  render() {\r\n    const { profile, loading } = this.props.profile;\r\n    if (loading) {\r\n      return <CircularProgress color=\"secondary\" />;\r\n    }\r\n    if (!profile) {\r\n      return <div>not signed...</div>;\r\n    } else {\r\n      return (\r\n        <Container maxWidth={false} style={{ paddingTop: \"10px\" }}>\r\n          <Grid container spacing={3}>\r\n            <Grid item lg={12} md={12} xl={12} xs={12}>\r\n              <LatestSongs res={profile.meta.playtime} />\r\n            </Grid>\r\n            {/* <Grid item lg={4} md={12} xl={4} xs={12}>\r\n              <InstrumentTraffic />\r\n            </Grid>\r\n            <Grid\r\n              container\r\n              spacing={3}\r\n              item\r\n              lg={8}\r\n              md={12}\r\n              xl={8}\r\n              xs={12}\r\n              style={{ margin: 0, padding: 0 }}\r\n            > */}\r\n            {/* <Grid item lg={6} md={6} xl={6} xs={12}>\r\n                <TotalLevel />\r\n              </Grid>\r\n              <Grid item lg={6} md={6} xl={6} xs={12}>\r\n                <Budget  />\r\n              </Grid>\r\n              <Grid item lg={6} md={6} xl={6} xs={12}>\r\n                <TotalCustomers  />\r\n              </Grid>\r\n              <Grid item lg={6} md={6} xl={6} xs={12}>\r\n                <TotalProfit /> */}\r\n            {/* </Grid> */}\r\n            {/* </Grid> */}\r\n          </Grid>\r\n        </Container>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n  getProfile: (token: string) => void;\r\n}\r\n\r\nconst mapStateToProps = (\r\n  state: AppState,\r\n  ownProps: Props\r\n): ProfilePageProps => {\r\n  return { profile: state.user.profile, auth: state.auth };\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>,\r\n  ownProps: ProfilePageProps\r\n): LinkDispatchProps => ({\r\n  getProfile: bindActionCreators(profileRequest, dispatch),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProfilePage);\r\n","import { Dispatch } from \"react\";\r\nimport {\r\n  FAILURE_LESSON,\r\n  REQUEST_LESSON,\r\n  SUCCESS_LESSON,\r\n  FAILURE_LESSONS,\r\n  REQUEST_LESSONS,\r\n  SUCCESS_LESSONS,\r\n  SAVE_LESSONS,\r\n} from \"../_types/lesson.types\";\r\nimport { API } from \"../_helpers/api\";\r\nimport { AppState } from \"../_types\";\r\nimport { AppActions } from \"../_types\";\r\nimport { getTheTime, PathFinder } from \"../_helpers/constants\";\r\nimport { errorHandler } from \"../_helpers/alert\";\r\nimport { requestGuide } from \"./guide.actions\";\r\nimport { requestCourse } from \"./course.actions\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\n\r\nexport const requestAllLesson = () => (\r\n  (dispatch: Dispatch<AppActions>, getState: () => AppState) => {\r\n    const lessonState = getState().bank.lessons;\r\n    const currentTime = getTheTime();\r\n    const resetTime = currentTime - lessonState.nextLoad;\r\n    if (lessonState.data && resetTime <= 0) {\r\n      return;\r\n    }\r\n    dispatch({ type: REQUEST_LESSONS });\r\n\r\n    API.get(`/lesson/v2`)\r\n      .then(res => dispatch({\r\n        type: SUCCESS_LESSONS, payload: {\r\n          data: res.data,\r\n          nextLoad: getTheTime(10)\r\n        }\r\n      }))\r\n      .catch(err => errorHandler(err, FAILURE_LESSONS))\r\n  }\r\n)\r\n\r\nexport const requestLesson = (path: PathFinder) => (\r\n  (dispatch: ThunkDispatch<AppState, undefined, AppActions>, getState: () => AppState) => {\r\n    const found = getState().bank.lessons.data.find(lesson => lesson.id === path.lesson);\r\n\r\n    if (found) {\r\n      dispatch({ type: SUCCESS_LESSON, data: found })\r\n    }\r\n    else if (path.guide) {\r\n      dispatch(requestGuide(path))\r\n    }\r\n    else if (path.course) {\r\n      dispatch(requestCourse(path))\r\n    }\r\n    else if (!found) {\r\n      dispatch({ type: REQUEST_LESSON });\r\n      API.get(`/lesson/v2?id=${path.lesson}`)\r\n        .then(res => {\r\n          dispatch({ type: SUCCESS_LESSON, data: res.data[0] })\r\n          dispatch({ type: SAVE_LESSONS, data: res.data })\r\n        })\r\n        .catch(err => errorHandler(err, FAILURE_LESSON))\r\n    }\r\n  }\r\n)\r\n","import { Dispatch } from \"react\";\r\nimport {\r\n  SAVE_COURSES,\r\n  FAILURE_COURSE,\r\n  REQUEST_COURSE,\r\n  SUCCESS_COURSE,\r\n  FAILURE_COURSES,\r\n  REQUEST_COURSES,\r\n  SUCCESS_COURSES,\r\n} from \"../_types/course.types\";\r\nimport { AppState } from \"../_types\";\r\nimport { API } from \"../_helpers/api\";\r\nimport { AppActions } from \"../_types\";\r\nimport { errorHandler } from \"../_helpers/alert\";\r\nimport { getTheTime, PathFinder } from \"../_helpers/constants\";\r\nimport { SAVE_EXERCISES } from \"../_types/exercise.types\";\r\nimport { ILesson, SAVE_LESSONS } from \"../_types/lesson.types\";\r\nimport { requestGuide } from \"./guide.actions\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { requestLesson } from \"./lesson.actions\";\r\n\r\nexport const requestAllCourse = () => (\r\n  (dispatch: Dispatch<AppActions>, getState: () => AppState) => {\r\n    const courseState = getState().bank.courses;\r\n    const currentTime = getTheTime();\r\n    const resetTime = currentTime - courseState.nextLoad;\r\n    if (courseState.data && resetTime <= 0) {\r\n      return;\r\n    }\r\n    dispatch({ type: REQUEST_COURSES });\r\n\r\n    API.get(`/lesson/v2/course`)\r\n      .then(res => dispatch({\r\n        type: SUCCESS_COURSES, payload: {\r\n          data: res.data,\r\n          nextLoad: getTheTime(10)\r\n        }\r\n      }))\r\n      .catch(err => errorHandler(err, FAILURE_COURSES))\r\n  }\r\n)\r\n\r\nexport const requestCourse = (path: PathFinder) => (\r\n  (dispatch: ThunkDispatch<AppState, undefined, AppActions>, getState: () => AppState) => {\r\n    const found = getState().bank.courses.data.find(course => course.id === path.course);\r\n    const { course, ...newPath } = path;\r\n    if (found) {\r\n\r\n      const compiler = Compiler(found.course_select);\r\n      dispatch({ type: SUCCESS_COURSE, data: found })\r\n      dispatch({ type: SAVE_LESSONS, data: compiler.lessons })\r\n      dispatch({ type: SAVE_EXERCISES, data: compiler.exercises })\r\n      if (path.lesson) dispatch(requestLesson(newPath))\r\n      if (path.exercise) dispatch(requestLesson(newPath))\r\n    }\r\n    else if (path.guide) {\r\n      dispatch(requestGuide(path))\r\n    }\r\n    else if (!found) {\r\n\r\n      dispatch({ type: REQUEST_COURSE });\r\n      API.get(`/lesson/v2/course?id=${path.course}`)\r\n        .then(res => {\r\n          const compiler = Compiler(res.data[0].course_select);\r\n          dispatch({ type: SUCCESS_COURSE, data: res.data[0] })\r\n          dispatch({ type: SAVE_COURSES, data: res.data })\r\n          dispatch({ type: SAVE_LESSONS, data: compiler.lessons })\r\n          dispatch({ type: SAVE_EXERCISES, data: compiler.exercises })\r\n          if (path.lesson) dispatch(requestLesson(newPath))\r\n          if (path.exercise) dispatch(requestLesson(newPath))\r\n        })\r\n        .catch(err => errorHandler(err, FAILURE_COURSE))\r\n    }\r\n  }\r\n)\r\n\r\nconst Compiler = (course_select: ILesson[]) => {\r\n  const lessons: ILesson[] = []\r\n  const exercises: ILesson[] = []\r\n  course_select.map(select => select.info.genre.name === \"Exercise\" ? exercises.push(select) : lessons.push(select))\r\n  return { lessons, exercises };\r\n};\r\n","import { Dispatch } from \"react\";\r\nimport {\r\n  FAILURE_EXERCISE,\r\n  REQUEST_EXERCISE,\r\n  SUCCESS_EXERCISE,\r\n  FAILURE_EXERCISES,\r\n  REQUEST_EXERCISES,\r\n  SUCCESS_EXERCISES,\r\n  SAVE_EXERCISES,\r\n} from \"../_types/exercise.types\";\r\nimport { API } from \"../_helpers/api\";\r\nimport { AppState } from \"../_types\";\r\nimport { AppActions } from \"../_types\";\r\nimport { getTheTime, PathFinder } from \"../_helpers/constants\";\r\nimport { errorHandler } from \"../_helpers/alert\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { requestGuide } from \"./guide.actions\";\r\nimport { requestCourse } from \"./course.actions\";\r\n\r\nexport const requestAllExercise = () => (\r\n  (dispatch: Dispatch<AppActions>, getState: () => AppState) => {\r\n    const exerciseState = getState().bank.exercises;\r\n    const currentTime = getTheTime();\r\n    const resetTime = currentTime - exerciseState.nextLoad;\r\n    if (exerciseState.data && resetTime <= 0) {\r\n      return;\r\n    }\r\n    dispatch({ type: REQUEST_EXERCISES });\r\n\r\n    API.get(`/lesson/v2?course=125`)\r\n      .then(res => dispatch({\r\n        type: SUCCESS_EXERCISES, payload: {\r\n          data: res.data,\r\n          nextLoad: getTheTime(10)\r\n        }\r\n      }))\r\n      .catch(err => errorHandler(err, FAILURE_EXERCISES))\r\n  }\r\n)\r\n\r\nexport const requestExercise = (path: PathFinder) => (\r\n  (dispatch: ThunkDispatch<AppState, undefined, AppActions>, getState: () => AppState) => {\r\n    const found = getState().bank.exercises.data.find(exercise => exercise.id === path.exercise);\r\n\r\n    if (found) {\r\n      dispatch({ type: SUCCESS_EXERCISE, data: found })\r\n    }\r\n    else if (path.guide) {\r\n      dispatch(requestGuide(path))\r\n    }\r\n    else if (path.course) {\r\n      dispatch(requestCourse(path))\r\n    }\r\n    else if (!found) {\r\n      dispatch({ type: REQUEST_EXERCISE });\r\n      API.get(`/lesson/v2?id=${path.exercise}`)\r\n        .then(res => {\r\n          dispatch({ type: SUCCESS_EXERCISE, data: res.data[0] })\r\n          dispatch({ type: SAVE_EXERCISES, data: res.data })\r\n        })\r\n        .catch(err => errorHandler(err, FAILURE_EXERCISE))\r\n    }\r\n  }\r\n)","import { Dispatch } from \"react\";\r\nimport {\r\n  SAVE_GUIDES,\r\n  FAILURE_GUIDE,\r\n  REQUEST_GUIDE,\r\n  SUCCESS_GUIDE,\r\n  FAILURE_GUIDES,\r\n  REQUEST_GUIDES,\r\n  SUCCESS_GUIDES,\r\n  GuideSelect,\r\n} from \"../_types/guide.types\";\r\nimport { AppState } from \"../_types\";\r\nimport { API } from \"../_helpers/api\";\r\nimport { AppActions } from \"../_types\";\r\nimport { errorHandler } from \"../_helpers/alert\";\r\nimport { ILesson } from \"../_types/lesson.types\";\r\nimport { getTheTime, PathFinder } from \"../_helpers/constants\";\r\nimport { SAVE_EXERCISES } from \"../_types/exercise.types\";\r\nimport { ICourse, SAVE_COURSES } from \"../_types/course.types\";\r\nimport { requestExercise } from \"./exercise.actions\";\r\nimport { requestCourse } from \"./course.actions\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\n\r\nexport const requestAllGuide = () => (\r\n  (dispatch: Dispatch<AppActions>, getState: () => AppState) => {\r\n    const guideState = getState().bank.guides;\r\n    const currentTime = getTheTime();\r\n    const resetTime = currentTime - guideState.nextLoad;\r\n    if (guideState.data && resetTime <= 0) {\r\n      return;\r\n    }\r\n    dispatch({ type: REQUEST_GUIDES });\r\n\r\n    API.get(`/lesson/v2/guide`)\r\n      .then(res => dispatch({\r\n        type: SUCCESS_GUIDES, payload: {\r\n          data: res.data,\r\n          nextLoad: getTheTime(10)\r\n        }\r\n      }))\r\n      .catch(err => errorHandler(err, FAILURE_GUIDES))\r\n  }\r\n)\r\n\r\nexport const requestGuide = (path: PathFinder) => (\r\n  (dispatch: ThunkDispatch<AppState, undefined, AppActions>, getState: () => AppState) => {\r\n    const { guide, ...newPath } = path;\r\n    const found = getState().bank.guides.data.find(guide => guide.id === path.guide);\r\n    if (found) {\r\n\r\n      dispatch({ type: SUCCESS_GUIDE, data: found });\r\n      dispatch({ type: SAVE_COURSES, data: addCourses(found.guide_select) });\r\n      dispatch({ type: SAVE_EXERCISES, data: addExercises(found.guide_select) });\r\n      if (path.course) dispatch(requestCourse(newPath));\r\n      if (path.exercise) dispatch(requestExercise(newPath));\r\n    } else {\r\n\r\n      dispatch({ type: REQUEST_GUIDE });\r\n      API.get(`/lesson/v2/guide?id=${path.guide}`)\r\n        .then(res => {\r\n          dispatch({ type: SUCCESS_GUIDE, data: res.data[0] });\r\n          dispatch({ type: SAVE_GUIDES, data: res.data });\r\n          dispatch({ type: SAVE_COURSES, data: addCourses(res.data[0].guide_select) });\r\n          dispatch({ type: SAVE_EXERCISES, data: addExercises(res.data[0].guide_select) });\r\n          if (path.course) dispatch(requestCourse(newPath));\r\n          if (path.exercise) dispatch(requestExercise(newPath));\r\n        })\r\n        .catch(err => errorHandler(err, FAILURE_GUIDE));\r\n    }\r\n  }\r\n)\r\n\r\nconst addCourses = (guide_select: GuideSelect[]) => {\r\n  const added: ICourse[] = []\r\n  guide_select.map((course) => course.course?.map(lesson => added.push(lesson)))\r\n  return added;\r\n};\r\nconst addExercises = (guide_select: GuideSelect[]) => {\r\n  const added: ILesson[] = []\r\n  guide_select.map((course) => course.exercise?.map(exercise => added.push(exercise)))\r\n  return added;\r\n}","import React from \"react\";\r\nimport { push } from \"connected-react-router\";\r\nimport {\r\n  Card,\r\n  Button,\r\n  CardMedia,\r\n  Typography,\r\n  CardContent,\r\n  CardActions,\r\n  CardActionArea,\r\n} from \"@material-ui/core\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\nimport { store } from \"../../../_store/store.config\";\r\nimport { IGuide } from \"../../../_types/guide.types\";\r\nimport { thumbnailsFinder } from \"../../../_helpers/constants\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      maxWidth: 345,\r\n      maxHeight: 360,\r\n      margin: theme.spacing(2),\r\n    },\r\n    cardAction: {\r\n      justifyContent: \"space-between\",\r\n      margin: \"inherit\",\r\n    },\r\n    content: {\r\n      minHeight: 150,\r\n    },\r\n  })\r\n);\r\n\r\ntype Props = {\r\n  guide: IGuide;\r\n};\r\n\r\nexport const GuideCard: React.FC<Props> = ({ guide }) => {\r\n  const classes = useStyles();\r\n  const { title, thumbnails, description, teacher } = guide;\r\n\r\n  const clickHandler = (\r\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>\r\n  ): void => {\r\n    store.dispatch(push(`/guide/${guide.id}`));\r\n  };\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardActionArea onClick={clickHandler}>\r\n        <CardMedia\r\n          component=\"img\"\r\n          alt={title}\r\n          height=\"140\"\r\n          image={thumbnailsFinder(thumbnails)}\r\n          title={title}\r\n        />\r\n        <CardContent className={classes.content}>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {title}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            {description}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions className={classes.cardAction}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n          از {teacher}\r\n        </Typography>\r\n        <Button size=\"medium\" color=\"secondary\" onClick={clickHandler}>\r\n          ادامه مطلب\r\n        </Button>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n","import React, { Component, ComponentType } from \"react\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Chip,\r\n  CircularProgress,\r\n  createStyles,\r\n  Grid,\r\n  Theme,\r\n  Typography,\r\n  withStyles,\r\n  WithStyles,\r\n} from \"@material-ui/core\";\r\n\r\nimport { requestAllGuide } from \"../../../_actions/guide.actions\";\r\nimport { IGuide } from \"../../../_types/guide.types\";\r\nimport { AppActions } from \"../../../_types\";\r\nimport { AppState } from \"../../../_types\";\r\nimport { GuideCard } from \"./GuideCard\";\r\n\r\nconst useStyles = (theme: Theme) =>\r\n  createStyles({\r\n    header: {\r\n      position: \"relative\",\r\n    },\r\n    cardList: {\r\n      minHeight: \"calc(100vh - 240px)\",\r\n    },\r\n    chip: {\r\n      position: \"absolute\",\r\n      right: 0,\r\n      top: 0,\r\n    },\r\n    autoMargin: {\r\n      margin: \"auto\",\r\n    },\r\n  });\r\n\r\ninterface GuideProps extends WithStyles<typeof useStyles> {\r\n  data: IGuide[];\r\n  error: string;\r\n  loading: boolean;\r\n}\r\n\r\ntype Props = GuideProps & LinkDispatchProps;\r\n\r\nclass GuideList extends Component<Props> {\r\n  componentDidMount() {\r\n    this.props.requestAllGuide();\r\n  }\r\n\r\n  render() {\r\n    const { loading, data, error, classes } = this.props;\r\n    const length = data ? data.length : 0;\r\n    return (\r\n      <>\r\n        <div className={classes.header}>\r\n          <Typography variant=\"h3\">مجموعه ها</Typography>\r\n          <Chip\r\n            className={classes.chip}\r\n            color=\"secondary\"\r\n            label={\"تعداد: \" + length}\r\n          />\r\n        </div>\r\n        <Grid container justify=\"center\" className={classes.cardList}>\r\n          {loading ? (\r\n            <CircularProgress\r\n              color=\"secondary\"\r\n              className={classes.autoMargin}\r\n            />\r\n          ) : data.length ? (\r\n            data.map((guide: IGuide) => (\r\n              <GuideCard key={guide.id} guide={guide} />\r\n            ))\r\n          ) : (\r\n            <Typography component=\"div\" className={classes.autoMargin}>\r\n              {error}\r\n            </Typography>\r\n          )}\r\n        </Grid>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n  requestAllGuide: () => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState, ownProps: Props): GuideProps => {\r\n  return {\r\n    classes: ownProps.classes,\r\n    ...state.bank.guides,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n  requestAllGuide: bindActionCreators(requestAllGuide, dispatch),\r\n});\r\n\r\nexport default (connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(useStyles)(GuideList)) as unknown) as ComponentType<unknown>;\r\n","import React from \"react\";\r\nimport { push } from \"connected-react-router\";\r\nimport {\r\n  Card,\r\n  Button,\r\n  CardMedia,\r\n  Typography,\r\n  CardContent,\r\n  CardActions,\r\n  CardActionArea,\r\n} from \"@material-ui/core\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\nimport { store } from \"../../../_store/store.config\";\r\nimport { ILesson } from \"../../../_types/lesson.types\";\r\nimport { thumbnailsFinder } from \"../../../_helpers/constants\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      maxWidth: 345,\r\n      maxHeight: 360,\r\n      margin: theme.spacing(2),\r\n    },\r\n    cardAction: {\r\n      justifyContent: \"space-between\",\r\n      margin: \"inherit\",\r\n    },\r\n    content: {\r\n      minHeight: 150,\r\n    },\r\n  })\r\n);\r\n\r\ntype Props = {\r\n  lesson: ILesson;\r\n};\r\n\r\nexport const LessonCard: React.FC<Props> = ({ lesson }) => {\r\n  const classes = useStyles();\r\n  const { title, featured_img, excerpt, author } = lesson;\r\n\r\n  const clickHandler = (\r\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>\r\n  ): void => {\r\n    store.dispatch(push(`/lesson/${lesson.id}`));\r\n  };\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardActionArea onClick={clickHandler}>\r\n        <CardMedia\r\n          component=\"img\"\r\n          alt={title}\r\n          height=\"140\"\r\n          image={thumbnailsFinder(featured_img)}\r\n          title={title}\r\n        />\r\n        <CardContent className={classes.content}>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {title}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            {excerpt}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions className={classes.cardAction}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n          از {author}\r\n        </Typography>\r\n        <Button size=\"medium\" color=\"secondary\" onClick={clickHandler}>\r\n          ادامه مطلب\r\n        </Button>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n","import React, { Component, ComponentType } from \"react\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Chip,\r\n  Grid,\r\n  Typography,\r\n  CircularProgress,\r\n  Theme,\r\n  createStyles,\r\n  WithStyles,\r\n  withStyles,\r\n} from \"@material-ui/core\";\r\n\r\nimport { requestAllLesson } from \"../../../_actions/lesson.actions\";\r\nimport { ILesson } from \"../../../_types/lesson.types\";\r\nimport { AppActions } from \"../../../_types\";\r\nimport { AppState } from \"../../../_types\";\r\nimport { LessonCard } from \"./LessonCard\";\r\n\r\nconst useStyles = (theme: Theme) =>\r\n  createStyles({\r\n    header: {\r\n      position: \"relative\",\r\n    },\r\n    cardList: {\r\n      minHeight: \"calc(100vh - 240px)\",\r\n    },\r\n    chip: {\r\n      position: \"absolute\",\r\n      right: 0,\r\n      top: 0,\r\n    },\r\n    autoMargin: {\r\n      margin: \"auto\",\r\n    },\r\n  });\r\n\r\ninterface LessonProps extends WithStyles<typeof useStyles> {\r\n  data: ILesson[];\r\n  error?: string;\r\n  loading?: boolean;\r\n}\r\n\r\ntype Props = LessonProps & LinkDispatchProps;\r\n\r\nclass LessonList extends Component<Props> {\r\n  componentDidMount() {\r\n    this.props.requestAllLesson();\r\n  }\r\n\r\n  render() {\r\n    const { loading, data, error, classes } = this.props;\r\n    const length = data ? data.length : 0;\r\n    return (\r\n      <>\r\n        <div className={classes.header}>\r\n          <Typography variant=\"h3\">درس ها</Typography>\r\n          <Chip\r\n            className={classes.chip}\r\n            color=\"secondary\"\r\n            label={\"تعداد: \" + length}\r\n          />\r\n        </div>\r\n        <Grid container justify=\"center\" className={classes.cardList}>\r\n          {loading ? (\r\n            <CircularProgress\r\n              color=\"secondary\"\r\n              className={classes.autoMargin}\r\n            />\r\n          ) : data.length ? (\r\n            data.map((lesson: ILesson) => (\r\n              <LessonCard key={lesson.id} lesson={lesson} />\r\n            ))\r\n          ) : (\r\n            <Typography component=\"div\" className={classes.autoMargin}>\r\n              {error}\r\n            </Typography>\r\n          )}\r\n        </Grid>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n  requestAllLesson: () => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState, ownProps: Props): LessonProps => {\r\n  return {\r\n    classes: ownProps.classes,\r\n    ...state.bank.lessons,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n  requestAllLesson: bindActionCreators(requestAllLesson, dispatch),\r\n});\r\n\r\nexport default (connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(useStyles)(LessonList)) as unknown) as ComponentType<unknown>;\r\n","import React from \"react\";\r\nimport { push } from \"connected-react-router\";\r\nimport {\r\n  Card,\r\n  Button,\r\n  CardMedia,\r\n  Typography,\r\n  CardContent,\r\n  CardActions,\r\n  CardActionArea,\r\n} from \"@material-ui/core\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\nimport { store } from \"../../../_store/store.config\";\r\nimport { ICourse } from \"../../../_types/course.types\";\r\nimport { thumbnailsFinder } from \"../../../_helpers/constants\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      maxWidth: 345,\r\n      maxHeight: 360,\r\n      margin: theme.spacing(2),\r\n    },\r\n    cardAction: {\r\n      justifyContent: \"space-between\",\r\n      margin: \"inherit\",\r\n    },\r\n    content: {\r\n      minHeight: 150,\r\n    },\r\n  })\r\n);\r\n\r\ntype Props = {\r\n  course: ICourse;\r\n};\r\n\r\nexport const CourseCard: React.FC<Props> = ({ course }) => {\r\n  const classes = useStyles();\r\n  const { title, thumbnails, description, teacher } = course;\r\n\r\n  const clickHandler = (\r\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>\r\n  ): void => {\r\n    store.dispatch(push(`/course/${course.id}`));\r\n  };\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardActionArea onClick={clickHandler}>\r\n        <CardMedia\r\n          component=\"img\"\r\n          alt={title}\r\n          height=\"140\"\r\n          image={thumbnailsFinder(thumbnails)}\r\n          title={title}\r\n        />\r\n        <CardContent className={classes.content}>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {title}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            {description}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions className={classes.cardAction}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n          از {teacher}\r\n        </Typography>\r\n        <Button size=\"medium\" color=\"secondary\" onClick={clickHandler}>\r\n          ادامه مطلب\r\n        </Button>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n","import React, { Component, ComponentType } from \"react\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Chip,\r\n  Grid,\r\n  Typography,\r\n  CircularProgress,\r\n  WithStyles,\r\n  createStyles,\r\n  Theme,\r\n  withStyles,\r\n} from \"@material-ui/core\";\r\n\r\nimport { CourseCard } from \"./CourseCard\";\r\nimport { AppState } from \"../../../_types\";\r\nimport { AppActions } from \"../../../_types\";\r\nimport { ICourse } from \"../../../_types/course.types\";\r\nimport { requestAllCourse } from \"../../../_actions/course.actions\";\r\n\r\nconst useStyles = (theme: Theme) =>\r\n  createStyles({\r\n    header: {\r\n      position: \"relative\",\r\n    },\r\n    cardList: {\r\n      minHeight: \"calc(100vh - 240px)\",\r\n    },\r\n    chip: {\r\n      position: \"absolute\",\r\n      right: 0,\r\n      top: 0,\r\n    },\r\n    autoMargin: {\r\n      margin: \"auto\",\r\n    },\r\n  });\r\n\r\ninterface CourseProps extends WithStyles<typeof useStyles> {\r\n  data: ICourse[];\r\n  error: string;\r\n  loading: boolean;\r\n}\r\n\r\ntype Props = CourseProps & LinkDispatchProps;\r\n\r\nclass CourseList extends Component<Props> {\r\n  componentDidMount() {\r\n    this.props.requestAllCourse();\r\n  }\r\n\r\n  render() {\r\n    const { loading, data, error, classes } = this.props;\r\n    const length = data ? data.length : 0;\r\n    return (\r\n      <>\r\n        <div className={classes.header}>\r\n          <Typography variant=\"h3\">آموزش ها</Typography>\r\n          <Chip\r\n            className={classes.chip}\r\n            color=\"secondary\"\r\n            label={\"تعداد: \" + length}\r\n          />\r\n        </div>\r\n        <Grid container justify=\"center\" className={classes.cardList}>\r\n          {loading ? (\r\n            <CircularProgress\r\n              color=\"secondary\"\r\n              className={classes.autoMargin}\r\n            />\r\n          ) : data.length ? (\r\n            data.map((course: ICourse) => (\r\n              <CourseCard key={course.id} course={course} />\r\n            ))\r\n          ) : (\r\n            <Typography component=\"div\" className={classes.autoMargin}>\r\n              {error}\r\n            </Typography>\r\n          )}\r\n        </Grid>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n  requestAllCourse: () => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState, ownProps: Props): CourseProps => {\r\n  return {\r\n    classes: ownProps.classes,\r\n    ...state.bank.courses,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n  requestAllCourse: bindActionCreators(requestAllCourse, dispatch),\r\n});\r\n\r\nexport default (connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(useStyles)(CourseList)) as unknown) as ComponentType<unknown>;\r\n","import React from \"react\";\r\nimport {\r\n  Card,\r\n  Button,\r\n  CardMedia,\r\n  Typography,\r\n  CardContent,\r\n  CardActions,\r\n  CardActionArea,\r\n} from \"@material-ui/core\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\nimport { IFavorite } from \"../../../_types/favorite.types\";\r\nimport { thumbnailsFinder } from \"../../../_helpers/constants\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      maxWidth: 345,\r\n      maxHeight: 360,\r\n      margin: theme.spacing(2),\r\n    },\r\n    cardAction: {\r\n      justifyContent: \"space-between\",\r\n      margin: \"inherit\",\r\n    },\r\n    content: {\r\n      minHeight: 150,\r\n    },\r\n  })\r\n);\r\n\r\ntype Props = {\r\n  favorite: IFavorite;\r\n};\r\n\r\nexport const FavoriteCard: React.FC<Props> = ({ favorite }) => {\r\n  const classes = useStyles();\r\n  const { title, featured_img, excerpt, author } = favorite;\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardActionArea>\r\n        <CardMedia\r\n          component=\"img\"\r\n          alt={title}\r\n          height=\"140\"\r\n          image={thumbnailsFinder(featured_img)}\r\n          title={title}\r\n        />\r\n        <CardContent className={classes.content}>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {title}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            {excerpt}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions className={classes.cardAction}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n          از {author}\r\n        </Typography>\r\n        <Button size=\"medium\" color=\"secondary\">\r\n          ادامه مطلب\r\n        </Button>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n","import { Dispatch } from \"react\";\r\nimport {\r\n  FAILURE_FAVORITES,\r\n  REQUEST_FAVORITES,\r\n  SUCCESS_FAVORITES,\r\n} from \"../_types/favorite.types\";\r\nimport { API } from \"../_helpers/api\";\r\nimport { AppState } from \"../_types\";\r\nimport { AppActions } from \"../_types\";\r\nimport { getTheTime } from \"../_helpers/constants\";\r\nimport { errorHandler } from \"../_helpers/alert\";\r\n\r\nexport const requestAllFavorite = () => (\r\n  (dispatch: Dispatch<AppActions>, getState: () => AppState) => {\r\n    const favoriteState = getState().user.favorites;\r\n    const currentTime = getTheTime();\r\n    const resetTime = currentTime - favoriteState.nextLoad;\r\n    if (favoriteState.data && resetTime <= 0) {\r\n      return;\r\n    }\r\n    dispatch({ type: REQUEST_FAVORITES });\r\n\r\n    API.get(`/lesson/v2`)\r\n      .then(res => dispatch({\r\n        type: SUCCESS_FAVORITES, payload: {\r\n          data: res.data,\r\n          nextLoad: getTheTime(10)\r\n        }\r\n      }))\r\n      .catch(err => errorHandler(err, FAILURE_FAVORITES))\r\n  }\r\n)\r\n","import React, { Component, ComponentType } from \"react\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Chip,\r\n  CircularProgress,\r\n  createStyles,\r\n  Grid,\r\n  Theme,\r\n  Typography,\r\n  withStyles,\r\n  WithStyles,\r\n} from \"@material-ui/core\";\r\n\r\nimport { FavoriteCard } from \"./FavoriteCard\";\r\nimport { AppActions } from \"../../../_types\";\r\nimport { AppState } from \"../../../_types\";\r\nimport { IFavorite } from \"../../../_types/favorite.types\";\r\nimport { requestAllFavorite } from \"../../../_actions/favorite.actions\";\r\n\r\nconst useStyles = (theme: Theme) =>\r\n  createStyles({\r\n    header: {\r\n      position: \"relative\",\r\n    },\r\n    cardList: {\r\n      minHeight: \"calc(100vh - 240px)\",\r\n    },\r\n    chip: {\r\n      position: \"absolute\",\r\n      right: 0,\r\n      top: 0,\r\n    },\r\n    autoMargin: {\r\n      margin: \"auto\",\r\n    },\r\n  });\r\n\r\ninterface FavoriteProps extends WithStyles<typeof useStyles> {\r\n  data: IFavorite[];\r\n  error: string;\r\n  loading: boolean;\r\n}\r\ntype Props = FavoriteProps & LinkDispatchProps;\r\n\r\nclass FavoriteList extends Component<Props> {\r\n  componentDidMount() {\r\n    this.props.requestAllFavorite();\r\n  }\r\n\r\n  render() {\r\n    const { loading, data, error, classes } = this.props;\r\n    const length = data ? data.length : 0;\r\n    return (\r\n      <>\r\n        <div className={classes.header}>\r\n          <Typography variant=\"h3\">موردعلاقه ها</Typography>\r\n          <Chip\r\n            className={classes.chip}\r\n            color=\"secondary\"\r\n            label={\"تعداد: \" + length}\r\n          />\r\n        </div>\r\n        <Grid container justify=\"center\" className={classes.cardList}>\r\n          {loading ? (\r\n            <CircularProgress\r\n              color=\"secondary\"\r\n              className={classes.autoMargin}\r\n            />\r\n          ) : data.length ? (\r\n            data.map((favorite: IFavorite) => (\r\n              <FavoriteCard key={favorite.id} favorite={favorite} />\r\n            ))\r\n          ) : (\r\n            <Typography component=\"div\" className={classes.autoMargin}>\r\n              {error}\r\n            </Typography>\r\n          )}\r\n        </Grid>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n  requestAllFavorite: () => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState, ownProps: Props): FavoriteProps => {\r\n  return {\r\n    classes: ownProps.classes,\r\n    ...state.user.favorites,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n  requestAllFavorite: bindActionCreators(requestAllFavorite, dispatch),\r\n});\r\n\r\nexport default (connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(useStyles)(FavoriteList)) as unknown) as ComponentType<unknown>;\r\n","import React from \"react\";\r\nimport { push } from \"connected-react-router\";\r\nimport {\r\n  Card,\r\n  Button,\r\n  CardMedia,\r\n  Typography,\r\n  CardContent,\r\n  CardActions,\r\n  CardActionArea,\r\n} from \"@material-ui/core\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\nimport { store } from \"../../../_store/store.config\";\r\nimport { ILesson } from \"../../../_types/lesson.types\";\r\nimport { thumbnailsFinder } from \"../../../_helpers/constants\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      maxWidth: 345,\r\n      maxHeight: 360,\r\n      margin: theme.spacing(2),\r\n    },\r\n    cardAction: {\r\n      justifyContent: \"space-between\",\r\n      margin: \"inherit\",\r\n    },\r\n    content: {\r\n      minHeight: 150,\r\n    },\r\n  })\r\n);\r\n\r\ntype Props = {\r\n  exercise: ILesson;\r\n};\r\n\r\nexport const ExerciseCard: React.FC<Props> = ({ exercise }) => {\r\n  const classes = useStyles();\r\n  const { title, featured_img, excerpt, author } = exercise;\r\n\r\n  const clickHandler = (\r\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>\r\n  ): void => {\r\n    store.dispatch(push(`/exercise/${exercise.id}`));\r\n  };\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardActionArea onClick={clickHandler}>\r\n        <CardMedia\r\n          component=\"img\"\r\n          alt={title}\r\n          height=\"140\"\r\n          image={thumbnailsFinder(featured_img)}\r\n          title={title}\r\n        />\r\n        <CardContent className={classes.content}>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {title}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            {excerpt}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions className={classes.cardAction}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n          از {author}\r\n        </Typography>\r\n        <Button size=\"medium\" color=\"secondary\" onClick={clickHandler}>\r\n          ادامه مطلب\r\n        </Button>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n","import React, { Component, ComponentType } from \"react\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Chip,\r\n  CircularProgress,\r\n  createStyles,\r\n  Grid,\r\n  Theme,\r\n  Typography,\r\n  withStyles,\r\n  WithStyles,\r\n} from \"@material-ui/core\";\r\n\r\nimport { ExerciseCard } from \"./ExerciseCard\";\r\nimport { AppState } from \"../../../_types\";\r\nimport { AppActions } from \"../../../_types\";\r\nimport { ILesson } from \"../../../_types/lesson.types\";\r\nimport { requestAllExercise } from \"../../../_actions/exercise.actions\";\r\n\r\nconst useStyles = (theme: Theme) =>\r\n  createStyles({\r\n    header: {\r\n      position: \"relative\",\r\n    },\r\n    cardList: {\r\n      minHeight: \"calc(100vh - 240px)\",\r\n    },\r\n    chip: {\r\n      position: \"absolute\",\r\n      right: 0,\r\n      top: 0,\r\n    },\r\n    autoMargin: {\r\n      margin: \"auto\",\r\n    },\r\n  });\r\n\r\ninterface ExerciseProps extends WithStyles<typeof useStyles> {\r\n  data: ILesson[];\r\n  error: string;\r\n  loading: boolean;\r\n}\r\n\r\ntype Props = ExerciseProps & LinkDispatchProps;\r\n\r\nclass ExerciseList extends Component<Props> {\r\n  componentDidMount() {\r\n    this.props.requestAllExercise();\r\n  }\r\n\r\n  render() {\r\n    const { loading, data, error, classes } = this.props;\r\n    const length = data ? data.length : 0;\r\n    return (\r\n      <>\r\n        <div className={classes.header}>\r\n          <Typography variant=\"h3\">تمرین ها</Typography>\r\n          <Chip\r\n            className={classes.chip}\r\n            color=\"secondary\"\r\n            label={\"تعداد: \" + length}\r\n          />\r\n        </div>\r\n        <Grid container justify=\"center\" className={classes.cardList}>\r\n          {loading ? (\r\n            <CircularProgress\r\n              color=\"secondary\"\r\n              className={classes.autoMargin}\r\n            />\r\n          ) : data.length ? (\r\n            data.map((exercise: ILesson) => (\r\n              <ExerciseCard key={exercise.id} exercise={exercise} />\r\n            ))\r\n          ) : (\r\n            <Typography component=\"div\" className={classes.autoMargin}>\r\n              {error}\r\n            </Typography>\r\n          )}\r\n        </Grid>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n  requestAllExercise: () => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState, ownProps: Props): ExerciseProps => {\r\n  return {\r\n    classes: ownProps.classes,\r\n    ...state.bank.exercises,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n  requestAllExercise: bindActionCreators(requestAllExercise, dispatch),\r\n});\r\n\r\nexport default (connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(useStyles)(ExerciseList)) as unknown) as ComponentType<unknown>;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Tab,\r\n  Box,\r\n  Tabs,\r\n  AppBar,\r\n  makeStyles,\r\n  Paper,\r\n  Theme,\r\n  useMediaQuery,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  LibraryMusic,\r\n  QueueMusic,\r\n  MusicNote,\r\n  EmojiSymbols,\r\n  Favorite,\r\n} from \"@material-ui/icons\";\r\n\r\nimport GuideList from \"./Guide/GuideList\";\r\nimport LessonList from \"./Lesson/LessonList\";\r\nimport CourseList from \"./Course/CourseList\";\r\nimport FavoriteList from \"./Favorite/FavoriteList\";\r\nimport ExerciseList from \"./Exercise/ExerciseList\";\r\nimport { store } from \"../../_store/store.config\";\r\nimport { push } from \"connected-react-router\";\r\n\r\nconst pages = [\r\n  {\r\n    link: \"/guide\",\r\n    icon: <LibraryMusic />,\r\n    label: \"GUIDES\",\r\n    child: <GuideList />,\r\n  },\r\n  {\r\n    link: \"/course\",\r\n    icon: <QueueMusic />,\r\n    label: \"COURSES\",\r\n    child: <CourseList />,\r\n  },\r\n  {\r\n    link: \"/lesson\",\r\n    icon: <MusicNote />,\r\n    label: \"LESSONS\",\r\n    child: <LessonList />,\r\n  },\r\n  {\r\n    link: \"/exercise\",\r\n    icon: <EmojiSymbols />,\r\n    label: \"EXERCISES\",\r\n    child: <ExerciseList />,\r\n  },\r\n  {\r\n    link: \"/favorite\",\r\n    icon: <Favorite />,\r\n    label: \"FAVORITES\",\r\n    child: <FavoriteList />,\r\n  },\r\n];\r\n\r\nconst pageName = (num: number) => {\r\n  return pages[num].link;\r\n};\r\nconst pageNumber = (name: string) => {\r\n  const obj = pages.find((page) => page.link === name);\r\n  if (obj) return pages.indexOf(obj);\r\n  return 0;\r\n};\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: \"100vw\",\r\n  },\r\n  tabControl: {\r\n    [theme.breakpoints.down(880)]: {\r\n      minWidth: 150,\r\n    },\r\n    [theme.breakpoints.down(830)]: {\r\n      minWidth: 140,\r\n    },\r\n    [theme.breakpoints.down(780)]: {\r\n      minWidth: 120,\r\n    },\r\n    [theme.breakpoints.down(680)]: {\r\n      minWidth: 100,\r\n    },\r\n    [theme.breakpoints.down(500)]: {\r\n      minWidth: 80,\r\n    },\r\n    [theme.breakpoints.down(370)]: {\r\n      minWidth: 65,\r\n    },\r\n    [theme.breakpoints.down(320)]: {\r\n      minWidth: 55,\r\n    },\r\n  },\r\n  tabPanel: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function LearningPage() {\r\n  const classes = useStyles();\r\n\r\n  const loggedIn = store.getState().auth.loggedIn;\r\n  const pathName = store.getState().router.location.pathname;\r\n\r\n  const [value, setValue] = useState(pageNumber(pathName));\r\n\r\n  useEffect(() => {\r\n    if (pathName === \"/favorite\" && !loggedIn)\r\n      store.dispatch(push(pageName(0)));\r\n    else setValue(pageNumber(pathName));\r\n  }, [pathName, loggedIn]);\r\n\r\n  const matches = useMediaQuery(\"(min-width:500px)\");\r\n\r\n  const handleChange = (event: React.ChangeEvent<{}>, newValue: number) => {\r\n    setValue(newValue);\r\n    store.dispatch(push(pageName(newValue)));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <AppBar position=\"static\">\r\n        <Paper square>\r\n          <Tabs\r\n            value={value}\r\n            onChange={handleChange}\r\n            variant=\"scrollable\"\r\n            indicatorColor=\"secondary\"\r\n            textColor=\"secondary\"\r\n            scrollButtons=\"desktop\"\r\n            aria-label=\"icon label tabs\"\r\n          >\r\n            {pages.map((page, i) =>\r\n              i !== 4 ? (\r\n                <Tab\r\n                  className={classes.tabControl}\r\n                  key={page.label}\r\n                  icon={page.icon}\r\n                  label={matches ? page.label : null}\r\n                  id={`full-width-tab-${i}`}\r\n                  aria-controls={`full-width-tabpanel-${i}`}\r\n                />\r\n              ) : (\r\n                loggedIn && (\r\n                  <Tab\r\n                    className={classes.tabControl}\r\n                    key={page.label}\r\n                    icon={page.icon}\r\n                    label={matches ? page.label : null}\r\n                    id={`full-width-tab-${i}`}\r\n                    aria-controls={`full-width-tabpanel-${i}`}\r\n                  />\r\n                )\r\n              )\r\n            )}\r\n          </Tabs>\r\n        </Paper>\r\n      </AppBar>\r\n      {pages.map((page, i) => (\r\n        <div\r\n          key={page.label + i}\r\n          role=\"tabpanel\"\r\n          hidden={value !== i}\r\n          id={`full-width-tabpanel-${i}`}\r\n          aria-labelledby={`full-width-tab-${i}`}\r\n        >\r\n          {value === i && <Box className={classes.tabPanel}>{page.child}</Box>}\r\n        </div>\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport {\r\n  CircularProgress,\r\n  Container,\r\n  createStyles,\r\n  Theme,\r\n  Typography,\r\n  WithStyles,\r\n  withStyles,\r\n} from \"@material-ui/core\";\r\nimport { pathFinder } from \"../../_helpers/constants\";\r\nimport { requestPost } from \"../../_actions/post.actions\";\r\nimport { AppActions, AppState } from \"../../_types\";\r\nimport { IPost } from \"../../_types/post.types\";\r\n\r\nconst useStyles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      width: \"99vw\",\r\n      minHeight: \"calc(100vh - 128px)\",\r\n      [theme.breakpoints.down(\"xs\")]: {\r\n        minHeight: \"calc(100vh - 112px)\",\r\n        padding: theme.spacing(1),\r\n      },\r\n      padding: theme.spacing(2),\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n    },\r\n    autoMargin: {\r\n      margin: \"auto\",\r\n    },\r\n    bank: {\r\n      textAlign: \"center\",\r\n      width: \"100%\",\r\n      padding: 10,\r\n      backgroundColor: theme.palette.background.paper,\r\n      border: `1px solid ${theme.palette.secondary.main}`,\r\n      \"& > h1\": {\r\n        padding: 10,\r\n        margin: 10,\r\n        fontWeight: 900,\r\n        backgroundColor: theme.palette.secondary.main,\r\n      },\r\n      \"& > h2\": {\r\n        padding: 10,\r\n        margin: 10,\r\n        fontWeight: 800,\r\n      },\r\n      \"& > h3\": {\r\n        padding: 7,\r\n        margin: 7,\r\n        fontWeight: 800,\r\n      },\r\n      \"& > img\": {\r\n        maxWidth: \"100%\",\r\n      },\r\n      \"& > * > img\": {\r\n        maxWidth: \"100%\",\r\n      },\r\n      \"& > h4\": {\r\n        padding: 5,\r\n        margin: 5,\r\n        fontWeight: 800,\r\n      },\r\n      \"& > figure\": {\r\n        margin: \"auto\",\r\n        padding: 10,\r\n        \"& > figcaption\": {\r\n          display: \"none\",\r\n        },\r\n      },\r\n      \"& > * > strong\": {\r\n        fontWeight: 800,\r\n      },\r\n    },\r\n  });\r\n\r\ninterface PostProps extends WithStyles<typeof useStyles> {\r\n  data?: IPost;\r\n  loading: boolean;\r\n  error: string;\r\n  pathname: string;\r\n}\r\n\r\ntype Props = PostProps & LinkDispatchProps;\r\n\r\nclass Post extends Component<Props> {\r\n  componentDidMount() {\r\n    const path = pathFinder(this.props.pathname);\r\n    if (path.post) this.props.requestPost(path.post);\r\n  }\r\n\r\n  render() {\r\n    const { classes, data, loading, error } = this.props;\r\n    return (\r\n      <Container className={classes.root}>\r\n        {loading ? (\r\n          <CircularProgress color=\"secondary\" className={classes.autoMargin} />\r\n        ) : data ? (\r\n          <div\r\n            className={classes.bank}\r\n            dangerouslySetInnerHTML={{ __html: data.content }}\r\n          />\r\n        ) : (\r\n          <Typography component=\"div\" className={classes.autoMargin}>\r\n            {error}\r\n          </Typography>\r\n        )}\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n  requestPost: (id: number) => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState, ownProps: Props): PostProps => ({\r\n  pathname: state.router.location.pathname,\r\n  classes: ownProps.classes,\r\n  ...state.single.post,\r\n});\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n  requestPost: bindActionCreators(requestPost, dispatch),\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(useStyles)(Post));\r\n","import React from \"react\";\r\nimport { push } from \"connected-react-router\";\r\nimport {\r\n  Card,\r\n  CardMedia,\r\n  Typography,\r\n  CardContent,\r\n  CardActionArea,\r\n  Chip,\r\n} from \"@material-ui/core\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\nimport { store } from \"../../../_store/store.config\";\r\nimport { thumbnailsFinder } from \"../../../_helpers/constants\";\r\nimport { ILesson } from \"../../../_types/lesson.types\";\r\nimport { ICourse } from \"../../../_types/course.types\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      maxWidth: 285,\r\n      maxHeight: 260,\r\n      margin: theme.spacing(1),\r\n    },\r\n    cardAction: {\r\n      justifyContent: \"space-between\",\r\n      margin: \"inherit\",\r\n    },\r\n    content: {\r\n      minHeight: 130,\r\n    },\r\n    rightChip: {\r\n      position: \"absolute\",\r\n      cursor: \"pointer\",\r\n      margin: theme.spacing(1),\r\n      backgroundColor: \"green\",\r\n    },\r\n    leftChip: {\r\n      position: \"absolute\",\r\n      right: 0,\r\n      cursor: \"pointer\",\r\n      margin: theme.spacing(1),\r\n    },\r\n  })\r\n);\r\n\r\ntype Props = {\r\n  courseItem: ICourse;\r\n  index: number;\r\n  type: string;\r\n  path: string;\r\n};\r\n\r\nexport const CourseItem: React.FC<Props> = ({\r\n  index,\r\n  type,\r\n  courseItem,\r\n  path,\r\n}) => {\r\n  const classes = useStyles();\r\n  const { title, id, thumbnails, grade } = courseItem;\r\n\r\n  const clickHandler = (\r\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>\r\n  ): void => {\r\n    store.dispatch(push(path + \"/\" + type + id));\r\n  };\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardActionArea onClick={clickHandler}>\r\n        <Chip label={index + 1} className={classes.rightChip} />\r\n        <Chip label={grade} className={classes.leftChip} color=\"secondary\" />\r\n        <CardMedia\r\n          component=\"img\"\r\n          alt={title}\r\n          height=\"130\"\r\n          image={thumbnailsFinder(thumbnails)}\r\n          title={title}\r\n        />\r\n        <CardContent className={classes.content}>\r\n          <Typography gutterBottom variant=\"body1\" component=\"h6\">\r\n            {title}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n    </Card>\r\n  );\r\n};\r\n\r\ntype ExerciseProps = {\r\n  exerciseItem: ILesson;\r\n  index: number;\r\n  type: string;\r\n  path: string;\r\n};\r\n\r\nexport const ExerciseItem: React.FC<ExerciseProps> = ({\r\n  exerciseItem,\r\n  index,\r\n  type,\r\n  path,\r\n}) => {\r\n  const classes = useStyles();\r\n  const { title, id, featured_img, info } = exerciseItem;\r\n\r\n  const clickHandler = (\r\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>\r\n  ): void => {\r\n    store.dispatch(push(path + \"/\" + type + id));\r\n  };\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardActionArea onClick={clickHandler}>\r\n        <Chip label={index + 1} className={classes.rightChip} />\r\n        <Chip\r\n          label={info.grade.name}\r\n          className={classes.leftChip}\r\n          color=\"secondary\"\r\n        />\r\n        <CardMedia\r\n          component=\"img\"\r\n          alt={title}\r\n          height=\"130\"\r\n          image={thumbnailsFinder(featured_img)}\r\n          title={title}\r\n        />\r\n        <CardContent className={classes.content}>\r\n          <Typography gutterBottom variant=\"body1\" component=\"h6\">\r\n            {title}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n    </Card>\r\n  );\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport {\r\n  CircularProgress,\r\n  Grid,\r\n  createStyles,\r\n  Theme,\r\n  Typography,\r\n  WithStyles,\r\n  withStyles,\r\n  Divider,\r\n  Chip,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemAvatar,\r\n  Avatar,\r\n} from \"@material-ui/core\";\r\nimport { AppActions, AppState } from \"../../../_types\";\r\nimport { IGuide } from \"../../../_types/guide.types\";\r\nimport { pathFinder, PathFinder } from \"../../../_helpers/constants\";\r\nimport { requestGuide } from \"../../../_actions/guide.actions\";\r\nimport { CourseItem, ExerciseItem } from \"./GuideItems\";\r\n\r\nconst useStyles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      width: \"99vw\",\r\n      minHeight: \"calc(100vh - 128px)\",\r\n      [theme.breakpoints.down(\"xs\")]: {\r\n        minHeight: \"calc(100vh - 112px)\",\r\n        padding: theme.spacing(1),\r\n      },\r\n      padding: theme.spacing(2),\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n    },\r\n    autoMargin: {\r\n      margin: \"auto\",\r\n    },\r\n  });\r\n\r\nconst season = [\r\n  \"\",\r\n  \"شروع\",\r\n  \"بخش اول\",\r\n  \"بخش دوم\",\r\n  \"بخش سوم\",\r\n  \"بخش چهارم\",\r\n  \"بخش پنجم\",\r\n  \"بخش ششم\",\r\n  \"بخش هفتم\",\r\n  \"بخش هشتم\",\r\n  \"بخش نهم\",\r\n  \"بخش دهم\",\r\n];\r\n\r\ninterface GuideProps extends WithStyles<typeof useStyles> {\r\n  data?: IGuide;\r\n  loading: boolean;\r\n  error: string;\r\n  pathname: string;\r\n}\r\n\r\ntype Props = GuideProps & LinkDispatchProps;\r\n\r\nclass Guide extends Component<Props> {\r\n  componentDidMount() {\r\n    const path = pathFinder(this.props.pathname);\r\n    if (path.guide) this.props.requestGuide(path);\r\n  }\r\n\r\n  render() {\r\n    const { classes, data, loading, error, pathname } = this.props;\r\n    let counter = 1;\r\n    return (\r\n      <Grid container justify=\"center\" className={classes.root}>\r\n        {loading ? (\r\n          <CircularProgress color=\"secondary\" className={classes.autoMargin} />\r\n        ) : data ? (\r\n          data.guide_select.map((guide, k) => (\r\n            <List key={k}>\r\n              {guide.exercise && (\r\n                <>\r\n                  <ListItem>\r\n                    <ListItemAvatar>\r\n                      <Avatar>\r\n                        <Chip label={counter++} color=\"secondary\" />\r\n                      </Avatar>\r\n                    </ListItemAvatar>\r\n                    <ListItemText\r\n                      primary={season[counter]}\r\n                      secondary={guide.exercise_description}\r\n                    />\r\n                  </ListItem>\r\n                  <Divider variant=\"inset\" component=\"li\" />\r\n                  <Grid container justify=\"center\">\r\n                    {guide.exercise.map((guideItem, i) => (\r\n                      <ExerciseItem\r\n                        key={i}\r\n                        index={i}\r\n                        type={\"exercise=\"}\r\n                        path={pathname}\r\n                        exerciseItem={guideItem}\r\n                      />\r\n                    ))}\r\n                  </Grid>\r\n                </>\r\n              )}\r\n              {guide.course && (\r\n                <>\r\n                  <ListItem>\r\n                    <ListItemAvatar>\r\n                      <Avatar>\r\n                        <Chip label={counter++} color=\"secondary\" />\r\n                      </Avatar>\r\n                    </ListItemAvatar>\r\n                    <ListItemText\r\n                      primary={season[counter]}\r\n                      secondary={guide.course_description}\r\n                    />\r\n                  </ListItem>\r\n                  <Divider variant=\"inset\" component=\"li\" />\r\n                  <Grid container justify=\"center\">\r\n                    {guide.course?.map((guideItem, i) => (\r\n                      <CourseItem\r\n                        key={i}\r\n                        index={i}\r\n                        type={\"course=\"}\r\n                        path={pathname}\r\n                        courseItem={guideItem}\r\n                      />\r\n                    ))}\r\n                  </Grid>\r\n                </>\r\n              )}\r\n            </List>\r\n          ))\r\n        ) : (\r\n          <Typography component=\"div\" className={classes.autoMargin}>\r\n            {error}\r\n          </Typography>\r\n        )}\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n  requestGuide: (path: PathFinder) => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState, ownProps: Props): GuideProps => ({\r\n  pathname: state.router.location.pathname,\r\n  classes: ownProps.classes,\r\n  ...state.single.guide,\r\n});\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n  requestGuide: bindActionCreators(requestGuide, dispatch),\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(useStyles)(Guide));\r\n","import React from \"react\";\r\nimport { push } from \"connected-react-router\";\r\nimport {\r\n  Card,\r\n  CardMedia,\r\n  Typography,\r\n  CardContent,\r\n  CardActionArea,\r\n  Chip,\r\n  Grid,\r\n} from \"@material-ui/core\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\nimport { store } from \"../../../_store/store.config\";\r\nimport { thumbnailsFinder } from \"../../../_helpers/constants\";\r\nimport { ILesson } from \"../../../_types/lesson.types\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      maxHeight: 280,\r\n      width: \"100%\",\r\n      margin: theme.spacing(1),\r\n    },\r\n    content: {\r\n      minHeight: 130,\r\n    },\r\n    rightChip: {\r\n      position: \"absolute\",\r\n      cursor: \"pointer\",\r\n      margin: theme.spacing(1),\r\n      backgroundColor: \"green\",\r\n    },\r\n  })\r\n);\r\n\r\ntype Props = {\r\n  courseItem: ILesson;\r\n  type: string;\r\n  path: string;\r\n};\r\n\r\nexport const CourseItem: React.FC<Props> = ({ type, courseItem, path }) => {\r\n  const classes = useStyles();\r\n  const { title, id, featured_img, info } = courseItem;\r\n\r\n  const clickHandler = (\r\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>\r\n  ): void => {\r\n    const typer = type === \"Exercise\" ? \"exercise\" : \"lesson\";\r\n    store.dispatch(push(path + \"/\" + typer + \"=\" + id));\r\n  };\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardActionArea onClick={clickHandler}>\r\n        <Grid container>\r\n          <Grid item lg={4} xs={4} sm={4} xl={4}>\r\n            <Chip label={info.grade.name} className={classes.rightChip} />\r\n            <CardMedia\r\n              component=\"img\"\r\n              alt={title}\r\n              height=\"200\"\r\n              image={thumbnailsFinder(featured_img)}\r\n              title={title}\r\n            />\r\n          </Grid>\r\n          <Grid item lg={8} xs={8} sm={8} xl={8}>\r\n            <CardContent className={classes.content}>\r\n              <Typography gutterBottom variant=\"body1\" component=\"h6\">\r\n                {title}\r\n              </Typography>\r\n            </CardContent>\r\n          </Grid>\r\n        </Grid>\r\n      </CardActionArea>\r\n    </Card>\r\n  );\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport {\r\n  CircularProgress,\r\n  Grid,\r\n  createStyles,\r\n  Theme,\r\n  Typography,\r\n  WithStyles,\r\n  withStyles,\r\n  CardMedia,\r\n} from \"@material-ui/core\";\r\n\r\nimport { AppActions, AppState } from \"../../../_types\";\r\nimport { ICourse } from \"../../../_types/course.types\";\r\nimport {\r\n  PathFinder,\r\n  pathFinder,\r\n  thumbnailsFinder,\r\n} from \"../../../_helpers/constants\";\r\nimport { requestCourse } from \"../../../_actions/course.actions\";\r\nimport { CourseItem } from \"./CourseItems\";\r\n\r\nconst useStyles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      width: \"99vw\",\r\n      minHeight: \"calc(100vh - 128px)\",\r\n      [theme.breakpoints.down(\"xs\")]: {\r\n        minHeight: \"calc(100vh - 112px)\",\r\n        padding: theme.spacing(1),\r\n      },\r\n      padding: theme.spacing(2),\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"flex-start\",\r\n    },\r\n    autoMargin: {\r\n      margin: \"auto\",\r\n    },\r\n    content: {\r\n      position: \"relative\",\r\n      minHeight: \"calc(100vh - 160px)\",\r\n      [theme.breakpoints.down(\"sm\")]: {\r\n        minHeight: \"100%\",\r\n      },\r\n      border: `1px solid ${theme.palette.secondary.main}`,\r\n      height: \"100%\",\r\n      width: \"100%\",\r\n    },\r\n    text: {\r\n      padding: 20,\r\n    },\r\n    image: {\r\n      width: \"100%\",\r\n      height: \"100%\",\r\n      opacity: \"0.3\",\r\n      position: \"absolute\",\r\n    },\r\n  });\r\n\r\ninterface CourseProps extends WithStyles<typeof useStyles> {\r\n  data?: ICourse;\r\n  loading: boolean;\r\n  error: string;\r\n  pathname: string;\r\n}\r\n\r\ntype Props = CourseProps & LinkDispatchProps;\r\n\r\nclass Course extends Component<Props> {\r\n  componentDidMount() {\r\n    const path = pathFinder(this.props.pathname);\r\n    this.props.requestCourse(path);\r\n  }\r\n\r\n  render() {\r\n    const { classes, data, loading, error, pathname } = this.props;\r\n    return (\r\n      <Grid container justify=\"center\" className={classes.root}>\r\n        {loading ? (\r\n          <CircularProgress color=\"secondary\" className={classes.autoMargin} />\r\n        ) : data ? (\r\n          <Grid container spacing={2}>\r\n            <Grid item lg={6} md={6} xl={6} xs={12}>\r\n              <div className={classes.content}>\r\n                <CardMedia\r\n                  image={thumbnailsFinder(data.thumbnails)}\r\n                  className={classes.image}\r\n                />\r\n                <Typography\r\n                  gutterBottom\r\n                  variant=\"body1\"\r\n                  component=\"h6\"\r\n                  className={classes.text}\r\n                >\r\n                  {data.description}\r\n                </Typography>\r\n              </div>\r\n            </Grid>\r\n            <Grid item lg={6} md={6} xl={6} xs={12}>\r\n              <Grid container justify=\"flex-end\">\r\n                {data?.course_select.map((course, k) => (\r\n                  <CourseItem\r\n                    key={k}\r\n                    type={course.info.genre.name}\r\n                    path={pathname}\r\n                    courseItem={course}\r\n                  />\r\n                ))}\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        ) : (\r\n          <Typography component=\"div\" className={classes.autoMargin}>\r\n            {error}\r\n          </Typography>\r\n        )}\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n  requestCourse: (path: PathFinder) => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState, ownProps: Props): CourseProps => ({\r\n  classes: ownProps.classes,\r\n  pathname: state.router.location.pathname,\r\n  ...state.single.course,\r\n});\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n  requestCourse: bindActionCreators(requestCourse, dispatch),\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(useStyles)(Course));\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport {\r\n  CircularProgress,\r\n  Container,\r\n  createStyles,\r\n  Theme,\r\n  Typography,\r\n  WithStyles,\r\n  withStyles,\r\n} from \"@material-ui/core\";\r\n\r\nimport { requestLesson } from \"../../../_actions/lesson.actions\";\r\nimport { PathFinder, pathFinder } from \"../../../_helpers/constants\";\r\nimport { ILesson } from \"../../../_types/lesson.types\";\r\nimport { AppActions, AppState } from \"../../../_types\";\r\n\r\nconst useStyles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      width: \"99vw\",\r\n      minHeight: \"calc(100vh - 128px)\",\r\n      [theme.breakpoints.down(\"xs\")]: {\r\n        minHeight: \"calc(100vh - 112px)\",\r\n        padding: theme.spacing(1),\r\n      },\r\n      padding: theme.spacing(2),\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n    },\r\n    autoMargin: {\r\n      margin: \"auto\",\r\n    },\r\n    content: {\r\n      textAlign: \"center\",\r\n      width: \"100%\",\r\n      padding: 10,\r\n      backgroundColor: theme.palette.background.paper,\r\n      border: `1px solid ${theme.palette.secondary.main}`,\r\n    },\r\n  });\r\n\r\ninterface LessonProps extends WithStyles<typeof useStyles> {\r\n  data?: ILesson;\r\n  loading: boolean;\r\n  error: string;\r\n  pathname: string;\r\n}\r\n\r\ntype Props = LessonProps & LinkDispatchProps;\r\n\r\nclass Lesson extends Component<Props> {\r\n  componentDidMount() {\r\n    const path = pathFinder(this.props.pathname);\r\n    this.props.requestLesson(path);\r\n  }\r\n\r\n  render() {\r\n    const { classes, data, loading, error } = this.props;\r\n    return (\r\n      <Container className={classes.root}>\r\n        {loading ? (\r\n          <CircularProgress color=\"secondary\" className={classes.autoMargin} />\r\n        ) : data ? (\r\n          <div\r\n            className={classes.content}\r\n            dangerouslySetInnerHTML={{ __html: data.content }}\r\n          />\r\n        ) : (\r\n          <Typography component=\"div\" className={classes.autoMargin}>\r\n            {error}\r\n          </Typography>\r\n        )}\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n  requestLesson: (path: PathFinder) => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState, ownProps: Props): LessonProps => ({\r\n  pathname: state.router.location.pathname,\r\n  classes: ownProps.classes,\r\n  ...state.single.lesson,\r\n});\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n  requestLesson: bindActionCreators(requestLesson, dispatch),\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(useStyles)(Lesson));\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport {\r\n  CircularProgress,\r\n  Container,\r\n  createStyles,\r\n  Theme,\r\n  Typography,\r\n  WithStyles,\r\n  withStyles,\r\n} from \"@material-ui/core\";\r\n\r\nimport { AppActions, AppState } from \"../../../_types\";\r\nimport { ILesson } from \"../../../_types/lesson.types\";\r\nimport { PathFinder, pathFinder } from \"../../../_helpers/constants\";\r\nimport { requestExercise } from \"../../../_actions/exercise.actions\";\r\n\r\nconst useStyles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      width: \"99vw\",\r\n      minHeight: \"calc(100vh - 128px)\",\r\n      [theme.breakpoints.down(\"xs\")]: {\r\n        minHeight: \"calc(100vh - 112px)\",\r\n        padding: theme.spacing(1),\r\n      },\r\n      padding: theme.spacing(2),\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n    },\r\n    autoMargin: {\r\n      margin: \"auto\",\r\n    },\r\n    content: {\r\n      textAlign: \"center\",\r\n      width: \"100%\",\r\n      padding: 10,\r\n      backgroundColor: theme.palette.background.paper,\r\n      border: `1px solid ${theme.palette.secondary.main}`,\r\n    },\r\n  });\r\n\r\ninterface ExerciseProps extends WithStyles<typeof useStyles> {\r\n  data?: ILesson;\r\n  error: string;\r\n  loading: boolean;\r\n  pathname: string;\r\n}\r\n\r\ntype Props = ExerciseProps & LinkDispatchProps;\r\n\r\nclass Exercise extends Component<Props> {\r\n  componentDidMount() {\r\n    const path = pathFinder(this.props.pathname);\r\n    if (path.exercise) this.props.requestExercise(path);\r\n  }\r\n\r\n  render() {\r\n    const { classes, data, loading, error } = this.props;\r\n    return (\r\n      <Container className={classes.root}>\r\n        {loading ? (\r\n          <CircularProgress color=\"secondary\" className={classes.autoMargin} />\r\n        ) : data ? (\r\n          <div\r\n            className={classes.content}\r\n            dangerouslySetInnerHTML={{ __html: data.content }}\r\n          />\r\n        ) : (\r\n          <Typography component=\"div\" className={classes.autoMargin}>\r\n            {error}\r\n          </Typography>\r\n        )}\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n  requestExercise: (path: PathFinder) => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState, ownProps: Props): ExerciseProps => ({\r\n  pathname: state.router.location.pathname,\r\n  classes: ownProps.classes,\r\n  ...state.single.exercise,\r\n});\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n  requestExercise: bindActionCreators(requestExercise, dispatch),\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(useStyles)(Exercise));\r\n","import React from \"react\";\nimport { Redirect, Route, Switch } from \"react-router-dom\";\n\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport About from \"../components/InfoPages/About\";\nimport PostList from \"../components/PostPages/PostList\";\nimport LoginPage from \"../components/AuthPages/LoginPage\";\nimport LostPassPage from \"../components/AuthPages/LostPage\";\nimport RegisterPage from \"../components/AuthPages/RegisterPage\";\nimport ProfilePage from \"../components/ProfilePages/ProfilePage\";\nimport LearningPage from \"../components/LearningPages/LearningPage\";\n\nimport Post from \"../components/PostPages/Post\";\nimport Guide from \"../components/LearningPages/Guide/Guide\";\nimport Course from \"../components/LearningPages/Course/Course\";\nimport Lesson from \"../components/LearningPages/Lesson/Lesson\";\nimport Exercise from \"../components/LearningPages/Exercise/Exercise\";\n\nconst AppRouter = () => (\n  <Switch>\n    <Redirect exact path=\"/\" to=\"/post\" />\n    <Route exact path=\"/post\" component={PostList} />\n    <Route exact path=\"/learning\" component={LearningPage} />\n    <Route\n      exact\n      path={[\"/guide\", \"/course\", \"/exercise\", \"/favorite\", \"/lesson\"]}\n      component={LearningPage}\n    />\n    <Route exact path=\"/post/:id\" component={Post} />\n    <Route exact path=\"/guide/:id\" component={Guide} />\n    <Route exact path=\"/guide/:id\" component={Guide} />\n    <Route\n      exact\n      path={[\"/course/:id\", \"/guide/:id/course=:id\"]}\n      component={Course}\n    />\n    <Route\n      exact\n      path={[\n        \"/lesson/:id\",\n        \"/course/:id/lesson=:id\",\n        \"/guide/:id/lesson=:id\",\n        \"/guide/:id/course=:id/lesson=:id\",\n      ]}\n      component={Lesson}\n    />\n    <Route\n      exact\n      path={[\n        \"/exercise/:id\",\n        \"/course/:id/exercise=:id\",\n        \"/guide/:id/exercise=:id\",\n        \"/guide/:id/course=:id/exercise=:id\",\n      ]}\n      component={Exercise}\n    />\n    <Route exact path=\"/login\" component={LoginPage} />\n    <Route exact path=\"/register\" component={RegisterPage} />\n    <Route exact path=\"/lostpassword\" component={LostPassPage} />\n    <ProtectedRoute\n      exact\n      path=\"/profile\"\n      component={ProfilePage}\n      isAllowed={true}\n      restrictedPath=\"/profile\"\n      authenticationPath=\"/login\"\n    />\n    <Route exact path=\"/about\" component={About} />\n  </Switch>\n);\n\nexport default AppRouter;\n","import { createMuiTheme } from \"@material-ui/core\";\r\n\r\nexport const globalStyle = createMuiTheme(\r\n    {\r\n        direction: \"rtl\",\r\n        typography: {\r\n            fontFamily: \"Vazir\",\r\n        },\r\n        overrides: {\r\n            MuiCardActions: {\r\n                root: {\r\n                    padding: undefined\r\n                }\r\n            },\r\n            MuiCssBaseline: {\r\n                '@global': {\r\n                    '*': {\r\n                        scrollbarWidth: 'thin',\r\n                        scrollbarColor: \"rgb(245, 0, 87) #fafafa\",\r\n                    },\r\n                    '*::-webkit-scrollbar': {\r\n                        width: '10px'\r\n                    },\r\n                    '*::-webkit-scrollbar-track': {\r\n                        '-webkit-border-radius': '10px',\r\n                        borderRadius: '8px',\r\n                    },\r\n                    '*::-webkit-scrollbar-thumb': {\r\n                        '-webkit-border-radius': '10px',\r\n                        borderRadius: '10px',\r\n                        background: 'rgb(245, 0, 87)',\r\n                    },\r\n                    '*::-webkit-scrollbar-thumb:window-inactive': {\r\n                        background: 'rgb(245, 0, 87)'\r\n                    }\r\n                }\r\n            },\r\n            MuiIconButton: {\r\n                colorSecondary: {\r\n                    \"&:hover\": {\r\n                        backgroundColor: \"rgb(200 200 200 / 0.5)\",\r\n                    },\r\n                },\r\n            },\r\n        },\r\n    })\r\n\r\n","import { createMuiTheme } from \"@material-ui/core\";\r\nimport { blue, pink, red } from \"@material-ui/core/colors\";\r\nimport { faIR } from \"@material-ui/core/locale\";\r\nimport { globalStyle } from \"./GlobalTheme\";\r\n\r\nexport const DarkTheme = createMuiTheme(\r\n    {\r\n        ...globalStyle,\r\n        palette: {\r\n            type: \"dark\",\r\n            primary: blue,\r\n            error: red,\r\n            secondary: {\r\n                main: pink[300],\r\n            },\r\n        },\r\n    },\r\n    faIR\r\n);\r\n","import { createMuiTheme } from \"@material-ui/core\";\r\nimport { red } from \"@material-ui/core/colors\";\r\nimport { faIR } from \"@material-ui/core/locale\";\r\nimport { globalStyle } from \"./GlobalTheme\";\r\n\r\nexport const LightTheme = createMuiTheme(\r\n  {\r\n    ...globalStyle,\r\n    palette: {\r\n      error: red,\r\n    },\r\n  },\r\n  faIR\r\n);\r\n","import React from \"react\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport {\r\n  createStyles,\r\n  makeStyles,\r\n  Theme,\r\n  useTheme,\r\n} from \"@material-ui/core/styles\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport List from \"@material-ui/core/List\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport {\r\n  Brightness7,\r\n  Brightness4,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n} from \"@material-ui/icons\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport { links, sideLink } from \"../../../_helpers/constants\";\r\nimport { AppBarInterface } from \"./MainAppBar\";\r\nimport { localTheme } from \"../../../_helpers/constants\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n    },\r\n    hide: {\r\n      display: \"none\",\r\n    },\r\n    drawer: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n    drawerPaper: {\r\n      width: drawerWidth,\r\n    },\r\n    drawerHeader: {\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      padding: theme.spacing(0, 1),\r\n      // necessary for content to be below app bar\r\n      ...theme.mixins.toolbar,\r\n      justifyContent: \"flex-start\",\r\n    },\r\n    toolbar: {\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"space-between\",\r\n      padding: theme.spacing(0, 1, 0, 4),\r\n      // necessary for content to be below app bar\r\n      ...theme.mixins.toolbar,\r\n    },\r\n  })\r\n);\r\n\r\nexport default function MiniDrawer({\r\n  state,\r\n  loggedIn,\r\n  theme,\r\n  dispatch,\r\n}: AppBarInterface) {\r\n  const classes = useStyles();\r\n  const { direction } = useTheme();\r\n  const handleDrawerClose = () => {\r\n    dispatch({ type: \"menu-toggle\" });\r\n  };\r\n\r\n  const { isDark, setIsDark } = theme;\r\n\r\n  const handleThemeChanger = () => {\r\n    if (setIsDark) setIsDark((prev) => !prev);\r\n    isDark ? localTheme(\"light\") : localTheme(\"dark\");\r\n  };\r\n\r\n  const botLinks = loggedIn ? sideLink.in : sideLink.out;\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <Drawer\r\n        className={classes.drawer}\r\n        variant=\"temporary\"\r\n        anchor={direction === \"ltr\" ? \"right\" : \"left\"}\r\n        open={state.menuIsOpen}\r\n        onClose={handleDrawerClose}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n      >\r\n        <div className={classes.toolbar}>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleThemeChanger}\r\n            edge=\"start\"\r\n          >\r\n            {isDark ? <Brightness7 /> : <Brightness4 />}\r\n          </IconButton>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            {direction === \"ltr\" ? <ChevronLeft /> : <ChevronRight />}\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        <List>\r\n          {links.map((text, index) => (\r\n            <Link\r\n              to={text.to}\r\n              key={\"sidelink-\" + index}\r\n              onClick={handleDrawerClose}\r\n              component={RouterLink}\r\n              color=\"secondary\"\r\n            >\r\n              <ListItem button>\r\n                <ListItemIcon>{text.icon}</ListItemIcon>\r\n                <ListItemText primary={text.title} />\r\n              </ListItem>\r\n            </Link>\r\n          ))}\r\n        </List>\r\n        <Divider />\r\n        <List>\r\n          {botLinks.map((item, index) => (\r\n            <Link\r\n              to={item.to}\r\n              key={\"sidelink-\" + index}\r\n              onClick={handleDrawerClose}\r\n              component={RouterLink}\r\n              color=\"secondary\"\r\n            >\r\n              <ListItem button>\r\n                <ListItemIcon>{item.icon}</ListItemIcon>\r\n                <ListItemText primary={item.name} />\r\n              </ListItem>\r\n            </Link>\r\n          ))}\r\n        </List>\r\n      </Drawer>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport { createStyles, Theme, Collapse } from \"@material-ui/core\";\r\nimport { links } from \"../../../_helpers/constants\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"none\",\r\n      [theme.breakpoints.up(420)]: {\r\n        marginLeft: theme.spacing(1),\r\n        display: \"inline-block\",\r\n      },\r\n      [theme.breakpoints.up(\"sm\")]: {\r\n        marginLeft: theme.spacing(2),\r\n        display: \"inline-block\",\r\n      },\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        marginLeft: theme.spacing(4),\r\n        display: \"inline-block\",\r\n      },\r\n      [theme.breakpoints.up(\"lg\")]: {\r\n        marginLeft: theme.spacing(8),\r\n        display: \"inline-block\",\r\n      },\r\n    },\r\n    linkKeeper: {\r\n      overflow: \"hidden\",\r\n      height: \"1.2em\",\r\n      lineHeight: \"1.2em\",\r\n    },\r\n    links: {\r\n      textAlign: \"center\",\r\n      flexGrow: 1,\r\n    },\r\n  })\r\n);\r\n\r\ninterface LinkConstProps {\r\n  openStatus: boolean;\r\n}\r\n\r\nconst LinkConst = ({ openStatus }: LinkConstProps) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <Collapse in={!openStatus} className={classes.links}>\r\n      <div className={classes.linkKeeper}>\r\n        {links.map((link, i) => (\r\n          <Link\r\n            key={\"link-\" + i}\r\n            to={link.to}\r\n            className={classes.root}\r\n            component={RouterLink}\r\n            color=\"secondary\"\r\n          >\r\n            {link.title}\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    </Collapse>\r\n  );\r\n};\r\nexport default LinkConst;\r\n","import React from \"react\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport { Badge, IconButton, Menu, MenuItem } from \"@material-ui/core\";\r\nimport { AccountCircle, Stars, Notifications } from \"@material-ui/icons\";\r\nimport { AppBarInterface } from \"./MainAppBar\";\r\n\r\nconst MobileMenu = (props: AppBarInterface) => {\r\n  const { mobileMenuId, mobileMoreAnchor } = props.state;\r\n  const mobileMenuIsOpen = Boolean(mobileMoreAnchor);\r\n  const handleProfileMenu = (\r\n    event: React.MouseEvent<HTMLLIElement, MouseEvent>\r\n  ) => {\r\n    props.dispatch({ type: \"profile-anchor\", payload: event.currentTarget });\r\n  };\r\n  const handleMobileMenu = () => {\r\n    props.dispatch({ type: \"mobile-close\" });\r\n  };\r\n  const handleSignOut = () => {\r\n    handleMobileMenu();\r\n    if (props.logout) props.logout();\r\n  };\r\n  return props.loggedIn ? (\r\n    <Menu\r\n      anchorEl={mobileMoreAnchor}\r\n      anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      id={mobileMenuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      open={mobileMenuIsOpen}\r\n      onClose={handleMobileMenu}\r\n    >\r\n      <MenuItem>\r\n        <IconButton aria-label=\"show 4 new mails\" color=\"inherit\">\r\n          <Badge badgeContent={4} color=\"secondary\">\r\n            <Stars />\r\n          </Badge>\r\n        </IconButton>\r\n        <p>Messages</p>\r\n      </MenuItem>\r\n      <MenuItem>\r\n        <IconButton aria-label=\"show 11 new alerts\" color=\"inherit\">\r\n          <Badge badgeContent={11} color=\"secondary\">\r\n            <Notifications />\r\n          </Badge>\r\n        </IconButton>\r\n        <p>Notification</p>\r\n      </MenuItem>\r\n      <MenuItem onClick={handleProfileMenu}>\r\n        <IconButton\r\n          aria-label=\"account of current user\"\r\n          aria-controls=\"primary-search-account-menu\"\r\n          aria-haspopup=\"true\"\r\n          color=\"inherit\"\r\n        >\r\n          <AccountCircle />\r\n        </IconButton>\r\n        <p>Account</p>\r\n      </MenuItem>\r\n      <MenuItem onClick={handleSignOut}>\r\n        <IconButton\r\n          aria-label=\"account of current user\"\r\n          aria-controls=\"primary-search-account-menu\"\r\n          aria-haspopup=\"true\"\r\n          color=\"inherit\"\r\n        >\r\n          <AccountCircle />\r\n        </IconButton>\r\n        <p>Sign Out</p>\r\n      </MenuItem>\r\n    </Menu>\r\n  ) : (\r\n    <Menu\r\n      anchorEl={mobileMoreAnchor}\r\n      anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      id={mobileMenuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      open={mobileMenuIsOpen}\r\n      onClose={handleMobileMenu}\r\n    >\r\n      <Link to=\"/login\" component={RouterLink} color=\"secondary\">\r\n        <MenuItem onClick={handleMobileMenu}>\r\n          <IconButton\r\n            aria-label=\"account of current user\"\r\n            aria-controls=\"primary-search-account-menu\"\r\n            aria-haspopup=\"true\"\r\n            color=\"inherit\"\r\n          >\r\n            <AccountCircle />\r\n          </IconButton>\r\n          <p>ورود</p>\r\n        </MenuItem>\r\n      </Link>\r\n      <Link to=\"/register\" component={RouterLink} color=\"secondary\">\r\n        <MenuItem onClick={handleMobileMenu}>\r\n          <IconButton\r\n            aria-label=\"account of current user\"\r\n            aria-controls=\"primary-search-account-menu\"\r\n            aria-haspopup=\"true\"\r\n            color=\"inherit\"\r\n          >\r\n            <AccountCircle />\r\n          </IconButton>\r\n          <p>ثبت نام</p>\r\n        </MenuItem>\r\n      </Link>\r\n    </Menu>\r\n  );\r\n};\r\nexport default MobileMenu;\r\n","import React from \"react\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport { sideLink } from \"../../../_helpers/constants\";\r\nimport { AppBarInterface } from \"./MainAppBar\";\r\n\r\nconst MenuRender = (props: AppBarInterface) => {\r\n  const { loggedIn, state, logout, dispatch } = props;\r\n  const { profileMoreAnchor, menuId } = state;\r\n  const profileMenuIsOpen = Boolean(profileMoreAnchor);\r\n  const handleSignOut = () => {\r\n    if (logout) logout();\r\n    handleDrawerClose();\r\n  };\r\n  const handleDrawerClose = () => {\r\n    dispatch({ type: \"profile-close\" });\r\n  };\r\n  const botLinks = loggedIn ? sideLink.in : sideLink.out;\r\n  return (\r\n    <Menu\r\n      anchorEl={profileMoreAnchor}\r\n      anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      id={menuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      open={profileMenuIsOpen}\r\n      onClose={handleDrawerClose}\r\n    >\r\n      {botLinks.map((item, index) => (\r\n        <Link\r\n          to={item.to}\r\n          key={\"menuitem-\" + index}\r\n          onClick={handleDrawerClose}\r\n          component={RouterLink}\r\n          color=\"secondary\"\r\n        >\r\n          <MenuItem onClick={handleDrawerClose}>{item.name}</MenuItem>\r\n        </Link>\r\n      ))}\r\n      {loggedIn && <MenuItem onClick={handleSignOut}>خروج</MenuItem>}\r\n    </Menu>\r\n  );\r\n};\r\nexport default MenuRender;\r\n","import React from \"react\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core\";\r\nimport {\r\n  AccountCircle,\r\n  Star,\r\n  Notifications,\r\n  MoreHoriz,\r\n} from \"@material-ui/icons/\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { AppBarInterface } from \"./MainAppBar\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    sectionDesktop: {\r\n      display: \"none\",\r\n      [theme.breakpoints.up(\"sm\")]: {\r\n        display: \"flex\",\r\n      },\r\n    },\r\n    sectionMobile: {\r\n      display: \"flex\",\r\n      [theme.breakpoints.up(\"sm\")]: {\r\n        display: \"none\",\r\n      },\r\n    },\r\n  })\r\n);\r\n\r\nconst IconController = (props: AppBarInterface) => {\r\n  const classes = useStyles();\r\n  const { menuId, mobileMenuId } = props.state;\r\n  const profileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\r\n    props.dispatch({ type: \"profile-anchor\", payload: event.currentTarget });\r\n  };\r\n  const mobileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\r\n    props.dispatch({ type: \"mobile-anchor\", payload: event.currentTarget });\r\n  };\r\n  return props.loggedIn ? (\r\n    <React.Fragment>\r\n      <div className={classes.sectionDesktop}>\r\n        <IconButton aria-label=\"show 4 new mails\" color=\"inherit\">\r\n          <Badge badgeContent={4} color=\"secondary\">\r\n            <Star />\r\n          </Badge>\r\n        </IconButton>\r\n        <IconButton aria-label=\"show 17 new alerts\" color=\"inherit\">\r\n          <Badge badgeContent={17} color=\"secondary\">\r\n            <Notifications />\r\n          </Badge>\r\n        </IconButton>\r\n        <IconButton\r\n          edge=\"end\"\r\n          aria-label=\"account of current user\"\r\n          aria-controls={menuId}\r\n          aria-haspopup=\"true\"\r\n          onClick={profileMenuOpen}\r\n          color=\"inherit\"\r\n        >\r\n          <AccountCircle />\r\n        </IconButton>\r\n      </div>\r\n      <div className={classes.sectionMobile}>\r\n        <IconButton\r\n          aria-label=\"show more\"\r\n          aria-controls={mobileMenuId}\r\n          aria-haspopup=\"true\"\r\n          onClick={mobileMenuOpen}\r\n          color=\"inherit\"\r\n        >\r\n          <MoreHoriz />\r\n        </IconButton>\r\n      </div>\r\n    </React.Fragment>\r\n  ) : (\r\n    <IconButton\r\n      edge=\"end\"\r\n      aria-label=\"account of current user\"\r\n      aria-controls={menuId}\r\n      aria-haspopup=\"true\"\r\n      onClick={profileMenuOpen}\r\n      color=\"inherit\"\r\n    >\r\n      <AccountCircle />\r\n    </IconButton>\r\n  );\r\n};\r\nexport default IconController;\r\n","import React from \"react\";\r\nimport InputBase from \"@material-ui/core/InputBase\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport {\r\n  createStyles,\r\n  fade,\r\n  Theme,\r\n  WithStyles,\r\n  withStyles,\r\n} from \"@material-ui/core\";\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    search: {\r\n      position: \"relative\",\r\n      borderRadius: theme.shape.borderRadius,\r\n      backgroundColor: fade(theme.palette.common.white, 0.15),\r\n      \"&:hover\": {\r\n        backgroundColor: fade(theme.palette.common.white, 0.25),\r\n      },\r\n      width: \"100%\",\r\n      marginLeft: theme.spacing(1),\r\n      [theme.breakpoints.up(420)]: {\r\n        width: \"auto\",\r\n      },\r\n    },\r\n    searchIcon: {\r\n      padding: theme.spacing(0, 2),\r\n      height: \"100%\",\r\n      position: \"absolute\",\r\n      top: 0,\r\n      pointerEvents: \"none\",\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n      cursor: \"pointer\",\r\n    },\r\n    inputRoot: {\r\n      color: \"inherit\",\r\n    },\r\n    inputInput: {\r\n      padding: theme.spacing(1, 1, 1, 0),\r\n      // vertical padding + font size from searchIcon\r\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n      transition: theme.transitions.create(\"width\"),\r\n      width: \"0\",\r\n      \"&:focus\": {\r\n        width: \"12ch\",\r\n      },\r\n      [theme.breakpoints.down(420)]: {\r\n        width: \"7ch\",\r\n      },\r\n      [theme.breakpoints.down(350)]: {\r\n        width: \"0\",\r\n      },\r\n    },\r\n  });\r\n\r\ninterface SearchProps extends WithStyles<typeof styles> {}\r\ninterface SearchStates {\r\n  query: string;\r\n  results: any;\r\n  loading: boolean;\r\n  message: string;\r\n}\r\n\r\nclass SearchInput extends React.Component<SearchProps, SearchStates> {\r\n  constructor(props: SearchProps) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      query: \"\",\r\n      results: {},\r\n      loading: false,\r\n      message: \"\",\r\n    };\r\n  }\r\n  handleOnInputChange = (\r\n    event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\r\n  ) => {\r\n    const query = event.target.value;\r\n    this.setState({ query, loading: true });\r\n  };\r\n\r\n  fetchSearchResult = () => {};\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { query } = this.state;\r\n    return (\r\n      <div className={classes.search}>\r\n        <div className={classes.searchIcon}>\r\n          <SearchIcon />\r\n        </div>\r\n        <InputBase\r\n          placeholder=\"جستجو...\"\r\n          classes={{\r\n            root: classes.inputRoot,\r\n            input: classes.inputInput,\r\n          }}\r\n          inputProps={{ \"aria-label\": \"search\" }}\r\n          type=\"text\"\r\n          value={query}\r\n          onChange={(event) => this.handleOnInputChange(event)}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default withStyles(styles)(SearchInput);\r\n","import React, { Dispatch } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { makeStyles, Theme, createStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport MiniDrawer from \"./MiniDrawer\";\r\nimport LinkConst from \"./LinkConst\";\r\nimport MobileMenu from \"./MobileMenu\";\r\nimport MenuRender from \"./MenuRender\";\r\nimport IconController from \"./LeftIcons\";\r\nimport { HeaderState, HeaderAction, IHeaderProps } from \"../Header\";\r\nimport SearchInput from \"./SearchInput\";\r\n\r\nconst drawerWidth = 240;\r\nconst version = process.env.REACT_APP_VERSION;\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    appBar: {\r\n      zIndex: theme.zIndex.drawer + 1,\r\n      transition: theme.transitions.create([\"width\", \"margin\"], {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n    },\r\n    appBarShift: {\r\n      marginLeft: drawerWidth,\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n      transition: theme.transitions.create([\"width\", \"margin\"], {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n    },\r\n    hide: {\r\n      display: \"none\",\r\n    },\r\n    menuButton: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n  })\r\n);\r\n\r\nexport type AppBarInterface = AppBarProps & IHeaderProps;\r\n\r\ninterface AppBarProps {\r\n  state: HeaderState;\r\n  dispatch: Dispatch<HeaderAction>;\r\n}\r\nconst MainAppBar = (props: AppBarProps & IHeaderProps) => {\r\n  const classes = useStyles();\r\n\r\n  const { menuIsOpen } = props.state;\r\n\r\n  const handleDrawerOpen = () => {\r\n    props.dispatch({ type: \"menu-toggle\" });\r\n  };\r\n\r\n  return (\r\n    <AppBar\r\n      color={\"default\"}\r\n      position=\"relative\"\r\n      className={clsx(classes.appBar, {\r\n        [classes.appBarShift]: menuIsOpen,\r\n      })}\r\n    >\r\n      <Toolbar id=\"back-to-top-anchor\">\r\n        <IconButton\r\n          color=\"inherit\"\r\n          aria-label=\"open drawer\"\r\n          onClick={handleDrawerOpen}\r\n          edge=\"start\"\r\n          className={clsx(classes.menuButton, {\r\n            [classes.hide]: menuIsOpen,\r\n          })}\r\n        >\r\n          <MenuIcon />\r\n        </IconButton>\r\n        <Link component={RouterLink} color=\"secondary\" to=\"/\">\r\n          ملودیشن\r\n        </Link>\r\n        <p onClick={() => sessionStorage.clear()}>({version})</p>\r\n        <LinkConst openStatus={menuIsOpen} />\r\n        <SearchInput />\r\n        <IconController {...props} />\r\n      </Toolbar>\r\n      <MiniDrawer {...props} />\r\n      <MobileMenu {...props} />\r\n      <MenuRender {...props} />\r\n    </AppBar>\r\n  );\r\n};\r\nexport default MainAppBar;\r\n","import React, { Dispatch, SetStateAction, useReducer } from \"react\";\r\nimport MainAppBar from \"./AppBar/MainAppBar\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { AppActions } from \"../../_types\";\r\nimport { logoutRequest } from \"../../_actions/user.actions\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { AppState } from \"../../_types\";\r\nimport { connect } from \"react-redux\";\r\n\r\nexport interface HeaderState {\r\n  menuId: string;\r\n  menuIsOpen: boolean;\r\n  mobileMenuId: string;\r\n  profileMoreAnchor: null | HTMLElement;\r\n  mobileMoreAnchor: null | HTMLElement;\r\n}\r\n\r\nconst initialState: HeaderState = {\r\n  menuId: \"primary-search-account-menu\",\r\n  mobileMenuId: \"primary-search-account-menu-mobile\",\r\n  profileMoreAnchor: null,\r\n  mobileMoreAnchor: null,\r\n  menuIsOpen: false,\r\n};\r\n\r\nexport type HeaderAction =\r\n  | { type: \"menu-toggle\" | \"profile-close\" | \"mobile-close\" }\r\n  | { type: \"field\"; fieldName: string; payload: string }\r\n  | { type: \"loggedIn\"; payload: boolean }\r\n  | { type: \"profile-anchor\"; payload: null | HTMLElement }\r\n  | { type: \"mobile-anchor\"; payload: null | HTMLElement };\r\n\r\nfunction HeaderReducer(state: HeaderState, action: HeaderAction) {\r\n  switch (action.type) {\r\n    case \"field\": {\r\n      return {\r\n        ...state,\r\n        [action.fieldName]: action.payload,\r\n      };\r\n    }\r\n    case \"menu-toggle\": {\r\n      return {\r\n        ...state,\r\n        menuIsOpen: !state.menuIsOpen,\r\n      };\r\n    }\r\n    case \"profile-close\": {\r\n      return {\r\n        ...state,\r\n        profileMoreAnchor: null,\r\n      };\r\n    }\r\n    case \"mobile-close\": {\r\n      return {\r\n        ...state,\r\n        mobileMoreAnchor: null,\r\n      };\r\n    }\r\n    case \"mobile-anchor\": {\r\n      return {\r\n        ...state,\r\n        mobileMoreAnchor: action.payload,\r\n      };\r\n    }\r\n    case \"profile-anchor\": {\r\n      return {\r\n        ...state,\r\n        profileMoreAnchor: action.payload,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\ninterface HeaderProps {\r\n  theme: {\r\n    isDark: boolean;\r\n    setIsDark: Dispatch<SetStateAction<boolean>>;\r\n  };\r\n}\r\n\r\nexport type IHeaderProps = HeaderProps & LinkDispatchProps & MapProps;\r\n\r\nconst Header: React.FC<IHeaderProps> = ({ ...rest }) => {\r\n  const [state, dispatch] = useReducer(HeaderReducer, initialState);\r\n\r\n  return <MainAppBar state={state} dispatch={dispatch} {...rest} />;\r\n};\r\n\r\ninterface LinkDispatchProps {\r\n  logout?: () => void;\r\n}\r\ninterface MapProps {\r\n  loggedIn: boolean;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState): MapProps => {\r\n  const { loggedIn } = state.auth;\r\n  return { loggedIn };\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n  logout: bindActionCreators(logoutRequest, dispatch),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\r\n","import {\r\n  SHOW_SNACKBAR,\r\n  REMOVE_SNACKBAR,\r\n  DefaultSnackState,\r\n} from \"../_types/snackbar.types\";\r\n\r\nexport const snackbarShow = (snackbar: DefaultSnackState) => ({\r\n  type: SHOW_SNACKBAR,\r\n  snackbar: {\r\n    ...snackbar,\r\n  },\r\n})\r\n\r\nexport const snackbarRemove = (key: string) => ({ type: REMOVE_SNACKBAR, key })\r\n","import { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { AppState, AppActions } from \"../../_types\";\r\nimport { ISnack } from \"../../_types/snackbar.types\";\r\nimport { snackbarRemove } from \"../../_actions/snackbar.actions\";\r\n\r\nlet displayed: string[] = [];\r\n\r\ninterface NotifierProps {\r\n  snackbars?: ISnack[];\r\n}\r\n\r\ntype Props = NotifierProps & LinkDispatchProps;\r\n\r\nconst Notifier = ({ snackbars, removeSnack }: Props): null => {\r\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n\r\n  const storeDisplayed = (id: string) => {\r\n    displayed = [...displayed, id];\r\n  };\r\n\r\n  const removeDisplayed = (id: string) => {\r\n    displayed = [...displayed.filter((key) => id !== key)];\r\n  };\r\n\r\n  useEffect(() => {\r\n    snackbars?.forEach(\r\n      ({ key, message, options = {}, dismissed = false }: ISnack) => {\r\n        if (dismissed) {\r\n          closeSnackbar(key);\r\n          return;\r\n        }\r\n        if (displayed.includes(key)) return;\r\n        enqueueSnackbar(message, {\r\n          key,\r\n          ...options,\r\n          onClose: (event, reason, myKey) => {\r\n            if (options.onClose) {\r\n              options.onClose(event, reason, myKey);\r\n            }\r\n          },\r\n          onExited: (event, myKey) => {\r\n            if (removeSnack) removeSnack(String(myKey));\r\n            removeDisplayed(String(myKey));\r\n          },\r\n        });\r\n        storeDisplayed(key);\r\n      }\r\n    );\r\n  }, [snackbars, closeSnackbar, enqueueSnackbar, removeSnack]);\r\n\r\n  return null;\r\n};\r\ninterface LinkDispatchProps {\r\n  removeSnack?: (key: string) => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState): NotifierProps => {\r\n  const { snackbar } = state;\r\n  return {\r\n    snackbars: snackbar.snackbars,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n  removeSnack: bindActionCreators(snackbarRemove, dispatch),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Notifier);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { push, goBack } from \"connected-react-router\";\r\nimport { ArrowForward } from \"@material-ui/icons\";\r\nimport { Theme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n  AppBar,\r\n  Link,\r\n  Paper,\r\n  Toolbar,\r\n  IconButton,\r\n  Divider,\r\n  Breadcrumbs,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  AllInbox,\r\n  LibraryMusic,\r\n  QueueMusic,\r\n  MusicNote,\r\n  EmojiSymbols,\r\n  Favorite,\r\n} from \"@material-ui/icons\";\r\nimport { AppActions, AppState } from \"../../_types\";\r\nimport { pathFinder } from \"../../_helpers/constants\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    bracrumbs: {\r\n      padding: theme.spacing(1, 2, 0, 2),\r\n      \"& > ol > li\": {\r\n        padding: theme.spacing(1, 0.5),\r\n      },\r\n    },\r\n    back: {\r\n      margin: theme.spacing(0, 2),\r\n    },\r\n  })\r\n);\r\nconst pages: any = {\r\n  post: <AllInbox />,\r\n  guide: <LibraryMusic />,\r\n  course: <QueueMusic />,\r\n  lesson: <MusicNote />,\r\n  exercise: <EmojiSymbols />,\r\n  favorite: <Favorite />,\r\n};\r\n\r\ninterface IBreadcrumbs {\r\n  pathname: string;\r\n  single: any;\r\n}\r\n\r\ntype Props = IBreadcrumbs & LinkDispatchProps;\r\n\r\nconst Breadcrumb = ({ single, pathname, push, back }: Props) => {\r\n  const classes = useStyles();\r\n\r\n  const path = pathFinder(pathname);\r\n  const keys = Object.keys(path);\r\n  const values = Object.values(path);\r\n  const trigger = path.length > 0 ? true : false;\r\n\r\n  const linkGenerator = (i: number): string => {\r\n    const linkElement = pathname.split(\"/\").slice(0, i + 2);\r\n    return linkElement.join(\"/\");\r\n  };\r\n\r\n  const linkName = (i: number): string => {\r\n    const post = single[keys[i - 1]];\r\n    const name = post?.data?.title;\r\n    return name ? name : values[i - 1];\r\n  };\r\n\r\n  const handleClick = (\r\n    event: React.MouseEvent<HTMLAnchorElement, MouseEvent>\r\n  ) => {\r\n    event.preventDefault();\r\n    push(event.currentTarget.pathname);\r\n  };\r\n\r\n  return trigger ? (\r\n    <AppBar position=\"static\">\r\n      <Paper square>\r\n        <Toolbar disableGutters>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"menu\"\r\n            onClick={back}\r\n            className={classes.back}\r\n          >\r\n            <ArrowForward />\r\n          </IconButton>\r\n          <Divider orientation=\"vertical\" flexItem />\r\n          <Breadcrumbs aria-label=\"breadcrumb\" className={classes.bracrumbs}>\r\n            {keys.map((key, i) => (\r\n              <Link\r\n                key={i}\r\n                href={linkGenerator(i)}\r\n                color=\"inherit\"\r\n                aria-label={linkName(i)}\r\n                onClick={handleClick}\r\n              >\r\n                {i === 0 ? pages[key] : linkName(i)}\r\n              </Link>\r\n            ))}\r\n          </Breadcrumbs>\r\n        </Toolbar>\r\n      </Paper>\r\n    </AppBar>\r\n  ) : null;\r\n};\r\n\r\ninterface LinkDispatchProps {\r\n  push: (key: string) => void;\r\n  back: () => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState): IBreadcrumbs => {\r\n  const { pathname } = state.router.location;\r\n  return {\r\n    pathname,\r\n    single: state.single,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n  push: bindActionCreators(push, dispatch),\r\n  back: bindActionCreators(goBack, dispatch),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Breadcrumb);\r\n","import React, { useState } from \"react\";\r\nimport { ConnectedRouter } from \"connected-react-router\";\r\nimport { SnackbarProvider } from \"notistack\";\r\nimport jssRTL from \"jss-rtl\";\r\nimport { create } from \"jss\";\r\nimport { History } from \"history\";\r\nimport AppRouter from \"./router\";\r\nimport \"./App.css\";\r\nimport {\r\n  Box,\r\n  createStyles,\r\n  jssPreset,\r\n  makeStyles,\r\n  responsiveFontSizes,\r\n  StylesProvider,\r\n  Theme,\r\n  ThemeProvider,\r\n} from \"@material-ui/core\";\r\nimport { LightTheme, DarkTheme } from \"./components/Layout/theme\";\r\nimport Header from \"./components/Layout/Header\";\r\nimport Notifier from \"./components/Layout/Notifier\";\r\nimport { localTheme } from \"./_helpers/constants\";\r\nimport Breadcrumb from \"./components/Layout/Breadcrumbs\";\r\n\r\nconst jss = create({ plugins: [...jssPreset().plugins, jssRTL()] });\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    app: {\r\n      width: \"100vw\",\r\n      height: \"100vh\",\r\n      overflowX: \"hidden\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      overflow: \"hidden\",\r\n    },\r\n    mainBody: {\r\n      height: \"inherit\",\r\n      overflowX: \"hidden\",\r\n      overflowY: \"auto\",\r\n    },\r\n  })\r\n);\r\n\r\ninterface AppProps {\r\n  history: History;\r\n}\r\n\r\nconst App = ({ history }: AppProps) => {\r\n  const [isDark, setIsDark] = useState<boolean>(localTheme(\"get\"));\r\n  const classes = useStyles();\r\n\r\n  const theme = responsiveFontSizes(isDark ? DarkTheme : LightTheme);\r\n  return (\r\n    <ConnectedRouter history={history}>\r\n      <StylesProvider jss={jss}>\r\n        <ThemeProvider theme={theme}>\r\n          <SnackbarProvider>\r\n            <Box className={classes.app}>\r\n              <Header theme={{ isDark, setIsDark }} />\r\n              <Notifier />\r\n              <Breadcrumb />\r\n              <Box id=\"main-body\" className={classes.mainBody}>\r\n                <AppRouter />\r\n              </Box>\r\n            </Box>\r\n          </SnackbarProvider>\r\n        </ThemeProvider>\r\n      </StylesProvider>\r\n    </ConnectedRouter>\r\n  );\r\n};\r\nexport default App;\r\n","import App from \"./App\";\r\nimport React from \"react\";\r\nimport { render } from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { history, store } from \"./_store/store.config\";\r\n\r\nrender(\r\n  <Provider store={store}>\r\n    <App history={history} />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}