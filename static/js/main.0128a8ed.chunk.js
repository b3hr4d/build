(this["webpackJsonpmelodition-typescript"]=this["webpackJsonpmelodition-typescript"]||[]).push([[16],{183:function(e,t,a){e.exports=a.p+"static/media/melodition.7fdc0c11.jpg"},227:function(e,t,a){e.exports=a(259)},256:function(e,t,a){var n={"./default_drum_00":[194,0],"./default_drum_00.ts":[194,0],"./default_drum_01":[195,1],"./default_drum_01.ts":[195,1],"./default_drum_02":[196,2],"./default_drum_02.ts":[196,2],"./default_drum_03":[197,3],"./default_drum_03.ts":[197,3],"./default_drum_04":[198,4],"./default_drum_04.ts":[198,4],"./default_drum_05":[199,5],"./default_drum_05.ts":[199,5],"./default_drum_06":[200,6],"./default_drum_06.ts":[200,6],"./default_drum_07":[201,7],"./default_drum_07.ts":[201,7]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a(r)}))}r.keys=function(){return Object.keys(n)},r.id=256,e.exports=r},257:function(e,t,a){var n={"./default_tone_00":[202,8],"./default_tone_00.ts":[202,8],"./default_tone_01":[203,9],"./default_tone_01.ts":[203,9],"./default_tone_02":[204,10],"./default_tone_02.ts":[204,10],"./default_tone_03":[205,11],"./default_tone_03.ts":[205,11],"./default_tone_04":[206,12],"./default_tone_04.ts":[206,12],"./default_tone_05":[207,13],"./default_tone_05.ts":[207,13],"./default_tone_06":[208,14],"./default_tone_06.ts":[208,14],"./default_tone_07":[209,15],"./default_tone_07.ts":[209,15]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a(r)}))}r.keys=function(){return Object.keys(n)},r.id=257,e.exports=r},258:function(e,t,a){},259:function(e,t,a){"use strict";a.r(t);var n=a(66),r=a(0),i=a.n(r),o=a(38),c=a(177),l=a.n(c),s=a(13),u=a(9),d=a(36),m=a(145),h=a(49),f=a(182),p=a(168),g=a(4),b=a(8),v=a(183),E=a.n(v),_=function(e){var t,a=e.split("/"),n={length:0};if(3===a.length)t={},Object(b.a)(t,a[1],Number(a[2])),Object(b.a)(t,"length",1),n=t;else if(4===a.length){var r,i=a[3].split("=");r={},Object(b.a)(r,a[1],Number(a[2])),Object(b.a)(r,i[0],Number(i[1])),Object(b.a)(r,"length",2),n=r}else if(5===a.length){var o,c=a[3].split("="),l=a[4].split("=");o={},Object(b.a)(o,a[1],Number(a[2])),Object(b.a)(o,c[0],Number(c[1])),Object(b.a)(o,l[0],Number(l[1])),Object(b.a)(o,"length",3),n=o}return n},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new Date,a=t.getTime(),n=6e4*e;return a+n},S=function(){return y(Math.random()).toString(36)},O=function(e){var t=E.a;return e&&("object"===typeof e?t=e.medium:"string"===typeof e&&(t=e)),t},C=function(e){var t=localStorage.getItem(e);return null!==t?JSON.parse(t):void 0}("user"),j="dark"===localStorage.getItem("theme")?"dark":"light",k=C?{loggedIn:!0,loading:!1,user:C,theme:j}:{loggedIn:!1,loading:!1,theme:j};function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN_REQUEST":return Object(g.a)(Object(g.a)({},e),{},{loading:!0});case"USER_LOGIN_SUCCESS":return Object(g.a)(Object(g.a)({},e),{},{loggedIn:!0,loading:!1,user:t.user});case"USER_LOGIN_FAILURE":return Object(g.a)(Object(g.a)({},e),{},{loading:!1});case"USER_REGISTER_REQUEST":return Object(g.a)(Object(g.a)({},e),{},{loggedIn:!1,loading:!0});case"USER_REGISTER_SUCCESS":case"USER_REGISTER_FAILURE":return Object(g.a)(Object(g.a)({},e),{},{loading:!1});case"USER_LOST_REQUEST":return Object(g.a)(Object(g.a)({},e),{},{loggedIn:!1,loading:!0});case"USER_LOST_SUCCESS":case"USER_LOST_FAILURE":return Object(g.a)(Object(g.a)({},e),{},{loading:!1});case"USER_LOGOUT":return Object(g.a)(Object(g.a)({},e),{},{loggedIn:!1,loading:!1});case"CHANGE_THEME":return localStorage.setItem("theme",t.theme),Object(g.a)(Object(g.a)({},e),{},{theme:t.theme});default:return e}}var w={loading:!0};function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_PROFILE":return{loading:!0,profile:t.userData};case"PROFILE_INFO_REQUEST":return e;case"PROFILE_INFO_SUCCESS":return{loading:!1,profile:t.profile};case"PROFILE_INFO_FAILURE":return{loading:!1,error:t.error};default:return e}}var L={data:[],loading:!0,error:"Not Found",nextLoad:0},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_FAVORITES":return e;case"SUCCESS_FAVORITES":return Object(g.a)(Object(g.a)({},e),{},{nextLoad:t.payload.nextLoad,data:t.payload.data,loading:!1});case"FAILURE_FAVORITES":return{data:[],error:t.error,nextLoad:0,loading:!1};default:return e}},I={snackbars:[]},R=function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"SHOW_SNACKBAR":return Object(g.a)(Object(g.a)({},a),{},{snackbars:[].concat(Object(n.a)(a.snackbars),[Object(g.a)({},r.snackbar)])});case"CLEAR_SNACKBAR":return Object(g.a)(Object(g.a)({},a),{},{snackbars:null===(e=a.snackbars)||void 0===e?void 0:e.map((function(e){return r.dismissAll||e.key===r.key?Object(g.a)(Object(g.a)({},e),{},{dismissed:!0}):Object(g.a)({},e)}))});case"REMOVE_SNACKBAR":return Object(g.a)(Object(g.a)({},a),{},{snackbars:null===(t=a.snackbars)||void 0===t?void 0:t.filter((function(e){return e.key!==r.key}))});default:return a}},T={playMode:!1,loading:!0,onAir:!1,fingerLoading:!0,pianoLoading:!0,gameLoading:!0,octave:5,tapSize:32},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_PLAYER":return Object(g.a)(Object(g.a)({},e),{},{loading:!1});case"DRAW_PIANO":return Object(g.a)(Object(g.a)(Object(g.a)({},e),t.payload),{},{pianoLoading:!1});case"DRAW_GAME":return Object(g.a)(Object(g.a)({},e),{},{gameLoading:!1});case"DRAW_FINGER":return Object(g.a)(Object(g.a)({},e),{},{fingerLoading:!1});case"ENTER_PLAYMODE":return Object(g.a)(Object(g.a)({},e),{},{onAir:!1,playMode:!0,gameLoading:!0,pianoLoading:!0,canvasSize:void 0});case"EXIT_PLAYMODE":return Object(g.a)(Object(g.a)({},e),{},{onAir:!1,playMode:!1,gameLoading:!0,pianoLoading:!0,fingerLoading:!0,canvasSize:void 0});case"START_PLAYER":return Object(g.a)(Object(g.a)({},e),{},{onAir:!0});case"STOP_PLAYER":return Object(g.a)(Object(g.a)({},e),{},{onAir:!1});case"RESIZE_PLAYER":return Object(g.a)(Object(g.a)({},e),{},{onAir:!1,pianoLoading:!0,gameLoading:!0});case"RESET_PLAYER":return Object(g.a)(Object(g.a)({},e),{},{loading:!0,onAir:!1});default:return e}},G={data:[],loading:!0,error:"Not Found",nextLoad:0},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_POSTS":return e;case"SUCCESS_POSTS":return Object(g.a)(Object(g.a)({},e),{},{data:t.payload.data,nextLoad:t.payload.nextLoad,loading:!1});case"FAILURE_POSTS":return{data:[],error:t.error,nextLoad:0,loading:!1};default:return e}},B={loading:!0,error:"Not Found"},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_POST":return Object(g.a)(Object(g.a)({},e),{},{loading:!0,data:void 0});case"SUCCESS_POST":return t.data,Object(g.a)(Object(g.a)({},e),{},{data:t.data,loading:!1});case"FAILURE_POST":return Object(g.a)(Object(g.a)({},e),{},{error:t.error,loading:!1});default:return e}},H={data:[],loading:!0,error:"Not Found",nextLoad:0},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_GUIDES":return e;case"SUCCESS_GUIDES":return Object(g.a)(Object(g.a)({},e),{},{data:t.payload.data,nextLoad:t.payload.nextLoad,loading:!1});case"SAVE_GUIDES":var a=!1;return e.data.length&&(a=t.data.every((function(t){return e.data.map((function(e){return e.id===t.id}))}))),Object(g.a)(Object(g.a)({},e),{},{data:a?e.data:t.data});case"FAILURE_GUIDES":return{data:[],error:t.error,nextLoad:0,loading:!1};default:return e}},P={loading:!0,error:"Not Found"},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_GUIDE":return Object(g.a)(Object(g.a)({},e),{},{loading:!0,data:void 0});case"SUCCESS_GUIDE":return Object(g.a)(Object(g.a)({},e),{},{data:t.data,loading:!1});case"FAILURE_GUIDE":return Object(g.a)(Object(g.a)({},e),{},{error:t.error,loading:!1});default:return e}},D={data:[],loading:!0,error:"Not Found",nextLoad:0},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_LESSONS":return e;case"SUCCESS_LESSONS":return Object(g.a)(Object(g.a)({},e),{},{data:t.payload.data,nextLoad:t.payload.nextLoad,loading:!1});case"SAVE_LESSONS":var a=!1;return e.data.length&&(a=t.data.every((function(t){return e.data.map((function(e){return e.id===t.id}))}))),Object(g.a)(Object(g.a)({},e),{},{data:a?e.data:t.data});case"FAILURE_LESSONS":return{data:[],error:t.error,nextLoad:0,loading:!1};default:return e}},W={loading:!0,error:"Not Found"},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_LESSON":return Object(g.a)(Object(g.a)({},e),{},{loading:!0,data:void 0});case"SUCCESS_LESSON":return Object(g.a)(Object(g.a)({},e),{},{data:t.data,loading:!1});case"FAILURE_LESSON":return Object(g.a)(Object(g.a)({},e),{},{error:t.error,loading:!1});default:return e}},K={data:[],loading:!0,error:"Not Found",nextLoad:0},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_COURSES":return e;case"SUCCESS_COURSES":return Object(g.a)(Object(g.a)({},e),{},{data:t.payload.data,nextLoad:t.payload.nextLoad,loading:!1});case"SAVE_COURSES":var a=!1;return e.data.length&&(a=t.data.every((function(t){return e.data.map((function(e){return e.id===t.id}))}))),Object(g.a)(Object(g.a)({},e),{},{data:a?e.data:t.data});case"FAILURE_COURSES":return{data:[],nextLoad:0,error:t.error,loading:!1};default:return e}},X={loading:!0,error:"Not Found"},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_COURSE":return Object(g.a)(Object(g.a)({},e),{},{loading:!0,data:void 0});case"SUCCESS_COURSE":return void 0===t.data?Object(g.a)(Object(g.a)({},e),{},{loading:!1}):Object(g.a)(Object(g.a)({},e),{},{data:t.data,loading:!1});case"FAILURE_COURSE":return Object(g.a)(Object(g.a)({},e),{},{error:t.error,loading:!1});default:return e}},J={data:[],loading:!0,error:"Not Found",nextLoad:0},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_EXERCISES":return e;case"SUCCESS_EXERCISES":return Object(g.a)(Object(g.a)({},e),{},{data:t.payload.data,nextLoad:t.payload.nextLoad,loading:!1});case"SAVE_EXERCISES":var a=!1;return e.data.length&&(a=t.data.every((function(t){return e.data.map((function(e){return e.id===t.id}))}))),Object(g.a)(Object(g.a)({},e),{},{data:a?e.data:t.data});case"FAILURE_EXERCISES":return{data:[],error:t.error,nextLoad:0,loading:!1};default:return e}},ee={loading:!0,error:"Not Found"},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_EXERCISE":return Object(g.a)(Object(g.a)({},e),{},{loading:!0,data:void 0});case"SUCCESS_EXERCISE":return t.data,Object(g.a)(Object(g.a)({},e),{},{data:t.data,loading:!1});case"FAILURE_EXERCISE":return Object(g.a)(Object(g.a)({},e),{},{error:t.error,loading:!1});default:return e}},ae=function(e){return Object(u.c)({router:Object(d.b)(e),single:Object(u.c)({post:V,guide:z,course:Y,lesson:Z,exercise:te}),bank:Object(u.c)({posts:U,guides:F,courses:Q,lessons:q,exercises:$}),melodition:M,user:Object(u.c)({profile:A,favorites:N}),snackbar:R,auth:x})},ne=Object(h.a)(),re=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d;return Object(u.e)(ae(ne),e,t(Object(u.a)(Object(p.a)(ne),f.a)))}();var ie=a(22),oe=Object(s.c)((function(e){return{loggedIn:e.auth.loggedIn}}))((function(e){var t="";if(e.loggedIn||(t=e.authenticationPath),e.loggedIn&&!e.isAllowed&&(t=e.restrictedPath),t){return r.createElement(ie.b,Object.assign({},e,{component:function(){return r.createElement(ie.a,{to:{pathname:t}})},render:void 0}))}return r.createElement(ie.b,e)})),ce=a(37),le=a(314),se=a(313),ue=a(310),de=a(264),me=function(e,t){var a,n=null===(a=e.response)||void 0===a?void 0:a.data.message.toString();n&&(re.dispatch({type:t,error:n}),re.dispatch({type:"SHOW_SNACKBAR",snackbar:he(n,"error")}))},he=function(e,t){return{message:e.replace(/<[^>]+>/g,""),key:S(),options:{TransitionComponent:function(e){return i.a.createElement(ue.a,Object.assign({},e,{direction:"left"}))},anchorOrigin:{horizontal:"left",vertical:"bottom"},variant:t,autoHideDuration:"error"===t?null:5e3,action:function(e){return i.a.createElement(de.a,{style:{borderRadius:5},color:"inherit",size:"small","aria-label":"close",component:"span",onClick:function(){return re.dispatch({type:"CLEAR_SNACKBAR",dismissAll:!e,key:e})}},i.a.createElement(se.a,null))}}}},fe=function(){var e=Object(r.useState)(""),t=Object(ce.a)(e,2),a=t[0],n=t[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement("h1",null,"About"),i.a.createElement("p",null," ","Lorem ipsum dolor sit amet consectetur adipisicing elit. Atque ipsum praesentium rem asperiores fuga illo et, architecto doloremque nulla. Magni perspiciatis praesentium facere facilis, ullam officiis saepe sunt amet nulla?"),i.a.createElement("input",{type:"text",onChange:function(e){return function(e){var t=e.target.value;n(t)}(e)},value:a}),i.a.createElement(le.a,{onClick:function(){return re.dispatch({type:"SHOW_SNACKBAR",snackbar:he(a,"success")})}},"Snack"),i.a.createElement(le.a,{onClick:function(){return re.dispatch({type:"CLEAR_SNACKBAR",dismissAll:!0})}},"Clear"))},pe=a(12),ge=a(16),be=a(20),ve=a(19),Ee=a(159),_e=a.n(Ee),ye=a(40),Se=function(e){return function(t){t({type:"USER_LOGIN_REQUEST"}),xe.post("/jwt-auth/v1/token",e).then((function(e){t({type:"USER_LOGIN_SUCCESS",user:e.data}),localStorage.setItem("user",JSON.stringify(e.data)),xe.defaults.headers.common={Authorization:"Bearer "+e.data.token},t(Object(ye.d)()),t({type:"SHOW_SNACKBAR",snackbar:he("".concat(e.data.user_display_name," logged in successfully."),"success")})})).catch((function(e){return me(e,"USER_LOGIN_FAILURE")}))}},Oe=function(e){return function(t){t({type:"CHANGE_THEME",theme:e})}},Ce=function(){return function(e){localStorage.removeItem("user"),xe.defaults.headers.common={},e(Object(ye.c)(0)),e({type:"USER_LOGOUT"})}},je=function(e){return function(t){t({type:"USER_REGISTER_REQUEST"}),xe.post("/jwt-auth/v1/register",e).then((function(e){t({type:"USER_REGISTER_SUCCESS",user:e.data}),t(Object(ye.f)("/login")),t({type:"SHOW_SNACKBAR",snackbar:he(e.data.message,"success")})})).catch((function(e){return me(e,"USER_REGISTER_FAILURE")}))}},ke=function(e){return function(t){t({type:"USER_LOST_REQUEST"}),xe.post("/jwt-auth/v1/lostpassword",e).then((function(e){var a=e.data.message.toString();t({type:"USER_LOST_SUCCESS",message:a}),t(Object(ye.f)("/login")),t({type:"SHOW_SNACKBAR",snackbar:he(a,"success")})})).catch((function(e){me(e,"USER_LOST_FAILURE")}))}},xe=_e.a.create({baseURL:"https://panel.melodition.com/wp-json",headers:function(){var e=localStorage.getItem("user"),t=e?JSON.parse(e):null;return(null===t||void 0===t?void 0:t.token)?{Authorization:"Bearer "+t.token}:{}}()});xe.interceptors.response.use((function(e){return e}),(function(e){return console.log(e),403===e.response.status&&/Expire/.test(e.response.data.code)&&re.dispatch(Ce()),Promise.reject(e)}));var we=_e.a.create({method:"get",responseType:"arraybuffer"}),Ae=function(){return function(e,t){var a=t().bank.posts,n=y()-a.nextLoad;a.data&&n<=0||(e({type:"REQUEST_POSTS"}),xe.get("/post/v2").then((function(t){return e({type:"SUCCESS_POSTS",payload:{data:t.data,nextLoad:y(10)}})})).catch((function(e){return me(e,"FAILURE_POSTS")})))}},Le=function(e){return function(t,a){var n=a().bank.posts.data,r=null===n||void 0===n?void 0:n.find((function(t){return t.id===e}));r?t({type:"SUCCESS_POST",data:r}):(t({type:"REQUEST_POST"}),xe.get("/post/v2?id=".concat(e)).then((function(e){return t({type:"SUCCESS_POST",data:e.data[0]})})).catch((function(e){return me(e,"FAILURE_POST")})))}},Ne=a(315),Ie=a(316),Re=a(317),Te=a(318),Me=a(69),Ge=a(319),Ue=a(312),Be=a(388),Ve=Object(Ue.a)((function(e){return Object(Be.a)({root:{maxWidth:345,maxHeight:360,margin:e.spacing(2)},cardAction:{justifyContent:"space-between",margin:"inherit"},content:{minHeight:"140px"}})})),He=function(e){var t=e.post,a=Ve(),n=t.title,r=t.featured_img,o=t.excerpt,c=t.author,l=function(e){re.dispatch(Object(ye.f)("/post/".concat(t.id)))};return i.a.createElement(Ne.a,{className:a.root},i.a.createElement(Ie.a,{onClick:l},i.a.createElement(Re.a,{height:"140",component:"img",alt:t.title,title:t.title,image:O(r)}),i.a.createElement(Te.a,{className:a.content},i.a.createElement(Me.a,{gutterBottom:!0,variant:"h5",component:"h2"},n),i.a.createElement(Me.a,{variant:"body2",color:"textSecondary",component:"p"},o))),i.a.createElement(Ge.a,{className:a.cardAction},i.a.createElement(Me.a,{variant:"body2",color:"textSecondary",component:"p"},"\u0627\u0632 ",c),i.a.createElement(le.a,{size:"medium",color:"secondary",onClick:l},"\u0627\u062f\u0627\u0645\u0647 \u0645\u0637\u0644\u0628")))},Fe=a(389),Pe=a(320),ze=a(321),De=a(5),qe=function(e){Object(be.a)(a,e);var t=Object(ve.a)(a);function a(){return Object(pe.a)(this,a),t.apply(this,arguments)}return Object(ge.a)(a,[{key:"componentDidMount",value:function(){this.props.requestAllPost()}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.data,n=e.error,r=e.classes,o=a?a.length:0;return i.a.createElement("div",{className:r.root},i.a.createElement("div",{className:r.header},i.a.createElement(Me.a,{variant:"h3"},"\u067e\u0633\u062a \u0647\u0627"),i.a.createElement(Fe.a,{className:r.chip,color:"secondary",label:"\u062a\u0639\u062f\u0627\u062f: "+o})),i.a.createElement(Pe.a,{container:!0,justify:"center",className:r.cardList},t?i.a.createElement(ze.a,{color:"secondary",className:r.autoMargin}):a.length?a.map((function(e){return i.a.createElement(He,{key:e.id,post:e})})):i.a.createElement(Me.a,{component:"div",className:r.autoMargin},n)))}}]),a}(r.Component),We=Object(s.c)((function(e,t){return Object(g.a)({classes:t.classes},e.bank.posts)}),(function(e){return{requestAllPost:Object(u.b)(Ae,e)}}))(Object(De.a)((function(e){return Object(Be.a)({root:{padding:e.spacing(2,1,0,2)},header:{position:"relative"},cardList:{minHeight:"calc(100vh - 143px)"},chip:{position:"absolute",right:0,top:e.spacing(1)},autoMargin:{margin:"auto"}})}))(qe)),Ze=a(33),Ke=a(25),Qe=a(59),Xe=a(27),Ye=a(103),Je=a.n(Ye),$e=a(327),et=a(328),tt=a(391),at=a(379),nt=a(326),rt=a(329),it=function(e){Object(be.a)(a,e);var t=Object(ve.a)(a);function a(){var e;Object(pe.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0},e.script=void 0,e.loadScript=function(){window.captchaOnLoad=e.onLoad;var t=document.createElement("script");t.type="text/javascript",t.src="https://www.google.com/recaptcha/api.js?onload=captchaOnLoad&render=explicit&hl=fa",t.async=!0,t.defer=!0,e.script=document.body.appendChild(t)},e.callback=function(){e.props.onChange(!0)},e.onLoad=function(){window.grecaptcha.render("g-recaptcha",{callback:e.callback,sitekey:"6Le8wccUAAAAAA0kNONoUC-NKPecGnUGKRY7zMno",size:"normal",theme:e.props.theme}),window.grecaptcha.ready((function(){e.setState({loading:!1})}))},e}return Object(ge.a)(a,[{key:"componentDidMount",value:function(){this.loadScript()}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.script)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.onError;return r.createElement("div",{className:t.root},this.state.loading&&r.createElement(nt.a,{color:"secondary"}),r.createElement("div",{id:"g-recaptcha",className:a?t.captchaWarning:t.captcha}),r.createElement(Me.a,{color:"error",variant:"caption"},a))}}]),a}(r.PureComponent),ot=Object(De.a)((function(e){return Object(Be.a)({root:{position:"relative",minHeight:80},captcha:{zIndex:2,"& > div:first-child":{margin:"auto","& > div > iframe":{borderRadius:4,border:"1px solid"}}},captchaWarning:{"& > div:first-child":{margin:"auto","& > div > iframe":{borderRadius:4,border:"1px solid red"}}}})}))(it);function ct(e){var t=e.form,a=t.setFieldValue,n=t.errors,o=t.touched,c=e.field.name,l=re.getState().auth.theme,s=Object(r.useCallback)((function(e){a(c,!!e)}),[a,c]);return i.a.createElement(ot,{action:"login",theme:l,onChange:s,onError:o.recaptcha&&n.recaptcha})}var lt=function(e){Object(be.a)(a,e);var t=Object(ve.a)(a);function a(){return Object(pe.a)(this,a),t.apply(this,arguments)}return Object(ge.a)(a,[{key:"componentDidMount",value:function(){this.props.loggedIn&&this.props.push("/profile")}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading;return t.loggedIn?null:i.a.createElement($e.a,{component:"main",maxWidth:"xs",style:{paddingTop:"10px"}},i.a.createElement(et.a,null),i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement(tt.a,{style:{margin:"auto"}},i.a.createElement(Je.a,null)),i.a.createElement(Me.a,{component:"h1",variant:"h5"},"Sign in"),i.a.createElement(Ke.c,{initialValues:{username:"",password:"",recaptcha:""},validationSchema:Ze.b().shape({username:Ze.d().max(255).required("Email or Username is required"),password:Ze.d().max(255).required("Password is required"),recaptcha:Ze.a().required("ReCAPTCHA is required")}),onSubmit:function(t,a){var n=a.resetForm;t.username&&t.password&&(e.props.login({username:t.username,password:t.password}),n({}))}},i.a.createElement(Ke.b,null,i.a.createElement(at.a,{mb:3},i.a.createElement(Me.a,{color:"textSecondary",align:"center",gutterBottom:!0,variant:"body2"},"Sign in on the internal platform")),i.a.createElement(Pe.a,{item:!0},i.a.createElement(le.a,{fullWidth:!0,size:"large",variant:"contained",type:"submit",disabled:!0},"Login with Google")),i.a.createElement(at.a,{mt:3,mb:1},i.a.createElement(Me.a,{align:"center",color:"textSecondary",variant:"body1"},"or login with username / email address")),i.a.createElement(at.a,{my:1},i.a.createElement(Ke.a,{component:Qe.a,color:"secondary",fullWidth:!0,label:"Email Address/Username",margin:"normal",name:"username",id:"username",placeholder:"John",type:"username",variant:"outlined"})),i.a.createElement(at.a,{my:1},i.a.createElement(Ke.a,{component:Qe.a,color:"secondary",fullWidth:!0,label:"Password",margin:"normal",name:"password",type:"password",variant:"outlined"})),i.a.createElement(at.a,{my:1},i.a.createElement(Ke.a,{component:ct,color:"secondary",fullWidth:!0,label:"Recaptcha",margin:"normal",name:"recaptcha",type:"recaptcha",variant:"outlined"})),a&&i.a.createElement(nt.a,{color:"secondary"}),i.a.createElement(at.a,{my:1},i.a.createElement(le.a,{color:"secondary",disabled:a,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Sign in")),i.a.createElement(Pe.a,{container:!0,style:{textAlign:"initial"}},i.a.createElement(Pe.a,{item:!0,xs:!0},i.a.createElement(rt.a,{color:"secondary",component:Xe.a,to:"/lostpassword",variant:"body2"},"Forgot password?")),i.a.createElement(Pe.a,{item:!0},i.a.createElement(Me.a,{color:"textSecondary",variant:"body2"},"Don't have an account?",i.a.createElement(rt.a,{color:"secondary",component:Xe.a,to:"/register",variant:"body2"},"Sign up"))))))))}}]),a}(i.a.Component),st=Object(s.c)((function(e){var t=e.auth;return{loggedIn:t.loggedIn,loading:t.loading}}),(function(e){return{login:Object(u.b)(Se,e),logout:Object(u.b)(Ce,e),push:Object(u.b)(ye.f,e)}}))(lt),ut=function(e){Object(be.a)(a,e);var t=Object(ve.a)(a);function a(){return Object(pe.a)(this,a),t.apply(this,arguments)}return Object(ge.a)(a,[{key:"componentDidMount",value:function(){this.props.loggedIn&&this.props.push("/")}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading;return t.loggedIn?null:i.a.createElement($e.a,{component:"main",maxWidth:"xs",style:{paddingTop:"10px"}},i.a.createElement(et.a,null),i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement(tt.a,{style:{margin:"auto"}},i.a.createElement(Je.a,null)),i.a.createElement(Me.a,{component:"h1",variant:"h5"},"Lost Password"),i.a.createElement(Ke.c,{initialValues:{user_login:"",recaptcha:""},validationSchema:Ze.b().shape({user_login:Ze.d().max(255).required("Email or Username is required"),recaptcha:Ze.a().required("ReCAPTCHA is required")}),onSubmit:function(t,a){var n=a.resetForm;t.user_login&&e.props.lostRequest(t),n({})}},i.a.createElement(Ke.b,null,i.a.createElement(at.a,{my:2},i.a.createElement(Me.a,{color:"textSecondary",align:"center",gutterBottom:!0,variant:"body2"},"Enter your email or user_login")),i.a.createElement(at.a,{my:1},i.a.createElement(Ke.a,{component:Qe.a,color:"secondary",fullWidth:!0,label:"Email Address/Username",margin:"normal",name:"user_login",id:"user_login",placeholder:"John",type:"user_login",variant:"outlined"})),i.a.createElement(at.a,{my:1},i.a.createElement(Ke.a,{component:ct,color:"secondary",fullWidth:!0,label:"Recaptcha",margin:"normal",name:"recaptcha",type:"recaptcha",variant:"outlined"})),a&&i.a.createElement(nt.a,{color:"secondary"}),i.a.createElement(at.a,{my:1},i.a.createElement(le.a,{color:"secondary",disabled:a,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Recover"))))))}}]),a}(i.a.Component),dt=Object(s.c)((function(e,t){var a=e.auth;return{loggedIn:a.loggedIn,loading:a.loading}}),(function(e,t){return{lostRequest:Object(u.b)(ke,e),push:Object(u.b)(ye.f,e)}}))(ut),mt=a(384),ht=a(325),ft=function(e){Object(be.a)(a,e);var t=Object(ve.a)(a);function a(){return Object(pe.a)(this,a),t.apply(this,arguments)}return Object(ge.a)(a,[{key:"componentDidMount",value:function(){this.props.loggedIn&&this.props.push("/")}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading;return t.loggedIn?null:i.a.createElement($e.a,{component:"main",maxWidth:"xs",style:{paddingTop:"10px"}},i.a.createElement(et.a,null),i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement(tt.a,{style:{margin:"auto"}},i.a.createElement(Je.a,null)),i.a.createElement(Me.a,{component:"h1",variant:"h5"},"Sign Up"),i.a.createElement(Ke.c,{initialValues:{email:"",firstname:"",lastname:"",username:"",password:"",confirm_password:"",recaptcha:!1,policy:!1},validationSchema:Ze.b().shape({email:Ze.d().email("Must be a valid email").max(255).required("Email is required"),firstname:Ze.d().max(255).required("First name is required"),lastname:Ze.d().max(255).required("Last name is required"),username:Ze.d().max(255).required("User name is required"),password:Ze.d().max(255).required("Password is required"),confirm_password:Ze.d().oneOf([Ze.c("password"),""],"Both password need to be the same"),policy:Ze.a().oneOf([!0],"This field must be checked"),recaptcha:Ze.a().oneOf([!0],"This field must be checked")}),onSubmit:function(t,a){var n=a.resetForm;t.firstname&&t.lastname&&t.username&&t.email&&t.password&&e.props.registerRequest({firstname:t.firstname,lastname:t.lastname,username:t.username,password:t.password,email:t.email}),n({})}},(function(e){var t=e.handleChange,n=e.values,r=e.touched,o=e.errors;return i.a.createElement(Ke.b,null,i.a.createElement(at.a,{mb:3},i.a.createElement(Me.a,{color:"textSecondary",align:"center",gutterBottom:!0,variant:"body2"},"Use your email to create new account"),i.a.createElement(Ke.a,{component:Qe.a,color:"secondary",fullWidth:!0,label:"\u0646\u0627\u0645",margin:"normal",name:"firstname",variant:"outlined"}),i.a.createElement(Ke.a,{component:Qe.a,color:"secondary",fullWidth:!0,label:"\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc",margin:"normal",name:"lastname",variant:"outlined"}),i.a.createElement(Ke.a,{component:Qe.a,color:"secondary",fullWidth:!0,label:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc",margin:"normal",name:"username",variant:"outlined"}),i.a.createElement(Ke.a,{component:Qe.a,color:"secondary",fullWidth:!0,label:"\u0622\u062f\u0631\u0633 \u0627\u06cc\u0645\u06cc\u0644",margin:"normal",name:"email",dir:"ltr",type:"email",variant:"outlined"}),i.a.createElement(Ke.a,{component:Qe.a,color:"secondary",fullWidth:!0,label:"\u067e\u0633\u0648\u0631\u062f",margin:"normal",name:"password",type:"password",variant:"outlined"}),i.a.createElement(Ke.a,{component:Qe.a,color:"secondary",fullWidth:!0,label:"\u062a\u0627\u0626\u06cc\u062f \u067e\u0633\u0648\u0631\u062f",margin:"normal",name:"confirm_password",type:"password",variant:"outlined"}),i.a.createElement(at.a,{alignItems:"center",display:"flex",ml:-1},i.a.createElement(mt.a,{checked:n.policy,name:"policy",onChange:t}),i.a.createElement(Me.a,{color:"textSecondary",variant:"body1"},"I have read the"," ",i.a.createElement(rt.a,{color:"secondary",component:Xe.a,to:"#",underline:"always",variant:"body1"},"Terms and Conditions"," "))),Boolean(r.policy&&o.policy)&&i.a.createElement(ht.a,{error:!0},o.policy),i.a.createElement(at.a,{my:1},i.a.createElement(Ke.a,{component:ct,color:"secondary",fullWidth:!0,label:"Recaptcha",margin:"normal",name:"recaptcha",type:"recaptcha",variant:"outlined"})),a&&i.a.createElement(nt.a,{color:"secondary"}),i.a.createElement(at.a,{my:2},i.a.createElement(le.a,{color:"secondary",disabled:a,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Sign up now")),i.a.createElement(Me.a,{align:"center",color:"textSecondary",variant:"body2"},"Have an account?",i.a.createElement(rt.a,{color:"secondary",component:Xe.a,to:"/login",variant:"body2"},"Sign in"))))}))))}}]),a}(i.a.Component),pt=Object(s.c)((function(e){var t=e.auth;return{loggedIn:t.loggedIn,loading:t.loading}}),(function(e){return{registerRequest:Object(u.b)(je,e),push:Object(u.b)(ye.f,e)}}))(ft),gt=function(e){return function(t){t({type:"PROFILE_INFO_REQUEST"});var a=bt(e),n=a.userID;xe.get("/wp/v2/users/".concat(n)).then((function(e){t({type:"PROFILE_INFO_SUCCESS",profile:Object(g.a)(Object(g.a)({},e.data),{},{info:a})})})).catch((function(e){return me(e,"PROFILE_INFO_FAILURE")}))}},bt=function(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")),n=JSON.parse(a);return{userID:n.data.user.id,expire:1e3*n.exp,issued:1e3*n.iat,before:1e3*n.nbf}},vt=a(2),Et=a(29),_t=a(334),yt=a(335),St=a(336),Ot=a(337),Ct=a(338),jt=a(339),kt=a(340),xt=a(341),wt=a(392),At=a(330),Lt=a(331),Nt=a(332),It=a(333),Rt=Object(Ue.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));function Tt(e){var t=Rt(),a=Object(Et.a)(),n=e.count,r=e.page,o=e.rowsPerPage,c=e.onChangePage;return i.a.createElement("div",{className:t.root},i.a.createElement(de.a,{onClick:function(e){c(e,0)},disabled:0===r,"aria-label":"first page"},"rtl"===a.direction?i.a.createElement(At.a,null):i.a.createElement(Lt.a,null)),i.a.createElement(de.a,{onClick:function(e){c(e,r-1)},disabled:0===r,"aria-label":"previous page"},"rtl"===a.direction?i.a.createElement(Nt.a,null):i.a.createElement(It.a,null)),i.a.createElement(de.a,{onClick:function(e){c(e,r+1)},disabled:r>=Math.ceil(n/o)-1,"aria-label":"next page"},"rtl"===a.direction?i.a.createElement(It.a,null):i.a.createElement(Nt.a,null)),i.a.createElement(de.a,{onClick:function(e){c(e,Math.max(0,Math.ceil(n/o)-1))},disabled:r>=Math.ceil(n/o)-1,"aria-label":"last page"},"rtl"===a.direction?i.a.createElement(Lt.a,null):i.a.createElement(At.a,null)))}var Mt=Object(Ue.a)((function(e){return{table:{minWidth:300},toolbar:{"& div":Object(b.a)({flexFlow:"wrap",justifyContent:"flex-end"},e.breakpoints.only("xs"),{justifyContent:"space-around"})}}}));function Gt(e){var t=e.res,a=Mt(),n=i.a.useState(0),r=Object(ce.a)(n,2),o=r[0],c=r[1],l=i.a.useState(5),s=Object(ce.a)(l,2),u=s[0],d=s[1],m=u-Math.min(u,t.length-o*u),h=t.length>500?"higher":t.length>=100?"high":t.length>=30?"average":t.length>5?"low":"lower",f=function(e,t){var a,n;return e&&(a=e),t&&(n=t),a||n};return i.a.createElement(Ne.a,{className:Object(vt.a)(a.root)},i.a.createElement(_t.a,{title:"\u0622\u062e\u0631\u06cc\u0646 \u0622\u0647\u0646\u06af \u0647\u0627"}),i.a.createElement(yt.a,null),i.a.createElement(at.a,null,i.a.createElement(St.a,{className:a.table,"aria-label":"custom pagination table"},i.a.createElement(Ot.a,null,i.a.createElement(Ct.a,null,i.a.createElement(jt.a,null,"\u0646\u0627\u0645 \u0622\u0647\u0646\u06af"),i.a.createElement(jt.a,null,"\u0633\u0627\u0639\u062a"),i.a.createElement(jt.a,null,"\u062a\u0627\u0631\u06cc\u062e"),i.a.createElement(jt.a,null,"\u062f\u0642\u062a"))),i.a.createElement(kt.a,null,(u>0?t.slice(o*u,o*u+u):t).map((function(e){return i.a.createElement(Ct.a,{key:S()},0!==e.song.id?i.a.createElement(jt.a,null,i.a.createElement(rt.a,{to:"/lesson/".concat(e.song.id),color:"secondary",component:Xe.a},e.song.name)):i.a.createElement(jt.a,null,i.a.createElement(rt.a,{to:"/guide",color:"secondary",component:Xe.a},e.song.name)),i.a.createElement(jt.a,null,f(!1,e.time)),i.a.createElement(jt.a,null,f(e.date)),i.a.createElement(jt.a,null,i.a.createElement(Fe.a,{color:"secondary",label:e.progress,size:"small"})))})),m>0&&i.a.createElement(Ct.a,{style:{height:57*m}},i.a.createElement(jt.a,{colSpan:6}))),i.a.createElement(xt.a,null,i.a.createElement(Ct.a,null,i.a.createElement(wt.a,{className:a.toolbar,rowsPerPageOptions:{lower:[{label:"\u0647\u0645\u0647",value:-1}],low:[{label:"\u06f5",value:5},{label:"\u0647\u0645\u0647",value:-1}],average:[{label:"\u06f5",value:5},{label:"\u06f1\u06f0",value:10},{label:"\u0647\u0645\u0647",value:-1}],high:[{label:"\u06f5",value:5},{label:"\u06f1\u06f0",value:10},{label:"\u06f2\u06f5",value:25},{label:"\u0647\u0645\u0647",value:-1}],higher:[{label:"\u06f5",value:5},{label:"\u06f1\u06f0",value:10},{label:"\u06f2\u06f5",value:25},{label:"\u06f5\u06f0",value:50},{label:"\u0647\u0645\u0647",value:-1}]}[h],colSpan:4,count:t.length,rowsPerPage:u,page:o,SelectProps:{inputProps:{"aria-label":"row per page"},native:!0},onChangePage:function(e,t){c(t)},onChangeRowsPerPage:function(e){d(parseInt(e.target.value,10)),c(0)},ActionsComponent:Tt}))))))}var Ut=function(e){Object(be.a)(a,e);var t=Object(ve.a)(a);function a(){return Object(pe.a)(this,a),t.apply(this,arguments)}return Object(ge.a)(a,[{key:"componentDidMount",value:function(){var e,t=null===(e=this.props.auth.user)||void 0===e?void 0:e.token;t&&this.props.getProfile(t)}},{key:"render",value:function(){var e=this.props.profile,t=e.profile;return e.loading?i.a.createElement(ze.a,{color:"secondary"}):t?i.a.createElement($e.a,{maxWidth:!1,style:{paddingTop:"10px"}},i.a.createElement(Pe.a,{container:!0,spacing:3},i.a.createElement(Pe.a,{item:!0,lg:12,md:12,xl:12,xs:12},i.a.createElement(Gt,{res:t.meta.playtime})))):i.a.createElement("div",null,"not signed...")}}]),a}(i.a.Component),Bt=Object(s.c)((function(e,t){return{profile:e.user.profile,auth:e.auth}}),(function(e,t){return{getProfile:Object(u.b)(gt,e)}}))(Ut),Vt=a(349),Ht=a(350),Ft=a(192),Pt=a(382),zt=a(351),Dt=a(344),qt=a(345),Wt=a(346),Zt=a(347),Kt=a(348),Qt=a(77),Xt=function(){return function(e,t){var a=t().bank.lessons,n=y()-a.nextLoad;a.data&&n<=0||(e({type:"REQUEST_LESSONS"}),xe.get("/lesson/v2").then((function(t){return e({type:"SUCCESS_LESSONS",payload:{data:t.data,nextLoad:y(10)}})})).catch((function(e){return me(e,"FAILURE_LESSONS")})))}},Yt=function(e){return function(t,a){var n=a().bank.lessons.data.find((function(t){return t.id===e.lesson}));n?t({type:"SUCCESS_LESSON",data:n}):e.guide?t(ra(e)):e.course?t($t(e)):n||(t({type:"REQUEST_LESSON"}),xe.get("/lesson/v2?id=".concat(e.lesson)).then((function(e){t({type:"SUCCESS_LESSON",data:e.data[0]}),t({type:"SAVE_LESSONS",data:e.data})})).catch((function(e){return me(e,"FAILURE_LESSON")})))}},Jt=function(){return function(e,t){var a=t().bank.courses,n=y()-a.nextLoad;a.data&&n<=0||(e({type:"REQUEST_COURSES"}),xe.get("/lesson/v2/course").then((function(t){return e({type:"SUCCESS_COURSES",payload:{data:t.data,nextLoad:y(10)}})})).catch((function(e){return me(e,"FAILURE_COURSES")})))}},$t=function(e){return function(t,a){var n=a().bank.courses.data.find((function(t){return t.id===e.course})),r=(e.course,Object(Qt.a)(e,["course"]));if(n){var i=ea(n.course_select);t({type:"SUCCESS_COURSE",data:n}),t({type:"SAVE_LESSONS",data:i.lessons}),t({type:"SAVE_EXERCISES",data:i.exercises}),e.lesson&&t(Yt(r)),e.exercise&&t(aa(r))}else e.guide?t(ra(e)):n||(t({type:"REQUEST_COURSE"}),xe.get("/lesson/v2/course?id=".concat(e.course)).then((function(a){var n=ea(a.data[0].course_select);t({type:"SUCCESS_COURSE",data:a.data[0]}),t({type:"SAVE_COURSES",data:a.data}),t({type:"SAVE_LESSONS",data:n.lessons}),t({type:"SAVE_EXERCISES",data:n.exercises}),e.lesson&&t(Yt(r)),e.exercise&&t(aa(r))})).catch((function(e){return me(e,"FAILURE_COURSE")})))}},ea=function(e){var t=[],a=[];return e.map((function(e){return"Exercise"===e.info.genre.name?a.push(e):t.push(e)})),{lessons:t,exercises:a}},ta=function(){return function(e,t){var a=t().bank.exercises,n=y()-a.nextLoad;a.data&&n<=0||(e({type:"REQUEST_EXERCISES"}),xe.get("/lesson/v2?course=125").then((function(t){return e({type:"SUCCESS_EXERCISES",payload:{data:t.data,nextLoad:y(10)}})})).catch((function(e){return me(e,"FAILURE_EXERCISES")})))}},aa=function(e){return function(t,a){var n=a().bank.exercises.data.find((function(t){return t.id===e.exercise}));console.log(e),n?t({type:"SUCCESS_EXERCISE",data:n}):e.guide?t(ra(e)):e.course?t($t(e)):n||(t({type:"REQUEST_EXERCISE"}),xe.get("/lesson/v2?id=".concat(e.exercise)).then((function(e){t({type:"SUCCESS_EXERCISE",data:e.data[0]}),t({type:"SAVE_EXERCISES",data:e.data})})).catch((function(e){return me(e,"FAILURE_EXERCISE")})))}},na=function(){return function(e,t){var a=t().bank.guides,n=y()-a.nextLoad;a.data&&n<=0||(e({type:"REQUEST_GUIDES"}),xe.get("/lesson/v2/guide").then((function(t){return e({type:"SUCCESS_GUIDES",payload:{data:t.data,nextLoad:y(10)}})})).catch((function(e){return me(e,"FAILURE_GUIDES")})))}},ra=function(e){return function(t,a){e.guide;var n=Object(Qt.a)(e,["guide"]),r=a().bank.guides.data.find((function(t){return t.id===e.guide}));r?(t({type:"SUCCESS_GUIDE",data:r}),t({type:"SAVE_COURSES",data:ia(r.guide_select)}),t({type:"SAVE_EXERCISES",data:oa(r.guide_select)}),e.course&&t($t(n)),e.exercise&&t(aa(n))):(t({type:"REQUEST_GUIDE"}),xe.get("/lesson/v2/guide?id=".concat(e.guide)).then((function(a){t({type:"SUCCESS_GUIDE",data:a.data[0]}),t({type:"SAVE_GUIDES",data:a.data}),t({type:"SAVE_COURSES",data:ia(a.data[0].guide_select)}),t({type:"SAVE_EXERCISES",data:oa(a.data[0].guide_select)}),e.course&&t($t(n)),e.exercise&&t(aa(n))})).catch((function(e){return me(e,"FAILURE_GUIDE")})))}},ia=function(e){var t=[];return e.map((function(e){var a;return null===(a=e.course)||void 0===a?void 0:a.map((function(e){return t.push(e)}))})),t},oa=function(e){var t=[];return e.map((function(e){var a;return null===(a=e.exercise)||void 0===a?void 0:a.map((function(e){return t.push(e)}))})),t},ca=Object(Ue.a)((function(e){return Object(Be.a)({root:{maxWidth:345,maxHeight:360,margin:e.spacing(2)},cardAction:{justifyContent:"space-between",margin:"inherit"},content:{minHeight:150}})})),la=function(e){var t=e.guide,a=ca(),n=t.title,r=t.thumbnails,o=t.description,c=t.teacher,l=function(e){re.dispatch(Object(ye.f)("/guide/".concat(t.id)))};return i.a.createElement(Ne.a,{className:a.root},i.a.createElement(Ie.a,{onClick:l},i.a.createElement(Re.a,{component:"img",alt:n,height:"140",image:O(r),title:n}),i.a.createElement(Te.a,{className:a.content},i.a.createElement(Me.a,{gutterBottom:!0,variant:"h5",component:"h2"},n),i.a.createElement(Me.a,{variant:"body2",color:"textSecondary",component:"p"},o))),i.a.createElement(Ge.a,{className:a.cardAction},i.a.createElement(Me.a,{variant:"body2",color:"textSecondary",component:"p"},"\u0627\u0632 ",c),i.a.createElement(le.a,{size:"medium",color:"secondary",onClick:l},"\u0627\u062f\u0627\u0645\u0647 \u0645\u0637\u0644\u0628")))},sa=function(e){Object(be.a)(a,e);var t=Object(ve.a)(a);function a(){return Object(pe.a)(this,a),t.apply(this,arguments)}return Object(ge.a)(a,[{key:"componentDidMount",value:function(){this.props.requestAllGuide()}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.data,n=e.error,r=e.classes,o=a?a.length:0;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:r.header},i.a.createElement(Me.a,{variant:"h3"},"\u0645\u062c\u0645\u0648\u0639\u0647 \u0647\u0627"),i.a.createElement(Fe.a,{className:r.chip,color:"secondary",label:"\u062a\u0639\u062f\u0627\u062f: "+o})),i.a.createElement(Pe.a,{container:!0,justify:"center",className:r.cardList},t?i.a.createElement(ze.a,{color:"secondary",className:r.autoMargin}):a.length?a.map((function(e){return i.a.createElement(la,{key:e.id,guide:e})})):i.a.createElement(Me.a,{component:"div",className:r.autoMargin},n)))}}]),a}(r.Component),ua=Object(s.c)((function(e,t){return Object(g.a)({classes:t.classes},e.bank.guides)}),(function(e){return{requestAllGuide:Object(u.b)(na,e)}}))(Object(De.a)((function(e){return Object(Be.a)({header:{position:"relative"},cardList:{minHeight:"calc(100vh - 240px)"},chip:{position:"absolute",right:0,top:0},autoMargin:{margin:"auto"}})}))(sa)),da=Object(Ue.a)((function(e){return Object(Be.a)({root:{maxWidth:345,maxHeight:360,margin:e.spacing(2)},cardAction:{justifyContent:"space-between",margin:"inherit"},content:{minHeight:150}})})),ma=function(e){var t=e.lesson,a=da(),n=t.title,r=t.featured_img,o=t.excerpt,c=t.author,l=function(e){re.dispatch(Object(ye.f)("/lesson/".concat(t.id)))};return i.a.createElement(Ne.a,{className:a.root},i.a.createElement(Ie.a,{onClick:l},i.a.createElement(Re.a,{component:"img",alt:n,height:"140",image:O(r),title:n}),i.a.createElement(Te.a,{className:a.content},i.a.createElement(Me.a,{gutterBottom:!0,variant:"h5",component:"h2"},n),i.a.createElement(Me.a,{variant:"body2",color:"textSecondary",component:"p"},o))),i.a.createElement(Ge.a,{className:a.cardAction},i.a.createElement(Me.a,{variant:"body2",color:"textSecondary",component:"p"},"\u0627\u0632 ",c),i.a.createElement(le.a,{size:"medium",color:"secondary",onClick:l},"\u0627\u062f\u0627\u0645\u0647 \u0645\u0637\u0644\u0628")))},ha=function(e){Object(be.a)(a,e);var t=Object(ve.a)(a);function a(){return Object(pe.a)(this,a),t.apply(this,arguments)}return Object(ge.a)(a,[{key:"componentDidMount",value:function(){this.props.requestAllLesson()}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.data,n=e.error,r=e.classes,o=a?a.length:0;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:r.header},i.a.createElement(Me.a,{variant:"h3"},"\u062f\u0631\u0633 \u0647\u0627"),i.a.createElement(Fe.a,{className:r.chip,color:"secondary",label:"\u062a\u0639\u062f\u0627\u062f: "+o})),i.a.createElement(Pe.a,{container:!0,justify:"center",className:r.cardList},t?i.a.createElement(ze.a,{color:"secondary",className:r.autoMargin}):a.length?a.map((function(e){return i.a.createElement(ma,{key:e.id,lesson:e})})):i.a.createElement(Me.a,{component:"div",className:r.autoMargin},n)))}}]),a}(r.Component),fa=Object(s.c)((function(e,t){return Object(g.a)({classes:t.classes},e.bank.lessons)}),(function(e){return{requestAllLesson:Object(u.b)(Xt,e)}}))(Object(De.a)((function(e){return Object(Be.a)({header:{position:"relative"},cardList:{minHeight:"calc(100vh - 240px)"},chip:{position:"absolute",right:0,top:0},autoMargin:{margin:"auto"}})}))(ha)),pa=Object(Ue.a)((function(e){return Object(Be.a)({root:{maxWidth:345,maxHeight:360,margin:e.spacing(2)},cardAction:{justifyContent:"space-between",margin:"inherit"},content:{minHeight:150}})})),ga=function(e){var t=e.course,a=pa(),n=t.title,r=t.thumbnails,o=t.description,c=t.teacher,l=function(e){re.dispatch(Object(ye.f)("/course/".concat(t.id)))};return i.a.createElement(Ne.a,{className:a.root},i.a.createElement(Ie.a,{onClick:l},i.a.createElement(Re.a,{component:"img",alt:n,height:"140",image:O(r),title:n}),i.a.createElement(Te.a,{className:a.content},i.a.createElement(Me.a,{gutterBottom:!0,variant:"h5",component:"h2"},n),i.a.createElement(Me.a,{variant:"body2",color:"textSecondary",component:"p"},o))),i.a.createElement(Ge.a,{className:a.cardAction},i.a.createElement(Me.a,{variant:"body2",color:"textSecondary",component:"p"},"\u0627\u0632 ",c),i.a.createElement(le.a,{size:"medium",color:"secondary",onClick:l},"\u0627\u062f\u0627\u0645\u0647 \u0645\u0637\u0644\u0628")))},ba=function(e){Object(be.a)(a,e);var t=Object(ve.a)(a);function a(){return Object(pe.a)(this,a),t.apply(this,arguments)}return Object(ge.a)(a,[{key:"componentDidMount",value:function(){this.props.requestAllCourse()}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.data,n=e.error,r=e.classes,o=a?a.length:0;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:r.header},i.a.createElement(Me.a,{variant:"h3"},"\u0622\u0645\u0648\u0632\u0634 \u0647\u0627"),i.a.createElement(Fe.a,{className:r.chip,color:"secondary",label:"\u062a\u0639\u062f\u0627\u062f: "+o})),i.a.createElement(Pe.a,{container:!0,justify:"center",className:r.cardList},t?i.a.createElement(ze.a,{color:"secondary",className:r.autoMargin}):a.length?a.map((function(e){return i.a.createElement(ga,{key:e.id,course:e})})):i.a.createElement(Me.a,{component:"div",className:r.autoMargin},n)))}}]),a}(r.Component),va=Object(s.c)((function(e,t){return Object(g.a)({classes:t.classes},e.bank.courses)}),(function(e){return{requestAllCourse:Object(u.b)(Jt,e)}}))(Object(De.a)((function(e){return Object(Be.a)({header:{position:"relative"},cardList:{minHeight:"calc(100vh - 240px)"},chip:{position:"absolute",right:0,top:0},autoMargin:{margin:"auto"}})}))(ba)),Ea=Object(Ue.a)((function(e){return Object(Be.a)({root:{maxWidth:345,maxHeight:360,margin:e.spacing(2)},cardAction:{justifyContent:"space-between",margin:"inherit"},content:{minHeight:150}})})),_a=function(e){var t=e.favorite,a=Ea(),n=t.title,r=t.featured_img,o=t.excerpt,c=t.author;return i.a.createElement(Ne.a,{className:a.root},i.a.createElement(Ie.a,null,i.a.createElement(Re.a,{component:"img",alt:n,height:"140",image:O(r),title:n}),i.a.createElement(Te.a,{className:a.content},i.a.createElement(Me.a,{gutterBottom:!0,variant:"h5",component:"h2"},n),i.a.createElement(Me.a,{variant:"body2",color:"textSecondary",component:"p"},o))),i.a.createElement(Ge.a,{className:a.cardAction},i.a.createElement(Me.a,{variant:"body2",color:"textSecondary",component:"p"},"\u0627\u0632 ",c),i.a.createElement(le.a,{size:"medium",color:"secondary"},"\u0627\u062f\u0627\u0645\u0647 \u0645\u0637\u0644\u0628")))},ya=function(){return function(e,t){var a=t().user.favorites,n=y()-a.nextLoad;a.data&&n<=0||(e({type:"REQUEST_FAVORITES"}),xe.get("/lesson/v2").then((function(t){return e({type:"SUCCESS_FAVORITES",payload:{data:t.data,nextLoad:y(10)}})})).catch((function(e){return me(e,"FAILURE_FAVORITES")})))}},Sa=function(e){Object(be.a)(a,e);var t=Object(ve.a)(a);function a(){return Object(pe.a)(this,a),t.apply(this,arguments)}return Object(ge.a)(a,[{key:"componentDidMount",value:function(){this.props.requestAllFavorite()}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.data,n=e.error,r=e.classes,o=a?a.length:0;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:r.header},i.a.createElement(Me.a,{variant:"h3"},"\u0645\u0648\u0631\u062f\u0639\u0644\u0627\u0642\u0647 \u0647\u0627"),i.a.createElement(Fe.a,{className:r.chip,color:"secondary",label:"\u062a\u0639\u062f\u0627\u062f: "+o})),i.a.createElement(Pe.a,{container:!0,justify:"center",className:r.cardList},t?i.a.createElement(ze.a,{color:"secondary",className:r.autoMargin}):a.length?a.map((function(e){return i.a.createElement(_a,{key:e.id,favorite:e})})):i.a.createElement(Me.a,{component:"div",className:r.autoMargin},n)))}}]),a}(r.Component),Oa=Object(s.c)((function(e,t){return Object(g.a)({classes:t.classes},e.user.favorites)}),(function(e){return{requestAllFavorite:Object(u.b)(ya,e)}}))(Object(De.a)((function(e){return Object(Be.a)({header:{position:"relative"},cardList:{minHeight:"calc(100vh - 240px)"},chip:{position:"absolute",right:0,top:0},autoMargin:{margin:"auto"}})}))(Sa)),Ca=Object(Ue.a)((function(e){return Object(Be.a)({root:{maxWidth:345,maxHeight:360,margin:e.spacing(2)},cardAction:{justifyContent:"space-between",margin:"inherit"},content:{minHeight:150}})})),ja=function(e){var t=e.exercise,a=Ca(),n=t.title,r=t.featured_img,o=t.excerpt,c=t.author,l=function(e){re.dispatch(Object(ye.f)("/exercise/".concat(t.id)))};return i.a.createElement(Ne.a,{className:a.root},i.a.createElement(Ie.a,{onClick:l},i.a.createElement(Re.a,{component:"img",alt:n,height:"140",image:O(r),title:n}),i.a.createElement(Te.a,{className:a.content},i.a.createElement(Me.a,{gutterBottom:!0,variant:"h5",component:"h2"},n),i.a.createElement(Me.a,{variant:"body2",color:"textSecondary",component:"p"},o))),i.a.createElement(Ge.a,{className:a.cardAction},i.a.createElement(Me.a,{variant:"body2",color:"textSecondary",component:"p"},"\u0627\u0632 ",c),i.a.createElement(le.a,{size:"medium",color:"secondary",onClick:l},"\u0627\u062f\u0627\u0645\u0647 \u0645\u0637\u0644\u0628")))},ka=function(e){Object(be.a)(a,e);var t=Object(ve.a)(a);function a(){return Object(pe.a)(this,a),t.apply(this,arguments)}return Object(ge.a)(a,[{key:"componentDidMount",value:function(){this.props.requestAllExercise()}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.data,n=e.error,r=e.classes,o=a?a.length:0;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:r.header},i.a.createElement(Me.a,{variant:"h3"},"\u062a\u0645\u0631\u06cc\u0646 \u0647\u0627"),i.a.createElement(Fe.a,{className:r.chip,color:"secondary",label:"\u062a\u0639\u062f\u0627\u062f: "+o})),i.a.createElement(Pe.a,{container:!0,justify:"center",className:r.cardList},t?i.a.createElement(ze.a,{color:"secondary",className:r.autoMargin}):a.length?a.map((function(e){return i.a.createElement(ja,{key:e.id,exercise:e})})):i.a.createElement(Me.a,{component:"div",className:r.autoMargin},n)))}}]),a}(r.Component),xa=Object(s.c)((function(e,t){return Object(g.a)({classes:t.classes},e.bank.exercises)}),(function(e){return{requestAllExercise:Object(u.b)(ta,e)}}))(Object(De.a)((function(e){return Object(Be.a)({header:{position:"relative"},cardList:{minHeight:"calc(100vh - 240px)"},chip:{position:"absolute",right:0,top:0},autoMargin:{margin:"auto"}})}))(ka)),wa=[{link:"/guide",icon:i.a.createElement(Dt.a,null),label:"GUIDES",child:i.a.createElement(ua,null)},{link:"/course",icon:i.a.createElement(qt.a,null),label:"COURSES",child:i.a.createElement(va,null)},{link:"/lesson",icon:i.a.createElement(Wt.a,null),label:"LESSONS",child:i.a.createElement(fa,null)},{link:"/exercise",icon:i.a.createElement(Zt.a,null),label:"EXERCISES",child:i.a.createElement(xa,null)},{link:"/favorite",icon:i.a.createElement(Kt.a,null),label:"FAVORITES",child:i.a.createElement(Oa,null)}],Aa=function(e){return wa[e].link},La=function(e){var t=wa.find((function(t){return t.link===e}));return t?wa.indexOf(t):0},Na=Object(Ue.a)((function(e){var t;return{root:{width:"100vw"},tabControl:(t={},Object(b.a)(t,e.breakpoints.down(880),{minWidth:150}),Object(b.a)(t,e.breakpoints.down(830),{minWidth:140}),Object(b.a)(t,e.breakpoints.down(780),{minWidth:120}),Object(b.a)(t,e.breakpoints.down(680),{minWidth:100}),Object(b.a)(t,e.breakpoints.down(500),{minWidth:80}),Object(b.a)(t,e.breakpoints.down(370),{minWidth:65}),Object(b.a)(t,e.breakpoints.down(320),{minWidth:55}),t),tabPanel:{padding:e.spacing(2)}}}));function Ia(){var e=Na(),t=re.getState().auth.loggedIn,a=re.getState().router.location.pathname,n=Object(r.useState)(La(a)),o=Object(ce.a)(n,2),c=o[0],l=o[1];Object(r.useEffect)((function(){"/favorite"!==a||t?l(La(a)):re.dispatch(Object(ye.f)(Aa(0)))}),[a,t]);var s=Object(Vt.a)("(min-width:500px)");return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ht.a,{position:"static"},i.a.createElement(Ft.a,{square:!0},i.a.createElement(Pt.a,{value:c,onChange:function(e,t){l(t),re.dispatch(Object(ye.f)(Aa(t)))},variant:"scrollable",indicatorColor:"secondary",textColor:"secondary",scrollButtons:"desktop","aria-label":"icon label tabs"},wa.map((function(a,n){return(4!==n||t)&&i.a.createElement(zt.a,{className:e.tabControl,key:a.label,icon:a.icon,label:s?a.label:null,id:"full-width-tab-".concat(n),"aria-controls":"full-width-tabpanel-".concat(n)})}))))),wa.map((function(t,a){return i.a.createElement("div",{key:t.label+a,role:"tabpanel",hidden:c!==a,id:"full-width-tabpanel-".concat(a),"aria-labelledby":"full-width-tab-".concat(a)},c===a&&i.a.createElement(at.a,{className:e.tabPanel},t.child))})))}var Ra=function(e){Object(be.a)(a,e);var t=Object(ve.a)(a);function a(){return Object(pe.a)(this,a),t.apply(this,arguments)}return Object(ge.a)(a,[{key:"componentDidMount",value:function(){var e=_(this.props.pathname);e.post&&this.props.requestPost(e.post)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.data,n=e.loading,r=e.error;return i.a.createElement($e.a,{className:t.root},n?i.a.createElement(ze.a,{color:"secondary",className:t.autoMargin}):a?i.a.createElement("div",{className:t.bank,dangerouslySetInnerHTML:{__html:a.content}}):i.a.createElement(Me.a,{component:"div",className:t.autoMargin},r))}}]),a}(r.Component),Ta=Object(s.c)((function(e,t){return Object(g.a)({pathname:e.router.location.pathname,classes:t.classes},e.single.post)}),(function(e){return{requestPost:Object(u.b)(Le,e)}}))(Object(De.a)((function(e){var t;return Object(Be.a)({root:(t={width:"99vw",minHeight:"calc(100vh - 128px)"},Object(b.a)(t,e.breakpoints.down("xs"),{minHeight:"calc(100vh - 112px)",padding:e.spacing(1)}),Object(b.a)(t,"padding",e.spacing(2)),Object(b.a)(t,"display","flex"),Object(b.a)(t,"flexDirection","column"),t),autoMargin:{margin:"auto"},bank:{textAlign:"center",width:"100%",padding:10,backgroundColor:e.palette.background.paper,border:"1px solid ".concat(e.palette.secondary.main),"& > h1":{padding:10,margin:10,fontWeight:900,backgroundColor:e.palette.secondary.main},"& > h2":{padding:10,margin:10,fontWeight:800},"& > h3":{padding:7,margin:7,fontWeight:800},"& > img":{maxWidth:"100%"},"& > * > img":{maxWidth:"100%"},"& > h4":{padding:5,margin:5,fontWeight:800},"& > figure":{margin:"auto",padding:10,"& > figcaption":{display:"none"}},"& > * > strong":{fontWeight:800}}})}))(Ra)),Ma=a(324),Ga=a(265),Ua=a(352),Ba=a(353),Va=Object(Ue.a)((function(e){return Object(Be.a)({root:{maxWidth:285,maxHeight:260,margin:e.spacing(1)},cardAction:{justifyContent:"space-between",margin:"inherit"},content:{minHeight:130},rightChip:{position:"absolute",cursor:"pointer",margin:e.spacing(1),backgroundColor:"green"},leftChip:{position:"absolute",right:0,cursor:"pointer",margin:e.spacing(1)}})})),Ha=function(e){var t=e.index,a=e.type,n=e.courseItem,r=e.path,o=Va(),c=n.title,l=n.id,s=n.thumbnails,u=n.grade;return i.a.createElement(Ne.a,{className:o.root},i.a.createElement(Ie.a,{onClick:function(e){re.dispatch(Object(ye.f)(r+"/"+a+l))}},i.a.createElement(Fe.a,{label:t+1,className:o.rightChip}),i.a.createElement(Fe.a,{label:u,className:o.leftChip,color:"secondary"}),i.a.createElement(Re.a,{component:"img",alt:c,height:"130",image:O(s),title:c}),i.a.createElement(Te.a,{className:o.content},i.a.createElement(Me.a,{gutterBottom:!0,variant:"body1",component:"h6"},c))))},Fa=function(e){var t=e.exerciseItem,a=e.index,n=e.type,r=e.path,o=Va(),c=t.title,l=t.id,s=t.featured_img,u=t.info;return i.a.createElement(Ne.a,{className:o.root},i.a.createElement(Ie.a,{onClick:function(e){re.dispatch(Object(ye.f)(r+"/"+n+l))}},i.a.createElement(Fe.a,{label:a+1,className:o.rightChip}),i.a.createElement(Fe.a,{label:u.grade.name,className:o.leftChip,color:"secondary"}),i.a.createElement(Re.a,{component:"img",alt:c,height:"130",image:O(s),title:c}),i.a.createElement(Te.a,{className:o.content},i.a.createElement(Me.a,{gutterBottom:!0,variant:"body1",component:"h6"},c))))},Pa=["","\u0634\u0631\u0648\u0639","\u0628\u062e\u0634 \u0627\u0648\u0644","\u0628\u062e\u0634 \u062f\u0648\u0645","\u0628\u062e\u0634 \u0633\u0648\u0645","\u0628\u062e\u0634 \u0686\u0647\u0627\u0631\u0645","\u0628\u062e\u0634 \u067e\u0646\u062c\u0645","\u0628\u062e\u0634 \u0634\u0634\u0645","\u0628\u062e\u0634 \u0647\u0641\u062a\u0645","\u0628\u062e\u0634 \u0647\u0634\u062a\u0645","\u0628\u062e\u0634 \u0646\u0647\u0645","\u0628\u062e\u0634 \u062f\u0647\u0645"],za=function(e){Object(be.a)(a,e);var t=Object(ve.a)(a);function a(){return Object(pe.a)(this,a),t.apply(this,arguments)}return Object(ge.a)(a,[{key:"componentDidMount",value:function(){var e=_(this.props.pathname);e.guide&&this.props.requestGuide(e)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.data,n=e.loading,r=e.error,o=e.pathname,c=1;return i.a.createElement(Pe.a,{container:!0,justify:"center",className:t.root},n?i.a.createElement(ze.a,{color:"secondary",className:t.autoMargin}):a?a.guide_select.map((function(e,t){var a;return i.a.createElement(Ma.a,{key:t},e.exercise&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Ga.a,null,i.a.createElement(Ua.a,null,i.a.createElement(tt.a,null,i.a.createElement(Fe.a,{label:c++,color:"secondary"}))),i.a.createElement(Ba.a,{primary:Pa[c],secondary:e.exercise_description})),i.a.createElement(yt.a,{variant:"inset",component:"li"}),i.a.createElement(Pe.a,{container:!0,justify:"center"},e.exercise.map((function(e,t){return i.a.createElement(Fa,{key:t,index:t,type:"exercise=",path:o,exerciseItem:e})})))),e.course&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Ga.a,null,i.a.createElement(Ua.a,null,i.a.createElement(tt.a,null,i.a.createElement(Fe.a,{label:c++,color:"secondary"}))),i.a.createElement(Ba.a,{primary:Pa[c],secondary:e.course_description})),i.a.createElement(yt.a,{variant:"inset",component:"li"}),i.a.createElement(Pe.a,{container:!0,justify:"center"},null===(a=e.course)||void 0===a?void 0:a.map((function(e,t){return i.a.createElement(Ha,{key:t,index:t,type:"course=",path:o,courseItem:e})})))))})):i.a.createElement(Me.a,{component:"div",className:t.autoMargin},r))}}]),a}(r.Component),Da=Object(s.c)((function(e,t){return Object(g.a)({pathname:e.router.location.pathname,classes:t.classes},e.single.guide)}),(function(e){return{requestGuide:Object(u.b)(ra,e)}}))(Object(De.a)((function(e){var t;return Object(Be.a)({root:(t={width:"99vw",minHeight:"calc(100vh - 128px)"},Object(b.a)(t,e.breakpoints.down("xs"),{minHeight:"calc(100vh - 112px)",padding:e.spacing(1)}),Object(b.a)(t,"padding",e.spacing(2)),Object(b.a)(t,"display","flex"),Object(b.a)(t,"flexDirection","column"),t),autoMargin:{margin:"auto"}})}))(za)),qa=Object(Ue.a)((function(e){return Object(Be.a)({root:{maxHeight:280,width:"100%",margin:e.spacing(1)},content:{minHeight:130},rightChip:{position:"absolute",cursor:"pointer",margin:e.spacing(1),backgroundColor:"green"}})})),Wa=function(e){var t=e.type,a=e.courseItem,n=e.path,r=qa(),o=a.title,c=a.id,l=a.featured_img,s=a.info;return i.a.createElement(Ne.a,{className:r.root},i.a.createElement(Ie.a,{onClick:function(e){var a="Exercise"===t?"exercise":"lesson";re.dispatch(Object(ye.f)(n+"/"+a+"="+c))}},i.a.createElement(Pe.a,{container:!0},i.a.createElement(Pe.a,{item:!0,lg:4,xs:4,sm:4,xl:4},i.a.createElement(Fe.a,{label:s.grade.name,className:r.rightChip}),i.a.createElement(Re.a,{component:"img",alt:o,height:"200",image:O(l),title:o})),i.a.createElement(Pe.a,{item:!0,lg:8,xs:8,sm:8,xl:8},i.a.createElement(Te.a,{className:r.content},i.a.createElement(Me.a,{gutterBottom:!0,variant:"body1",component:"h6"},o))))))},Za=function(e){Object(be.a)(a,e);var t=Object(ve.a)(a);function a(){return Object(pe.a)(this,a),t.apply(this,arguments)}return Object(ge.a)(a,[{key:"componentDidMount",value:function(){var e=_(this.props.pathname);this.props.requestCourse(e)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.data,n=e.loading,r=e.error,o=e.pathname;return i.a.createElement(Pe.a,{container:!0,justify:"center",className:t.root},n?i.a.createElement(ze.a,{color:"secondary",className:t.autoMargin}):a?i.a.createElement(Pe.a,{container:!0,spacing:2},i.a.createElement(Pe.a,{item:!0,lg:6,md:6,xl:6,xs:12},i.a.createElement("div",{className:t.content},i.a.createElement(Re.a,{image:O(a.thumbnails),className:t.image}),i.a.createElement(Me.a,{gutterBottom:!0,variant:"body1",component:"h6",className:t.text},a.description))),i.a.createElement(Pe.a,{item:!0,lg:6,md:6,xl:6,xs:12},i.a.createElement(Pe.a,{container:!0,justify:"flex-end"},null===a||void 0===a?void 0:a.course_select.map((function(e,t){return i.a.createElement(Wa,{key:t,type:e.info.genre.name,path:o,courseItem:e})}))))):i.a.createElement(Me.a,{component:"div",className:t.autoMargin},r))}}]),a}(r.Component),Ka=Object(s.c)((function(e,t){return Object(g.a)({classes:t.classes,pathname:e.router.location.pathname},e.single.course)}),(function(e){return{requestCourse:Object(u.b)($t,e)}}))(Object(De.a)((function(e){var t,a;return Object(Be.a)({root:(t={width:"99vw",minHeight:"calc(100vh - 128px)"},Object(b.a)(t,e.breakpoints.down("xs"),{minHeight:"calc(100vh - 112px)",padding:e.spacing(1)}),Object(b.a)(t,"padding",e.spacing(2)),Object(b.a)(t,"display","flex"),Object(b.a)(t,"flexDirection","column"),Object(b.a)(t,"justifyContent","flex-start"),t),autoMargin:{margin:"auto"},content:(a={position:"relative",minHeight:"calc(100vh - 160px)"},Object(b.a)(a,e.breakpoints.down("sm"),{minHeight:"100%"}),Object(b.a)(a,"border","1px solid ".concat(e.palette.secondary.main)),Object(b.a)(a,"height","100%"),Object(b.a)(a,"width","100%"),a),text:{padding:20},image:{width:"100%",height:"100%",opacity:"0.3",position:"absolute"}})}))(Za)),Qa=a(110),Xa=a.n(Qa),Ya=a(143),Ja=function e(t){var a=this;Object(pe.a)(this,e),this.audioContext=void 0,this.tracks=void 0,this.volume=void 0,this.elapsedTimeSinceStart=void 0,this.paused=void 0,this.muted=void 0,this.loopMode=void 0,this.loopStartTime=void 0,this.loopEndTime=void 0,this.decodedAudioBuffers=void 0,this.masterVolumeNode=void 0,this.trackVolumeNodes=void 0,this.analyserNode=void 0,this.sampleNodes=void 0,this.addTrack=function(e){a.tracks.push({decodedBuffer:e.buffer,peaks:null,volume:e.vol,panning:0,muted:!1,solo:!1,sampleNode:null,volumeNode:null})},this.loadBuffer=function(){var e=Object(Ya.a)(Xa.a.mark((function e(t){var r;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a,e.next=3,a.audioContext.decodeAudioData(t.buffer,(function(e){e||Promise.reject("error decoding file data: "),a.decodedAudioBuffers=[].concat(Object(n.a)(a.decodedAudioBuffers),[e]),a.addTrack({buffer:e,vol:t.vol}),Promise.resolve(r)}),(function(e){return Promise.reject(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.buildGraph=function(){for(var e=[],t=0;t<a.decodedAudioBuffers.length;t++){var n=a.decodedAudioBuffers[t];e[t]=a.audioContext.createBufferSource(),e[t].buffer=n,a.trackVolumeNodes[t]=a.audioContext.createGain(),a.trackVolumeNodes[t]&&(a.trackVolumeNodes[t].gain.value=a.tracks[t].volume),e[t].connect(a.trackVolumeNodes[t]),a.trackVolumeNodes[t].connect(a.masterVolumeNode),a.masterVolumeNode.connect(a.analyserNode),a.analyserNode.connect(a.audioContext.destination)}a.sampleNodes=e},this.play=function(e){a.buildGraph(),a.setTrackVolumesDependingOnMuteSoloStatus(),a.elapsedTimeSinceStart=e,a.sampleNodes.forEach((function(t){t.start(0,e)})),a.paused=!1},this.stop=function(){!0!==a.paused&&(a.sampleNodes.forEach((function(e){e.stop(0)})),a.paused=!0)},this.pause=function(){a.paused?a.play(a.elapsedTimeSinceStart):a.stop()},this.setVolume=function(e){a.volume=e,a.masterVolumeNode.gain.value=e},this.setMasterVolume=function(e){var t;t=void 0===e?.8:e/100,a.setVolume(t*t)},this.setVolumeOfTrack=function(e,t){void 0!==a.trackVolumeNodes[t]&&(a.trackVolumeNodes[t].gain.value=e,a.tracks[t].volume=e)},this.getUrlsOfTracks=function(){var e=[];return a.tracks.forEach((function(t){e.push(t.url)})),e},this.getDuration=function(){if(void 0!==a.decodedAudioBuffers){for(var e=0,t=0;t<a.decodedAudioBuffers.length;t++)e<a.decodedAudioBuffers[t].duration&&(e=a.decodedAudioBuffers[t].duration);return e}},this.getNbTracks=function(){return a.tracks.length},this.toggleLoopMode=function(){a.loopMode=!a.loopMode},this.toggleMute=function(){a.muted=!a.muted,a.muted?a.masterVolumeNode.gain.value=0:a.masterVolumeNode.gain.value=a.volume},this.togglePause=function(){a.paused=!a.paused},this.setTrackVolumesDependingOnMuteSoloStatus=function(){for(var e=!1,t=a.getNbTracks(),n=0;n<t;n++)if(a.tracks[n].solo){e=!0;break}if(e)for(var r=0;r<t;r++)a.tracks[r].solo?a.trackVolumeNodes[r].gain.value=a.tracks[r].volume:a.trackVolumeNodes[r].gain.value=0;else for(var i=0;i<t;i++)void 0!==a.trackVolumeNodes[i]&&(a.tracks[i].muted?a.trackVolumeNodes[i].gain.value=0:a.trackVolumeNodes[i].gain.value=a.tracks[i].volume)},this.audioContext=t,this.tracks=[],this.volume=1,this.elapsedTimeSinceStart=null,this.paused=!0,this.muted=!1,this.loopMode=!1,this.loopStartTime=null,this.loopEndTime=null,this.decodedAudioBuffers=[],this.masterVolumeNode=this.audioContext.createGain(),this.trackVolumeNodes=[],this.analyserNode=this.audioContext.createAnalyser(),this.sampleNodes=[]},$a=function e(t){var a=this;Object(pe.a)(this,e),this.audioContext=void 0,this.input=void 0,this.band32=void 0,this.band64=void 0,this.band128=void 0,this.band256=void 0,this.band512=void 0,this.band1k=void 0,this.band2k=void 0,this.band4k=void 0,this.band8k=void 0,this.band16k=void 0,this.output=void 0,this.bandEqualizer=function(e,t){var n=a.audioContext.createBiquadFilter();return n.frequency.setTargetAtTime(t,0,1e-4),n.type="peaking",n.gain.setTargetAtTime(0,0,1e-4),n.Q.setTargetAtTime(1,0,1e-4),e.connect(n),n},console.log("WebAudioFont Channel v1.04"),this.audioContext=t,this.input=this.audioContext.createDynamicsCompressor(),this.input.threshold.setValueAtTime(-3,0),this.input.knee.setValueAtTime(30,0),this.input.ratio.setValueAtTime(12,0),this.input.attack.setValueAtTime(.05,0),this.input.release.setValueAtTime(.08,0),this.band32=this.bandEqualizer(this.input,32),this.band64=this.bandEqualizer(this.band32,64),this.band128=this.bandEqualizer(this.band64,128),this.band256=this.bandEqualizer(this.band128,256),this.band512=this.bandEqualizer(this.band256,512),this.band1k=this.bandEqualizer(this.band512,1024),this.band2k=this.bandEqualizer(this.band1k,2048),this.band4k=this.bandEqualizer(this.band2k,4096),this.band8k=this.bandEqualizer(this.band4k,8192),this.band16k=this.bandEqualizer(this.band8k,16384),this.output=t.createGain(),this.band16k.connect(this.output)},en=function e(t){var a=this;Object(pe.a)(this,e),this.player=void 0,this.cached=void 0,this.choosenInfos=void 0,this.drumKeyArray=void 0,this.drumNamesArray=void 0,this.instrumentKeyArray=void 0,this.instrumentNamesArray=void 0,this.startLoad=function(e,t){if(!window[t]){for(var n=0;n<a.cached.length;n++)if(a.cached[n].variableName===t)return;a.cached.push({filePath:e,variableName:t});var r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",e),document.getElementsByTagName("head")[0].appendChild(r),a.decodeAfterLoading(t)}},this.decodeAfterLoading=function(e){a.waitOrFinish(e,(function(){a.player.adjustPreset(window[e])}))},this.waitOrFinish=function(e,t){if(window[e])t();else{var n=a;setTimeout((function(){n.waitOrFinish(e,t)}),111)}},this.loaded=function(e){if(!window[e])return!1;for(var t=window[e],a=0;a<t.zones.length;a++)if(!t.zones[a].buffer)return!1;return!0},this.progress=function(){if(a.cached.length>0){for(var e=0;e<a.cached.length;e++)if(!a.loaded(a.cached[e].variableName))return e/a.cached.length;return 1}return 1},this.waitLoad=function(e){var t=a;a.progress()>=1?e():setTimeout((function(){t.waitLoad(e)}),333)},this.instrumentTitles=function(){if(!a.instrumentNamesArray){var e=[];e[0]="Acoustic Grand Piano: Piano",e[1]="Bright Acoustic Piano: Piano",e[2]="Electric Grand Piano: Piano",e[3]="Honky-tonk Piano: Piano",e[4]="Electric Piano 1: Piano",e[5]="Electric Piano 2: Piano",e[6]="Harpsichord: Piano",e[7]="Clavinet: Piano",e[8]="Celesta: Chromatic Percussion",e[9]="Glockenspiel: Chromatic Percussion",e[10]="Music Box: Chromatic Percussion",e[11]="Vibraphone: Chromatic Percussion",e[12]="Marimba: Chromatic Percussion",e[13]="Xylophone: Chromatic Percussion",e[14]="Tubular Bells: Chromatic Percussion",e[15]="Dulcimer: Chromatic Percussion",e[16]="Drawbar Organ: Organ",e[17]="Percussive Organ: Organ",e[18]="Rock Organ: Organ",e[19]="Church Organ: Organ",e[20]="Reed Organ: Organ",e[21]="Accordion: Organ",e[22]="Harmonica: Organ",e[23]="Tango Accordion: Organ",e[24]="Acoustic Guitar (nylon): Guitar",e[25]="Acoustic Guitar (steel): Guitar",e[26]="Electric Guitar (jazz): Guitar",e[27]="Electric Guitar (clean): Guitar",e[28]="Electric Guitar (muted): Guitar",e[29]="Overdriven Guitar: Guitar",e[30]="Distortion Guitar: Guitar",e[31]="Guitar Harmonics: Guitar",e[32]="Acoustic Bass: Bass",e[33]="Electric Bass (finger): Bass",e[34]="Electric Bass (pick): Bass",e[35]="Fretless Bass: Bass",e[36]="Slap Bass 1: Bass",e[37]="Slap Bass 2: Bass",e[38]="Synth Bass 1: Bass",e[39]="Synth Bass 2: Bass",e[40]="Violin: Strings",e[41]="Viola: Strings",e[42]="Cello: Strings",e[43]="Contrabass: Strings",e[44]="Tremolo Strings: Strings",e[45]="Pizzicato Strings: Strings",e[46]="Orchestral Harp: Strings",e[47]="Timpani: Strings",e[48]="String Ensemble 1: Ensemble",e[49]="String Ensemble 2: Ensemble",e[50]="Synth Strings 1: Ensemble",a.instrumentNamesArray=e}return a.instrumentNamesArray},this.instrumentKeys=function(){return a.instrumentKeyArray||(a.instrumentKeyArray=["0000_Aspirin_sf2_file","0001_FluidR3_GM_sf2_file","0002_GeneralUserGS_sf2_file","0003_GeneralUserGS_sf2_file","0010_Aspirin_sf2_file","0011_Aspirin_sf2_file","0012_GeneralUserGS_sf2_file","0020_Aspirin_sf2_file","0021_Aspirin_sf2_file","0022_Aspirin_sf2_file","0030_Aspirin_sf2_file","0031_Aspirin_sf2_file","0040_Aspirin_sf2_file","0041_FluidR3_GM_sf2_file","0042_GeneralUserGS_sf2_file","0043_GeneralUserGS_sf2_file","0044_GeneralUserGS_sf2_file","0045_GeneralUserGS_sf2_file","0046_GeneralUserGS_sf2_file","0050_Aspirin_sf2_file","0051_FluidR3_GM_sf2_file","0052_GeneralUserGS_sf2_file","0053_GeneralUserGS_sf2_file","0054_GeneralUserGS_sf2_file","0060_Aspirin_sf2_file","0061_Aspirin_sf2_file","0062_GeneralUserGS_sf2_file","0070_Aspirin_sf2_file","0071_GeneralUserGS_sf2_file","0080_Aspirin_sf2_file","0080_Chaos_sf2_file","0081_FluidR3_GM_sf2_file","0090_Aspirin_sf2_file","0091_SoundBlasterOld_sf2","0100_Aspirin_sf2_file","0101_GeneralUserGS_sf2_file","0110_Aspirin_sf2_file","0111_FluidR3_GM_sf2_file","0120_Aspirin_sf2_file","0121_FluidR3_GM_sf2_file","0130_Aspirin_sf2_file","0131_FluidR3_GM_sf2_file","0140_Aspirin_sf2_file","0141_FluidR3_GM_sf2_file","0142_GeneralUserGS_sf2_file","0143_GeneralUserGS_sf2_file","0150_Aspirin_sf2_file","0151_FluidR3_GM_sf2_file","0160_Aspirin_sf2_file","0161_Aspirin_sf2_file","0170_Aspirin_sf2_file","0171_FluidR3_GM_sf2_file","0172_FluidR3_GM_sf2_file","0180_Aspirin_sf2_file","0181_Aspirin_sf2_file","0190_Aspirin_sf2_file","0191_Aspirin_sf2_file","0200_Aspirin_sf2_file","0201_Aspirin_sf2_file","0210_Aspirin_sf2_file","0211_Aspirin_sf2_file","0212_GeneralUserGS_sf2_file","0220_Aspirin_sf2_file","0221_FluidR3_GM_sf2_file","0230_Aspirin_sf2_file","0231_FluidR3_GM_sf2_file","0232_FluidR3_GM_sf2_file","0233_FluidR3_GM_sf2_file","0240_Aspirin_sf2_file","0241_GeneralUserGS_sf2_file","0241_JCLive_sf2_file","0242_JCLive_sf2_file","0243_JCLive_sf2_file","0253_Acoustic_Guitar_sf2_file","0250_Aspirin_sf2_file","0251_Acoustic_Guitar_sf2_file","0252_Acoustic_Guitar_sf2_file","0253_Acoustic_Guitar_sf2_file","0254_Acoustic_Guitar_sf2_file","0255_GeneralUserGS_sf2_file","0260_Aspirin_sf2_file","0261_GeneralUserGS_sf2_file","0262_Stratocaster_sf2_file","0270_Aspirin_sf2_file","0271_GeneralUserGS_sf2_file","0280_Aspirin_sf2_file","0281_Aspirin_sf2_file","0282_FluidR3_GM_sf2_file","0283_GeneralUserGS_sf2_file","0290_Aspirin_sf2_file","0291_Aspirin_sf2_file","0292_Aspirin_sf2_file","0300_Aspirin_sf2_file","0301_Aspirin_sf2_file","0302_Aspirin_sf2_file","0303_Aspirin_sf2_file","0304_Aspirin_sf2_file","0310_Aspirin_sf2_file","0311_FluidR3_GM_sf2_file","0320_Aspirin_sf2_file","0321_GeneralUserGS_sf2_file","0322_GeneralUserGS_sf2_file","0330_Aspirin_sf2_file","0331_GeneralUserGS_sf2_file","0332_GeneralUserGS_sf2_file","0340_Aspirin_sf2_file","0341_Aspirin_sf2_file","0350_Aspirin_sf2_file","0351_GeneralUserGS_sf2_file","0360_Aspirin_sf2_file","0361_GeneralUserGS_sf2_file","0370_Aspirin_sf2_file","0371_GeneralUserGS_sf2_file","0372_GeneralUserGS_sf2_file","0380_Aspirin_sf2_file","0381_FluidR3_GM_sf2_file","0382_FluidR3_GM_sf2_file","0383_GeneralUserGS_sf2_file","0384_GeneralUserGS_sf2_file","0385_GeneralUserGS_sf2_file","0386_GeneralUserGS_sf2_file","0387_GeneralUserGS_sf2_file","0390_Aspirin_sf2_file","0391_FluidR3_GM_sf2_file","0392_FluidR3_GM_sf2_file","0393_GeneralUserGS_sf2_file","0400_Aspirin_sf2_file","0401_Aspirin_sf2_file","0402_GeneralUserGS_sf2_file","0410_Aspirin_sf2_file","0410_Chaos_sf2_file","0411_FluidR3_GM_sf2_file","0420_Aspirin_sf2_file","0421_FluidR3_GM_sf2_file","0430_Aspirin_sf2_file","0431_FluidR3_GM_sf2_file","0440_Aspirin_sf2_file","0441_GeneralUserGS_sf2_file","0442_GeneralUserGS_sf2_file","0450_Aspirin_sf2_file","0451_FluidR3_GM_sf2_file","0460_Aspirin_sf2_file","0461_FluidR3_GM_sf2_file","0470_Aspirin_sf2_file","0471_FluidR3_GM_sf2_file","0480_Aspirin_sf2_file","0480_SoundBlasterOld_sf2","04810_GeneralUserGS_sf2_file","0481_Aspirin_sf2_file","0481_FluidR3_GM_sf2_file","0481_GeneralUserGS_sf2_file","0482_Aspirin_sf2_file","0482_GeneralUserGS_sf2_file","0483_GeneralUserGS_sf2_file","0484_GeneralUserGS_sf2_file","0485_GeneralUserGS_sf2_file","0486_GeneralUserGS_sf2_file","0487_GeneralUserGS_sf2_file","0488_GeneralUserGS_sf2_file","0489_GeneralUserGS_sf2_file","0490_Aspirin_sf2_file","0490_GeneralUserGS_sf2_file","0491_GeneralUserGS_sf2_file","0492_GeneralUserGS_sf2_file","0500_Aspirin_sf2_file"]),a.instrumentKeyArray},this.instrumentInfo=function(e){var t=a.instrumentKeys()[e],n=1*Number(t.substr(0,3));return{variable:"_tone_"+t,url:"https://surikov.github.io/webaudiofontdata/sound/"+t+".js",title:a.instrumentTitles()[n]}},this.findInstrument=function(e){a.choosenInfos||(a.choosenInfos=[[1,2],[2,14],[3,25],[4,37],[5,48],[6,58],[7,70],[8,83],[9,91],[10,99],[11,107],[12,118],[13,127],[14,136],[15,144],[16,152],[17,164],[18,170],[19,183],[20,194],[21,205],[22,215],[23,228],[24,241],[25,254],[26,263],[27,277],[28,296],[29,308],[30,319],[31,350],[32,356],[33,369],[34,379],[35,385],[36,399],[37,403],[38,412],[39,421],[40,438],[41,452],[42,461],[43,467],[44,477],[45,488],[46,493],[47,501],[48,511],[49,518],[50,547]]);for(var t=0;t<a.instrumentKeys().length;t++)if(e===1*Number(a.instrumentKeys()[t].substring(0,3)))return t;return console.log("program",e,"not found"),0},this.drumTitles=function(){if(!a.drumNamesArray){var e=[];e[35]="Bass Drum 2",e[36]="Bass Drum 1",e[37]="Side Stick/Rimshot",e[38]="Snare Drum 1",e[39]="Hand Clap",e[40]="Snare Drum 2",e[41]="Low Tom 2",e[42]="Closed Hi-hat",e[43]="Low Tom 1",e[44]="Pedal Hi-hat",e[45]="Mid Tom 2",e[46]="Open Hi-hat",e[47]="Mid Tom 1",e[48]="High Tom 2",e[49]="Crash Cymbal 1",e[50]="High Tom 1",e[51]="Ride Cymbal 1",e[52]="Chinese Cymbal",e[53]="Ride Bell",e[54]="Tambourine",e[55]="Splash Cymbal",e[56]="Cowbell",e[57]="Crash Cymbal 2",e[58]="Vibra Slap",e[59]="Ride Cymbal 2",e[60]="High Bongo",e[61]="Low Bongo",e[62]="Mute High Conga",e[63]="Open High Conga",e[64]="Low Conga",e[65]="High Timbale",e[66]="Low Timbale",e[67]="High Agogo",e[68]="Low Agogo",e[69]="Cabasa",e[70]="Maracas",e[71]="Short Whistle",e[72]="Long Whistle",e[73]="Short Guiro",e[74]="Long Guiro",e[75]="Claves",e[76]="High Wood Block",e[77]="Low Wood Block",e[78]="Mute Cuica",e[79]="Open Cuica",e[80]="Mute Triangle",e[81]="Open Triangle",a.drumNamesArray=e}return a.drumNamesArray},this.drumKeys=function(){return a.drumKeyArray||(a.drumKeyArray=["35_0_SBLive_sf2","36_0_SBLive_sf2","37_0_SBLive_sf2","38_0_SBLive_sf2","39_0_SBLive_sf2","40_0_SBLive_sf2","41_0_SBLive_sf2","42_0_SBLive_sf2","43_0_SBLive_sf2","44_0_SBLive_sf2","45_0_SBLive_sf2","46_0_SBLive_sf2","47_0_SBLive_sf2","48_0_SBLive_sf2","49_0_SBLive_sf2","50_0_SBLive_sf2","51_0_SBLive_sf2","52_0_SBLive_sf2","53_0_SBLive_sf2","54_0_SBLive_sf2","55_0_SBLive_sf2","56_0_SBLive_sf2","57_0_SBLive_sf2","58_0_SBLive_sf2","59_0_SBLive_sf2","60_0_SBLive_sf2","61_0_SBLive_sf2","62_0_SBLive_sf2","63_0_SBLive_sf2","64_0_SBLive_sf2","65_0_SBLive_sf2","66_0_SBLive_sf2","67_0_SBLive_sf2","68_0_SBLive_sf2","69_0_SBLive_sf2","70_0_SBLive_sf2","71_0_SBLive_sf2","72_0_SBLive_sf2","73_0_SBLive_sf2","74_0_SBLive_sf2","75_0_SBLive_sf2","76_0_SBLive_sf2","77_0_SBLive_sf2","78_0_SBLive_sf2","79_0_SBLive_sf2","80_0_SBLive_sf2","81_0_SBLive_sf2"]),a.drumKeyArray},this.drumInfo=function(e){var t=a.drumKeys()[e],n=1*Number(t.substr(0,2));return{variable:"_drum_"+t,url:"https://surikov.github.io/webaudiofontdata/sound/128"+t+".js",pitch:n,title:a.drumTitles()[n]}},this.findDrum=function(e){for(var t=0;t<a.drumKeys().length;t++)if(e===1*Number(a.drumKeys()[t].substring(0,2)))return t;return 0},console.log("WebAudioFont Loader v1.27"),this.player=t,this.cached=[]},tn=function e(t){var n=this;Object(pe.a)(this,e),this.audioContext=void 0,this.input=void 0,this.convolver=void 0,this.dry=void 0,this.wet=void 0,this.irrArrayBuffer=void 0,this.output=void 0,console.log("WebAudioFont Reverberator v1.08"),this.audioContext=t,this.input=this.audioContext.createBiquadFilter(),this.input.type="lowpass",this.input.frequency.setTargetAtTime(18e3,0,1e-4),this.convolver=null,this.output=t.createGain(),this.dry=t.createGain(),this.dry.gain.setTargetAtTime(.9,0,1e-4),this.dry.connect(this.output),this.wet=t.createGain(),this.wet.gain.setTargetAtTime(.5,0,1e-4),this.input.connect(this.dry),this.input.connect(this.wet),a.e(19).then(a.bind(null,398)).then((function(e){var a=e.reverbrator,r=a.length/2;n.irrArrayBuffer=new ArrayBuffer(r);for(var i,o=new Uint8Array(n.irrArrayBuffer),c=atob(a),l=0;l<c.length;l++)i=c.charCodeAt(l),o[l]=i;n.audioContext.decodeAudioData(n.irrArrayBuffer,(function(e){n.convolver=t.createConvolver(),n.convolver.buffer=e,n.wet.connect(n.convolver),n.convolver.connect(n.output),console.log("convolver audioBuffer",e)}))}))},an=[0,.25,.5,.75,1,1.25,1.5,1.75,2],nn=new(window.AudioContext||window.webkitAudioContext),rn=new $a(nn),on=new function e(t){var a=this;Object(pe.a)(this,e),this.audioContext=void 0,this.envelopes=void 0,this.loader=void 0,this.onCacheFinish=void 0,this.onCacheProgress=void 0,this.afterTime=void 0,this.nearZero=void 0,this.createChannel=function(){return new $a(a.audioContext)},this.createReverberator=function(){return new tn(a.audioContext)},this.limitVolume=function(e){return e?e*=1:e=.5,e},this.queueChord=function(e){var t=e.target,n=e.preset,r=e.when,i=e.pitches,o=e.duration,c=e.volume,l=e.slides;c=a.limitVolume(c);for(var s=0;s<i.length;s++)a.queueWaveTable({target:t,preset:n,when:r,pitches:i[s],duration:o,volume:c-.01*Math.random(),slides:l})},this.queueStrumUp=function(e){var t=e.target,n=e.preset,r=e.when,i=e.pitches,o=e.duration,c=e.volume,l=e.slides;i.sort((function(e,t){return e-t})),a.queueStrum({target:t,preset:n,when:r,pitches:i,duration:o,volume:c,slides:l})},this.queueStrumDown=function(e){var t=e.target,n=e.preset,r=e.when,i=e.pitches,o=e.duration,c=e.volume,l=e.slides;i.sort((function(e,t){return e-t})),a.queueStrum({target:t,preset:n,when:r,pitches:i,duration:o,volume:c,slides:l})},this.queueStrum=function(e){var t=e.target,n=e.preset,r=e.when,i=e.pitches,o=e.duration,c=e.volume,l=e.slides;c=a.limitVolume(c),r<a.audioContext.currentTime&&(r=a.audioContext.currentTime);for(var s=0;s<i.length;s++)a.queueWaveTable({target:t,preset:n,when:r+.01*s,pitches:i[s],duration:o,volume:c-.01*Math.random(),slides:l}),c*=.9},this.queueSnap=function(e){var t=e.target,n=e.preset,r=e.when,i=e.pitches,o=(e.duration,e.volume),c=e.slides;o=1.5*((o=a.limitVolume(o))||1),a.queueChord({target:t,preset:n,when:r,pitches:i,duration:.05,volume:o,slides:c})},this.queueWaveTable=function(e){var t=e.target,n=e.preset,r=e.when,i=e.pitches,o=e.duration,c=e.volume,l=e.slides;"suspended"===a.audioContext.state&&(console.log("audioContext.resume"),a.audioContext.resume()),c=a.limitVolume(c);var s=a.findZone(n,i);if(s.buffer){var u=s.originalPitch-100*s.coarseTune-s.fineTune,d=1*Math.pow(2,(100*i-u)/1200),m=r;m<a.audioContext.currentTime&&(m=a.audioContext.currentTime);var h=o+a.afterTime,f=!0;(s.loopStart<1||s.loopStart>=s.loopEnd)&&(f=!1),f||h>s.buffer.duration/d&&(h=s.buffer.duration/d);var p=a.findEnvelope({target:t,when:m,duration:h});if(a.setupEnvelope({envelope:p,zone:s,volume:c,startWhen:m,waveDuration:h,duration:o}),p.audioBufferSourceNode=a.audioContext.createBufferSource(),p.audioBufferSourceNode.playbackRate.setValueAtTime(d,0),l&&l.length>0){p.audioBufferSourceNode.playbackRate.setValueAtTime(d,r);for(var g=0;g<l.length;g++){var b=1*Math.pow(2,(100*l[g].pitch-u)/1200),v=r+l[g].when;p.audioBufferSourceNode.playbackRate.linearRampToValueAtTime(b,v)}}return p.audioBufferSourceNode.buffer=s.buffer,f?(p.audioBufferSourceNode.loop=!0,p.audioBufferSourceNode.loopStart=s.loopStart/s.sampleRate+s.delay,p.audioBufferSourceNode.loopEnd=s.loopEnd/s.sampleRate+s.delay):p.audioBufferSourceNode.loop=!1,p.audioBufferSourceNode.connect(p),p.audioBufferSourceNode.start(m,s.delay),p.audioBufferSourceNode.stop(m+h),p.when=m,p.duration=h,p.pitch=i,p.preset=n,p}console.log("empty buffer ",s)},this.noZeroVolume=function(e){return e>a.nearZero?e:a.nearZero},this.setupEnvelope=function(e){var t=e.envelope,n=e.zone,r=e.volume,i=e.startWhen,o=e.waveDuration,c=e.duration;t.gain.setValueAtTime(a.noZeroVolume(0),a.audioContext.currentTime);var l=0,s=0,u=n.ahdsr;o<c+a.afterTime&&(c=o-a.afterTime),u?u.length>0||(u=[{duration:0,volume:1},{duration:.5,volume:1},{duration:1.5,volume:.5},{duration:3,volume:0}]):u=[{duration:0,volume:1},{duration:c,volume:1}],t.gain.cancelScheduledValues(i),t.gain.setValueAtTime(a.noZeroVolume(u[0].volume*r),i);for(var d=0;d<u.length;d++)if(u[d].duration>0){if(u[d].duration+l>c){var m=s-(1-(u[d].duration+l-c)/u[d].duration)*(s-u[d].volume);t.gain.linearRampToValueAtTime(a.noZeroVolume(r*m),i+c);break}l+=u[d].duration,s=u[d].volume,t.gain.linearRampToValueAtTime(a.noZeroVolume(r*s),i+l)}t.gain.linearRampToValueAtTime(a.noZeroVolume(0),i+c+a.afterTime)},this.numValue=function(e,t){return"number"===typeof e?e:t},this.findEnvelope=function(e){for(var t=e.target,n=(e.when,e.duration,null),r=0;r<a.envelopes.length;r++){var i=a.envelopes[r];if(i.target===t&&a.audioContext.currentTime>i.when+i.duration+.001){try{i.audioBufferSourceNode.disconnect(),i.audioBufferSourceNode.stop(0),i.audioBufferSourceNode=null}catch(o){}n=i;break}}return n||((n=a.audioContext.createGain()).target=t,n.connect(t),n.cancel=function(){n.when+n.duration>a.audioContext.currentTime&&(n.gain.cancelScheduledValues(0),n.gain.setTargetAtTime(1e-5,a.audioContext.currentTime,.1),n.when=a.audioContext.currentTime+1e-5,n.duration=0)},a.envelopes.push(n)),n},this.adjustPreset=function(e){for(var t=0;t<e.zones.length;t++)a.adjustZone(e.zones[t])},this.adjustZone=function(e){if(e.buffer);else{if(e.delay=0,e.sample){var t=atob(e.sample);e.buffer=a.audioContext.createBuffer(1,t.length/2,e.sampleRate);for(var n,r,i,o=e.buffer.getChannelData(0),c=0;c<t.length/2;c++)(n=t.charCodeAt(2*c))<0&&(n=256+n),(r=t.charCodeAt(2*c+1))<0&&(r=256+r),(i=256*r+n)>=32768&&(i-=65536),o[c]=i/65536}else if(e.file){for(var l,s=e.file.length,u=new ArrayBuffer(s),d=new Uint8Array(u),m=atob(e.file),h=0;h<m.length;h++)l=m.charCodeAt(h),d[h]=l;a.audioContext.decodeAudioData(u,(function(t){e.buffer=t}))}e.loopStart=a.numValue(e.loopStart,0),e.loopEnd=a.numValue(e.loopEnd,0),e.coarseTune=a.numValue(e.coarseTune,0),e.fineTune=a.numValue(e.fineTune,0),e.originalPitch=a.numValue(e.originalPitch,6e3),e.sampleRate=a.numValue(e.sampleRate,44100),e.sustain=a.numValue(e.originalPitch,0)}},this.findZone=function(e,t){for(var n=null,r=e.zones.length-1;r>=0&&!((n=e.zones[r]).keyRangeLow<=t&&n.keyRangeHigh+1>=t);r--);try{a.adjustZone(n)}catch(i){console.log("adjustZone",i)}return n},this.cancelQueue=function(){for(var e=0;e<a.envelopes.length;e++){var t=a.envelopes[e];t.gain.cancelScheduledValues(0),t.gain.setValueAtTime(a.nearZero,a.audioContext.currentTime),t.when=-1;try{t.audioBufferSourceNode.disconnect()}catch(n){console.log(n)}}},this.audioContext=t,this.envelopes=[],this.loader=new en(this),this.onCacheFinish=null,this.onCacheProgress=null,this.afterTime=.05,this.nearZero=1e-6}(nn);if("undefined"===typeof window.orientation){console.log("Melo WebAudioFontReverberator");var cn=new tn(nn);cn.output.connect(nn.destination),rn.output.connect(cn.input)}else console.log("skip WebAudioFontReverberator"),rn.output.connect(nn.destination);var ln,sn=function e(t){Object(pe.a)(this,e),this.player=on,this.master=rn,this.currentSong=void 0,this.loading=!0,this.onAir=!1,this.loaded=!1,this.playMode=!1,this.sL=16,this.TrackID=0,this.tempo=120,this.zaribTempo=1,this.storeFingers=[],this.storeTracks=[],this.storeDrums=[],this.trackInfo=[],this.drumInfo=[],this.seekValue=0,this.songs=[],this.songLength=272,this.tapSize=32,this.fingerNotes={},this.equalizer=[0,0,0,0,0,0,0,0,0,0],this.drumVolumes=[70,70,70,70,70,70,70,70],Object.assign(this,t),this.master.band32.gain.setValueAtTime(this.equalizer[0],0),this.master.band64.gain.setValueAtTime(this.equalizer[1],0),this.master.band128.gain.setValueAtTime(this.equalizer[2],0),this.master.band256.gain.setValueAtTime(this.equalizer[3],0),this.master.band512.gain.setValueAtTime(this.equalizer[4],0),this.master.band1k.gain.setValueAtTime(this.equalizer[5],0),this.master.band2k.gain.setValueAtTime(this.equalizer[6],0),this.master.band4k.gain.setValueAtTime(this.equalizer[7],0),this.master.band8k.gain.setValueAtTime(this.equalizer[8],0),this.master.band16k.gain.setValueAtTime(this.equalizer[9],0)},un=function(){var e=Object(Ya.a)(Xa.a.mark((function e(t){var n,r,i,o,c,l,s,u,d,m,h,f,p,b,v,E,_,y,S,O,C,j,k,x,w,A,L,N,I,R,T,M,G,U,B,V,H,F,P;return Xa.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new sn,r=t.song.content,i=t.fingers,o=[],c=[],e.prev=5,n.TrackID=t.track.id,l={},i){for(s in i)for(u=i[s].split("-"),l[s]={},d=0;d<u.length-1;d++)for(m=u[d].split("+"),h=Number(m[0])+16,f=m[1].length/5,p=0;p<f;p++)b=m[1].substring(5*p,5*p+2),v=m[1].substring(5*p+2,5*p+4),"e"!==m[1].substring(5*p+4,5*p+5)&&(l[s][v]||(l[s][v]={}),l[s][v][h]||(l[s][v][h]=[]),l[s][v][h].push(b));n.storeFingers=Object(g.a)({},l)}for(E=r.split("-"),n.tempo=parseInt(E[0],16),n.sL=parseInt(E[1])+1,_=parseInt(E[2]),n.zaribTempo=an[_],y=0;y<10;y++)S=E[5].substring(2*y,2*y+2),n.equalizer[y]=parseInt(S,16)-10;for(O=[],C=E[6].length/7,j=0;j<C;j++)k=parseInt(E[6].substring(7*j,7*j+1)),x=parseInt(E[6].substring(7*j+1,7*j+3),32),w=parseInt(E[6].substring(7*j+3,7*j+7),32),A=x&parseInt("1111111",2),(w|parseInt("0000000000000001",2))===w&&O.push({drum:k,beat:16*A+0}),(w|parseInt("0000000000000010",2))===w&&O.push({drum:k,beat:16*A+1}),(w|parseInt("0000000000000100",2))===w&&O.push({drum:k,beat:16*A+2}),(w|parseInt("0000000000001000",2))===w&&O.push({drum:k,beat:16*A+3}),(w|parseInt("0000000000010000",2))===w&&O.push({drum:k,beat:16*A+4}),(w|parseInt("0000000000100000",2))===w&&O.push({drum:k,beat:16*A+5}),(w|parseInt("0000000001000000",2))===w&&O.push({drum:k,beat:16*A+6}),(w|parseInt("0000000010000000",2))===w&&O.push({drum:k,beat:16*A+7}),(w|parseInt("0000000100000000",2))===w&&O.push({drum:k,beat:16*A+8}),(w|parseInt("0000001000000000",2))===w&&O.push({drum:k,beat:16*A+9}),(w|parseInt("0000010000000000",2))===w&&O.push({drum:k,beat:16*A+10}),(w|parseInt("0000100000000000",2))===w&&O.push({drum:k,beat:16*A+11}),(w|parseInt("0001000000000000",2))===w&&O.push({drum:k,beat:16*A+12}),(w|parseInt("0010000000000000",2))===w&&O.push({drum:k,beat:16*A+13}),(w|parseInt("0100000000000000",2))===w&&O.push({drum:k,beat:16*A+14}),(w|parseInt("1000000000000000",2))===w&&O.push({drum:k,beat:16*A+15});for(O.forEach((function(e,t,a){t===a.findIndex((function(t){return t.drum===e.drum}))&&c.push(e.drum),n.storeDrums.push({drum:e.drum,beat:e.beat+16})})),L=[],N=E[7].length/10,I=0;I<N;I++)R=parseInt(E[7].substring(10*I,10*I+3),32),T=parseInt(E[7].substring(10*I+3,10*I+3+1),32),M=parseInt(E[7].substring(10*I+4,10*I+4+2),32),G=parseInt(E[7].substring(10*I+6,10*I+6+2),32),U=parseInt(E[7].substring(10*I+8,10*I+8+2),32)-64,L.push({track:T,beat:R,length:M,shift:U,pitch:G});if(n.storeTracks=[],L.forEach((function(e,t,a){if(t===a.findIndex((function(t){return t.track===e.track}))&&o.push(e.track),n.storeTracks.push({beat:e.beat+16,pitch:e.pitch,track:e.track,shift:e.shift,length:e.length}),e.track===n.TrackID){var r=e.beat;n.fingerNotes[r+16]||(n.fingerNotes[r+16]=[]),n.fingerNotes[r+16].push({pitch:e.pitch,length:e.length})}})),c.forEach((function(e,t){var r={audioNode:nn.createGain(),id:e,replacement:parseInt(E[8].substring(3*t,3*t+3),16),sound:null,info:"",volume:70};if(r.replacement){var i=n.player.loader.drumInfo(r.replacement-1);console.log(i),n.player.loader.startLoad(i.url,i.variable),r.info=i}a(256)("./default_drum_0".concat(e)).then((function(t){(r=Object(g.a)(Object(g.a)({},r),t.default)).volume=10*parseInt(E[4].substring(e,e+1),16),r.audioNode.connect(n.master.input),n.player.adjustPreset(r.sound),n.drumInfo.push(r)}))})),o.forEach((function(e,t){var r={audioNode:nn.createGain(),nn:e,replacement:parseInt(E[9].substring(3*t,3*t+3),16),sound:null,info:"",volume:70};if(r.replacement){var i=n.player.loader.instrumentInfo(r.replacement-1);console.log(i),n.player.loader.startLoad(nn,i.url,i.variable),r.info=i}a(257)("./default_tone_0".concat(e)).then((function(t){(r=Object(g.a)(Object(g.a)({},r),t.default)).volume=10*parseInt(E[3].substring(e,e+1),16),r.audioNode.connect(n.master.input),n.player.adjustPreset(r.sound),n.trackInfo.push(r)}))})),B=[],E[10]&&"000a"!==E[10])for(V=E[10].length/4,H=0;H<V;H++)F=parseInt(E[10].substring(4*H,4*H+3),32),P=parseInt(E[10].substring(4*H+3,4*H+4),16)/10,B.push({id:F,vol:P});B.length>0&&(n.currentSong=new Ja(nn)),n.songs=B,e.next=35;break;case 32:e.prev=32,e.t0=e.catch(5),Promise.reject(e.t0);case 35:return e.prev=35,e.abrupt("return",n);case 38:case"end":return e.stop()}}),e,null,[[5,32,35,38]])})));return function(t){return e.apply(this,arguments)}}(),dn=new function e(){Object(pe.a)(this,e),this.touchedKeys=[],this.score=[]},mn=function(){function e(t){var a=t.note,n=t.len,r=t.hand,i=t.beat;Object(pe.a)(this,e),this.len=void 0,this.note=void 0,this.finger=void 0,this.timer=void 0,this.hand=void 0,this.color=void 0,this.bColor=void 0,this.end=void 0,this.len=n,this.note=a,this.end=this.len-1+i,this.end<=i&&(this.end=i+1),this.timer=null,this.hand=r.hand,this.finger=r.finger,this.bColor=a.id,"right"===this.hand?this.color="yellow":this.color="skyblue"}return Object(ge.a)(e,[{key:"show",value:function(){this.note.children.back.setAttribute("fill",this.color),this.finger.setAttribute("fill",this.color)}},{key:"hide",value:function(){this.note.children.back.setAttribute("fill",this.bColor),this.note.children.back.style.fill="",this.finger.setAttribute("fill","rgba(99, 99, 99, 0.25)")}}]),e}(),hn=function e(t,a,n){var r=this;Object(pe.a)(this,e),this.y=void 0,this.end=void 0,this.yPos=void 0,this.margin=void 0,this.update=function(e,t){e.drawImage(t,0,Math.floor(r.y-r.yPos-r.margin))},this.y=0,this.margin=n,this.yPos=t*a,this.end=this.yPos+a+n},fn=function e(t){var a=this,n=t.width,r=t.color,i=t.x,o=t.y,c=t.lw;Object(pe.a)(this,e),this.x=void 0,this.y=void 0,this.lw=void 0,this.color=void 0,this.width=void 0,this.draw=function(e){e.beginPath(),e.moveTo(0,a.y),e.lineTo(a.width,a.y),e.lineWidth=a.lw,e.strokeStyle=a.color,e.stroke(),e.fill()},this.x=i,this.y=o,this.width=n,this.color=r,this.lw=c},pn=function e(t){var a=this,n=t.width,r=t.height,i=t.color,o=t.x,c=t.y,l=t.end,s=t.note,u=t.text,d=t.gap,m=t.tapSize;Object(pe.a)(this,e),this.y=void 0,this.x=void 0,this.r=void 0,this.gap=void 0,this.beg=void 0,this.end=void 0,this.start=void 0,this.height=void 0,this.width=void 0,this.mover=void 0,this.note=void 0,this.tapSize=void 0,this.text=void 0,this.color=void 0,this.lineColor=void 0,this.crash=void 0,this.hit=void 0,this.move=function(){a.crash=!0,a.mover=a.y-a.gap,a.mover>-a.height&&(a.mover=-a.height)},this.update=function(e){e.beginPath(),e.moveTo(a.x,a.y+a.start),e.lineTo(a.x,a.y+a.height),e.lineWidth=.85*a.width,e.strokeStyle="black",e.lineCap="round",e.stroke(),e.beginPath(),e.moveTo(a.x,a.y+a.start),e.lineTo(a.x,a.y+a.height),e.lineWidth=.2*a.width,e.strokeStyle="white",e.stroke(),a.crash&&(e.beginPath(),e.moveTo(a.x,a.y+a.start),e.lineTo(a.x,a.y-a.mover),e.lineWidth=.2*a.width,e.strokeStyle="red",e.stroke()),a.hit&&(e.beginPath(),e.moveTo(a.x,a.y+a.start),e.lineTo(a.x,a.y-a.hit),e.lineWidth=.25*a.width,e.strokeStyle=a.color,e.stroke()),a.crash&&!a.hit&&(a.color="red"),e.beginPath(),e.arc(a.x,a.y+a.start,1.4*a.r,0,2*Math.PI),e.fillStyle="black",e.fill(),e.beginPath(),e.arc(a.x,a.y+a.start,a.r,0,2*Math.PI),e.fillStyle=a.color,e.fill(),e.font="bold "+1.3*a.r+"px arial",e.textAlign="center",e.textBaseline="middle",e.fillStyle="black",e.fillText(a.text,a.x,a.y+a.start+1)},this.y=c,this.start=-c,this.tapSize=m,this.gap=d,this.beg=c+d,this.end=l,this.note=s,this.height=-r,this.x=o,this.text=u,this.width=n,this.r=n/2,this.color=i,this.lineColor="black",this.mover=r,this.crash=!1},gn=function e(t){var a=this;Object(pe.a)(this,e),this.counter=0,this.tapSize=32,this.songLength=17,this.gap=384,this.margin=128,this.width=void 0,this.height=void 0,this.notes=[],this.image=void 0,this.myObstacles=[],this.backMover=[],this.fullSongCanvas=[],this.context=void 0,this.assigner=function(e){Object.assign(a,e)},this.playGame=function(e){a.clear(),a.updateBacks(e),a.updateNotes(e)},this.clear=function(){a.context.clearRect(0,0,a.width,a.height)},this.pitchName=function(e){var t=e%12,a="C";return 1===t&&(a="Db"),2===t&&(a="D"),3===t&&(a="Eb"),4===t&&(a="E"),5===t&&(a="F"),6===t&&(a="Gb"),7===t&&(a="G"),8===t&&(a="Ab"),9===t&&(a="A"),10===t&&(a="Bb"),11===t&&(a="B"),""+a},this.drawImage=function(){var e,t=document.createElement("canvas").getContext("2d");t.canvas.width=a.width,t.canvas.height=a.height,t.save(),Array.from(Array(17),(function(e,t){return t})).forEach((function(e,n){var r=n%16===0?1.5:n%8===0?1.2:n%4===0?1:n%2===0?.8:.5,i=n%16===0||n%8===0?"black":n%4===0||n%2===0?"rgba(0,0,0,0.5)":"rgba(0,0,0,0.2)",o=n*a.tapSize;new fn({width:a.width,color:i,x:0,y:o,lw:r}).draw(t)})),a.image.src=t.canvas.toDataURL("image/png"),a.image.onload=function(){e||(e=new hn(0,a.height,a.margin)).update(a.context,a.image)}},this.drawNote=function(e,t){var n=a.tapSize;Array.from(Array(a.songLength),(function(e,t){return t})).forEach((function(r,i){var o=t[1].width,c=n*(16*i);a.myObstacles[i]=[],e.forEach((function(e){if(e.beat>=16*i&&e.beat<16*(i+1)){var r=c+n*(e.beat%16),l=t[e.pitch].center,s=r+n*e.length,u=new pn({width:o,height:s,color:"yellow",x:l,y:r,end:s+3*a.height,text:a.pitchName(e.pitch),note:e.pitch+36,gap:a.gap,tapSize:a.tapSize});a.myObstacles[i].push(u),a.fullSongCanvas.push(u)}}))}))},this.drawBack=function(){a.backMover=[];for(var e=0;e<3;e++)a.backMover.push(new hn(e,a.height,a.margin))},this.pushNote=function(e){e&&(a.counter=e),a.myObstacles[a.counter]&&a.myObstacles[a.counter].length>0&&a.myObstacles[a.counter].forEach((function(e){a.notes.push(e)})),a.counter++,a.backMover.push(new hn(a.counter+2,a.height,a.margin))},this.updateNotes=function(e){a.notes.forEach((function(t,n){var r;(t.y=e,t.update(a.context),t.end<e&&a.notes.splice(n,1),a.gap-t.y<=t.start)&&(dn.touchedKeys.forEach((function(n){t.note===n.note&&n.y>t.beg-a.tapSize&&n.y<t.beg+a.tapSize&&(t.hit=e-a.gap+.1*a.tapSize,n.y-.3*a.tapSize<=t.beg&&n.y+.3*a.tapSize>=t.beg?(r="perfect",t.color="green"):n.y>t.beg?(r="late",t.color="purple"):n.y<t.beg&&(r="early",t.color="orange"),n.hit||(n.hit=r,dn.score.push([t.note,n.hit]),console.log(dn.score)))})),t.move())}))},this.updateBacks=function(e){a.backMover.forEach((function(t,n){t.y=e,t.update(a.context,a.image),t.y>t.end&&a.backMover.splice(n,1)}))},this.updateFullSong=function(e){a.clear(),Array.from(Array(a.songLength),(function(e,t){return t})).forEach((function(t,n){a.context.drawImage(a.image,0,Math.floor(e-n*a.image.height-4*a.tapSize))})),a.fullSongCanvas.forEach((function(t){t.y=e,t.update(a.context)}))},this.image=new Image,this.width=t.width,this.height=t.height,this.context=t.getContext("2d")},bn=function(){function e(t){var a=this;Object(pe.a)(this,e),this.game=void 0,this.master=void 0,this.player=void 0,this.currentSong=void 0,this.loaded=!1,this.onAir=!1,this.score=[],this.handRefs=[],this.seekBar=void 0,this.keyRefs=[],this.canvasSize=void 0,this.pianoSize=void 0,this.seekValue=0,this.songLength=272,this.tapSize=32,this.loading=!0,this.playMode=!1,this.sL=16,this.TrackID=0,this.tempo=120,this.zaribTempo=1,this.storeFingers=[],this.storeTracks=[],this.storeDrums=[],this.trackInfo=[],this.drumInfo=[],this.fingerNotes={},this.equalizer=[0,0,0,0,0,0,0,0,0,0],this.drumVolumes=[70,70,70,70,70,70,70,70],this.firstDelay=void 0,this.tickID=void 0,this.currentBeat=0,this.tickerDelay=1,this.tickerStep=0,this.animeFrame=0,this.nextWhen=0,this.nextBeat=0,this.anime=[],this.yPos=0,this.sentWhen=0,this.measures=16,this.finger=[],this.midiKeys=[],this.drawGame=function(e){a.game=new gn(e),a.game.assigner({tapSize:a.tapSize,songLength:a.sL,gap:12*a.tapSize,margin:4*a.tapSize});var t=[];a.storeTracks.forEach((function(e){e.track===a.TrackID&&t.push({beat:e.beat-12,pitch:e.pitch,shift:e.shift,length:e.length})})),a.game.clear(),a.game.drawImage(),a.pianoSize&&a.game.drawNote(t,a.pianoSize)},this.startPlay=function(){var e,t;if(!a.onAir&&a.loaded){var n;if(a.score=[],a.resetNodeValues(),a.nextBeat=0,a.nextWhen=0,null===(e=a.game)||void 0===e||e.assigner({counter:0}),"suspended"===(null===(t=a.player)||void 0===t?void 0:t.audioContext.state))console.log("audioContext.resume"),null===(n=a.player)||void 0===n||n.audioContext.resume();a.onAir=!0;var r,i,o=240/(a.tempo*a.zaribTempo)*1e3;if(a.firstDelay=setTimeout((function(){a.playAllTracks(.03)}),o),a.queueNextBeats(),a.playMode)null===(r=a.game)||void 0===r||r.drawBack(),null===(i=a.game)||void 0===i||i.pushNote(),a.animeFrame=requestAnimationFrame(a.moveSVG);else a.animeFrame=requestAnimationFrame(a.moveFingers);a.onAir=!0}else console.log("on air already")},this.stopPlay=function(){var e;a.onAir&&a.loaded?(a.finger.forEach((function(e,t){e.hide()})),a.seekValue=a.currentBeat-1,a.onAir=!1,a.anime=[],a.finger=[],clearTimeout(a.firstDelay),a.stopAllTracks(),cancelAnimationFrame(a.animeFrame),clearTimeout(a.tickID),null===(e=a.player)||void 0===e||e.cancelQueue(),a.onAir=!1):console.log("on air already")},this.stopAllTracks=function(){a.currentSong&&(a.currentSong.stop(),a.currentSong.elapsedTimeSinceStart=0)},this.playAllTracks=function(e){if(a.currentSong){a.currentSong.setMasterVolume(100),a.currentSong.play(e);for(var t=0;t<a.currentSong.getNbTracks();t++);}},this.rakeMouseWheel=function(e){var t=16*a.sL;a.seekValue=a.seekValue+(e.deltaY>0?-1:1),a.seekValue=a.seekValue<0?0:a.seekValue>t?t:a.seekValue;var n=a.seekValue*a.tapSize;a.seekMove(a.seekValue),a.seekSVG(n)},this.seekSVG=function(e){var t;a.onAir||(null===(t=a.game)||void 0===t||t.updateFullSong(e))},this.resetNodeValues=function(){for(var e,t,n,r,i,o,c,l,s,u,d=0;d<a.trackInfo.length;d++)a.trackInfo[d].audioNode.gain.setValueAtTime(a.trackInfo[d].volume/100,0);for(var m=0;m<a.drumInfo.length;m++)a.drumInfo[m].audioNode.gain.setValueAtTime(a.drumVolumes[m]/100,0);null===(e=a.master)||void 0===e||e.band32.gain.setValueAtTime(a.equalizer[0],0),null===(t=a.master)||void 0===t||t.band64.gain.setValueAtTime(a.equalizer[1],0),null===(n=a.master)||void 0===n||n.band128.gain.setValueAtTime(a.equalizer[2],0),null===(r=a.master)||void 0===r||r.band256.gain.setValueAtTime(a.equalizer[3],0),null===(i=a.master)||void 0===i||i.band512.gain.setValueAtTime(a.equalizer[4],0),null===(o=a.master)||void 0===o||o.band1k.gain.setValueAtTime(a.equalizer[5],0),null===(c=a.master)||void 0===c||c.band2k.gain.setValueAtTime(a.equalizer[6],0),null===(l=a.master)||void 0===l||l.band4k.gain.setValueAtTime(a.equalizer[7],0),null===(s=a.master)||void 0===s||s.band8k.gain.setValueAtTime(a.equalizer[8],0),null===(u=a.master)||void 0===u||u.band16k.gain.setValueAtTime(a.equalizer[9],0)},this.queueNextBeats=function(){if(a.onAir){var e,t=240/(a.tempo*a.zaribTempo)/16,n=a.songLength+1,r=null===(e=a.player)||void 0===e?void 0:e.audioContext.currentTime;for(r&&a.nextWhen<r&&(a.nextWhen=r);a.sentWhen<r+t;){var i;if(a.sendNextBeats(a.nextWhen,a.nextBeat,a.nextBeat),a.nextWhen=a.sentWhen+t,a.nextBeat=a.nextBeat+1,a.playMode&&a.nextBeat/16%1===0)null===(i=a.game)||void 0===i||i.pushNote();a.nextBeat>n&&a.stopPlay()}var o=500*(a.nextWhen-r);a.tickerStep++,a.tickerStep>=a.tickerDelay&&(a.tickerStep=0),a.tickID=setTimeout((function(){a.seekMove(a.nextBeat),a.queueNextBeats(),a.playMode||a.showFingers()}),o)}},this.sendNextBeats=function(e,t,n){a.sentWhen=e;var r=1/16*(240/(a.tempo*a.zaribTempo));a.currentBeat=t,a.storeDrums.forEach((function(i){if(i.beat>=t&&i.beat<=n){var o,c=a.findDrumInfoHand(i.drum),l=c.sound;c.info&&window[c.info.variable]&&(l=window[c.info.variable]);var s=1-.2*Math.random();null===(o=a.player)||void 0===o||o.queueWaveTable({target:c.audioNode,preset:l,when:e+r*(i.beat-t),pitches:c.pitch,duration:c.length,volume:s*c.volumeRatio})}}));for(var i=[],o=0;o<a.storeTracks.length;o++){var c=a.storeTracks[o];c.beat>=t&&c.beat<=n&&i.push(c)}i.sort((function(e,t){var a=1e3*(e.beat-t.beat)+1e5*(e.track-t.track);return e.beat===t.beat&&(a+=e.pitch-t.pitch),a}));var l=-1,s=-1,u=0;i.forEach((function(n){var i,o=a.trackInfo.find((function(e){return e.nn===n.track}));n.beat===l&&n.track===s||(l=n.beat,s=n.track,u=0,n.track===a.findTrackInfoHand().nn&&a.anime.push(n.beat));var c=o.sound;o.info&&window[o.info.variable]&&(c=window[o.info.variable]);var d=[{when:n.length*r,pitch:n.shift+12*o.octave+n.pitch}],m=.6-.2*Math.random();null===(i=a.player)||void 0===i||i.queueWaveTable({target:o.audioNode,preset:c,when:e+r*(n.beat-t)+u*o.inChordDelay,pitches:12*o.octave+n.pitch,duration:.075+n.length*r,volume:m*o.volumeRatio,slides:d}),u++}))},this.showFingers=function(){var e=a.storeFingers[a.TrackID];0!==a.anime.length&&a.anime.forEach((function(t){var n=a.fingerNotes[t];if(n){var r={};for(var i in e)if(e[i][t]){var o=a.handRefs[i],c=e[i][t];r[c]={finger:o,hand:o.getAttribute("class")}}n.forEach((function(e){var t=e.length,n=e.pitch+36,i=a.keyRefs[n];r[n]&&a.finger.push(new mn({note:i,len:t,hand:r[n],beat:a.currentBeat}))}))}a.anime=a.anime.filter((function(e){return e!==t}))}))},this.moveFingers=function(){a.onAir&&(a.finger.forEach((function(e,t){a.currentBeat>=e.end?(e.hide(),a.finger.splice(t,1)):e.show()})),requestAnimationFrame(a.moveFingers))},this.findTrackInfoHand=function(){var e=null;return a.trackInfo.forEach((function(t){t.nn===a.TrackID&&(e=t)})),e},this.findDrumInfoHand=function(e){var t=null;return a.drumInfo.forEach((function(a){a.id===e&&(t=a)})),t},this.seekMove=function(e){e<a.songLength&&a.seekBar&&a.seekBar.changeSeeker(null,e)},this.moveSVG=function(){if(a.game&&a.onAir){for(var e,t=1/16*(240/(a.tempo*a.zaribTempo)),n=16*a.measures,r=a.nextBeat+((null===(e=a.player)||void 0===e?void 0:e.audioContext.currentTime)-a.nextWhen)/t;r<0;)r+=n;r>a.songLength-1&&(r=a.songLength-1),a.game.counter<4&&r>100&&(r=0);var i=Math.floor(r*a.tapSize);a.yPos=i,a.game.playGame(i),requestAnimationFrame(a.moveSVG)}},this.midiNoteOn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.7;if(0===t)a.midiNoteOff(e);else{a.midiNoteOff(e),a.onAir&&dn.touchedKeys.push({note:e,y:a.yPos});var n=a.findTrackInfoHand();if(n){var r,i=n.sound;if(n.info&&window[n.info.variable]&&(i=window[n.info.variable]),a.midiKeys[e]=null===(r=a.player)||void 0===r?void 0:r.queueWaveTable({target:n.audioNode,preset:i,when:0,pitches:e,duration:10,volume:t}),a.keyRefs[e]){var o=a.keyRefs[e],c=o.children.back.getAttribute("fill"),l="red";"white"!==c&&"black"!==c&&(l="green"),o.children.back.style.fill=l}}}},this.midiNoteOff=function(e){if(a.midiKeys[e]&&(a.midiKeys[e].cancel(),dn.touchedKeys.forEach((function(t,a){var n=dn.touchedKeys[a].note;e===n&&dn.touchedKeys.splice(a,1)}))),a.keyRefs[e]){var t=a.keyRefs[e];t&&(t.children.back.style.fill="")}},Object.assign(this,t)}return Object(ge.a)(e,[{key:"assigner",value:function(e){console.log(e),Object.assign(this,e)}}]),e}(),vn=function(e){return function(t){un(e).then((function(e){e&&(e.songs.length>0?e.songs.forEach((function(a,n){return xe.get("/song/v2/".concat(a.id)).then((function(r){var i=r.data;return we(i).then((function(r){var i;null===(i=e.currentSong)||void 0===i||i.loadBuffer({buffer:r.data,vol:a.vol}).then((function(){e.songs.length===n+1&&(e.loaded=!0,ln=new bn(e),t({type:"REQUEST_PLAYER",payload:e}))}))})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))})):(e.loaded=!0,ln=new bn(e),t({type:"REQUEST_PLAYER",payload:e})))})).catch((function(e){return console.log(e)}))}},En=function(e,t,a){return function(n){if(t&&a){var r,i=function(e,t){var a=e[50].getBoundingClientRect().x-(e[48].getBoundingClientRect().x+e[48].getBoundingClientRect().width),n=t.pianoLeft,r=n||100,i=[];for(var o in e){var c=e[o],l=c.getBoundingClientRect(),s=l.x-r,u=l.width,d=s+u/2;c.classList.contains("C")||c.classList.contains("F")?i.push({left:s,center:d-3.5*a,width:u,key:"CF"}):c.classList.contains("last")?i.push({left:s,center:d,width:u,key:"last"}):"black"===c.id?i.push({left:s,center:d,width:u,key:"black"}):c.classList.contains("E")||c.classList.contains("B")?i.push({left:s,center:d+3.5*a,width:u,key:"EB"}):c.classList.contains("A")?i.push({left:s,center:d+1.8*a,width:u,key:"A"}):c.classList.contains("G")?i.push({left:s,center:d+1.4*a,width:u,key:"G"}):i.push({left:s,center:d,width:u,key:"white"})}return i.push({left:-100,center:0,width:a,key:"lineWidth"}),i}(e,t);null===(r=ln)||void 0===r||r.assigner({pianoSize:i,keyRefs:e,canvasSize:t,tapSize:a}),n({type:"DRAW_PIANO",payload:{pianoSize:i,canvasSize:t,tapSize:a}})}else{var o;null===(o=ln)||void 0===o||o.assigner({keyRefs:e}),n({type:"DRAW_PIANO"})}}},_n=function(e){return function(t){var a;null===(a=ln)||void 0===a||a.assigner(e),t({type:"DRAW_FINGER"})}},yn=function(e){return function(t){var a;null===(a=ln)||void 0===a||a.drawGame(e),t({type:"DRAW_GAME"})}},Sn=function(){return function(e){var t;null===(t=ln)||void 0===t||t.stopPlay(),e({type:"RESIZE_PLAYER"})}},On=function(){return function(e){var t;null===(t=ln)||void 0===t||t.stopPlay(),e({type:"RESET_PLAYER"})}},Cn=function(e){return function(t){var a,n;null===(a=ln)||void 0===a||a.assigner({playMode:e}),null===(n=ln)||void 0===n||n.stopPlay(),t(e?{type:"ENTER_PLAYMODE"}:{type:"EXIT_PLAYMODE"})}},jn=function(e){var t;null===(t=ln)||void 0===t||t.midiNoteOn(e,.7)},kn=function(e){var t;null===(t=ln)||void 0===t||t.midiNoteOff(e)},xn=a(394),wn=a(386),An=a(356),Ln=a(357),Nn=a(393),In=a(354),Rn=a(385),Tn=a(355),Mn=function(e){Object(be.a)(a,e);var t=Object(ve.a)(a);function a(e){var n;return Object(pe.a)(this,a),(n=t.call(this,e)).linkGenerator=function(e){return n.props.pathname.split("/").slice(0,-1).join("/")+"/lesson="+e},n.handleNext=function(e){var t=e.currentTarget.tabIndex;n.setState({lessonIndex:t})},n.selectedLesson=function(e){var t=_(e.currentTarget.pathname);n.props.requestLesson(t)},n.state={lessonIndex:0,loading:!0,steps:[],selected:0},n}return Object(ge.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;if(_(this.props.pathname).course===(null===(e=this.props.course)||void 0===e?void 0:e.id)){var a,n=null===(a=this.props.course)||void 0===a?void 0:a.course_select;if(n){var r,i=[];n.forEach((function(e){var t=e.excerpt;t||(t="No Detail Provided"),i.push({id:e.id,name:e.title,excerpt:t})})),r=i.findIndex((function(e){return e.id===t.props.lessonId})),this.setState({steps:i,loading:!1,lessonIndex:r})}}}},{key:"render",value:function(){var e=this,t=this.state,a=t.lessonIndex,n=t.loading,r=t.steps,o=this.props.classes;return n?i.a.createElement("div",null,"..."):i.a.createElement("div",{className:o.root},i.a.createElement(Nn.a,{activeStep:a,orientation:"vertical"},r.map((function(t,a){return i.a.createElement(In.a,{key:t.id},i.a.createElement(Rn.a,{tabIndex:a,onClick:e.handleNext},t.name),i.a.createElement(Tn.a,null,i.a.createElement(Me.a,null,t.excerpt),i.a.createElement(le.a,{component:Xe.a,variant:"contained",color:"secondary",to:e.linkGenerator(t.id),className:o.button,onClick:e.selectedLesson},"Learn")))}))))}}]),a}(r.Component),Gn=Object(De.a)((function(e){return{root:{width:"250px"},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)}}}))(Mn),Un=Object(Ue.a)((function(e){return Object(Be.a)({playMain:Object(b.a)({minHeight:"calc(100vh - 64px)"},e.breakpoints.down("xs"),{minHeight:"calc(100vh - 56px)"}),content:{height:"100%",width:"100%",flexWrap:"nowrap"},doubleGrid:{flexWrap:"nowrap",width:"100%",maxWidth:"100%","& > div":{margin:"auto",padding:0,height:"100%"}},centerText:{textAlign:"center"},sideStyle:{height:"100%",width:"100%",flexWrap:"nowrap"}})})),Bn=function(e){var t=e.playModeChanger,a=Un();return i.a.createElement(Pe.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:a.sideStyle},i.a.createElement(de.a,{color:"secondary","aria-label":"play mode",onClick:t},i.a.createElement(An.a,null)))},Vn=function(e){var t=Object(r.useState)(!1),a=Object(ce.a)(t,2),n=a[0],o=a[1],c=(Object(r.useRef)(null),e.data),l=Object(Qt.a)(e,["data"]),s=!e.course,u=Un();return i.a.createElement(Pe.a,{container:!0,direction:"column",justify:"space-around",alignItems:"center",className:u.sideStyle},i.a.createElement(xn.a,{color:"secondary",orientation:"vertical","aria-label":"music seeker",defaultValue:20,style:{height:"40%"}}),i.a.createElement(i.a.Fragment,null,i.a.createElement(de.a,{color:"secondary","aria-label":"play mode",onClick:function(e){"keydown"!==e.type&&o(!n)},disabled:s},i.a.createElement(Ln.a,null)),i.a.createElement(wn.a,{anchor:"left",open:n,onClose:function(){return o(!1)}},i.a.createElement(Gn,Object.assign({},l,{lessonId:c.id})))))},Hn=Object(s.c)((function(e){return{theme:e.auth.theme,Melo:e.melodition}}),(function(e){return{drawFinger:Object(u.b)(_n,e)}}))((function(e){var t=e.Melo,a=e.theme,n=e.drawFinger,r="dark"===a?1:0;return i.a.createElement("svg",{id:"svgElem",xmlns:"http://www.w3.org/2000/svg",width:"100%",style:{minWidth:"150px",maxWidth:"250px",filter:"invert(".concat(r,")")},viewBox:"0 0 974 512",fill:"none"},i.a.createElement("g",{id:"fingers",ref:function(e){e&&t.fingerLoading&&n({handRefs:e.children})}},i.a.createElement("path",{className:"right",id:"r1",d:"M533.5 215.5C550.258 204.846 566.5 213 575.5 222.5L614.5 266C578.491 292.941 577.487 324.434 563 361C546.255 318.826 536.187 300.612 521.5 254.5C518.156 244 516.12 225.853 533.5 215.5Z",fill:"rgba(99, 99, 99, 0.25)"}),i.a.createElement("path",{className:"right",id:"r2",d:"M655 56C662.494 62.9264 664.442 68.5999 667 77.5L681.615 217C656.341 219.409 644.33 222.492 629.615 243L608.5 90.5C606.606 79.4297 607.333 73.3286 612.5 64C617.947 55.7181 620.737 53.8317 631 51L631.175 50.9816C641.995 49.8491 645.411 49.4915 655 56Z",fill:"rgba(99, 99, 99, 0.25)"}),i.a.createElement("path",{className:"right",id:"r3",d:"M752.385 215.5L755.746 115.11L758 43.2689C757.382 33.8715 755.814 28.8652 750.11 20.5606C742.291 12.2544 737.072 9.82141 726.439 9C716.124 9.99562 711.124 11.9864 704.272 19.322C697.472 27.759 695.707 33.4633 695.254 44.9205L693 107.678L693.385 215.5C713.764 210.309 726.853 211.322 752.385 215.5Z",fill:"rgba(99, 99, 99, 0.25)"}),i.a.createElement("path",{className:"right",id:"r4",d:"M821.697 232.5L836.289 140.481L846.106 83.1651C846.82 75.5659 846.018 71.312 841.728 63.7408C835.419 55.8176 830.776 53.0107 820.745 50.5915C810.765 49.6744 805.717 50.4329 798.162 55.148C790.504 60.7505 788.028 65.0081 786.007 74.0728L777.101 114.389L757.5 216C786.421 216.011 799.981 223.042 821.697 232.5Z",fill:"rgba(99, 99, 99, 0.25)"}),i.a.createElement("path",{className:"right",id:"r5",d:"M849.5 168.5L827 239.5C862.617 249.985 869.511 281.09 879.5 296.5C887.342 250.949 899.398 220.668 901.5 174C897.793 161.727 895.916 153.463 879.5 149C863.891 147.757 857.224 154.157 849.5 168.5Z",fill:"rgba(99, 99, 99, 0.25)"}),i.a.createElement("path",{className:"left",id:"l1",d:"M440.5 215.5C423.742 204.846 407.5 213 398.5 222.5L359.5 266C395.509 292.941 396.513 324.434 411 361C427.745 318.826 437.813 300.612 452.5 254.5C455.844 244 457.88 225.853 440.5 215.5Z",fill:"rgba(99, 99, 99, 0.25)"}),i.a.createElement("path",{className:"left",id:"l2",d:"M319 56C311.506 62.9264 309.558 68.5999 307 77.5L292.385 217C317.659 219.409 329.67 222.492 344.385 243L365.5 90.5C367.394 79.4297 366.667 73.3286 361.5 64C356.053 55.7181 353.263 53.8317 343 51L342.825 50.9816C332.005 49.8491 328.589 49.4915 319 56Z",fill:"rgba(99, 99, 99, 0.25)"}),i.a.createElement("path",{className:"left",id:"l3",d:"M221.615 215.5L218.254 115.11L216 43.2689C216.618 33.8715 218.186 28.8652 223.89 20.5606C231.709 12.2544 236.928 9.82141 247.561 9C257.876 9.99562 262.876 11.9864 269.728 19.322C276.528 27.759 278.293 33.4633 278.746 44.9205L281 107.678L280.615 215.5C260.236 210.309 247.147 211.322 221.615 215.5Z",fill:"rgba(99, 99, 99, 0.25)"}),i.a.createElement("path",{className:"left",id:"l4",d:"M152.303 232.5L137.711 140.481L127.894 83.1651C127.18 75.5659 127.982 71.312 132.272 63.7408C138.581 55.8176 143.224 53.0107 153.255 50.5915C163.235 49.6744 168.283 50.4329 175.838 55.148C183.496 60.7505 185.972 65.0081 187.993 74.0728L196.899 114.389L216.5 216C187.579 216.011 174.019 223.042 152.303 232.5Z",fill:"rgba(99, 99, 99, 0.25)"}),i.a.createElement("path",{className:"left",id:"l5",d:"M124.5 168.5L147 239.5C111.383 249.985 104.489 281.09 94.5 296.5C86.658 250.949 74.602 220.668 72.5 174C76.207 161.727 78.084 153.463 94.5 149C110.109 147.757 116.776 154.157 124.5 168.5Z",fill:"rgba(99, 99, 99, 0.25)"})),i.a.createElement("g",{id:"hands"},i.a.createElement("path",{id:"hand_right",d:"M803.611 510.08C801.712 510.08 799.792 509.589 798.064 508.544C793.051 505.472 791.429 498.923 794.48 493.867C795.355 492.459 880.752 349.717 888.368 174.763C888.56 170.816 887.152 167.104 884.464 164.267C881.861 161.557 879.045 160.619 874.608 160.064C868.293 160.064 863.152 163.712 861.232 169.195L825.84 269.611C823.984 274.795 818.565 277.717 813.168 276.416C807.835 275.072 804.379 269.867 805.232 264.427L832.773 87.3173C834.181 81.0667 832.923 75.3707 829.424 70.9547C825.925 66.5387 820.656 64 815.024 64C806.789 64 799.493 69.5467 797.296 77.4827L760.731 256.235C759.6 261.632 754.651 265.493 749.019 264.683C743.515 264.043 739.44 259.285 739.611 253.739L746.373 44.5013C746.971 37.0347 744.176 30.6347 738.736 26.3253C733.275 22.0587 726.405 20.8427 719.792 23.0613C712.048 25.6427 706.629 32.576 705.989 40.7253L696.944 254.528C696.688 260.075 692.229 264.533 686.683 264.747C681.371 264.235 676.336 260.821 675.675 255.317L654.768 76.5653C653.957 71.808 650.8 67.2853 646.149 64.6613C641.477 62.0373 635.973 61.7387 631.045 63.6587C623.451 66.7307 618.992 74.5173 620.208 82.6453L643.269 286.805C643.781 291.413 641.243 295.851 637.019 297.749C632.709 299.648 627.781 298.56 624.688 295.083L565.787 228.843C561.883 224.448 556.485 222.016 550.64 221.952C544.923 222.485 539.355 224.256 535.365 228.608C530.416 234.048 528.709 241.728 530.928 248.661C540.848 279.36 566.32 355.648 588.869 400.555C621.872 466.347 641.307 492.8 641.499 493.077C644.997 497.813 644.016 504.469 639.28 507.989C634.565 511.509 627.931 510.528 624.368 505.792C623.557 504.683 603.824 477.909 569.776 410.133C547.419 365.547 523.099 293.931 510.64 255.189C506.053 240.981 509.488 225.28 519.643 214.165C527.557 205.547 538.8 200.597 550.469 200.597C550.576 200.597 550.683 200.597 550.811 200.619C562.629 200.704 573.893 205.824 581.744 214.656L618.288 255.765L599.067 85.44C596.379 67.8827 606.256 50.624 623.131 43.8827C634.053 39.488 646.277 40.2773 656.603 46.08C666.885 51.8613 673.925 61.888 675.867 73.5573L681.285 119.808L684.677 39.4453C686 22.3573 697.115 8.10667 713.029 2.79467C726.363 -1.64267 740.869 0.874667 751.877 9.51467C762.928 18.176 768.816 31.7227 767.643 45.696L764.955 129.045L776.539 72.448C781.509 54.6347 797.253 42.6667 815.024 42.6667C827.205 42.6667 838.555 48.1493 846.128 57.6853C853.701 67.2213 856.475 79.488 853.723 91.3707L843.568 156.651C849.669 145.685 862.107 138.667 874.267 138.731C884.379 138.773 893.296 142.635 899.888 149.568C906.544 156.523 910.107 166.037 909.68 175.701C901.787 356.331 816.325 498.965 812.699 504.981C810.715 508.245 807.216 510.08 803.611 510.08V510.08Z",fill:"black"}),i.a.createElement("path",{id:"hand_Left",d:"M170.389 510.08C172.288 510.08 174.208 509.589 175.936 508.544C180.949 505.472 182.571 498.923 179.52 493.867C178.645 492.459 93.248 349.717 85.632 174.763C85.44 170.816 86.848 167.104 89.536 164.267C92.139 161.557 94.955 160.619 99.392 160.064C105.707 160.064 110.848 163.712 112.768 169.195L148.16 269.611C150.016 274.795 155.435 277.717 160.832 276.416C166.165 275.072 169.621 269.867 168.768 264.427L141.227 87.3173C139.819 81.0667 141.077 75.3707 144.576 70.9547C148.075 66.5387 153.344 64 158.976 64C167.211 64 174.507 69.5467 176.704 77.4827L213.269 256.235C214.4 261.632 219.349 265.493 224.981 264.683C230.485 264.043 234.56 259.285 234.389 253.739L227.627 44.5013C227.029 37.0347 229.824 30.6347 235.264 26.3253C240.725 22.0587 247.595 20.8427 254.208 23.0613C261.952 25.6427 267.371 32.576 268.011 40.7253L277.056 254.528C277.312 260.075 281.771 264.533 287.317 264.747C292.629 264.235 297.664 260.821 298.325 255.317L319.232 76.5653C320.043 71.808 323.2 67.2853 327.851 64.6613C332.523 62.0373 338.027 61.7387 342.955 63.6587C350.549 66.7307 355.008 74.5173 353.792 82.6453L330.731 286.805C330.219 291.413 332.757 295.851 336.981 297.749C341.291 299.648 346.219 298.56 349.312 295.083L408.213 228.843C412.117 224.448 417.515 222.016 423.36 221.952C429.077 222.485 434.645 224.256 438.635 228.608C443.584 234.048 445.291 241.728 443.072 248.661C433.152 279.36 407.68 355.648 385.131 400.555C352.128 466.347 332.693 492.8 332.501 493.077C329.003 497.813 329.984 504.469 334.72 507.989C339.435 511.509 346.069 510.528 349.632 505.792C350.443 504.683 370.176 477.909 404.224 410.133C426.581 365.547 450.901 293.931 463.36 255.189C467.947 240.981 464.512 225.28 454.357 214.165C446.443 205.547 435.2 200.597 423.531 200.597C423.424 200.597 423.317 200.597 423.189 200.619C411.371 200.704 400.107 205.824 392.256 214.656L355.712 255.765L374.933 85.44C377.621 67.8827 367.744 50.624 350.869 43.8827C339.947 39.488 327.723 40.2773 317.397 46.08C307.115 51.8613 300.075 61.888 298.133 73.5573L292.715 119.808L289.323 39.4453C288 22.3573 276.885 8.10667 260.971 2.79467C247.637 -1.64267 233.131 0.874667 222.123 9.51467C211.072 18.176 205.184 31.7227 206.357 45.696L209.045 129.045L197.461 72.448C192.491 54.6347 176.747 42.6667 158.976 42.6667C146.795 42.6667 135.445 48.1493 127.872 57.6853C120.299 67.2213 117.525 79.488 120.277 91.3707L130.432 156.651C124.331 145.685 111.893 138.667 99.733 138.731C89.621 138.773 80.704 142.635 74.112 149.568C67.456 156.523 63.893 166.037 64.32 175.701C72.213 356.331 157.675 498.965 161.301 504.981C163.285 508.245 166.784 510.08 170.389 510.08Z",fill:"black"})))})),Fn=[{id:"white",note:"C",front:"M0.5 0.5H42.5V155.5C42.5 156.881 43.6193 158 45 158H79.5V245C79.5 247.485 77.4853 249.5 75 249.5H5C2.51472 249.5 0.5 247.485 0.5 245V0.5Z",back:"M45.1094 203.488C44.9336 204.992 44.377 206.154 43.4395 206.975C42.5085 207.788 41.2682 208.195 39.7188 208.195C38.0391 208.195 36.6914 207.593 35.6758 206.389C34.6667 205.184 34.1621 203.573 34.1621 201.555V200.188C34.1621 198.866 34.3965 197.704 34.8652 196.701C35.3405 195.699 36.0111 194.93 36.877 194.396C37.7428 193.856 38.7454 193.586 39.8848 193.586C41.3952 193.586 42.6061 194.009 43.5176 194.855C44.429 195.695 44.9596 196.861 45.1094 198.352H43.2246C43.0618 197.219 42.707 196.398 42.1602 195.891C41.6198 195.383 40.8613 195.129 39.8848 195.129C38.6868 195.129 37.7461 195.572 37.0625 196.457C36.3854 197.342 36.0469 198.602 36.0469 200.236V201.613C36.0469 203.156 36.3691 204.383 37.0137 205.295C37.6582 206.206 38.5599 206.662 39.7188 206.662C40.7604 206.662 41.5579 206.428 42.1113 205.959C42.6712 205.484 43.0423 204.66 43.2246 203.488H45.1094Z"},{note:"Db",id:"black",front:"M95 0H45V153C45 154.105 45.8954 155 47 155H93C94.1046 155 95 154.105 95 153V0Z",back:"M79 130H61C52 130 52 150 52 150H88C88 150 88 130 79 130Z"},{id:"white",note:"D",front:"M150.5 0.5H97.5V155.5C97.5 156.881 96.3807 158 95 158H84.5V245C84.5 247.485 86.5147 249.5 89 249.5H159C161.485 249.5 163.5 247.485 163.5 245V158H153C151.619 158 150.5 156.881 150.5 155.5V0.5Z",back:"M118.65 208V193.781H122.664C123.901 193.781 124.995 194.055 125.945 194.602C126.896 195.148 127.628 195.926 128.143 196.936C128.663 197.945 128.927 199.104 128.934 200.412V201.32C128.934 202.661 128.673 203.837 128.152 204.846C127.638 205.855 126.899 206.63 125.936 207.17C124.979 207.71 123.862 207.987 122.586 208H118.65ZM120.525 195.324V206.467H122.498C123.943 206.467 125.066 206.018 125.867 205.119C126.674 204.221 127.078 202.941 127.078 201.281V200.451C127.078 198.837 126.697 197.583 125.936 196.691C125.18 195.793 124.106 195.337 122.713 195.324H120.525Z"},{note:"Eb",id:"black",front:"M203 0H153V153C153 154.105 153.895 155 155 155H201C202.105 155 203 154.105 203 153V0Z",back:"M187 130H169C160 130 160 150 160 150H196C196 150 196 130 187 130Z"},{note:"E",id:"white",front:"M247.5 0.5H205.5V155.5C205.5 156.881 204.381 158 203 158H168.5V245C168.5 247.485 170.515 249.5 173 249.5H243C245.485 249.5 247.5 247.485 247.5 245V0.5Z",back:"M211.688 201.428H205.525V206.467H212.684V208H203.65V193.781H212.586V195.324H205.525V199.895H211.688V201.428Z"},{note:"F",id:"white",front:"M252.5 0.5H291.5V155.5C291.5 156.881 292.619 158 294 158H331.5V245C331.5 247.485 329.485 249.5 327 249.5H257C254.515 249.5 252.5 247.485 252.5 245V0.5Z",back:"M295.492 201.721H289.525V208H287.65V193.781H296.459V195.324H289.525V200.188H295.492V201.721Z"},{note:"Gb",id:"black",front:"M344 0H294V153C294 154.105 294.895 155 296 155H342C343.105 155 344 154.105 344 153V0Z",back:"M328 130H310C301 130 301 150 301 150H337C337 150 337 130 328 130Z"},{note:"G",id:"white",front:"M390.5 0.5H346.5V155.5C346.5 156.881 345.381 158 344 158H336.5V245C336.5 247.485 338.515 249.5 341 249.5H411C413.485 249.5 415.5 247.485 415.5 245V158H393C391.619 158 390.5 156.881 390.5 155.5V0.5Z",back:"M381.148 206.135C380.667 206.825 379.993 207.342 379.127 207.688C378.268 208.026 377.265 208.195 376.119 208.195C374.96 208.195 373.932 207.925 373.033 207.385C372.135 206.838 371.438 206.063 370.943 205.061C370.455 204.058 370.204 202.896 370.191 201.574V200.334C370.191 198.192 370.689 196.532 371.686 195.354C372.688 194.175 374.094 193.586 375.904 193.586C377.389 193.586 378.583 193.967 379.488 194.729C380.393 195.484 380.947 196.558 381.148 197.951H379.273C378.922 196.07 377.802 195.129 375.914 195.129C374.658 195.129 373.704 195.572 373.053 196.457C372.408 197.336 372.083 198.612 372.076 200.285V201.447C372.076 203.042 372.441 204.312 373.17 205.256C373.899 206.193 374.885 206.662 376.129 206.662C376.832 206.662 377.447 206.584 377.975 206.428C378.502 206.271 378.938 206.008 379.283 205.637V202.443H375.992V200.92H381.148V206.135Z"},{note:"Ab",id:"black",front:"M443 0H393V153C393 154.105 393.895 155 395 155H441C442.105 155 443 154.105 443 153V0Z",back:"M427 130H409C400 130 400 150 400 150H436C436 150 436 130 427 130Z"},{note:"A",id:"white",front:"M491.5 0.5H445.5V155.5C445.5 156.881 444.381 158 443 158H420.5V245C420.5 247.485 422.515 249.5 425 249.5H495C497.485 249.5 499.5 247.485 499.5 245V158H494C492.619 158 491.5 156.881 491.5 155.5V0.5Z",back:"M462.502 204.289H456.545L455.207 208H453.273L458.703 193.781H460.344L465.783 208H463.859L462.502 204.289ZM457.111 202.746H461.945L459.523 196.096L457.111 202.746Z"},{note:"Bb",id:"black",front:"M544 0H494V153C494 154.105 494.895 155 496 155H542C543.105 155 544 154.105 544 153V0Z",back:"M528 130H510C501 130 501 150 501 150H537C537 150 537 130 528 130Z"},{note:"B",id:"white",front:"M583.5 0.5H546.5V155.5C546.5 156.881 545.381 158 544 158H504.5V245C504.5 247.485 506.515 249.5 509 249.5H579C581.485 249.5 583.5 247.485 583.5 245V0.5Z",back:"M538.65 208V193.781H543.299C544.842 193.781 546.001 194.1 546.775 194.738C547.557 195.376 547.947 196.32 547.947 197.57C547.947 198.234 547.758 198.824 547.381 199.338C547.003 199.846 546.489 200.24 545.838 200.52C546.606 200.734 547.212 201.145 547.654 201.75C548.104 202.349 548.328 203.065 548.328 203.898C548.328 205.174 547.915 206.177 547.088 206.906C546.261 207.635 545.092 208 543.582 208H538.65ZM540.525 201.35V206.467H543.621C544.493 206.467 545.18 206.242 545.682 205.793C546.189 205.337 546.443 204.712 546.443 203.918C546.443 202.206 545.512 201.35 543.65 201.35H540.525ZM540.525 199.846H543.357C544.178 199.846 544.832 199.641 545.32 199.23C545.815 198.82 546.062 198.264 546.062 197.561C546.062 196.779 545.835 196.213 545.379 195.861C544.923 195.503 544.23 195.324 543.299 195.324H540.525V199.846Z"}],Pn="M663 249.5H593C590.515 249.5 588.5 247.485 588.5 245V0.5H667.5V245C667.5 247.485 665.485 249.5 663 249.5Z",zn="M633.109 203.488C632.934 204.992 632.377 206.154 631.439 206.975C630.508 207.788 629.268 208.195 627.719 208.195C626.039 208.195 624.691 207.593 623.676 206.389C622.667 205.184 622.162 203.573 622.162 201.555V200.188C622.162 198.866 622.396 197.704 622.865 196.701C623.34 195.699 624.011 194.93 624.877 194.396C625.743 193.856 626.745 193.586 627.885 193.586C629.395 193.586 630.606 194.009 631.518 194.855C632.429 195.695 632.96 196.861 633.109 198.352H631.225C631.062 197.219 630.707 196.398 630.16 195.891C629.62 195.383 628.861 195.129 627.885 195.129C626.687 195.129 625.746 195.572 625.062 196.457C624.385 197.342 624.047 198.602 624.047 200.236V201.613C624.047 203.156 624.369 204.383 625.014 205.295C625.658 206.206 626.56 206.662 627.719 206.662C628.76 206.662 629.558 206.428 630.111 205.959C630.671 205.484 631.042 204.66 631.225 203.488H633.109Z",Dn=Object(Ue.a)((function(e){return Object(Be.a)({root:{display:"flex",flexDirection:"row-reverse",justifyContent:"center",flexWrap:"nowrap",margin:"0 auto",minWidth:"215px",width:"100%"},back:{margin:e.spacing(0,2)}})})),qn=Object(s.c)((function(e){return{theme:e.auth.theme,Melo:e.melodition}}),(function(e){return{drawPiano:Object(u.b)(En,e)}}))((function(e){var t=e.theme,a=e.Melo,n=e.drawPiano,o=!1,c=null,l={z:48,s:49,x:50,d:51,c:52,v:53,g:54,b:55,h:56,n:57,j:58,m:59,",":60,l:61,".":62,";":63,"/":64,q:65,2:66,w:67,3:68,e:69,4:70,r:71,t:72,6:73,y:74,7:75,u:76,i:77,9:78,o:79,0:80,p:81,"-":82,"[":83,"]":84},s=35,u=36,d={},m=function(e){var t=e.key;if(l.hasOwnProperty(t)){var a=l[t];kn(a),c=null}},h=function(e){var t=e.key;if(l.hasOwnProperty(t)&&t!==c){var a=l[t];jn(a),c=t}},f=function(){o=!1};Object(r.useEffect)((function(){return document.addEventListener("keydown",h),document.addEventListener("keyup",m),document.addEventListener("mouseup",f),function(){document.removeEventListener("keydown",h),document.removeEventListener("keyup",m)}}));var p,g=Dn(),b=function(e){e.preventDefault();var t=e.currentTarget.tabIndex;o=!0,c=t,jn(t)},v=function(e){e.preventDefault();var t=e.currentTarget.tabIndex;o&&t!==c&&(c=t,jn(t))},E=function(e){e.preventDefault();var t=e.currentTarget.tabIndex;o&&(kn(t),c=null)},_=function(e){e.preventDefault();var t=e.currentTarget.tabIndex;o=!1,kn(t),c=null},y=function(e){return 1===e?668:584},S=function(e){if(e){var t=e.tabIndex;d[t]=e}},O=function(e,t,a){n(e,t,a)},C="dark"===t?1:0;return(p=a.octave)>6?(s=23,u=24):p>3?(s=35,u=36):p>1?(s=47,u=48):(s=59,u=60),i.a.createElement("div",{ref:function(e){if(e&&a.pianoLoading)if(a.playMode){var t=e.getBoundingClientRect(),n=t.width,r=Math.floor(window.innerHeight-(t.height+64)),i=function(e){return e/16}(r),o=4*i+8,c=t.left;O(d,{width:n,height:r,baseLine:o,pianoLeft:c},i)}else O(d)},className:g.root,style:{filter:"invert(".concat(C,")")}},Array.from(Array(a.octave),(function(e,t){return"oct"+(t+1)})).map((function(e,t){return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",id:e,key:e,width:y(a.octave-t),height:"100%",viewBox:"0 0 ".concat(y(a.octave-t)," 275"),fill:"none",style:t!==a.octave-1?{marginRight:8/a.octave}:void 0},Fn.map((function(t){return i.a.createElement("g",{key:e+"-"+t.note,id:t.id,tabIndex:++s,onMouseDown:b,onMouseUp:_,onMouseLeave:E,onMouseOver:v,className:s===u?"first":t.note,ref:S},i.a.createElement("path",{id:"back",d:t.front,fill:t.id,stroke:"white"===t.id?"#B5B5B5":void 0}),i.a.createElement("path",{id:"front",d:t.back,fill:"white"===t.id?"black":"rgb(255 255 255 / 65%)"}),60===s?i.a.createElement("polygon",{points:"30,265 40,255 50,265",fill:"black"}):null)})),a.octave-t===1?i.a.createElement("g",{id:"C",className:"last",tabIndex:++s,onMouseDown:b,onMouseUp:_,onMouseLeave:E,onMouseOver:v,ref:S},i.a.createElement("path",{id:"back",d:Pn,fill:"white",stroke:"#B5B5B5"}),i.a.createElement("path",{id:"front",d:zn,fill:"black"})):null)})))})),Wn=a(358),Zn=a(359),Kn=function(e){var t=e.Melo,a=Object(r.useState)(!1),n=Object(ce.a)(a,2),o=n[0],c=n[1],l=function(){o?(!function(){var e;null===(e=ln)||void 0===e||e.stopPlay()}(),c(!1)):(c(!0),function(){var e;null===(e=ln)||void 0===e||e.startPlay()}())},s=function(e){"Space"!==e.code||t.loading||l()};return Object(r.useEffect)((function(){return document.addEventListener("keyup",s),function(){document.removeEventListener("keyup",s)}})),i.a.createElement(de.a,{color:"secondary","aria-label":"play song",onClick:l},o?i.a.createElement(Wn.a,{style:{fontSize:"1.8em"}}):i.a.createElement(Zn.a,{style:{fontSize:"1.8em"}}))},Qn=function(e){Object(be.a)(a,e);var t=Object(ve.a)(a);function a(){var e;Object(pe.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).changeContent=function(t){var a=JSON.parse(t);e.props.requestPlayer(a)},e.svgWidth=function(e){return 1===e?668:584},e.playModeChanger=function(){e.props.changeMode(!0)},e}return Object(ge.a)(a,[{key:"shouldComponentUpdate",value:function(e){var t;return e.data&&(null===(t=this.props.data)||void 0===t?void 0:t.id)!==e.data.id&&this.changeContent(e.data.content),!0}},{key:"componentDidMount",value:function(){var e;console.log("mounted");var t=_(this.props.pathname);this.props.requestLesson(t),(null===(e=this.props.data)||void 0===e?void 0:e.id)===t.lesson&&this.changeContent(this.props.data.content)}},{key:"componentWillUnmount",value:function(){console.log("dismount"),this.props.resetPlayer(),this.setState=function(){}}},{key:"render",value:function(){var e=this.props,t=(e.theme,e.classes),a=e.data,n=e.melodition,r=e.error,o=Object(Qt.a)(e,["theme","classes","data","melodition","error"]);return i.a.createElement("div",{className:t.root},n.loading||n.playMode?i.a.createElement(ze.a,{color:"secondary",className:t.autoMargin}):a?i.a.createElement(Pe.a,{container:!0,className:t.main},i.a.createElement(Pe.a,{item:!0,xs:1},i.a.createElement(Vn,Object.assign({},o,{data:a}))),i.a.createElement(Pe.a,{item:!0,xs:10},i.a.createElement(Pe.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:t.content},i.a.createElement(Pe.a,{item:!0,xs:3,className:t.doubleGrid},i.a.createElement(Pe.a,{container:!0,justify:"center",alignItems:"center"},i.a.createElement(Pe.a,{item:!0,xs:9},i.a.createElement(Me.a,{variant:"h4"},a.title)),i.a.createElement(Pe.a,{item:!0,xs:3,className:t.centerText},i.a.createElement(Kn,{Melo:n})))),i.a.createElement(Pe.a,{item:!0,xs:6,className:t.doubleGrid},i.a.createElement(Pe.a,{container:!0,justify:"center",alignItems:"center"},i.a.createElement(Pe.a,{item:!0,xs:12},i.a.createElement(qn,null)))),i.a.createElement(Pe.a,{item:!0,xs:3,className:t.doubleGrid},i.a.createElement(Pe.a,{container:!0,justify:"center",alignItems:"center"},i.a.createElement(Pe.a,{item:!0,xs:6},i.a.createElement(Me.a,null,a.excerpt)),i.a.createElement(Pe.a,{item:!0,xs:6,className:t.centerText},i.a.createElement(Hn,null)))))),i.a.createElement(Pe.a,{item:!0,xs:1},i.a.createElement(Bn,{playModeChanger:this.playModeChanger}))):i.a.createElement(Me.a,{component:"div",className:t.autoMargin},r))}}]),a}(r.Component),Xn=Object(s.c)((function(e,t){return Object(g.a)(Object(g.a)({},e.single.lesson),{},{melodition:e.melodition,theme:e.auth.theme,classes:t.classes,course:e.single.course.data,pathname:e.router.location.pathname})}),(function(e){return{changeMode:Object(u.b)(Cn,e),requestLesson:Object(u.b)(Yt,e),requestPlayer:Object(u.b)(vn,e),resetPlayer:Object(u.b)(On,e)}}))(Object(De.a)((function(e){var t,a;return Object(Be.a)({root:(t={width:"100vw",minHeight:"calc(100vh - 128px)",overflow:"hidden"},Object(b.a)(t,e.breakpoints.down("xs"),{minHeight:"calc(100vh - 113px)"}),Object(b.a)(t,"display","flex"),t),autoMargin:{margin:"auto"},main:(a={width:"100vw",minHeight:"calc(100vh - 128px)",overflow:"hidden"},Object(b.a)(a,e.breakpoints.down("xs"),{minHeight:"calc(100vh - 113px)"}),Object(b.a)(a,"display","flex"),a),content:{height:"100%",width:"100%",flexWrap:"nowrap"},doubleGrid:{flexWrap:"nowrap",width:"100%",maxWidth:"100%","& > div":{margin:"auto",padding:0,height:"100%"}},centerText:{textAlign:"center"}})}))(Qn)),Yn=function(e){Object(be.a)(a,e);var t=Object(ve.a)(a);function a(){return Object(pe.a)(this,a),t.apply(this,arguments)}return Object(ge.a)(a,[{key:"componentDidMount",value:function(){var e=_(this.props.pathname);this.props.requestExercise(e)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.data,n=e.loading,r=e.error;return i.a.createElement($e.a,{className:t.root},n?i.a.createElement(ze.a,{color:"secondary",className:t.autoMargin}):a?i.a.createElement("div",{className:t.content,dangerouslySetInnerHTML:{__html:a.content}}):i.a.createElement(Me.a,{component:"div",className:t.autoMargin},r))}}]),a}(r.Component),Jn=Object(s.c)((function(e,t){return Object(g.a)({pathname:e.router.location.pathname,classes:t.classes},e.single.exercise)}),(function(e){return{requestExercise:Object(u.b)(aa,e)}}))(Object(De.a)((function(e){var t;return Object(Be.a)({root:(t={width:"99vw",minHeight:"calc(100vh - 128px)"},Object(b.a)(t,e.breakpoints.down("xs"),{minHeight:"calc(100vh - 112px)",padding:e.spacing(1)}),Object(b.a)(t,"padding",e.spacing(2)),Object(b.a)(t,"display","flex"),Object(b.a)(t,"flexDirection","column"),t),autoMargin:{margin:"auto"},content:{textAlign:"center",width:"100%",padding:10,backgroundColor:e.palette.background.paper,border:"1px solid ".concat(e.palette.secondary.main)}})}))(Yn)),$n=function(){return i.a.createElement(ie.d,null,i.a.createElement(ie.a,{exact:!0,path:"/",to:"/post"}),i.a.createElement(ie.b,{exact:!0,path:"/post",component:We}),i.a.createElement(ie.b,{exact:!0,path:"/learning",component:Ia}),i.a.createElement(ie.b,{exact:!0,path:["/guide","/course","/exercise","/favorite","/lesson"],component:Ia}),i.a.createElement(ie.b,{exact:!0,path:"/post/:id",component:Ta}),i.a.createElement(ie.b,{exact:!0,path:"/guide/:id",component:Da}),i.a.createElement(ie.b,{exact:!0,path:"/guide/:id",component:Da}),i.a.createElement(ie.b,{exact:!0,path:["/course/:id","/guide/:id/course=:id"],component:Ka}),i.a.createElement(ie.b,{exact:!0,path:["/lesson/:id","/course/:id/lesson=:id","/guide/:id/lesson=:id","/guide/:id/course=:id/lesson=:id"],component:Xn}),i.a.createElement(ie.b,{exact:!0,path:["/exercise/:id","/course/:id/exercise=:id","/guide/:id/exercise=:id","/guide/:id/course=:id/exercise=:id"],component:Jn}),i.a.createElement(ie.b,{exact:!0,path:"/login",component:st}),i.a.createElement(ie.b,{exact:!0,path:"/register",component:pt}),i.a.createElement(ie.b,{exact:!0,path:"/lostpassword",component:dt}),i.a.createElement(oe,{exact:!0,path:"/profile",component:Bt,isAllowed:!0,restrictedPath:"/profile",authenticationPath:"/login"}),i.a.createElement(ie.b,{exact:!0,path:"/about",component:fe}))},er=(a(258),a(380)),tr=a(395),ar=a(396),nr=a(378),rr=function(e){var t,a,n=e.Melo;return i.a.createElement("canvas",{ref:function(e){return function(e){if(e&&n.canvasSize&&n.gameLoading){var t=e.getContext("2d");t.clearRect(0,0,n.canvasSize.width,n.canvasSize.height);var a=n.pianoSize,r=a?a.length-1:61,i=a?a[r].width:.5,o=n.canvasSize.height;null===a||void 0===a||a.forEach((function(e,a){t.beginPath();var n=e.left;"CF"===e.key||"last"===e.key?(t.moveTo(n,0),t.lineTo(n,o),t.lineWidth=i,t.strokeStyle="rgba(50,50,50,0.8)",t.stroke()):"black"===e.key&&(t.rect(n,0,e.width,o),t.fillStyle="rgba(0,0,0,0.4)",t.fill())}))}}(e)},width:null===(t=n.canvasSize)||void 0===t?void 0:t.width,height:null===(a=n.canvasSize)||void 0===a?void 0:a.height,style:{zIndex:1}})},ir=function(e){var t,a,n=e.Melo,r=e.drawGame;return i.a.createElement("canvas",{ref:function(e){return function(e){e&&n.gameLoading&&n.canvasSize&&r(e)}(e)},width:null===(t=n.canvasSize)||void 0===t?void 0:t.width,height:null===(a=n.canvasSize)||void 0===a?void 0:a.height,style:{position:"absolute",top:0,left:0,zIndex:2}})},or=function(e){var t=e.width,a=e.baseLine;return i.a.createElement("svg",{width:t+7,height:a,style:{bottom:0,left:-7,zIndex:3,position:"absolute",filter:"drop-shadow(rgba(0, 0, 0, 0.7) 0px 1px 1px)"}},i.a.createElement("style",null,"@keyframes draw{to{stroke-dashoffset:0}}"),i.a.createElement("polygon",{points:"0,0 10,8 0,16",fill:"red"}),i.a.createElement("line",{style:{strokeDasharray:t+7,strokeDashoffset:t+7,animation:"draw 1s linear forwards"},x1:0,y1:8,x2:t+7,y2:8,strokeWidth:2.5,stroke:"red"}))},cr=Object(s.c)((function(e){return{Melo:e.melodition}}),(function(e){return{drawGame:Object(u.b)(yn,e)}}))((function(e){var t,a,n=e.Melo,r=e.drawGame;return i.a.createElement("div",{style:{width:null===(t=n.canvasSize)||void 0===t?void 0:t.width,height:null===(a=n.canvasSize)||void 0===a?void 0:a.height,position:"relative",boxShadow:"inset 0 1px 4px 0px black"}},i.a.createElement(ir,{Melo:n,drawGame:r}),i.a.createElement(rr,{Melo:n}),n.canvasSize&&i.a.createElement(or,n.canvasSize))})),lr=a(343),sr=a(360),ur=Object(Ue.a)((function(e){return Object(Be.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},divider:{margin:e.spacing(0,2)}})}));function dr(e){var t=e.modeChanger,a=ur(),n=i.a.useState(null),r=Object(ce.a)(n,2),o=r[0];r[1],Boolean(o);return i.a.createElement(Ht.a,{position:"static",color:"default",className:a.root},i.a.createElement(lr.a,null,i.a.createElement(de.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:t},i.a.createElement(sr.a,null)),i.a.createElement(yt.a,{orientation:"vertical",flexItem:!0,className:a.divider}),i.a.createElement(Me.a,{variant:"h6",color:"inherit",className:a.title},"\u0645\u0644\u0648\u062f\u06cc\u0634\u0646 \u067e\u0644\u06cc\u0631 (1.0.0)")))}var mr=function(e){Object(be.a)(a,e);var t=Object(ve.a)(a);function a(e){var n;return Object(pe.a)(this,a),(n=t.call(this,e)).svgWidth=function(e){return 1===e?668:584},n.toggleDrawer=function(e){"keydown"!==e.type&&(n.state.list?n.setState({list:!1}):n.setState({list:!0}))},n.playmodeChanger=function(){n.props.changeMode(!1)},n.updateDimensions=function(){n.props.melodition.pianoLoading||n.props.resizePlayer()},n.state={list:!1},n}return Object(ge.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.melodition;return i.a.createElement("div",{className:t.root},i.a.createElement(dr,{modeChanger:this.playmodeChanger}),i.a.createElement(Pe.a,{container:!0,className:t.main},i.a.createElement(Pe.a,{item:!0,xs:1},i.a.createElement(Pe.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:t.content},i.a.createElement(Kn,{Melo:a}))),i.a.createElement(Pe.a,{item:!0,xs:10},i.a.createElement(Pe.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:t.content},i.a.createElement(Pe.a,{item:!0,xs:12},a.pianoLoading?i.a.createElement("div",{className:t.loading},i.a.createElement(ze.a,{color:"secondary",style:{margin:"auto"}})):i.a.createElement(cr,null),i.a.createElement(qn,null)))),i.a.createElement(Pe.a,{item:!0,xs:1},i.a.createElement(Pe.a,{container:!0,direction:"column",justify:"space-around",alignItems:"center",className:t.content},i.a.createElement(xn.a,{color:"secondary",orientation:"vertical","aria-label":"music seeker",defaultValue:20,style:{height:"40%"}}),i.a.createElement(de.a,{color:"secondary","aria-label":"play mode"},i.a.createElement(An.a,null))))))}}]),a}(r.Component),hr=Object(s.c)((function(e,t){return{history:e.router.location.pathname,classes:t.classes,melodition:e.melodition,theme:e.auth.theme,lesson:e.single.lesson.data,course:e.single.course.data}}),(function(e){return{changeMode:Object(u.b)(Cn,e),drawGame:Object(u.b)(yn,e),drawPiano:Object(u.b)(En,e),resizePlayer:Object(u.b)(Sn,e)}}))(Object(De.a)((function(e){var t;return Object(Be.a)({root:{width:"100vw",height:"100vh",overflow:"hidden",backgroundColor:e.palette.background.paper},main:(t={width:"100vw",overflow:"hidden",minHeight:"calc(100vh - 64px)"},Object(b.a)(t,e.breakpoints.down("xs"),{minHeight:"calc(100vh - 56px)"}),Object(b.a)(t,"display","flex"),t),content:{height:"100%",width:"100%",flexWrap:"nowrap"},doubleGrid:{flexWrap:"nowrap",width:"100%",maxWidth:"100%","& > div":{margin:"auto",padding:0,height:"100%"}},centerText:{textAlign:"center"},loading:{display:"flex",height:"83%",boxShadow:"inset 0 1px 4px 0px black"}})}))(mr)),fr=a(189),pr=a(152),gr=a(151),br=a(150),vr=a(144),Er=Object(fr.a)({direction:"rtl",typography:{fontFamily:"Vazir"},overrides:{MuiBreadcrumbs:{root:{width:"calc(100vw - 64px)"},ol:{flexWrap:"nowrap",overflowX:"scroll",scrollbarWidth:"none",whiteSpace:"nowrap","&::-webkit-scrollbar":{display:"none"}}},MuiCardActions:{root:{padding:void 0}},MuiCssBaseline:{"@global":{"*":{scrollbarWidth:"thin",scrollbarColor:"rgb(245, 0, 87) #0000"},"*::-webkit-scrollbar":{width:"10px"},"*::-webkit-scrollbar-track":{"-webkit-border-radius":"10px",borderRadius:"8px"},"*::-webkit-scrollbar-thumb":{"-webkit-border-radius":"10px",borderRadius:"10px",background:"rgb(245, 0, 87)"},"*::-webkit-scrollbar-thumb:window-inactive":{background:"rgb(245, 0, 87)"}}},MuiIconButton:{colorSecondary:{"&:hover":{backgroundColor:"rgb(200 200 200 / 0.5)"}}}}}),_r=Object(fr.a)(Object(g.a)(Object(g.a)({},Er),{},{palette:{type:"dark",primary:pr.a,error:gr.a,secondary:{main:br.a[300]}}}),vr.faIR),yr=Object(fr.a)(Object(g.a)(Object(g.a)({},Er),{},{palette:{error:gr.a}}),vr.faIR),Sr=a(387),Or=a(361),Cr=Object(Ue.a)((function(e){return Object(Be.a)({bracrumbs:{padding:e.spacing(1,2,0,2),"& > ol > li":{padding:e.spacing(1,.5)}},back:{margin:e.spacing(0,2)}})})),jr={post:i.a.createElement(Or.a,null),guide:i.a.createElement(Dt.a,null),course:i.a.createElement(qt.a,null),lesson:i.a.createElement(Wt.a,null),exercise:i.a.createElement(Zt.a,null),favorite:i.a.createElement(Kt.a,null)},kr=Object(s.c)((function(e,t){return{pathname:e.router.location.pathname,single:e.single}}),(function(e){return{push:Object(u.b)(ye.f,e),back:Object(u.b)(ye.d,e)}}))((function(e){var t=e.single,a=e.pathname,n=e.push,o=e.back,c=Object(r.useState)([]),l=Object(ce.a)(c,2),s=l[0],u=l[1],d=Object(r.useState)(!1),m=Object(ce.a)(d,2),h=m[0],f=m[1],p=Cr();Object(r.useEffect)((function(){var e=_(a),n=Object.keys(e),r=[];return n.forEach((function(e,i){var o,c=t[n[i-1]],l=null===c||void 0===c||null===(o=c.data)||void 0===o?void 0:o.title,s=0===i?jr[e]:l||"...";r[i]={url:a.split("/").slice(0,i+2).join("/"),name:s}})),e.length>0&&(f(!0),u(r)),function(){f(!1)}}),[a,t]);var g=function(e){e.preventDefault(),n(e.currentTarget.pathname)};return h?i.a.createElement(Ht.a,{position:"static"},i.a.createElement(Ft.a,{square:!0,style:{overflow:"hidden"}},i.a.createElement(lr.a,{disableGutters:!0},i.a.createElement(de.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:o,className:p.back},i.a.createElement(sr.a,null)),i.a.createElement(yt.a,{orientation:"vertical",flexItem:!0}),i.a.createElement(Sr.a,{"aria-label":"breadcrumb",className:p.bracrumbs},s.map((function(e,t){return i.a.createElement(rt.a,{key:t+e.name,href:e.url,color:"inherit","aria-label":e.name,onClick:g},e.name)})))))):null})),xr=a(188),wr=a.n(xr),Ar=a(367),Lr=a(368),Nr=a(369),Ir=a(370),Rr=a(371),Tr=a(362),Mr=a(363),Gr=a(364),Ur=a(365),Br=a(366),Vr={in:[{name:"\u067e\u0631\u0648\u0641\u0627\u06cc\u0644",to:"/profile",icon:i.a.createElement(Tr.a,null)},{name:"\u06a9\u0627\u0628\u0631\u06cc \u0645\u0646",to:"/dashboard",icon:i.a.createElement(Mr.a,null)}],out:[{name:"\u0648\u0631\u0648\u062f",to:"/login",icon:i.a.createElement(Mr.a,null)},{name:"\u062b\u0628\u062a \u0646\u0627\u0645",to:"/register",icon:i.a.createElement(Mr.a,null)}]},Hr=[{to:"/",title:"\u062e\u0627\u0646\u0647\u200c",icon:i.a.createElement(Gr.a,null)},{to:"/learning",title:"\u062f\u0631\u0633 \u0647\u0627\u200c",icon:i.a.createElement(Ur.a,null)},{to:"/about",title:"\u062f\u0631\u0628\u0627\u0631\u0647\u200c",icon:i.a.createElement(Br.a,null)}],Fr=Object(Ue.a)((function(e){return Object(Be.a)({root:{display:"flex"},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(g.a)(Object(g.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-start"}),toolbar:Object(g.a)({display:"flex",alignItems:"center",justifyContent:"space-between",padding:e.spacing(0,1,0,4)},e.mixins.toolbar)})}));function Pr(e){var t=e.state,a=e.loggedIn,n=e.theme,r=e.changeTheme,o=e.dispatch,c=Fr(),l=Object(Et.a)().direction,s=function(){o({type:"menu-toggle"})},u=a?Vr.in:Vr.out;return i.a.createElement("div",{className:c.root},i.a.createElement(et.a,null),i.a.createElement(wn.a,{className:c.drawer,variant:"temporary",anchor:"ltr"===l?"right":"left",open:t.menuIsOpen,onClose:s,classes:{paper:c.drawerPaper}},i.a.createElement("div",{className:c.toolbar},i.a.createElement(de.a,{color:"inherit","aria-label":"open drawer",onClick:function(){r("light"===n?"dark":"light")},edge:"start"},"light"===n?i.a.createElement(Ar.a,null):i.a.createElement(Lr.a,null)),i.a.createElement(de.a,{onClick:s},"ltr"===l?i.a.createElement(Nr.a,null):i.a.createElement(Ir.a,null))),i.a.createElement(yt.a,null),i.a.createElement(Ma.a,null,Hr.map((function(e,t){return i.a.createElement(rt.a,{to:e.to,key:"sidelink-"+t,onClick:s,component:Xe.a,color:"secondary"},i.a.createElement(Ga.a,{button:!0},i.a.createElement(Rr.a,null,e.icon),i.a.createElement(Ba.a,{primary:e.title})))}))),i.a.createElement(yt.a,null),i.a.createElement(Ma.a,null,u.map((function(e,t){return i.a.createElement(rt.a,{to:e.to,key:"sidelink-"+t,onClick:s,component:Xe.a,color:"secondary"},i.a.createElement(Ga.a,{button:!0},i.a.createElement(Rr.a,null,e.icon),i.a.createElement(Ba.a,{primary:e.name})))})))))}var zr=a(263),Dr=Object(Ue.a)((function(e){var t;return Object(Be.a)({root:(t={display:"none"},Object(b.a)(t,e.breakpoints.up(420),{marginLeft:e.spacing(1),display:"inline-block"}),Object(b.a)(t,e.breakpoints.up("sm"),{marginLeft:e.spacing(2),display:"inline-block"}),Object(b.a)(t,e.breakpoints.up("md"),{marginLeft:e.spacing(4),display:"inline-block"}),Object(b.a)(t,e.breakpoints.up("lg"),{marginLeft:e.spacing(8),display:"inline-block"}),t),linkKeeper:{overflow:"hidden",height:"1.2em",lineHeight:"1.2em"},links:{textAlign:"center",flexGrow:1}})})),qr=function(e){var t=e.openStatus,a=Dr();return i.a.createElement(zr.a,{in:!t,className:a.links},i.a.createElement("div",{className:a.linkKeeper},Hr.map((function(e,t){return i.a.createElement(rt.a,{key:"link-"+t,to:e.to,className:a.root,component:Xe.a,color:"secondary"},e.title)}))))},Wr=a(190),Zr=a(342),Kr=a(372),Qr=a(373),Xr=a(374),Yr=a(375),Jr=function(e){var t=e.state,a=t.mobileMenuId,n=t.mobileMoreAnchor,r=Boolean(n),o=function(){e.dispatch({type:"mobile-close"})};return e.loggedIn?i.a.createElement(Wr.a,{anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},id:a,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:r,onClose:o},i.a.createElement(Zr.a,null,i.a.createElement(de.a,{"aria-label":"show 4 new mails",color:"inherit"},i.a.createElement(Kr.a,{badgeContent:4,color:"secondary"},i.a.createElement(Qr.a,null))),i.a.createElement("p",null,"Messages")),i.a.createElement(Zr.a,null,i.a.createElement(de.a,{"aria-label":"show 11 new alerts",color:"inherit"},i.a.createElement(Kr.a,{badgeContent:11,color:"secondary"},i.a.createElement(Xr.a,null))),i.a.createElement("p",null,"Notification")),i.a.createElement(Zr.a,{onClick:function(t){e.dispatch({type:"profile-anchor",payload:t.currentTarget})}},i.a.createElement(de.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},i.a.createElement(Yr.a,null)),i.a.createElement("p",null,"Account")),i.a.createElement(Zr.a,{onClick:function(){o(),e.logout&&e.logout()}},i.a.createElement(de.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},i.a.createElement(Yr.a,null)),i.a.createElement("p",null,"Sign Out"))):i.a.createElement(Wr.a,{anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},id:a,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:r,onClose:o},i.a.createElement(rt.a,{to:"/login",component:Xe.a,color:"secondary"},i.a.createElement(Zr.a,{onClick:o},i.a.createElement(de.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},i.a.createElement(Yr.a,null)),i.a.createElement("p",null,"\u0648\u0631\u0648\u062f"))),i.a.createElement(rt.a,{to:"/register",component:Xe.a,color:"secondary"},i.a.createElement(Zr.a,{onClick:o},i.a.createElement(de.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},i.a.createElement(Yr.a,null)),i.a.createElement("p",null,"\u062b\u0628\u062a \u0646\u0627\u0645"))))},$r=function(e){var t=e.loggedIn,a=e.state,n=e.logout,r=e.dispatch,o=a.profileMoreAnchor,c=a.menuId,l=Boolean(o),s=function(){r({type:"profile-close"})},u=t?Vr.in:Vr.out;return i.a.createElement(Wr.a,{anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},id:c,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:l,onClose:s},u.map((function(e,t){return i.a.createElement(rt.a,{to:e.to,key:"menuitem-"+t,onClick:s,component:Xe.a,color:"secondary"},i.a.createElement(Zr.a,{onClick:s},e.name))})),t&&i.a.createElement(Zr.a,{onClick:function(){n&&n(),s()}},"\u062e\u0631\u0648\u062c"))},ei=a(376),ti=a(377),ai=Object(Ue.a)((function(e){return Object(Be.a)({sectionDesktop:Object(b.a)({display:"none"},e.breakpoints.up("sm"),{display:"flex"}),sectionMobile:Object(b.a)({display:"flex"},e.breakpoints.up("sm"),{display:"none"})})})),ni=function(e){var t=ai(),a=e.state,n=a.menuId,r=a.mobileMenuId,o=function(t){e.dispatch({type:"profile-anchor",payload:t.currentTarget})};return e.loggedIn?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:t.sectionDesktop},i.a.createElement(de.a,{"aria-label":"show 4 new mails",color:"inherit"},i.a.createElement(Kr.a,{badgeContent:4,color:"secondary"},i.a.createElement(ei.a,null))),i.a.createElement(de.a,{"aria-label":"show 17 new alerts",color:"inherit"},i.a.createElement(Kr.a,{badgeContent:17,color:"secondary"},i.a.createElement(Xr.a,null))),i.a.createElement(de.a,{edge:"end","aria-label":"account of current user","aria-controls":n,"aria-haspopup":"true",onClick:o,color:"inherit"},i.a.createElement(Yr.a,null))),i.a.createElement("div",{className:t.sectionMobile},i.a.createElement(de.a,{"aria-label":"show more","aria-controls":r,"aria-haspopup":"true",onClick:function(t){e.dispatch({type:"mobile-anchor",payload:t.currentTarget})},color:"inherit"},i.a.createElement(ti.a,null)))):i.a.createElement(de.a,{edge:"end","aria-label":"account of current user","aria-controls":n,"aria-haspopup":"true",onClick:o,color:"inherit"},i.a.createElement(Yr.a,null))},ri=a(193),ii=a(187),oi=a.n(ii),ci=a(10),li=function(e){Object(be.a)(a,e);var t=Object(ve.a)(a);function a(e){var n;return Object(pe.a)(this,a),(n=t.call(this,e)).handleOnInputChange=function(e){var t=e.target.value;n.setState({query:t,loading:!0})},n.fetchSearchResult=function(){},n.state={query:"",results:{},loading:!1,message:""},n}return Object(ge.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.query;return i.a.createElement("div",{className:t.search},i.a.createElement("div",{className:t.searchIcon},i.a.createElement(oi.a,null)),i.a.createElement(ri.a,{placeholder:"\u062c\u0633\u062a\u062c\u0648...",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"},type:"text",value:a,onChange:function(t){return e.handleOnInputChange(t)}}))}}]),a}(i.a.Component),si=Object(De.a)((function(e){var t;return Object(Be.a)({search:Object(b.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(ci.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(ci.c)(e.palette.common.white,.25)},width:"100%",marginLeft:e.spacing(1)},e.breakpoints.up(420),{width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",top:0,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},inputRoot:{color:"inherit"},inputInput:(t={padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"0","&:focus":{width:"12ch"}},Object(b.a)(t,e.breakpoints.down(420),{width:"7ch"}),Object(b.a)(t,e.breakpoints.down(350),{width:"0"}),t)})}))(li),ui=Object(Ue.a)((function(e){return Object(Be.a)({appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},hide:{display:"none"},menuButton:{marginRight:e.spacing(2)}})})),di=function(e){var t=ui(),a=e.state.menuIsOpen;return i.a.createElement(Ht.a,{color:"default",position:"relative",className:Object(vt.a)(t.appBar,Object(b.a)({},t.appBarShift,a))},i.a.createElement(lr.a,null,i.a.createElement(de.a,{color:"inherit","aria-label":"open drawer",onClick:function(){e.dispatch({type:"menu-toggle"})},edge:"start",className:Object(vt.a)(t.menuButton,Object(b.a)({},t.hide,a))},i.a.createElement(wr.a,null)),i.a.createElement(rt.a,{component:Xe.a,color:"secondary",to:"/"},"\u0645\u0644\u0648\u062f\u06cc\u0634\u0646"),i.a.createElement("p",{onClick:function(){return sessionStorage.clear()}},"(","0.5.4",")"),i.a.createElement(qr,{openStatus:a}),i.a.createElement(si,null),i.a.createElement(ni,e)),i.a.createElement(Pr,e),i.a.createElement(Jr,e),i.a.createElement($r,e))},mi={menuId:"primary-search-account-menu",mobileMenuId:"primary-search-account-menu-mobile",profileMoreAnchor:null,mobileMoreAnchor:null,menuIsOpen:!1};function hi(e,t){switch(t.type){case"field":return Object(g.a)(Object(g.a)({},e),{},Object(b.a)({},t.fieldName,t.payload));case"menu-toggle":return Object(g.a)(Object(g.a)({},e),{},{menuIsOpen:!e.menuIsOpen});case"profile-close":return Object(g.a)(Object(g.a)({},e),{},{profileMoreAnchor:null});case"mobile-close":return Object(g.a)(Object(g.a)({},e),{},{mobileMoreAnchor:null});case"mobile-anchor":return Object(g.a)(Object(g.a)({},e),{},{mobileMoreAnchor:t.payload});case"profile-anchor":return Object(g.a)(Object(g.a)({},e),{},{profileMoreAnchor:t.payload});default:return e}}var fi=Object(s.c)((function(e){var t=e.auth;return{loggedIn:t.loggedIn,theme:t.theme}}),(function(e){return{logout:Object(u.b)(Ce,e),changeTheme:Object(u.b)(Oe,e)}}))((function(e){var t=Object.assign({},e),a=Object(r.useReducer)(hi,mi),n=Object(ce.a)(a,2),o=n[0],c=n[1];return i.a.createElement(di,Object.assign({state:o,dispatch:c},t))})),pi=function(e){return{type:"REMOVE_SNACKBAR",key:e}},gi=[],bi=Object(s.c)((function(e){return{snackbars:e.snackbar.snackbars}}),(function(e){return{removeSnack:Object(u.b)(pi,e)}}))((function(e){var t=e.snackbars,a=e.removeSnack,i=Object(m.b)(),o=i.enqueueSnackbar,c=i.closeSnackbar;return Object(r.useEffect)((function(){null===t||void 0===t||t.forEach((function(e){var t,r=e.key,i=e.message,l=e.options,s=void 0===l?{}:l,u=e.dismissed;void 0!==u&&u?c(r):gi.includes(r)||(o(i,Object(g.a)(Object(g.a)({key:r},s),{},{onClose:function(e,t,a){s.onClose&&s.onClose(e,t,a)},onExited:function(e,t){var r;a&&a(String(t)),r=String(t),gi=Object(n.a)(gi.filter((function(e){return r!==e})))}})),t=r,gi=[].concat(Object(n.a)(gi),[t]))}))}),[t,c,o,a]),null})),vi=Object(o.b)({plugins:[].concat(Object(n.a)(Object(er.a)().plugins),[l()()])}),Ei=Object(Ue.a)((function(e){return Object(Be.a)({app:{width:"100vw",height:"100vh",overflowX:"hidden",display:"flex",flexDirection:"column",overflow:"hidden"},mainBody:{height:"inherit",overflowX:"hidden",overflowY:"auto"},paper:{zIndex:999999,position:"absolute"}})})),_i=Object(s.c)((function(e){return{theme:e.auth.theme,playMode:e.melodition.playMode}}),(function(e){return{changeMode:Object(u.b)(Cn,e)}}))((function(e){var t=e.theme,a=e.playMode,n=e.changeMode,r=Ei(),o="light"===t?yr:_r,c=Object(tr.a)(o);return ne.listen((function(){a&&n(!1)})),i.a.createElement(d.a,{history:ne},i.a.createElement(ar.b,{jss:vi},i.a.createElement(nr.a,{theme:c},i.a.createElement(m.a,null,i.a.createElement(ue.a,{direction:"right",in:a,mountOnEnter:!0,unmountOnExit:!0},i.a.createElement(Ft.a,{elevation:4,className:r.paper},i.a.createElement(hr,null))),i.a.createElement(at.a,{className:r.app},i.a.createElement(fi,null),i.a.createElement(kr,null),i.a.createElement(bi,null),i.a.createElement(at.a,{id:"main-body",className:r.mainBody},i.a.createElement($n,null)))))))})),yi=a(21);Object(yi.render)(i.a.createElement(s.a,{store:re},i.a.createElement(_i,null)),document.getElementById("root"))}},[[227,17,18]]]);
//# sourceMappingURL=main.0128a8ed.chunk.js.map