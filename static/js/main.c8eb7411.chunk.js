(this["webpackJsonpmelodition-typescript"]=this["webpackJsonpmelodition-typescript"]||[]).push([[17],{109:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"f",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"e",(function(){return c})),a.d(t,"a",(function(){return l}));var n="REQUEST_POSTS",r="SUCCESS_POSTS",i="FAILURE_POSTS",o="REQUEST_POST",c="SUCCESS_POST",l="FAILURE_POST"},133:function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return c})),a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return u}));var n=a(12),r=a(25),i=[1,2,4,6,7,9,11,13,14,16,18,19,21,23,25,26,28,30,31,33,35,37,38,40,42],o=[0,2,4,6,7,9,11,12,14,16,18,19,21,23,24,26,28,30,31,33,35,36,38,40,42,43,45,47],c=function(e){var t=e%12,a="C";return 1===t&&(a="Db"),2===t&&(a="D"),3===t&&(a="Eb"),4===t&&(a="E"),5===t&&(a="F"),6===t&&(a="Gb"),7===t&&(a="G"),8===t&&(a="Ab"),9===t&&(a="A"),10===t&&(a="Bb"),11===t&&(a="B"),""+a},l=function(e){return 101===e||81===e||60===e||40===e},s={z:48,s:49,x:50,d:51,c:52,v:53,g:54,b:55,h:56,n:57,j:58,m:59,",":60,l:61,".":62,";":63,"/":64,q:65,2:66,w:67,3:68,e:69,4:70,r:71,t:72,6:73,y:74,7:75,u:76,i:77,9:78,o:79,0:80,p:81,"-":82,"[":83,"]":84},u=function e(){var t=this;Object(n.a)(this,e),this.isDown=!1,this.playedKey=void 0,this.keyboardUp=function(e){e.preventDefault();var a=e.key;if(s.hasOwnProperty(a)){var n=s[a];Object(r.h)(n),t.playedKey=null}},this.keyboardDown=function(e){e.preventDefault();var a=e.key;if(s.hasOwnProperty(a)&&a!==t.playedKey){var n=s[a];Object(r.i)(n),t.playedKey=a}},this.mouseUpReset=function(){t.isDown=!1},this.mouseDown=function(e){e.preventDefault();var a=e.currentTarget.tabIndex;t.isDown=!0,t.playedKey=a,Object(r.i)(a)},this.mouseOver=function(e){e.preventDefault();var a=e.currentTarget.tabIndex;t.isDown&&a!==t.playedKey&&(t.playedKey=a,Object(r.i)(a))},this.mouseLeave=function(e){e.preventDefault();var a=e.currentTarget.tabIndex;t.isDown&&(Object(r.h)(a),t.playedKey=null)},this.mouseUp=function(e){e.preventDefault();var a=e.currentTarget.tabIndex;t.isDown=!1,Object(r.h)(a),t.playedKey=null}}},145:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return l}));var n,r=a(243),i=a(25),o=a(32),c=function(){navigator.requestMIDIAccess?navigator.requestMIDIAccess().then((function(e){console.log("MIDI Ready!");var t,a=Object(r.a)(e.inputs);try{for(a.s();!(t=a.n()).done;){var i=t.value;n=i[1],Object(o.c)("MIDI input device: "+n.name),console.log(n),n.onmidimessage=f,n.onstatechange=s}}catch(c){a.e(c)}finally{a.f()}})).catch((function(e){Object(o.a)("Error accessing MIDI devices: "+e)})):Object(o.a)("\u0644\u0637\u0641\u0627\u064b \u0628\u0631\u0627\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0627\u0645\u0644 \u0627\u0632 \u0627\u0645\u06a9\u0627\u0646\u0627\u062a \u0633\u0627\u06cc\u062a \u0627\u0632 \u06af\u0648\u06af\u0644 \u06a9\u0631\u0648\u0645 \u06cc\u0627 \u0645\u0627\u06cc\u06a9\u0631\u0648\u0633\u0627\u0641\u062a \u0627\u062c \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f.")},l=function(e){n&&(n.onmidimessage=e?f:function(){})},s=function(e){console.log(e)},u=[],d=!1,f=function(e){var t=e.data;if(3===t.length){var a=t[0]>>>4;if(11===a){var n=t[2];127!==n&&0!==n||(d=h(n))}if(9===a||8===a){var r=t[1],o=t[2];9===a&&o?(Object(i.i)(r,o/100),u.push(r)):d||(Object(i.h)(r),u=[])}}},h=function(e){return 0!==e||(u.forEach((function(e){Object(i.h)(e)})),u=[],!1)}},20:function(e,t,a){"use strict";a.d(t,"a",(function(){return $})),a.d(t,"b",(function(){return ee}));var n=a(62),r=a(237),i=a(11),o=a(218),c=a(53),l=a(2),s=a(35),u=a(39),d=Object(u.c)("user"),f="dark"===localStorage.getItem("theme")?"dark":"light",h=d?{loggedIn:!0,loading:!1,user:d,theme:f}:{loggedIn:!1,loading:!1,theme:f};function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.c:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case s.d:return Object(l.a)(Object(l.a)({},e),{},{loggedIn:!0,loading:!1,user:t.user});case s.b:return Object(l.a)(Object(l.a)({},e),{},{loading:!1});case s.i:return Object(l.a)(Object(l.a)({},e),{},{loggedIn:!1,loading:!0});case s.j:case s.h:return Object(l.a)(Object(l.a)({},e),{},{loading:!1});case s.f:return Object(l.a)(Object(l.a)({},e),{},{loggedIn:!1,loading:!0});case s.g:case s.e:return Object(l.a)(Object(l.a)({},e),{},{loading:!1});case s.k:return Object(l.a)(Object(l.a)({},e),{},{user:void 0,loggedIn:!1,loading:!1});case s.a:return localStorage.setItem("theme",t.theme),Object(l.a)(Object(l.a)({},e),{},{theme:t.theme});default:return e}}var p=a(26),b={loading:!0,error:"User not found!"};function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.d:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case p.e:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,data:t.profile});case p.c:return{loading:!1,error:t.error};case p.f:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,playtime:t.playtime});case p.b:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,favorite:t.favorite});case p.a:return{loading:!0,error:"User not found!"};default:return e}}var v=a(84),_=a(48),y={snackbars:[]},E=function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case _.c:return Object(l.a)(Object(l.a)({},a),{},{snackbars:[].concat(Object(v.a)(a.snackbars),[Object(l.a)({},n.snackbar)])});case _.a:return Object(l.a)(Object(l.a)({},a),{},{snackbars:null===(e=a.snackbars)||void 0===e?void 0:e.map((function(e){return n.dismissAll||e.key===n.key?Object(l.a)(Object(l.a)({},e),{},{dismissed:!0}):Object(l.a)({},e)}))});case _.b:return Object(l.a)(Object(l.a)({},a),{},{snackbars:null===(t=a.snackbars)||void 0===t?void 0:t.filter((function(e){return e.key!==n.key}))});default:return a}},O=a(31),j={fingerLoading:!0,notesLoading:!0,pianoLoading:!0,gameLoading:!0,seekLoading:!0,loading:!0},k=Object(l.a)(Object(l.a)({},j),{},{playMode:!1,noteMode:!1,octave:5,bpm:4,songLength:272,tapSize:32}),S=JSON.parse(JSON.stringify(k)),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.j:return Object(l.a)(Object(l.a)(Object(l.a)({},e),t.payload),{},{loading:!1});case O.c:case O.e:return Object(l.a)(Object(l.a)(Object(l.a)({},e),t.payload),{},{pianoLoading:!1});case O.b:return Object(l.a)(Object(l.a)({},e),{},{gameLoading:!1});case O.a:return Object(l.a)(Object(l.a)({},e),{},{fingerLoading:!1});case O.d:return Object(l.a)(Object(l.a)({},e),{},{notesLoading:!1});case O.f:return Object(l.a)(Object(l.a)({},e),{},{seekLoading:!1});case O.g:return Object(l.a)(Object(l.a)({},e),{},{noteMode:!0});case O.h:return Object(l.a)(Object(l.a)(Object(l.a)({},e),j),{},{loading:!1,playMode:!0,canvasSize:void 0});case O.i:return Object(l.a)(Object(l.a)(Object(l.a)({},e),j),{},{loading:!1,playMode:!1});case O.l:return Object(l.a)(Object(l.a)({},e),{},{pianoLoading:!0,gameLoading:!0,notesLoading:!0});case O.k:return S;default:return e}},x=a(109),C={data:[],loading:!0,error:"Not Found",nextLoad:0},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.d:return e;case x.f:return Object(l.a)(Object(l.a)({},e),{},{data:t.payload.data,nextLoad:t.payload.nextLoad,loading:!1});case x.b:return{data:[],error:t.error,nextLoad:0,loading:!1};default:return e}},N={loading:!0,error:"Not Found"},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.c:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,data:void 0});case x.e:return t.data,Object(l.a)(Object(l.a)({},e),{},{data:t.data,loading:!1});case x.a:return Object(l.a)(Object(l.a)({},e),{},{error:t.error,loading:!1});default:return e}},T=a(93),I={data:[],loading:!0,error:"Not Found",nextLoad:0},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.d:return e;case T.g:return Object(l.a)(Object(l.a)({},e),{},{data:t.payload.data,nextLoad:t.payload.nextLoad,loading:!1});case T.e:var a=!1;return e.data.length&&(a=t.data.every((function(t){return e.data.map((function(e){return e.id===t.id}))}))),Object(l.a)(Object(l.a)({},e),{},{data:a?e.data:t.data});case T.b:return{data:[],error:t.error,nextLoad:0,loading:!1};default:return e}},B={loading:!0,error:"Not Found"},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.c:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,data:void 0});case T.f:return Object(l.a)(Object(l.a)({},e),{},{data:t.data,loading:!1});case T.a:return Object(l.a)(Object(l.a)({},e),{},{error:t.error,loading:!1});default:return e}},R=a(89),P={data:[],loading:!0,error:"Not Found",nextLoad:0},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.d:return e;case R.g:return Object(l.a)(Object(l.a)({},e),{},{data:t.payload.data,nextLoad:t.payload.nextLoad,loading:!1});case R.e:var a=!1;return e.data.length&&(a=t.data.every((function(t){return e.data.map((function(e){return e.id===t.id}))}))),Object(l.a)(Object(l.a)({},e),{},{data:a?e.data:t.data});case R.b:return{data:[],error:t.error,nextLoad:0,loading:!1};default:return e}},V={loading:!0,error:"Not Found"},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.c:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,data:void 0});case R.f:return Object(l.a)(Object(l.a)({},e),{},{data:t.data,loading:!1});case R.a:return Object(l.a)(Object(l.a)({},e),{},{error:t.error,loading:!1});default:return e}},F=a(90),D={data:[],loading:!0,error:"Not Found",nextLoad:0},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.d:return e;case F.g:return Object(l.a)(Object(l.a)({},e),{},{data:t.payload.data,nextLoad:t.payload.nextLoad,loading:!1});case F.e:var a=!1;return e.data.length&&(a=t.data.every((function(t){return e.data.map((function(e){return e.id===t.id}))}))),Object(l.a)(Object(l.a)({},e),{},{data:a?e.data:t.data});case F.b:return{data:[],nextLoad:0,error:t.error,loading:!1};default:return e}},H={loading:!0,error:"Not Found"},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.c:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,data:void 0});case F.f:return void 0===t.data?Object(l.a)(Object(l.a)({},e),{},{loading:!1}):Object(l.a)(Object(l.a)({},e),{},{data:t.data,loading:!1});case F.a:return Object(l.a)(Object(l.a)({},e),{},{error:t.error,loading:!1});default:return e}},K=a(88),Z={data:[],loading:!0,error:"Not Found",nextLoad:0},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K.d:return e;case K.g:return Object(l.a)(Object(l.a)({},e),{},{data:t.payload.data,nextLoad:t.payload.nextLoad,loading:!1});case K.e:var a=!1;return e.data.length&&(a=t.data.every((function(t){return e.data.map((function(e){return e.id===t.id}))}))),Object(l.a)(Object(l.a)({},e),{},{data:a?e.data:t.data});case K.b:return{data:[],error:t.error,nextLoad:0,loading:!1};default:return e}},X={loading:!0,error:"Not Found"},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K.c:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,data:void 0});case K.f:return t.data,Object(l.a)(Object(l.a)({},e),{},{data:t.data,loading:!1});case K.a:return Object(l.a)(Object(l.a)({},e),{},{error:t.error,loading:!1});default:return e}},Y=function(e){return Object(i.c)({router:Object(c.b)(e),single:Object(i.c)({post:L,guide:M,course:W,lesson:z,exercise:J}),bank:Object(i.c)({posts:A,guides:G,courses:q,lessons:U,exercises:Q}),melodition:w,user:g,snackbar:E,auth:m})},$=Object(n.a)(),ee=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d;return Object(i.e)(Y($),e,t(Object(i.a)(Object(o.a)($),r.a)))}()},208:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(37),r=a(0),i=a.n(r),o=a(204),c=a(347),l=a(348),s=a(25),u=function(e){var t=e.loading,a=Object(r.useState)(!1),u=Object(n.a)(a,2),d=u[0],f=u[1],h=function(){d?(Object(s.o)(),f(!1)):(Object(s.n)(),f(!0))},m=function(e){"Space"!==e.code||t||h()};return Object(r.useEffect)((function(){return document.addEventListener("keyup",m),function(){document.removeEventListener("keyup",m)}})),i.a.createElement(o.a,{id:"play-button",color:"secondary","aria-label":"play song",onClick:h},d?i.a.createElement(c.a,{style:{fontSize:"1.8em"}}):i.a.createElement(l.a,{style:{fontSize:"1.8em"}}))}},209:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(15),o=a(11),c=a(25),l=a(133),s=a(341),u=a(336),d=a(145),f=[{note:"C",xPos:47,yPos:205,id:"white",front:"M0.5 0.5H42.5V155.5C42.5 156.881 43.6193 158 45 158H79.5V245C79.5 247.485 77.4853 249.5 75 249.5H5C2.51472 249.5 0.5 247.485 0.5 245V0.5Z"},{note:"Db",xPos:77,yPos:95,id:"black",front:"M95 0H45V153C45 154.105 45.8954 155 47 155H93C94.1046 155 95 154.105 95 153V0Z",back:"M79 130H61C52 130 52 150 52 150H88C88 150 88 130 79 130Z"},{note:"D",xPos:130,yPos:205,id:"white",front:"M150.5 0.5H97.5V155.5C97.5 156.881 96.3807 158 95 158H84.5V245C84.5 247.485 86.5147 249.5 89 249.5H159C161.485 249.5 163.5 247.485 163.5 245V158H153C151.619 158 150.5 156.881 150.5 155.5V0.5Z"},{note:"Eb",xPos:185,yPos:95,id:"black",front:"M203 0H153V153C153 154.105 153.895 155 155 155H201C202.105 155 203 154.105 203 153V0Z",back:"M187 130H169C160 130 160 150 160 150H196C196 150 196 130 187 130Z"},{note:"E",xPos:214,yPos:205,id:"white",front:"M247.5 0.5H205.5V155.5C205.5 156.881 204.381 158 203 158H168.5V245C168.5 247.485 170.515 249.5 173 249.5H243C245.485 249.5 247.5 247.485 247.5 245V0.5Z"},{note:"F",xPos:298,yPos:205,id:"white",front:"M252.5 0.5H291.5V155.5C291.5 156.881 292.619 158 294 158H331.5V245C331.5 247.485 329.485 249.5 327 249.5H257C254.515 249.5 252.5 247.485 252.5 245V0.5Z"},{note:"Gb",xPos:327,yPos:95,id:"black",front:"M344 0H294V153C294 154.105 294.895 155 296 155H342C343.105 155 344 154.105 344 153V0Z",back:"M328 130H310C301 130 301 150 301 150H337C337 150 337 130 328 130Z"},{note:"G",xPos:383,yPos:205,id:"white",front:"M390.5 0.5H346.5V155.5C346.5 156.881 345.381 158 344 158H336.5V245C336.5 247.485 338.515 249.5 341 249.5H411C413.485 249.5 415.5 247.485 415.5 245V158H393C391.619 158 390.5 156.881 390.5 155.5V0.5Z"},{note:"Ab",xPos:427,yPos:95,id:"black",front:"M443 0H393V153C393 154.105 393.895 155 395 155H441C442.105 155 443 154.105 443 153V0Z",back:"M427 130H409C400 130 400 150 400 150H436C436 150 436 130 427 130Z"},{note:"A",xPos:466,yPos:205,id:"white",front:"M491.5 0.5H445.5V155.5C445.5 156.881 444.381 158 443 158H420.5V245C420.5 247.485 422.515 249.5 425 249.5H495C497.485 249.5 499.5 247.485 499.5 245V158H494C492.619 158 491.5 156.881 491.5 155.5V0.5Z"},{note:"Bb",xPos:526,yPos:95,id:"black",front:"M544 0H494V153C494 154.105 494.895 155 496 155H542C543.105 155 544 154.105 544 153V0Z",back:"M528 130H510C501 130 501 150 501 150H537C537 150 537 130 528 130Z"},{note:"B",xPos:551,yPos:205,id:"white",front:"M583.5 0.5H546.5V155.5C546.5 156.881 545.381 158 544 158H504.5V245C504.5 247.485 506.515 249.5 509 249.5H579C581.485 249.5 583.5 247.485 583.5 245V0.5Z"},{note:"C",xPos:637,yPos:205,id:"white",front:"M663 249.5H593C590.515 249.5 588.5 247.485 588.5 245V0.5H667.5V245C667.5 247.485 665.485 249.5 663 249.5Z"}],h=Object(s.a)((function(e){return Object(u.a)({root:{display:"flex",flexDirection:"row-reverse",justifyContent:"center",flexWrap:"nowrap",margin:"0 auto",minWidth:"215px",width:"100%",cursor:"default","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",touchAction:"none"},back:{margin:e.spacing(0,2)}})})),m=Object(i.c)((function(e){return{theme:e.auth.theme,Melo:e.melodition}}),(function(e){return{drawGamePiano:Object(o.b)(c.g,e),drawNotePiano:Object(o.b)(c.j,e)}}))((function(e){var t=e.Melo,a=e.drawGamePiano,i=e.drawNotePiano,o=new l.a,c=o.keyboardDown,s=o.keyboardUp,u=o.mouseDown,m=o.mouseUp,p=o.mouseLeave,b=o.mouseOver,g=36,v=36,_={};Object(n.useEffect)((function(){return console.log("Piano mounted"),Object(d.a)(!0),document.addEventListener("keydown",c),document.addEventListener("keyup",s),function(){console.log("Piano disMounted"),Object(d.a)(!1),document.removeEventListener("keydown",c),document.removeEventListener("keyup",s)}}),[t.loading,c,s]);var y,E=h(),O=function(e){if(e){var t=e.tabIndex;_[t]=e}};return(y=t.octave)>6?(g=24,v=24):y>3?(g=36,v=36):y>1?(g=48,v=48):(g=60,v=60),r.a.createElement("div",{ref:function(e){if(e&&t.pianoLoading){var n=e.getBoundingClientRect(),r=n.width,o=Math.floor(window.innerHeight-(n.height+64));if(t.playMode){var c=function(e){var a=4*t.bpm;return e/a}(o),s=c*(t.bpm<=4?4:t.bpm)+8,u=n.left;a(_,{width:r,height:o,baseLine:s,pianoLeft:u},c)}else if(t.noteMode&&t.neededLines){var d=t.neededLines.up>83?102:83,f=t.neededLines.down<58||t.neededLines.up>83?28:16,h=d>83?l.e:l.b,m=o/2.1/(f/2),p=r/(t.neededLines.notes+2),b=.5*p<7?7:.5*p>12?12:.5*p,g=Array.from(Array(f),(function(e,t){return d-h[t]})),v={};g.forEach((function(e,t){var a=(t+1)*m/2;v[e]={pos:a,note:Object(l.d)(e)},v[e-1]={pos:a,note:Object(l.d)(e-1)}})),i(_,{width:r,height:o/2.1,tapSize:m,spaceSize:p,fontSize:b,linesArray:g,notePos:v})}else a(_)}},className:E.root},Array.from(Array(t.octave),(function(e,t){return"oct"+(t+1)})).map((function(e,a){var n=t.octave-a===1?668:584;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",id:e,key:e,width:n,height:"100%",viewBox:"0 0 ".concat(n," 275"),fill:"none",style:a!==t.octave-1?{marginRight:8/t.octave}:void 0},f.map((function(n,i){var o,c=f.length,l=g===v?"first":n.note;t.octave-a===1&&c===i+1&&(c++,l="last",a++);var s="white"===n.id?"#B5B5B5":void 0,d="white"===n.id?"black":"rgb(255 255 255 / 65%)",h=null===(o=t.neededTracks)||void 0===o?void 0:o.some((function(e){return e.pitch+36===g})),_="white"===n.id?n.xPos:n.xPos+6;return c!==i+1&&r.a.createElement("g",{id:n.id,ref:O,onMouseUp:m,onMouseDown:u,onMouseLeave:p,onTouchEnd:p,onTouchMove:b,onTouchStart:u,key:e+"-"+n.note+a,className:l,tabIndex:g},r.a.createElement("path",{id:"back",d:n.front,fill:n.id,stroke:s}),"white"!==n.id?r.a.createElement("path",{id:"front",d:n.back,fill:d}):r.a.createElement("text",{id:"front",x:_,y:n.yPos,fill:"rgb(155 155 155)",fontSize:"25",fontWeight:"900"},n.note),h&&r.a.createElement("circle",{cx:n.xPos-8,cy:n.yPos+20,r:"6",fill:"rgb(56 56 56)",stroke:n.id,strokeWidth:"2"}),60===g++&&r.a.createElement("polygon",{points:"30,265 40,255 50,265",fill:"black"}))})))})))}));t.a=m},231:function(e,t,a){"use strict";var n=a(37),r=a(0),i=a.n(r),o=a(15),c=a(11),l=a(349),s=a(25),u=Object(o.c)((function(e){return{Melo:e.melodition}}),(function(e){return{drawSeekBar:Object(c.b)(s.f,e)}}))((function(e){var t=e.Melo,a=e.drawSeekBar,n=Object(r.useCallback)((function(e){return e&&t.seekLoading&&a({seekBar:e}),function(){}}),[t.seekLoading,a]);return i.a.createElement("div",{style:{height:"40%"}},i.a.createElement(d,{ref:n,Melo:t}))}));t.a=u;var d=Object(r.forwardRef)((function(e,t){var a=e.Melo,o=Object(r.useState)(0),c=Object(n.a)(o,2),u=c[0],d=c[1];Object(r.useImperativeHandle)(t,(function(){return{changeSeeker:f}}));var f=function(e){"number"===typeof e&&d(e)};return i.a.createElement(l.a,{color:"secondary",orientation:"vertical","aria-label":"seekbar",defaultValue:0,max:a.songLength,min:0,onChange:function(e,t){var a;"number"===typeof(a=t)&&Object(s.a)(a)},"aria-labelledby":"vertical-slider",value:u})}))},238:function(e,t,a){e.exports=a.p+"static/media/melodition.7fdc0c11.jpg"},25:function(e,t,a){"use strict";a.d(t,"k",(function(){return P})),a.d(t,"g",(function(){return U})),a.d(t,"j",(function(){return V})),a.d(t,"c",(function(){return z})),a.d(t,"f",(function(){return F})),a.d(t,"d",(function(){return D})),a.d(t,"e",(function(){return q})),a.d(t,"m",(function(){return H})),a.d(t,"l",(function(){return W})),a.d(t,"b",(function(){return K})),a.d(t,"a",(function(){return Z})),a.d(t,"n",(function(){return Q})),a.d(t,"o",(function(){return X})),a.d(t,"i",(function(){return J})),a.d(t,"h",(function(){return Y}));var n=a(31),r=a(20),i=a(41),o=a(12),c=new function e(){Object(o.a)(this,e),this.touchedKeys=[],this.score=[],this.trackLen=void 0},l=a(2),s=a(18),u=function(){function e(t){var a=t.note,n=t.len,r=t.hand,i=t.beat,c=t.num,l=t.pitch;Object(o.a)(this,e),this.len=void 0,this.note=void 0,this.finger=void 0,this.hand=void 0,this.color=void 0,this.bColor=void 0,this.fColor=void 0,this.cColor=void 0,this.end=void 0,this.num=void 0,this.pitch=void 0,this.showing=void 0,this.len=n,this.note=a,this.num=c,this.pitch=l,this.end=this.len-1+i,this.end<=i&&(this.end=i+1),this.hand=r.hand,this.finger=r.finger,this.fColor="rgba(210, 210, 210, 0.5)",this.cColor=a.children.front.getAttribute("fill"),this.bColor=a.id,"right"===this.hand?this.color="yellow":this.color="skyblue",this.showing=!0}return Object(s.a)(e,[{key:"show",value:function(e){var t=this.color;e&&(t=e),this.note.children.back.setAttribute("fill",t),this.note.children.front.setAttribute("fill","black"),this.finger.setAttribute("fill",t)}},{key:"hide",value:function(){this.note.children.back.setAttribute("fill",this.bColor),this.note.children.front.setAttribute("fill",this.cColor),this.note.children.back.style.fill="",this.note.children.front.style.fill="",this.finger.setAttribute("fill",this.fColor),this.showing=!1}}]),e}(),d=function e(t,a,n){var r=this;Object(o.a)(this,e),this.y=void 0,this.end=void 0,this.yPos=void 0,this.margin=void 0,this.update=function(e,t){e.drawImage(t,0,Math.floor(r.y-r.yPos-r.margin))},this.y=0,this.margin=n,this.yPos=t*a,this.end=this.yPos+a+n},f=function e(t){var a=this,n=t.width,r=t.color,i=t.x,c=t.y,l=t.lw;Object(o.a)(this,e),this.x=void 0,this.y=void 0,this.lw=void 0,this.color=void 0,this.width=void 0,this.draw=function(e){e.beginPath(),e.moveTo(0,a.y),e.lineTo(a.width,a.y),e.lineWidth=a.lw,e.strokeStyle=a.color,e.stroke(),e.fill()},this.x=i,this.y=c,this.width=n,this.color=r,this.lw=l},h=function e(t){var a=this,n=t.width,r=t.height,i=t.color,c=t.x,l=t.y,s=t.end,u=t.note,d=t.text,f=t.gap;Object(o.a)(this,e),this.y=void 0,this.x=void 0,this.r=void 0,this.gap=void 0,this.beg=void 0,this.end=void 0,this.start=void 0,this.height=void 0,this.width=void 0,this.mover=void 0,this.note=void 0,this.text=void 0,this.color=void 0,this.lineColor=void 0,this.crash=void 0,this.hit=void 0,this.move=function(){a.crash=!0,a.mover=a.y-a.gap,a.mover>-a.height&&(a.mover=-a.height)},this.update=function(e){e.beginPath(),e.moveTo(a.x,a.y+a.start),e.lineTo(a.x,a.y+a.height),e.lineWidth=.85*a.width,e.strokeStyle="black",e.lineCap="round",e.stroke(),e.beginPath(),e.moveTo(a.x,a.y+a.start),e.lineTo(a.x,a.y+a.height),e.lineWidth=.2*a.width,e.strokeStyle="white",e.stroke(),a.crash&&(e.beginPath(),e.moveTo(a.x,a.y+a.start),e.lineTo(a.x,a.y-a.mover),e.lineWidth=.2*a.width,e.strokeStyle="red",e.stroke()),a.hit&&(e.beginPath(),e.moveTo(a.x,a.y+a.start),e.lineTo(a.x,a.y-a.hit),e.lineWidth=.25*a.width,e.strokeStyle=a.color,e.stroke()),a.crash&&!a.hit&&(a.color="red"),e.beginPath(),e.arc(a.x,a.y+a.start,1.4*a.r,0,2*Math.PI),e.fillStyle="black",e.fill(),e.beginPath(),e.arc(a.x,a.y+a.start,a.r,0,2*Math.PI),e.fillStyle=a.color,e.fill(),e.font="bold "+1.3*a.r+"px arial",e.textAlign="center",e.textBaseline="middle",e.fillStyle="black",e.fillText(a.text,a.x,a.y+a.start+1)},this.y=l,this.start=-l,this.gap=f,this.beg=l+f,this.end=s,this.note=u,this.height=-r,this.x=c,this.text=d,this.width=n,this.r=n/2,this.color=i,this.lineColor="black",this.mover=r,this.crash=!1},m=function e(t){var a=this;Object(o.a)(this,e),this.x=void 0,this.y=void 0,this.r=void 0,this.note=void 0,this.text=void 0,this.pitch=void 0,this.color=void 0,this.outline=void 0,this.update=function(e){e.beginPath(),e.arc(a.x,a.y,a.r,0,2*Math.PI),e.fillStyle="rgba(0, 0, 0, 0.2)",e.fill(),e.beginPath(),e.arc(a.x,a.y,.6*a.r,0,2*Math.PI),e.fillStyle=a.color,e.fill(),a.text&&(e.font=2*a.r+"px arial",e.textAlign="center",e.textBaseline="middle",e.fillStyle="black",e.fillText(a.text,a.x-1.2*a.r,a.y)),a.outline&&(e.globalCompositeOperation="destination-over",new p(e,a.outline),e.globalCompositeOperation="source-over")},Object.assign(this,t),this.color="white"},p=function e(t,a){var n=a.r,r=a.x,i=a.y;Object(o.a)(this,e),t.beginPath(),t.moveTo(r-n,i),t.lineTo(r+n,i),t.lineWidth=.5,t.strokeStyle="black",t.stroke()},b=function(){function e(t){var a=this;Object(o.a)(this,e),this.counter=0,this.tapSize=void 0,this.spaceSize=void 0,this.width=void 0,this.height=void 0,this.notePos={},this.fullNotes={},this.context=void 0,this.assigner=function(e){Object.assign(a,e)},this.playGame=function(e,t){a.clear(),a.updateFullSong(e,t)},this.clear=function(){a.context.clearRect(0,0,a.width,a.height)},this.drawNote=function(e){var t=1.6*a.spaceSize,n=.46*a.tapSize;n=a.spaceSize<20?.42*a.spaceSize:n;var r,i="K",o=[{note:"K",text:"!"}];Object.values(e).forEach((function(e,c){e.length>0&&e.forEach((function(e){var l,s=e.pitch+36,u=a.notePos[s].pos,d=a.notePos[s].note,f=t+c*a.spaceSize,h=a.notePos[s-1];if(2===d.length){var p=o.find((function(e){return e.note===d}));p?(l=p.text,d=p.note):h.note.includes(i)||0===c?l="\u266d":(l="\u266f",d=h.note,u=h.pos),o.push({note:d,text:l})}81!==s&&60!==s&&61!==s&&40!==s||(r={r:1.5*n,x:f,y:u}),59!==s&&58!==s||(r={r:1.2*n,x:f,y:a.notePos[60].pos}),i=d;var b=new m({x:f,y:u,r:n,pitch:s,text:l,note:d,outline:r});b.update(a.context),a.fullNotes[c]||(a.fullNotes[c]=[]),a.fullNotes[c].push(b)}))}))},this.updateFullSong=function(e,t){Object.values(a.fullNotes).forEach((function(n,r){n.forEach((function(n){r===e&&(n.color=t),r===e-1&&(n.color="green"),n.update(a.context)}))}))},this.width=t.width,this.height=t.height,this.context=t.getContext("2d")}return Object(s.a)(e,[{key:"resetGame",value:function(){var e=this;this.clear(),Object.values(this.fullNotes).forEach((function(t){t.forEach((function(t){t.color="white",t.update(e.context)}))}))}}]),e}(),g=function e(t){var a=this;Object(o.a)(this,e),this.counter=0,this.tapSize=32,this.songLength=17,this.gap=void 0,this.bpm=void 0,this.rythm=void 0,this.margin=128,this.width=void 0,this.height=void 0,this.notes=[],this.image=void 0,this.backMover=[],this.barNotes=[],this.fullNotes=[],this.context=void 0,this.assigner=function(e){Object.assign(a,e)},this.playGame=function(e){a.clear(),a.updateBacks(e),a.updateNotes(e)},this.clear=function(){a.context.clearRect(0,0,a.width,a.height)},this.pitchName=function(e){var t=e%12,a="C";return 1===t&&(a="Db"),2===t&&(a="D"),3===t&&(a="Eb"),4===t&&(a="E"),5===t&&(a="F"),6===t&&(a="Gb"),7===t&&(a="G"),8===t&&(a="Ab"),9===t&&(a="A"),10===t&&(a="Bb"),11===t&&(a="B"),""+a},this.drawImage=function(){var e,t,n,r=document.createElement("canvas").getContext("2d");r.canvas.width=a.width,r.canvas.height=a.height,r.save(),Array.from(Array(a.rythm+1),(function(e,t){return t})).forEach((function(n,i){i%a.rythm===0?(e=2,t="black"):3!==a.bpm&&i%(a.rythm/2)===0?(e=1.5,t="rgba(0,0,0,0.8)"):i%(a.rythm/a.bpm)===0?(e=1,t="rgba(0,0,0,0.7)"):i%(a.rythm/a.bpm)===0?(e=.7,t="rgba(0,0,0,0.5)"):(e=.5,t="rgba(0,0,0,0.2)");var o=i*a.tapSize;new f({width:a.width,color:t,x:0,y:o,lw:e}).draw(r)})),a.image.src=r.canvas.toDataURL("image/png"),a.image.onload=function(){n||(n=new d(0,a.height,a.margin)).update(a.context,a.image)}},this.drawNote=function(e,t){var n=a.tapSize;Array.from(Array(a.songLength),(function(e,t){return t})).forEach((function(r){var i=t[1].width,o=n*(a.rythm*r);a.barNotes[r]=[],e.forEach((function(e){if(e.beat>=r*a.rythm&&e.beat<(r+1)*a.rythm){var c=o+n*(e.beat%a.rythm),l=t[e.pitch].center,s=c+n*e.length,u=new h({width:i,height:s,color:"yellow",x:l,y:c,end:s+3*a.height,text:a.pitchName(e.pitch),note:e.pitch+36,gap:a.gap});a.barNotes[r].push(u),a.fullNotes.push(u)}}))}))},this.drawBack=function(){a.backMover=[];for(var e=0;e<3;e++)a.backMover.push(new d(e,a.height,a.margin))},this.pushNote=function(e){e&&(a.counter=e),a.barNotes[a.counter]&&a.barNotes[a.counter].length>0&&a.barNotes[a.counter].forEach((function(e){a.notes.push(e)})),a.songLength>a.counter+3&&a.backMover.push(new d(a.counter+3,a.height,a.margin)),a.counter++},this.updateNotes=function(e){a.notes.forEach((function(t,n){var r;(t.y=e,t.update(a.context),t.end<e&&a.notes.splice(n,1),a.gap-t.y<=t.start)&&(c.touchedKeys.forEach((function(n){t.note===n.note&&n.y>t.beg-a.tapSize&&n.y<t.beg+a.tapSize&&(t.hit=e-a.gap+.1*a.tapSize,n.y-.3*a.tapSize<=t.beg&&n.y+.3*a.tapSize>=t.beg?(r="p",t.color="green"):n.y>t.beg?(r="l",t.color="purple"):n.y<t.beg&&(r="e",t.color="orange"),n.hit||(n.hit=r,c.score.push([t.note,n.hit])))})),t.move())}))},this.updateBacks=function(e){a.backMover.forEach((function(t,n){t.y=e,t.update(a.context,a.image),t.y>t.end&&a.backMover.splice(n,1)}))},this.updateFullSong=function(e){a.clear(),Array.from(Array(a.songLength),(function(e,t){return t})).forEach((function(t,n){a.context.drawImage(a.image,0,Math.floor(e-n*a.image.height-a.margin))})),a.fullNotes.forEach((function(t){t.y=e,t.update(a.context)}))},this.image=new Image,this.width=t.width,this.height=t.height,this.context=t.getContext("2d")},v=function(){function e(t){var a=this;Object(o.a)(this,e),this.game=void 0,this.notes=void 0,this.master=void 0,this.player=void 0,this.song=void 0,this.songDetails=void 0,this.loaded=!1,this.onAir=!1,this.score=[],this.handRefs=[],this.seekBar=void 0,this.keyRefs=[],this.canvasSize=void 0,this.pianoSize=void 0,this.seekValue=0,this.songLength=272,this.tapSize=32,this.loading=!0,this.playMode=!1,this.noteMode=!1,this.TrackID=0,this.bpm=4,this.rythm=16,this.tempo=120,this.fingerNotes={},this.drumInfo=[],this.trackInfo=[],this.storeDrums=[],this.storeTracks=[],this.storeFingers=[],this.equalizer=[0,0,0,0,0,0,0,0,0,0],this.drumVolumes=[70,70,70,70,70,70,70,70],this.noteInfo=void 0,this.neededTracks=void 0,this.neededNotes=void 0,this.firstDelay=void 0,this.tickID=void 0,this.currentBeat=0,this.tickerDelay=1,this.tickerStep=0,this.animeFrame=0,this.nextWhen=0,this.nextBeat=0,this.sentWhen=0,this.yPos=0,this.anime=[],this.finger=[],this.midiKeys=[],this.trainNotes=[],this.drawNote=function(e){a.noteMode=!0,a.notes=new b(e),a.notes.assigner(Object(l.a)({},a.noteInfo)),a.notes.drawNote(a.neededNotes),a.stopReset()},this.drawGame=function(e){a.game=new g(e);var t=a.tapSize,n=a.bpm<=4?4:a.bpm;a.game.assigner({tapSize:t,bpm:a.bpm,rythm:a.rythm,songLength:Math.round(a.songLength/a.rythm),gap:t*(a.rythm-n),margin:t*n}),a.game.clear(),a.game.drawImage(),a.pianoSize&&a.game.drawNote(a.neededTracks,a.pianoSize)},this.startPlay=function(){var e,t;if(!a.onAir&&a.loaded){var n;if(a.score=[],a.yPos=0,a.resetNodeValues(),a.nextBeat=0,a.nextWhen=0,null===(e=a.game)||void 0===e||e.assigner({counter:0}),"suspended"===(null===(t=a.player)||void 0===t?void 0:t.audioContext.state))console.log("audioContext.resume"),null===(n=a.player)||void 0===n||n.audioContext.resume();a.onAir=!0;var r,i,o=240/a.tempo*1e3;if(a.firstDelay=setTimeout((function(){a.playAllTracks(.03)}),o),a.queueNextBeats(),a.onAir=!0,a.playMode)null===(r=a.game)||void 0===r||r.drawBack(),null===(i=a.game)||void 0===i||i.pushNote(),a.animeFrame=requestAnimationFrame(a.moveSVG);else a.stopReset(),a.animeFrame=requestAnimationFrame(a.moveFingers)}else console.log("on air already")},this.stopPlay=function(){var e,t;a.onAir&&a.loaded?(a.onAir=!1,a.playMode||a.stopReset(),null===(e=document.getElementById("play-button"))||void 0===e||e.click(),clearTimeout(a.firstDelay),a.stopAllTracks(),cancelAnimationFrame(a.animeFrame),clearTimeout(a.tickID),null===(t=a.player)||void 0===t||t.cancelQueue()):console.log("Not On Air")},this.stopReset=function(){a.notes&&a.notes.resetGame(),a.finger.forEach((function(e){e.hide()})),a.seekValue=a.currentBeat-1,a.yPos=0,a.anime=[],a.finger=[],a.onAir||a.training()},this.training=function(){if(a.finger.forEach((function(e){(null===e||void 0===e?void 0:e.showing)&&e.hide()})),a.yPos>=a.neededNotes.length)a.stopReset();else{a.noteMode&&a.seekMove(5.3333*a.yPos);var e=Number(Object.keys(a.fingerNotes)[a.yPos]);a.anime.push(e),a.pushFinger(),a.trainNotes=[],a.finger.forEach((function(e){e.num===a.yPos-1&&a.trainNotes.push(e)})),a.trainNotes.forEach((function(e){var t;e.show(),null===(t=a.notes)||void 0===t||t.playGame(e.num,e.color)}))}},this.stopAllTracks=function(){a.song&&(a.song.stop(),a.song.elapsedTimeSinceStart=0)},this.playAllTracks=function(e){if(a.song){a.song.setMasterVolume(100),a.song.play(e);for(var t=0;t<a.song.getNbTracks();t++);}},this.rakeMouseWheel=function(e){if(!a.onAir&&a.playMode){a.seekValue="number"!==typeof e?a.seekValue+(e.deltaY>0?-1:1):e,a.seekValue=a.seekValue<0?0:a.seekValue>a.songLength?a.songLength:a.seekValue;var t=a.seekValue*a.tapSize;a.seekMove(a.seekValue),a.seekSVG(t)}},this.seekMove=function(e){a.seekBar&&e<a.songLength&&a.seekBar.changeSeeker(e)},this.seekSVG=function(e){var t;a.onAir||(null===(t=a.game)||void 0===t||t.updateFullSong(e))},this.resetNodeValues=function(){for(var e,t,n,r,i,o,c,l,s,u,d=0;d<a.trackInfo.length;d++)a.trackInfo[d].audioNode.gain.setValueAtTime(a.trackInfo[d].volume/100,0);for(var f=0;f<a.drumInfo.length;f++)a.drumInfo[f].audioNode.gain.setValueAtTime(a.drumVolumes[f]/100,0);null===(e=a.master)||void 0===e||e.band32.gain.setValueAtTime(a.equalizer[0],0),null===(t=a.master)||void 0===t||t.band64.gain.setValueAtTime(a.equalizer[1],0),null===(n=a.master)||void 0===n||n.band128.gain.setValueAtTime(a.equalizer[2],0),null===(r=a.master)||void 0===r||r.band256.gain.setValueAtTime(a.equalizer[3],0),null===(i=a.master)||void 0===i||i.band512.gain.setValueAtTime(a.equalizer[4],0),null===(o=a.master)||void 0===o||o.band1k.gain.setValueAtTime(a.equalizer[5],0),null===(c=a.master)||void 0===c||c.band2k.gain.setValueAtTime(a.equalizer[6],0),null===(l=a.master)||void 0===l||l.band4k.gain.setValueAtTime(a.equalizer[7],0),null===(s=a.master)||void 0===s||s.band8k.gain.setValueAtTime(a.equalizer[8],0),null===(u=a.master)||void 0===u||u.band16k.gain.setValueAtTime(a.equalizer[9],0)},this.queueNextBeats=function(){if(a.onAir&&a.player){var e=240/a.tempo/a.rythm,t=a.player.audioContext.currentTime;for(t&&a.nextWhen<t&&(a.nextWhen=t);a.sentWhen<t+e;){var n;if(a.sendNextBeats(a.nextWhen,a.nextBeat,a.nextBeat),a.nextWhen=a.sentWhen+e,a.nextBeat>a.songLength+1&&a.stopPlay(),a.nextBeat=a.nextBeat+1,a.playMode&&a.nextBeat/a.rythm%1===0)null===(n=a.game)||void 0===n||n.pushNote();a.seekMove(a.nextBeat),a.playMode||a.pushFinger()}var r=750*(a.nextWhen-t);a.tickerStep++,a.tickerStep>=a.tickerDelay&&(a.tickerStep=0),a.tickID=setTimeout((function(){a.queueNextBeats()}),r)}},this.sendNextBeats=function(e,t,n){a.sentWhen=e;var r=240/a.tempo,i=1/a.rythm*r;a.currentBeat=t,a.storeDrums.forEach((function(r){if(r.beat>=t&&r.beat<=n){var o,c=a.findDrumInfoHand(r.drum),l=c.sound;c.info&&window[c.info.variable]&&(l=window[c.info.variable]);var s=1-.2*Math.random();null===(o=a.player)||void 0===o||o.queueWaveTable({target:c.audioNode,preset:l,when:e+i*(r.beat-t),pitches:c.pitch,duration:c.length,volume:s*c.volumeRatio})}}));for(var o=[],c=0;c<a.storeTracks.length;c++){var l=a.storeTracks[c];l.beat>=t&&l.beat<=n&&o.push(l)}o.sort((function(e,t){var a=1e3*(e.beat-t.beat)+1e5*(e.track-t.track);return e.beat===t.beat&&(a+=e.pitch-t.pitch),a}));var s=-1,u=-1,d=0;o.forEach((function(n){var r,o=a.trackInfo.find((function(e){return e.nn===n.track}));n.beat===s&&n.track===u||(s=n.beat,u=n.track,d=0,n.track===a.TrackID&&a.anime.push(n.beat));var c=o.sound;o.info&&window[o.info.variable]&&(c=window[o.info.variable]);var l=[{when:n.length*i,pitch:n.shift+12*o.octave+n.pitch}],f=.6-.2*Math.random();null===(r=a.player)||void 0===r||r.queueWaveTable({target:o.audioNode,preset:c,when:e+i*(n.beat-t)+d*o.inChordDelay,pitches:12*o.octave+n.pitch,duration:.075+n.length*i,volume:f*o.volumeRatio,slides:l}),d++}))},this.pushFinger=function(){var e=a.storeFingers[a.TrackID];0!==a.anime.length&&a.anime.forEach((function(t){var n=a.fingerNotes[t];if(n){var r={};for(var i in e)if(e[i][t]){var o=a.handRefs[i],c=e[i][t];o&&(r[c]={finger:o,hand:o.getAttribute("class")})}n.forEach((function(e){var t=e.length,n=e.pitch+36,i=a.keyRefs[n];r[n]&&a.finger.push(new u({note:i,len:t,hand:r[n],beat:a.currentBeat,num:a.yPos,pitch:n}))})),a.yPos++}a.anime=a.anime.filter((function(e){return e!==t}))}))},this.moveFingers=function(){a.onAir&&(a.finger.forEach((function(e){e.showing&&a.currentBeat>e.end?e.hide():e.showing&&(a.noteMode&&a.notes&&a.notes.playGame(e.num,"green"),e.show())})),requestAnimationFrame(a.moveFingers))},this.moveSVG=function(){if(a.player&&a.game&&a.onAir){for(var e=240/a.tempo,t=1/a.rythm*e,n=a.nextBeat+(a.player.audioContext.currentTime-a.nextWhen)/t;n<0;)n+=a.songLength;n>a.songLength&&(n=a.songLength),a.game.counter<4&&n>100&&(n=0);var r=Math.round(n*a.tapSize);a.yPos=r,a.game.playGame(r),requestAnimationFrame(a.moveSVG)}},this.findTrackInfoHand=function(){var e=null;return a.trackInfo.forEach((function(t){t.nn===a.TrackID&&(e=t)})),e},this.findDrumInfoHand=function(e){var t=null;return a.drumInfo.forEach((function(a){a.id===e&&(t=a)})),t},this.midiNoteOn=function(e,t){if(0===t)a.midiNoteOff(e);else{a.midiNoteOff(e),c.touchedKeys.push({note:e,y:a.yPos});var n=a.findTrackInfoHand();if(n){var r,i=n.sound;n.info&&window[n.info.variable]&&(i=window[n.info.variable]),a.midiKeys[e]=null===(r=a.player)||void 0===r?void 0:r.queueWaveTable({target:n.audioNode,preset:i,when:0,pitches:e,duration:10,volume:t});var o=a.keyRefs[e];if(o){var l="red";if(!a.onAir){var s=o.children.back.getAttribute("fill");"white"!==s&&"black"!==s&&(l="green",a.trainNotes.every((function(e){return c.touchedKeys.some((function(t){return t.note===e.pitch}))}))&&a.training())}o.children.back.style.fill=l}}}},this.midiNoteOff=function(e){if(a.midiKeys[e]&&(a.midiKeys[e].cancel(),c.touchedKeys.forEach((function(t,a){var n=c.touchedKeys[a].note;e===n&&c.touchedKeys.splice(a,1)}))),a.keyRefs[e]){var t=a.keyRefs[e];t&&(t.children.back.style.fill="")}},Object.assign(this,t),console.log(this)}return Object(s.a)(e,[{key:"assigner",value:function(e){Object.assign(this,e),console.log(e)}}]),e}(),_=a(132),y=a.n(_),E=a(180),O=a(84),j=function e(t){var a=this;Object(o.a)(this,e),this.volume=1,this.tracks=[],this.analyserNode=void 0,this.sampleNodes=[],this.masterVolumeNode=void 0,this.paused=!0,this.muted=!1,this.loopEndTime=null,this.loopMode=!1,this.loopStartTime=null,this.audioContext=void 0,this.trackVolumeNodes=[],this.elapsedTimeSinceStart=null,this.decodedAudioBuffers=[],this.addTrack=function(e){a.tracks.push({decodedBuffer:e.buffer,peaks:null,volume:e.vol,panning:0,muted:!1,solo:!1,sampleNode:null,volumeNode:null})},this.loadBuffer=function(){var e=Object(E.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a,e.next=3,a.audioContext.decodeAudioData(t.buffer,(function(e){e||Promise.reject("error decoding file data: "),a.decodedAudioBuffers=[].concat(Object(O.a)(a.decodedAudioBuffers),[e]),a.addTrack({buffer:e,vol:t.vol}),Promise.resolve(n)}),(function(e){return Promise.reject(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.buildGraph=function(){for(var e=[],t=0;t<a.decodedAudioBuffers.length;t++){var n=a.decodedAudioBuffers[t];e[t]=a.audioContext.createBufferSource(),e[t].buffer=n,a.trackVolumeNodes[t]=a.audioContext.createGain(),a.trackVolumeNodes[t]&&(a.trackVolumeNodes[t].gain.value=a.tracks[t].volume),e[t].connect(a.trackVolumeNodes[t]),a.trackVolumeNodes[t].connect(a.masterVolumeNode),a.masterVolumeNode.connect(a.analyserNode),a.analyserNode.connect(a.audioContext.destination)}a.sampleNodes=e},this.play=function(e){a.buildGraph(),a.setTrackVolumesDependingOnMuteSoloStatus(),a.elapsedTimeSinceStart=e,a.sampleNodes.forEach((function(t){t.start(0,e)})),a.paused=!1},this.stop=function(){!0!==a.paused&&(a.sampleNodes.forEach((function(e){e.stop(0)})),a.paused=!0)},this.pause=function(){a.paused?a.play(a.elapsedTimeSinceStart):a.stop()},this.setVolume=function(e){a.volume=e,a.masterVolumeNode.gain.value=e},this.setMasterVolume=function(e){var t;t=void 0===e?.8:e/100,a.setVolume(t*t)},this.setVolumeOfTrack=function(e,t){void 0!==a.trackVolumeNodes[t]&&(a.trackVolumeNodes[t].gain.value=e,a.tracks[t].volume=e)},this.getUrlsOfTracks=function(){var e=[];return a.tracks.forEach((function(t){e.push(t.url)})),e},this.getDuration=function(){if(void 0!==a.decodedAudioBuffers){for(var e=0,t=0;t<a.decodedAudioBuffers.length;t++)e<a.decodedAudioBuffers[t].duration&&(e=a.decodedAudioBuffers[t].duration);return e}},this.getNbTracks=function(){return a.tracks.length},this.toggleLoopMode=function(){a.loopMode=!a.loopMode},this.toggleMute=function(){a.muted=!a.muted,a.muted?a.masterVolumeNode.gain.value=0:a.masterVolumeNode.gain.value=a.volume},this.togglePause=function(){a.paused=!a.paused},this.setTrackVolumesDependingOnMuteSoloStatus=function(){for(var e=!1,t=a.getNbTracks(),n=0;n<t;n++)if(a.tracks[n].solo){e=!0;break}if(e)for(var r=0;r<t;r++)a.tracks[r].solo?a.trackVolumeNodes[r].gain.value=a.tracks[r].volume:a.trackVolumeNodes[r].gain.value=0;else for(var i=0;i<t;i++)void 0!==a.trackVolumeNodes[i]&&(a.tracks[i].muted?a.trackVolumeNodes[i].gain.value=0:a.trackVolumeNodes[i].gain.value=a.tracks[i].volume)},this.audioContext=t,this.masterVolumeNode=this.audioContext.createGain(),this.analyserNode=this.audioContext.createAnalyser()},k=function e(t){var a=this;Object(o.a)(this,e),this.audioContext=void 0,this.input=void 0,this.band32=void 0,this.band64=void 0,this.band128=void 0,this.band256=void 0,this.band512=void 0,this.band1k=void 0,this.band2k=void 0,this.band4k=void 0,this.band8k=void 0,this.band16k=void 0,this.output=void 0,this.bandEqualizer=function(e,t){var n=a.audioContext.createBiquadFilter();return n.frequency.setTargetAtTime(t,0,1e-4),n.type="peaking",n.gain.setTargetAtTime(0,0,1e-4),n.Q.setTargetAtTime(1,0,1e-4),e.connect(n),n},console.log("WebAudioFont Channel v1.04"),this.audioContext=t,this.input=this.audioContext.createDynamicsCompressor(),this.input.threshold.setValueAtTime(-3,0),this.input.knee.setValueAtTime(30,0),this.input.ratio.setValueAtTime(12,0),this.input.attack.setValueAtTime(.05,0),this.input.release.setValueAtTime(.08,0),this.band32=this.bandEqualizer(this.input,32),this.band64=this.bandEqualizer(this.band32,64),this.band128=this.bandEqualizer(this.band64,128),this.band256=this.bandEqualizer(this.band128,256),this.band512=this.bandEqualizer(this.band256,512),this.band1k=this.bandEqualizer(this.band512,1024),this.band2k=this.bandEqualizer(this.band1k,2048),this.band4k=this.bandEqualizer(this.band2k,4096),this.band8k=this.bandEqualizer(this.band4k,8192),this.band16k=this.bandEqualizer(this.band8k,16384),this.output=t.createGain(),this.band16k.connect(this.output)},S=function e(t){var a=this;Object(o.a)(this,e),this.player=void 0,this.cached=void 0,this.choosenInfos=void 0,this.drumKeyArray=void 0,this.drumNamesArray=void 0,this.instrumentKeyArray=void 0,this.instrumentNamesArray=void 0,this.startLoad=function(e,t){if(!window[t]){for(var n=0;n<a.cached.length;n++)if(a.cached[n].variableName===t)return;a.cached.push({filePath:e,variableName:t});var r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",e),document.getElementsByTagName("head")[0].appendChild(r),a.decodeAfterLoading(t)}},this.decodeAfterLoading=function(e){a.waitOrFinish(e,(function(){a.player.adjustPreset(window[e])}))},this.waitOrFinish=function(e,t){if(window[e])t();else{var n=a;setTimeout((function(){n.waitOrFinish(e,t)}),111)}},this.loaded=function(e){if(!window[e])return!1;for(var t=window[e],a=0;a<t.zones.length;a++)if(!t.zones[a].buffer)return!1;return!0},this.progress=function(){if(a.cached.length>0){for(var e=0;e<a.cached.length;e++)if(!a.loaded(a.cached[e].variableName))return e/a.cached.length;return 1}return 1},this.waitLoad=function(e){var t=a;a.progress()>=1?e():setTimeout((function(){t.waitLoad(e)}),333)},this.instrumentTitles=function(){if(!a.instrumentNamesArray){var e=[];e[0]="Acoustic Grand Piano: Piano",e[1]="Bright Acoustic Piano: Piano",e[2]="Electric Grand Piano: Piano",e[3]="Honky-tonk Piano: Piano",e[4]="Electric Piano 1: Piano",e[5]="Electric Piano 2: Piano",e[6]="Harpsichord: Piano",e[7]="Clavinet: Piano",e[8]="Celesta: Chromatic Percussion",e[9]="Glockenspiel: Chromatic Percussion",e[10]="Music Box: Chromatic Percussion",e[11]="Vibraphone: Chromatic Percussion",e[12]="Marimba: Chromatic Percussion",e[13]="Xylophone: Chromatic Percussion",e[14]="Tubular Bells: Chromatic Percussion",e[15]="Dulcimer: Chromatic Percussion",e[16]="Drawbar Organ: Organ",e[17]="Percussive Organ: Organ",e[18]="Rock Organ: Organ",e[19]="Church Organ: Organ",e[20]="Reed Organ: Organ",e[21]="Accordion: Organ",e[22]="Harmonica: Organ",e[23]="Tango Accordion: Organ",e[24]="Acoustic Guitar (nylon): Guitar",e[25]="Acoustic Guitar (steel): Guitar",e[26]="Electric Guitar (jazz): Guitar",e[27]="Electric Guitar (clean): Guitar",e[28]="Electric Guitar (muted): Guitar",e[29]="Overdriven Guitar: Guitar",e[30]="Distortion Guitar: Guitar",e[31]="Guitar Harmonics: Guitar",e[32]="Acoustic Bass: Bass",e[33]="Electric Bass (finger): Bass",e[34]="Electric Bass (pick): Bass",e[35]="Fretless Bass: Bass",e[36]="Slap Bass 1: Bass",e[37]="Slap Bass 2: Bass",e[38]="Synth Bass 1: Bass",e[39]="Synth Bass 2: Bass",e[40]="Violin: Strings",e[41]="Viola: Strings",e[42]="Cello: Strings",e[43]="Contrabass: Strings",e[44]="Tremolo Strings: Strings",e[45]="Pizzicato Strings: Strings",e[46]="Orchestral Harp: Strings",e[47]="Timpani: Strings",e[48]="String Ensemble 1: Ensemble",e[49]="String Ensemble 2: Ensemble",e[50]="Synth Strings 1: Ensemble",a.instrumentNamesArray=e}return a.instrumentNamesArray},this.instrumentKeys=function(){return a.instrumentKeyArray||(a.instrumentKeyArray=["0000_Aspirin_sf2_file","0001_FluidR3_GM_sf2_file","0002_GeneralUserGS_sf2_file","0003_GeneralUserGS_sf2_file","0010_Aspirin_sf2_file","0011_Aspirin_sf2_file","0012_GeneralUserGS_sf2_file","0020_Aspirin_sf2_file","0021_Aspirin_sf2_file","0022_Aspirin_sf2_file","0030_Aspirin_sf2_file","0031_Aspirin_sf2_file","0040_Aspirin_sf2_file","0041_FluidR3_GM_sf2_file","0042_GeneralUserGS_sf2_file","0043_GeneralUserGS_sf2_file","0044_GeneralUserGS_sf2_file","0045_GeneralUserGS_sf2_file","0046_GeneralUserGS_sf2_file","0050_Aspirin_sf2_file","0051_FluidR3_GM_sf2_file","0052_GeneralUserGS_sf2_file","0053_GeneralUserGS_sf2_file","0054_GeneralUserGS_sf2_file","0060_Aspirin_sf2_file","0061_Aspirin_sf2_file","0062_GeneralUserGS_sf2_file","0070_Aspirin_sf2_file","0071_GeneralUserGS_sf2_file","0080_Aspirin_sf2_file","0080_Chaos_sf2_file","0081_FluidR3_GM_sf2_file","0090_Aspirin_sf2_file","0091_SoundBlasterOld_sf2","0100_Aspirin_sf2_file","0101_GeneralUserGS_sf2_file","0110_Aspirin_sf2_file","0111_FluidR3_GM_sf2_file","0120_Aspirin_sf2_file","0121_FluidR3_GM_sf2_file","0130_Aspirin_sf2_file","0131_FluidR3_GM_sf2_file","0140_Aspirin_sf2_file","0141_FluidR3_GM_sf2_file","0142_GeneralUserGS_sf2_file","0143_GeneralUserGS_sf2_file","0150_Aspirin_sf2_file","0151_FluidR3_GM_sf2_file","0160_Aspirin_sf2_file","0161_Aspirin_sf2_file","0170_Aspirin_sf2_file","0171_FluidR3_GM_sf2_file","0172_FluidR3_GM_sf2_file","0180_Aspirin_sf2_file","0181_Aspirin_sf2_file","0190_Aspirin_sf2_file","0191_Aspirin_sf2_file","0200_Aspirin_sf2_file","0201_Aspirin_sf2_file","0210_Aspirin_sf2_file","0211_Aspirin_sf2_file","0212_GeneralUserGS_sf2_file","0220_Aspirin_sf2_file","0221_FluidR3_GM_sf2_file","0230_Aspirin_sf2_file","0231_FluidR3_GM_sf2_file","0232_FluidR3_GM_sf2_file","0233_FluidR3_GM_sf2_file","0240_Aspirin_sf2_file","0241_GeneralUserGS_sf2_file","0241_JCLive_sf2_file","0242_JCLive_sf2_file","0243_JCLive_sf2_file","0253_Acoustic_Guitar_sf2_file","0250_Aspirin_sf2_file","0251_Acoustic_Guitar_sf2_file","0252_Acoustic_Guitar_sf2_file","0253_Acoustic_Guitar_sf2_file","0254_Acoustic_Guitar_sf2_file","0255_GeneralUserGS_sf2_file","0260_Aspirin_sf2_file","0261_GeneralUserGS_sf2_file","0262_Stratocaster_sf2_file","0270_Aspirin_sf2_file","0271_GeneralUserGS_sf2_file","0280_Aspirin_sf2_file","0281_Aspirin_sf2_file","0282_FluidR3_GM_sf2_file","0283_GeneralUserGS_sf2_file","0290_Aspirin_sf2_file","0291_Aspirin_sf2_file","0292_Aspirin_sf2_file","0300_Aspirin_sf2_file","0301_Aspirin_sf2_file","0302_Aspirin_sf2_file","0303_Aspirin_sf2_file","0304_Aspirin_sf2_file","0310_Aspirin_sf2_file","0311_FluidR3_GM_sf2_file","0320_Aspirin_sf2_file","0321_GeneralUserGS_sf2_file","0322_GeneralUserGS_sf2_file","0330_Aspirin_sf2_file","0331_GeneralUserGS_sf2_file","0332_GeneralUserGS_sf2_file","0340_Aspirin_sf2_file","0341_Aspirin_sf2_file","0350_Aspirin_sf2_file","0351_GeneralUserGS_sf2_file","0360_Aspirin_sf2_file","0361_GeneralUserGS_sf2_file","0370_Aspirin_sf2_file","0371_GeneralUserGS_sf2_file","0372_GeneralUserGS_sf2_file","0380_Aspirin_sf2_file","0381_FluidR3_GM_sf2_file","0382_FluidR3_GM_sf2_file","0383_GeneralUserGS_sf2_file","0384_GeneralUserGS_sf2_file","0385_GeneralUserGS_sf2_file","0386_GeneralUserGS_sf2_file","0387_GeneralUserGS_sf2_file","0390_Aspirin_sf2_file","0391_FluidR3_GM_sf2_file","0392_FluidR3_GM_sf2_file","0393_GeneralUserGS_sf2_file","0400_Aspirin_sf2_file","0401_Aspirin_sf2_file","0402_GeneralUserGS_sf2_file","0410_Aspirin_sf2_file","0410_Chaos_sf2_file","0411_FluidR3_GM_sf2_file","0420_Aspirin_sf2_file","0421_FluidR3_GM_sf2_file","0430_Aspirin_sf2_file","0431_FluidR3_GM_sf2_file","0440_Aspirin_sf2_file","0441_GeneralUserGS_sf2_file","0442_GeneralUserGS_sf2_file","0450_Aspirin_sf2_file","0451_FluidR3_GM_sf2_file","0460_Aspirin_sf2_file","0461_FluidR3_GM_sf2_file","0470_Aspirin_sf2_file","0471_FluidR3_GM_sf2_file","0480_Aspirin_sf2_file","0480_SoundBlasterOld_sf2","04810_GeneralUserGS_sf2_file","0481_Aspirin_sf2_file","0481_FluidR3_GM_sf2_file","0481_GeneralUserGS_sf2_file","0482_Aspirin_sf2_file","0482_GeneralUserGS_sf2_file","0483_GeneralUserGS_sf2_file","0484_GeneralUserGS_sf2_file","0485_GeneralUserGS_sf2_file","0486_GeneralUserGS_sf2_file","0487_GeneralUserGS_sf2_file","0488_GeneralUserGS_sf2_file","0489_GeneralUserGS_sf2_file","0490_Aspirin_sf2_file","0490_GeneralUserGS_sf2_file","0491_GeneralUserGS_sf2_file","0492_GeneralUserGS_sf2_file","0500_Aspirin_sf2_file"]),a.instrumentKeyArray},this.instrumentInfo=function(e){var t=a.instrumentKeys()[e],n=1*Number(t.substr(0,3));return{variable:"_tone_"+t,url:"https://surikov.github.io/webaudiofontdata/sound/"+t+".js",title:a.instrumentTitles()[n]}},this.findInstrument=function(e){a.choosenInfos||(a.choosenInfos=[[1,2],[2,14],[3,25],[4,37],[5,48],[6,58],[7,70],[8,83],[9,91],[10,99],[11,107],[12,118],[13,127],[14,136],[15,144],[16,152],[17,164],[18,170],[19,183],[20,194],[21,205],[22,215],[23,228],[24,241],[25,254],[26,263],[27,277],[28,296],[29,308],[30,319],[31,350],[32,356],[33,369],[34,379],[35,385],[36,399],[37,403],[38,412],[39,421],[40,438],[41,452],[42,461],[43,467],[44,477],[45,488],[46,493],[47,501],[48,511],[49,518],[50,547]]);for(var t=0;t<a.instrumentKeys().length;t++)if(e===1*Number(a.instrumentKeys()[t].substring(0,3)))return t;return console.log("program",e,"not found"),0},this.drumTitles=function(){if(!a.drumNamesArray){var e=[];e[35]="Bass Drum 2",e[36]="Bass Drum 1",e[37]="Side Stick/Rimshot",e[38]="Snare Drum 1",e[39]="Hand Clap",e[40]="Snare Drum 2",e[41]="Low Tom 2",e[42]="Closed Hi-hat",e[43]="Low Tom 1",e[44]="Pedal Hi-hat",e[45]="Mid Tom 2",e[46]="Open Hi-hat",e[47]="Mid Tom 1",e[48]="High Tom 2",e[49]="Crash Cymbal 1",e[50]="High Tom 1",e[51]="Ride Cymbal 1",e[52]="Chinese Cymbal",e[53]="Ride Bell",e[54]="Tambourine",e[55]="Splash Cymbal",e[56]="Cowbell",e[57]="Crash Cymbal 2",e[58]="Vibra Slap",e[59]="Ride Cymbal 2",e[60]="High Bongo",e[61]="Low Bongo",e[62]="Mute High Conga",e[63]="Open High Conga",e[64]="Low Conga",e[65]="High Timbale",e[66]="Low Timbale",e[67]="High Agogo",e[68]="Low Agogo",e[69]="Cabasa",e[70]="Maracas",e[71]="Short Whistle",e[72]="Long Whistle",e[73]="Short Guiro",e[74]="Long Guiro",e[75]="Claves",e[76]="High Wood Block",e[77]="Low Wood Block",e[78]="Mute Cuica",e[79]="Open Cuica",e[80]="Mute Triangle",e[81]="Open Triangle",a.drumNamesArray=e}return a.drumNamesArray},this.drumKeys=function(){return a.drumKeyArray||(a.drumKeyArray=["35_0_SBLive_sf2","36_0_SBLive_sf2","37_0_SBLive_sf2","38_0_SBLive_sf2","39_0_SBLive_sf2","40_0_SBLive_sf2","41_0_SBLive_sf2","42_0_SBLive_sf2","43_0_SBLive_sf2","44_0_SBLive_sf2","45_0_SBLive_sf2","46_0_SBLive_sf2","47_0_SBLive_sf2","48_0_SBLive_sf2","49_0_SBLive_sf2","50_0_SBLive_sf2","51_0_SBLive_sf2","52_0_SBLive_sf2","53_0_SBLive_sf2","54_0_SBLive_sf2","55_0_SBLive_sf2","56_0_SBLive_sf2","57_0_SBLive_sf2","58_0_SBLive_sf2","59_0_SBLive_sf2","60_0_SBLive_sf2","61_0_SBLive_sf2","62_0_SBLive_sf2","63_0_SBLive_sf2","64_0_SBLive_sf2","65_0_SBLive_sf2","66_0_SBLive_sf2","67_0_SBLive_sf2","68_0_SBLive_sf2","69_0_SBLive_sf2","70_0_SBLive_sf2","71_0_SBLive_sf2","72_0_SBLive_sf2","73_0_SBLive_sf2","74_0_SBLive_sf2","75_0_SBLive_sf2","76_0_SBLive_sf2","77_0_SBLive_sf2","78_0_SBLive_sf2","79_0_SBLive_sf2","80_0_SBLive_sf2","81_0_SBLive_sf2"]),a.drumKeyArray},this.drumInfo=function(e){var t=a.drumKeys()[e],n=1*Number(t.substr(0,2));return{variable:"_drum_"+t,url:"https://surikov.github.io/webaudiofontdata/sound/128"+t+".js",pitch:n,title:a.drumTitles()[n]}},this.findDrum=function(e){for(var t=0;t<a.drumKeys().length;t++)if(e===1*Number(a.drumKeys()[t].substring(0,2)))return t;return 0},console.log("WebAudioFont Loader v1.27"),this.player=t,this.cached=[]},w=function e(t){var n=this;Object(o.a)(this,e),this.audioContext=void 0,this.input=void 0,this.convolver=void 0,this.dry=void 0,this.wet=void 0,this.irrArrayBuffer=void 0,this.output=void 0,console.log("WebAudioFont Reverberator v1.08"),this.audioContext=t,this.input=this.audioContext.createBiquadFilter(),this.input.type="lowpass",this.input.frequency.setTargetAtTime(18e3,0,1e-4),this.convolver=null,this.output=t.createGain(),this.dry=t.createGain(),this.dry.gain.setTargetAtTime(.9,0,1e-4),this.dry.connect(this.output),this.wet=t.createGain(),this.wet.gain.setTargetAtTime(.5,0,1e-4),this.input.connect(this.dry),this.input.connect(this.wet),a.e(25).then(a.bind(null,466)).then((function(e){var a=e.reverbrator,r=a.length/2;n.irrArrayBuffer=new ArrayBuffer(r);for(var i,o=new Uint8Array(n.irrArrayBuffer),c=atob(a),l=0;l<c.length;l++)i=c.charCodeAt(l),o[l]=i;n.audioContext.decodeAudioData(n.irrArrayBuffer,(function(e){n.convolver=t.createConvolver(),n.convolver.buffer=e,n.wet.connect(n.convolver),n.convolver.connect(n.output),console.log("convolver audioBuffer",e)}))}))},x=new(window.AudioContext||window.webkitAudioContext),C=new function e(t){var a=this;Object(o.a)(this,e),this.audioContext=void 0,this.envelopes=void 0,this.loader=void 0,this.onCacheFinish=void 0,this.onCacheProgress=void 0,this.afterTime=void 0,this.nearZero=void 0,this.createChannel=function(){return new k(a.audioContext)},this.createReverberator=function(){return new w(a.audioContext)},this.limitVolume=function(e){return e?e*=1:e=.5,e},this.queueChord=function(e){var t=e.target,n=e.preset,r=e.when,i=e.pitches,o=e.duration,c=e.volume,l=e.slides;c=a.limitVolume(c);for(var s=0;s<i.length;s++)a.queueWaveTable({target:t,preset:n,when:r,pitches:i[s],duration:o,volume:c-.01*Math.random(),slides:l})},this.queueStrumUp=function(e){var t=e.target,n=e.preset,r=e.when,i=e.pitches,o=e.duration,c=e.volume,l=e.slides;i.sort((function(e,t){return e-t})),a.queueStrum({target:t,preset:n,when:r,pitches:i,duration:o,volume:c,slides:l})},this.queueStrumDown=function(e){var t=e.target,n=e.preset,r=e.when,i=e.pitches,o=e.duration,c=e.volume,l=e.slides;i.sort((function(e,t){return e-t})),a.queueStrum({target:t,preset:n,when:r,pitches:i,duration:o,volume:c,slides:l})},this.queueStrum=function(e){var t=e.target,n=e.preset,r=e.when,i=e.pitches,o=e.duration,c=e.volume,l=e.slides;c=a.limitVolume(c),r<a.audioContext.currentTime&&(r=a.audioContext.currentTime);for(var s=0;s<i.length;s++)a.queueWaveTable({target:t,preset:n,when:r+.01*s,pitches:i[s],duration:o,volume:c-.01*Math.random(),slides:l}),c*=.9},this.queueSnap=function(e){var t=e.target,n=e.preset,r=e.when,i=e.pitches,o=(e.duration,e.volume),c=e.slides;o=1.5*((o=a.limitVolume(o))||1),a.queueChord({target:t,preset:n,when:r,pitches:i,duration:.05,volume:o,slides:c})},this.queueWaveTable=function(e){var t=e.target,n=e.preset,r=e.when,i=e.pitches,o=e.duration,c=e.volume,l=e.slides;"suspended"===a.audioContext.state&&(console.log("audioContext.resume"),a.audioContext.resume()),c=a.limitVolume(c);var s=a.findZone(n,i);if(s.buffer){var u=s.originalPitch-100*s.coarseTune-s.fineTune,d=1*Math.pow(2,(100*i-u)/1200),f=r;f<a.audioContext.currentTime&&(f=a.audioContext.currentTime);var h=o+a.afterTime,m=!0;(s.loopStart<1||s.loopStart>=s.loopEnd)&&(m=!1),m||h>s.buffer.duration/d&&(h=s.buffer.duration/d);var p=a.findEnvelope({target:t,when:f,duration:h});if(a.setupEnvelope({envelope:p,zone:s,volume:c,startWhen:f,waveDuration:h,duration:o}),p.audioBufferSourceNode=a.audioContext.createBufferSource(),p.audioBufferSourceNode.playbackRate.setValueAtTime(d,0),l&&l.length>0){p.audioBufferSourceNode.playbackRate.setValueAtTime(d,r);for(var b=0;b<l.length;b++){var g=1*Math.pow(2,(100*l[b].pitch-u)/1200),v=r+l[b].when;p.audioBufferSourceNode.playbackRate.linearRampToValueAtTime(g,v)}}return p.audioBufferSourceNode.buffer=s.buffer,m?(p.audioBufferSourceNode.loop=!0,p.audioBufferSourceNode.loopStart=s.loopStart/s.sampleRate+s.delay,p.audioBufferSourceNode.loopEnd=s.loopEnd/s.sampleRate+s.delay):p.audioBufferSourceNode.loop=!1,p.audioBufferSourceNode.connect(p),p.audioBufferSourceNode.start(f,s.delay),p.audioBufferSourceNode.stop(f+h),p.when=f,p.duration=h,p.pitch=i,p.preset=n,p}console.log("empty buffer ",s)},this.noZeroVolume=function(e){return e>a.nearZero?e:a.nearZero},this.setupEnvelope=function(e){var t=e.envelope,n=e.zone,r=e.volume,i=e.startWhen,o=e.waveDuration,c=e.duration;t.gain.setValueAtTime(a.noZeroVolume(0),a.audioContext.currentTime);var l=0,s=0,u=n.ahdsr;o<c+a.afterTime&&(c=o-a.afterTime),u?u.length>0||(u=[{duration:0,volume:1},{duration:.5,volume:1},{duration:1.5,volume:.5},{duration:3,volume:0}]):u=[{duration:0,volume:1},{duration:c,volume:1}],t.gain.cancelScheduledValues(i),t.gain.setValueAtTime(a.noZeroVolume(u[0].volume*r),i);for(var d=0;d<u.length;d++)if(u[d].duration>0){if(u[d].duration+l>c){var f=s-(1-(u[d].duration+l-c)/u[d].duration)*(s-u[d].volume);t.gain.linearRampToValueAtTime(a.noZeroVolume(r*f),i+c);break}l+=u[d].duration,s=u[d].volume,t.gain.linearRampToValueAtTime(a.noZeroVolume(r*s),i+l)}t.gain.linearRampToValueAtTime(a.noZeroVolume(0),i+c+a.afterTime)},this.numValue=function(e,t){return"number"===typeof e?e:t},this.findEnvelope=function(e){for(var t=e.target,n=(e.when,e.duration,null),r=0;r<a.envelopes.length;r++){var i=a.envelopes[r];if(i.target===t&&a.audioContext.currentTime>i.when+i.duration+.001){try{i.audioBufferSourceNode.disconnect(),i.audioBufferSourceNode.stop(0),i.audioBufferSourceNode=null}catch(o){}n=i;break}}return n||((n=a.audioContext.createGain()).target=t,n.connect(t),n.cancel=function(){n.when+n.duration>a.audioContext.currentTime&&(n.gain.cancelScheduledValues(0),n.gain.setTargetAtTime(1e-5,a.audioContext.currentTime,.1),n.when=a.audioContext.currentTime+1e-5,n.duration=0)},a.envelopes.push(n)),n},this.adjustPreset=function(e){for(var t=0;t<e.zones.length;t++)a.adjustZone(e.zones[t])},this.adjustZone=function(e){if(e.buffer);else{if(e.delay=0,e.sample){var t=atob(e.sample);e.buffer=a.audioContext.createBuffer(1,t.length/2,e.sampleRate);for(var n,r,i,o=e.buffer.getChannelData(0),c=0;c<t.length/2;c++)(n=t.charCodeAt(2*c))<0&&(n=256+n),(r=t.charCodeAt(2*c+1))<0&&(r=256+r),(i=256*r+n)>=32768&&(i-=65536),o[c]=i/65536}else if(e.file){for(var l,s=e.file.length,u=new ArrayBuffer(s),d=new Uint8Array(u),f=atob(e.file),h=0;h<f.length;h++)l=f.charCodeAt(h),d[h]=l;a.audioContext.decodeAudioData(u,(function(t){e.buffer=t}))}e.loopStart=a.numValue(e.loopStart,0),e.loopEnd=a.numValue(e.loopEnd,0),e.coarseTune=a.numValue(e.coarseTune,0),e.fineTune=a.numValue(e.fineTune,0),e.originalPitch=a.numValue(e.originalPitch,6e3),e.sampleRate=a.numValue(e.sampleRate,44100),e.sustain=a.numValue(e.originalPitch,0)}},this.findZone=function(e,t){for(var n=null,r=e.zones.length-1;r>=0&&!((n=e.zones[r]).keyRangeLow<=t&&n.keyRangeHigh+1>=t);r--);try{a.adjustZone(n)}catch(i){console.log("adjustZone",i)}return n},this.cancelQueue=function(){for(var e=0;e<a.envelopes.length;e++){var t=a.envelopes[e];t.gain.cancelScheduledValues(0),t.gain.setValueAtTime(a.nearZero,a.audioContext.currentTime),t.when=-1;try{t.audioBufferSourceNode.disconnect()}catch(n){console.log(n)}}},this.audioContext=t,this.envelopes=[],this.loader=new S(this),this.onCacheFinish=null,this.onCacheProgress=null,this.afterTime=.05,this.nearZero=1e-6}(x),A=new k(x);if("undefined"===typeof window.orientation){console.log("Melo WebAudioFontReverberator");var N=new w(x);N.output.connect(x.destination),A.output.connect(N.input)}else console.log("skip WebAudioFontReverberator"),A.output.connect(x.destination);var L,T=function e(t){Object(o.a)(this,e),this.player=C,this.master=A,this.song=void 0,this.songDetails=void 0,this.loading=!0,this.onAir=!1,this.loaded=!1,this.playMode=!1,this.sL=16,this.bpm=4,this.rythm=16,this.TrackID=0,this.tempo=120,this.neededLines=void 0,this.neededNotes={length:0},this.neededTracks=[],this.storeFingers=[],this.storeTracks=[],this.storeDrums=[],this.trackInfo=[],this.drumInfo=[],this.seekValue=0,this.songs=[],this.songLength=272,this.tapSize=32,this.fingerNotes={},this.equalizer=[0,0,0,0,0,0,0,0,0,0],this.drumVolumes=[70,70,70,70,70,70,70,70],Object.assign(this,t),this.master.band32.gain.setValueAtTime(this.equalizer[0],0),this.master.band64.gain.setValueAtTime(this.equalizer[1],0),this.master.band128.gain.setValueAtTime(this.equalizer[2],0),this.master.band256.gain.setValueAtTime(this.equalizer[3],0),this.master.band512.gain.setValueAtTime(this.equalizer[4],0),this.master.band1k.gain.setValueAtTime(this.equalizer[5],0),this.master.band2k.gain.setValueAtTime(this.equalizer[6],0),this.master.band4k.gain.setValueAtTime(this.equalizer[7],0),this.master.band8k.gain.setValueAtTime(this.equalizer[8],0),this.master.band16k.gain.setValueAtTime(this.equalizer[9],0)},I=function(){var e=Object(E.a)(y.a.mark((function e(t){var n,r,i,o,c,s,u,d,f,h,m,p,b,g,v,_,E,O,k,S,w;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=new T,r=JSON.parse(t.content),n.songDetails={id:t.id,title:t.title},i=r.song.content,o=r.fingers,c=[],s=[],e.prev=7,n.TrackID=r.track.id,u=i.split("-"),n.tempo=parseInt(u[0],16),n.sL=parseInt(u[1])+1,n.bpm=parseInt(u[2]),n.rythm=4*n.bpm,o&&(d=G(o,n.rythm),n.storeFingers=Object(l.a)({},d)),f=0;f<10;f++)h=u[5].substring(2*f,2*f+2),n.equalizer[f]=parseInt(h,16)-10;if(m=u[6].length/7,B(m,u[6],n.rythm).forEach((function(e,t,a){t===a.findIndex((function(t){return t.drum===e.drum}))&&s.push(e.drum),n.storeDrums.push({drum:e.drum,beat:e.beat})})),p=u[7].length/10,b=M(p,u[7],n.rythm),g=24,v=24,_=0,b.forEach((function(e,t,a){t===a.findIndex((function(t){return t.track===e.track}))&&c.push(e.track),n.storeTracks.push(Object(l.a)(Object(l.a)({},e),{},{beat:e.beat}));var r=e.beat-(n.rythm-n.bpm);e.track===n.TrackID&&(n.neededTracks.push(Object(l.a)(Object(l.a)({},e),{},{beat:r})),e.pitch>g&&(g=e.pitch),e.pitch<v&&(v=e.pitch),n.neededNotes[r]||(n.neededNotes[r]=[],n.neededNotes.length=++_),n.neededNotes[r].push(Object(l.a)(Object(l.a)({},e),{},{beat:r})),r=e.beat,n.fingerNotes[r]||(n.fingerNotes[r]=[]),n.fingerNotes[r].push({pitch:e.pitch,length:e.length}))})),n.neededLines={up:g+36,number:g-v,down:v+36,notes:n.neededNotes.length},s.forEach((function(e,t){var r={audioNode:x.createGain(),id:e,replacement:parseInt(u[8].substring(3*e,3*e+3),16),sound:null,info:"",volume:70};if(r.replacement){var i=n.player.loader.drumInfo(r.replacement-1);console.log(i),n.player.loader.startLoad(i.url,i.variable),r.info=i}a(332)("./default_drum_0".concat(e)).then((function(t){(r=Object(l.a)(Object(l.a)({},r),t.default)).volume=10*parseInt(u[4].substring(e,e+1),16),r.audioNode.connect(n.master.input),n.player.adjustPreset(r.sound),n.drumInfo.push(r)}))})),c.forEach((function(e,t){var r={audioNode:x.createGain(),nn:e,replacement:parseInt(u[9].substring(3*(7-e),3*(7-e)+3),16),sound:null,info:"",volume:70};if(r.replacement){var i=n.player.loader.instrumentInfo(r.replacement-1);console.log(i),n.player.loader.startLoad(i.url,i.variable),r.info=i}a(333)("./default_tone_0".concat(e)).then((function(t){(r=Object(l.a)(Object(l.a)({},r),t.default)).volume=10*parseInt(u[3].substring(e,e+1),16),r.audioNode.connect(n.master.input),n.player.adjustPreset(r.sound),n.trackInfo.push(r)}))})),E=[],u[10]&&"000a"!==u[10])for(O=u[10].length/4,k=0;k<O;k++)S=parseInt(u[10].substring(4*k,4*k+3),32),w=parseInt(u[10].substring(4*k+3,4*k+4),16)/10,E.push({id:S,vol:w});E.length>0&&(n.song=new j(x)),n.songs=E,e.next=37;break;case 34:e.prev=34,e.t0=e.catch(7),Promise.reject(e.t0);case 37:return e.prev=37,e.abrupt("return",n);case 40:case"end":return e.stop()}}),e,null,[[7,34,37,40]])})));return function(t){return e.apply(this,arguments)}}(),G=function(e,t){var a={};for(var n in e){var r=e[n].split("-");a[n]={};for(var i=0;i<r.length-1;i++)for(var o=r[i].split("+"),c=Number(o[0])+t,l=o[1].length/5,s=0;s<l;s++){var u=o[1].substring(5*s,5*s+2),d=o[1].substring(5*s+2,5*s+4);"e"!==o[1].substring(5*s+4,5*s+5)&&(a[n][d]||(a[n][d]={}),a[n][d][c]||(a[n][d][c]=[]),a[n][d][c].push(u))}}return a},B=function(e,t,a){for(var n=[],r=0;r<e;r++){var i=parseInt(t.substring(7*r,7*r+1)),o=parseInt(t.substring(7*r+1,7*r+3),32),c=parseInt(t.substring(7*r+3,7*r+7),32),l=o&parseInt("1111111",2);(c|parseInt("0000000000000001",2))===c&&n.push({drum:i,beat:16*l+0+a}),(c|parseInt("0000000000000010",2))===c&&n.push({drum:i,beat:16*l+1+a}),(c|parseInt("0000000000000100",2))===c&&n.push({drum:i,beat:16*l+2+a}),(c|parseInt("0000000000001000",2))===c&&n.push({drum:i,beat:16*l+3+a}),(c|parseInt("0000000000010000",2))===c&&n.push({drum:i,beat:16*l+4+a}),(c|parseInt("0000000000100000",2))===c&&n.push({drum:i,beat:16*l+5+a}),(c|parseInt("0000000001000000",2))===c&&n.push({drum:i,beat:16*l+6+a}),(c|parseInt("0000000010000000",2))===c&&n.push({drum:i,beat:16*l+7+a}),(c|parseInt("0000000100000000",2))===c&&n.push({drum:i,beat:16*l+8+a}),(c|parseInt("0000001000000000",2))===c&&n.push({drum:i,beat:16*l+9+a}),(c|parseInt("0000010000000000",2))===c&&n.push({drum:i,beat:16*l+10+a}),(c|parseInt("0000100000000000",2))===c&&n.push({drum:i,beat:16*l+11+a}),(c|parseInt("0001000000000000",2))===c&&n.push({drum:i,beat:16*l+12+a}),(c|parseInt("0010000000000000",2))===c&&n.push({drum:i,beat:16*l+13+a}),(c|parseInt("0100000000000000",2))===c&&n.push({drum:i,beat:16*l+14+a}),(c|parseInt("1000000000000000",2))===c&&n.push({drum:i,beat:16*l+15+a})}return n},M=function(e,t,a){for(var n=[],r=0;r<e;r++){var i=parseInt(t.substring(10*r,10*r+3),32),o=parseInt(t.substring(10*r+3,10*r+3+1),32),c=parseInt(t.substring(10*r+4,10*r+4+2),32),l=parseInt(t.substring(10*r+6,10*r+6+2),32),s=parseInt(t.substring(10*r+8,10*r+8+2),32)-64;n.push({track:o,beat:i+a,length:c,shift:s,pitch:l})}return n},R=a(57),P=function(e){return function(t){function a(e,a){e.songLength=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=Math.ceil(n),i=n?6:2,o=Math.max.apply(Math,a.map((function(e){return e.beat+e.length}))),c=Math.max.apply(Math,t.map((function(e){return e.beat})));r=c>(r=o>r?o:r)?c:r,r+=i;do{r++}while(r%e!==0);return console.log(r,n,c,o),r}(e.rythm,e.storeDrums,e.storeTracks,a),e.loaded=!0,L=new v(e);var r=e.songLength,i=e.neededLines,o=e.neededTracks,c=e.bpm;t({type:n.j,payload:{songLength:r,neededLines:i,neededTracks:o,bpm:c}})}I(e).then((function(e){e&&(e.songs.length>0?e.songs.forEach((function(t,n){return i.a.get("/song/v2/".concat(t.id)).then((function(r){var o=r.data;return Object(i.b)(o).then((function(r){var i;null===(i=e.song)||void 0===i||i.loadBuffer({buffer:r.data,vol:t.vol}).then((function(){if(e.songs.length===n+1){var t,r=e.tempo/60,i=(null===(t=e.song)||void 0===t?void 0:t.getDuration())/r;a(e,i)}}))})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))})):a(e))})).catch((function(e){return console.log(e)}))}},U=function(e,t,a){return function(r){if(t&&a){var i,o=function(e,t){var a=e[50].getBoundingClientRect().x-(e[48].getBoundingClientRect().x+e[48].getBoundingClientRect().width),n=t.pianoLeft,r=n||100,i=[];for(var o in e){var c=e[o],l=c.getBoundingClientRect(),s=l.x-r,u=l.width,d=s+u/2;c.classList.contains("C")||c.classList.contains("F")?i.push({left:s,center:d-3.5*a,width:u,key:"CF"}):c.classList.contains("last")?i.push({left:s,center:d,width:u,key:"last"}):"black"===c.id?i.push({left:s,center:d,width:u,key:"black"}):c.classList.contains("E")||c.classList.contains("B")?i.push({left:s,center:d+3.5*a,width:u,key:"EB"}):c.classList.contains("A")?i.push({left:s,center:d+1.8*a,width:u,key:"A"}):c.classList.contains("G")?i.push({left:s,center:d+1.4*a,width:u,key:"G"}):i.push({left:s,center:d,width:u,key:"white"})}return i.push({left:-100,center:0,width:a,key:"lineWidth"}),i}(e,t);null===(i=L)||void 0===i||i.assigner({pianoSize:o,keyRefs:e,canvasSize:t,tapSize:a}),r({type:n.c,payload:{pianoSize:o,canvasSize:t,tapSize:a}})}else{var c;null===(c=L)||void 0===c||c.assigner({keyRefs:e}),r({type:n.c})}}},V=function(e,t){return function(a){var r;null===(r=L)||void 0===r||r.assigner({noteInfo:t,keyRefs:e}),a({type:n.e,payload:{noteInfo:t}})}},z=function(e){return function(t){var a,r,i;null===(a=L)||void 0===a||a.assigner(e),(null===(r=L)||void 0===r?void 0:r.playMode)||null===(i=L)||void 0===i||i.stopReset(),t({type:n.a})}},F=function(e){return function(t){var a;null===(a=L)||void 0===a||a.assigner(e),t({type:n.f})}},D=function(e){return function(t){var a;null===(a=L)||void 0===a||a.drawGame(e),t({type:n.b})}},q=function(e){return function(t){var a;null===(a=L)||void 0===a||a.drawNote(e),t({type:n.d})}},H=function(){return function(e){var t;null===(t=L)||void 0===t||t.stopPlay(),e({type:n.l})}},W=function(){return function(e){var t;null===(t=L)||void 0===t||t.stopPlay(),e({type:n.k})}},K=function(e){return function(t){var a,r;null===(a=L)||void 0===a||a.assigner({playMode:e}),null===(r=L)||void 0===r||r.stopPlay(),t(e?{type:n.h}:{type:n.i})}},Z=function(e){var t;null===(t=L)||void 0===t||t.rakeMouseWheel(e)},Q=function(){var e;null===(e=L)||void 0===e||e.startPlay()},X=function(){var e;null===(e=L)||void 0===e||e.stopPlay();var t=c.score;if(L&&t.length>0){var a=L.songDetails,n=L.neededTracks.length,i=Math.round(t.length/n*100)+"%",o={song:{name:a.title,id:a.id,notes:n},time:(new Date).toLocaleTimeString(),score:JSON.stringify(t),date:(new Date).toLocaleDateString(),progress:i};c.score=[],r.b.dispatch(Object(R.b)(o))}},J=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.7;null===(t=L)||void 0===t||t.midiNoteOn(e,a)},Y=function(e){var t;null===(t=L)||void 0===t||t.midiNoteOff(e)}},26:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"e",(function(){return r})),a.d(t,"c",(function(){return i})),a.d(t,"f",(function(){return o})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return l}));var n="PROFILE_INFO_REQUEST",r="PROFILE_INFO_SUCCESS",i="PROFILE_INFO_FAILURE",o="PLAYTIME_SUCCESS",c="FAVORITE_SUCCESS",l="DELETE_PROFILE"},282:function(e,t,a){e.exports=a(334)},31:function(e,t,a){"use strict";a.d(t,"j",(function(){return n})),a.d(t,"g",(function(){return r})),a.d(t,"h",(function(){return i})),a.d(t,"i",(function(){return o})),a.d(t,"l",(function(){return c})),a.d(t,"k",(function(){return l})),a.d(t,"c",(function(){return s})),a.d(t,"e",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"a",(function(){return f})),a.d(t,"d",(function(){return h})),a.d(t,"b",(function(){return m}));var n="REQUEST_PLAYER",r="ENTER_NOTEMODE",i="ENTER_PLAYMODE",o="EXIT_PLAYMODE",c="RESIZE_PLAYER",l="RESET_PLAYER",s="DRAW_GAME_PIANO",u="DRAW_NOTE_PIANO",d="DRAW_SEEKBAR",f="DRAW_FINGER",h="DRAW_NOTES",m="DRAW_GAME"},32:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return p})),a.d(t,"c",(function(){return b})),a.d(t,"d",(function(){return g}));var n=a(0),r=a.n(n),i=a(345),o=a(20),c=a(34),l=a(340),s=a(343),u=a(344),d=a(204),f=a(39),h=a(48),m=function(e,t){var a,n,r,i,c=e;("string"!==typeof e&&(c=null===(a=e.response)||void 0===a?void 0:a.data.message.toString()),c)&&(t&&o.b.dispatch({type:t,error:c}),(null===(r=e.response)||void 0===r?void 0:r.data.button)&&(n=null===(i=e.response)||void 0===i?void 0:i.data.button),o.b.dispatch({type:h.c,snackbar:g(c,"error",n)}))},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Please login!";m({response:{data:{button:{url:"/login",msg:"Login"},message:t}}},e)},b=function(e,t){var a,n=e;"string"!==typeof e&&(n=null===(a=e.response)||void 0===a?void 0:a.data.message.toString()),t&&o.b.dispatch({type:t,error:n}),o.b.dispatch({type:h.c,snackbar:g(n,"success")})},g=function(e,t,a){return{message:e.replace(/<[^>]+>/g,""),key:Object(f.a)(),options:{TransitionComponent:function(e){return r.a.createElement(l.a,Object.assign({},e,{direction:"left"}))},anchorOrigin:{horizontal:"left",vertical:"bottom"},variant:t,autoHideDuration:"error"===t?null:5e3,action:function(e){return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(s.a,{to:a.url,component:c.a},r.a.createElement(u.a,{color:"primary"},a.msg)),r.a.createElement(d.a,{style:{borderRadius:5},color:"inherit",size:"small","aria-label":"close",component:"span",onClick:function(){return o.b.dispatch({type:h.a,dismissAll:!e,key:e})}},r.a.createElement(i.a,null)))}}}}},330:function(e,t,a){},332:function(e,t,a){var n={"./default_drum_00":[252,1],"./default_drum_00.ts":[252,1],"./default_drum_01":[253,2],"./default_drum_01.ts":[253,2],"./default_drum_02":[254,3],"./default_drum_02.ts":[254,3],"./default_drum_03":[255,4],"./default_drum_03.ts":[255,4],"./default_drum_04":[256,5],"./default_drum_04.ts":[256,5],"./default_drum_05":[257,6],"./default_drum_05.ts":[257,6],"./default_drum_06":[258,7],"./default_drum_06.ts":[258,7],"./default_drum_07":[259,8],"./default_drum_07.ts":[259,8]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a(r)}))}r.keys=function(){return Object.keys(n)},r.id=332,e.exports=r},333:function(e,t,a){var n={"./default_tone_00":[260,9],"./default_tone_00.ts":[260,9],"./default_tone_01":[261,10],"./default_tone_01.ts":[261,10],"./default_tone_02":[262,11],"./default_tone_02.ts":[262,11],"./default_tone_03":[263,12],"./default_tone_03.ts":[263,12],"./default_tone_04":[264,13],"./default_tone_04.ts":[264,13],"./default_tone_05":[265,14],"./default_tone_05.ts":[265,14],"./default_tone_06":[266,15],"./default_tone_06.ts":[266,15],"./default_tone_07":[267,16],"./default_tone_07.ts":[267,16]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a(r)}))}r.keys=function(){return Object.keys(n)},r.id=333,e.exports=r},334:function(e,t,a){"use strict";a.r(t);var n=a(12),r=a(18),i=a(24),o=a(23),c=a(84),l=a(0),s=a.n(l),u=a(43),d=a(232),f=a.n(d),h=a(15),m=a(53),p=a(182),b=a(20),g=a(27),v=a(40),_=Object(h.c)((function(e){return{loggedIn:e.auth.loggedIn}}))((function(e){var t="";if(e.loggedIn||(t=e.authenticationPath),e.loggedIn&&!e.isAllowed&&(t=e.restrictedPath),t){return l.createElement(g.b,Object.assign({},e,{component:function(){return l.createElement(g.a,{to:{pathname:t}})},render:void 0}))}return l.createElement(g.b,e)})),y=a(37),E=a(344),O=a(48),j=a(32),k=function(){var e=Object(l.useState)(""),t=Object(y.a)(e,2),a=t[0],n=t[1];return s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",null,"About"),s.a.createElement("p",null," ","Lorem ipsum dolor sit amet consectetur adipisicing elit. Atque ipsum praesentium rem asperiores fuga illo et, architecto doloremque nulla. Magni perspiciatis praesentium facere facilis, ullam officiis saepe sunt amet nulla?"),s.a.createElement("input",{type:"text",onChange:function(e){return function(e){var t=e.target.value;n(t)}(e)},value:a}),s.a.createElement(E.a,{onClick:function(){return b.b.dispatch({type:O.c,snackbar:Object(j.d)(a,"success")})}},"Snack"),s.a.createElement(E.a,{onClick:function(){return b.b.dispatch({type:O.a,dismissAll:!0})}},"Clear"))},S=a(2),w=a(11),x=a(13),C=a(45),A=a(386),N=a(387),L=a(388),T=a(389),I=a(87),G=a(390),B=a(341),M=a(336),R=a(39),P=Object(B.a)((function(e){return Object(M.a)({root:Object(x.a)({width:300,maxHeight:360,margin:e.spacing(2)},e.breakpoints.down(350),{margin:e.spacing(1)}),cardAction:{justifyContent:"space-between",margin:"inherit"},content:{minHeight:"140px"}})})),U=function(e){var t=e.post,a=P(),n=t.title,r=t.featured_img,i=t.excerpt,o=t.author,c=function(e){b.b.dispatch(Object(C.e)("/post/".concat(t.id)))};return s.a.createElement(A.a,{className:a.root},s.a.createElement(N.a,{onClick:c},s.a.createElement(L.a,{height:"140",component:"img",alt:t.title,title:t.title,image:Object(R.f)(r)}),s.a.createElement(T.a,{className:a.content},s.a.createElement(I.a,{gutterBottom:!0,variant:"h5",component:"h2"},n),s.a.createElement(I.a,{variant:"body2",color:"textSecondary",component:"p"},i))),s.a.createElement(G.a,{className:a.cardAction},s.a.createElement(I.a,{variant:"body2",color:"textSecondary",component:"p"},"\u0627\u0632 ",o),s.a.createElement(E.a,{size:"medium",color:"secondary",onClick:c},"\u0627\u062f\u0627\u0645\u0647 \u0645\u0637\u0644\u0628")))},V=a(451),z=a(391),F=a(5),D=a(41),q={posts:{name:"POSTS",api:"/post/v2"},lessons:{name:"LESSONS",api:"/lesson/v2"},guides:{name:"GUIDES",api:"/lesson/v2/guide"},courses:{name:"COURSES",api:"/lesson/v2/course"},exercises:{name:"EXERCISES",api:"/lesson/v2?course=125"}},H=function(e){return function(t,a){var n=a().bank[e],r=Object(R.b)()-n.nextLoad;(!n.data||r>=0)&&(t({type:"REQUEST_".concat(q[e].name)}),D.a.get(q[e].api).then((function(a){return t({type:"SUCCESS_".concat(q[e].name),payload:{data:a.data,nextLoad:Object(R.b)(10)}})})).catch((function(t){return Object(j.a)(t,"FAILURE_".concat(q[e].name))})))}},W=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.requestBank("posts")}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.data,n=e.error,r=e.classes,i=a?a.length:0;return s.a.createElement("div",{className:r.root},s.a.createElement("div",{className:r.header},s.a.createElement(I.a,{variant:"h3"},"\u067e\u0633\u062a \u0647\u0627"),s.a.createElement(V.a,{className:r.chip,color:"secondary",label:"\u062a\u0639\u062f\u0627\u062f: "+i})),s.a.createElement(z.a,{container:!0,justify:"center",className:r.cardList},t?s.a.createElement(v.a,null):a.length?a.map((function(e){return s.a.createElement(U,{key:e.id,post:e})})):s.a.createElement(I.a,{component:"div",className:r.autoMargin},n)))}}]),a}(l.Component),K=Object(h.c)((function(e,t){return Object(S.a)({classes:t.classes},e.bank.posts)}),(function(e){return{requestBank:Object(w.b)(H,e)}}))(Object(F.a)((function(e){return Object(M.a)({root:{padding:e.spacing(2,1,0,2)},header:{position:"relative"},cardList:{minHeight:"calc(100vh - 143px)"},chip:{position:"absolute",right:0,top:e.spacing(1)},autoMargin:{margin:"auto"}})}))(W)),Z=a(30),Q=a(21),X=a(52),J=a(34),Y=a(125),$=a.n(Y),ee=a(397),te=a(398),ae=a(453),ne=a(454),re=a(396),ie=a(343),oe=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={loading:!0},e.script=void 0,e.loadScript=function(){window.captchaOnLoad=e.onLoad;var t=document.createElement("script");t.type="text/javascript",t.src="https://www.google.com/recaptcha/api.js?onload=captchaOnLoad&render=explicit&hl=fa",t.async=!0,t.defer=!0,e.script=document.body.appendChild(t)},e.callback=function(){e.props.onChange(!0)},e.onLoad=function(){window.grecaptcha.render("g-recaptcha",{callback:e.callback,sitekey:"6Le8wccUAAAAAA0kNONoUC-NKPecGnUGKRY7zMno",size:"normal",theme:e.props.theme}),window.grecaptcha.ready((function(){e.setState({loading:!1})}))},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.loadScript()}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.script)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.onError;return l.createElement("div",{className:t.root},this.state.loading&&l.createElement(re.a,{color:"secondary"}),l.createElement("div",{id:"g-recaptcha",className:a?t.captchaWarning:t.captcha}),l.createElement(I.a,{color:"error",variant:"caption"},a))}}]),a}(l.PureComponent),ce=Object(F.a)((function(e){return Object(M.a)({root:{position:"relative",minHeight:80},captcha:{zIndex:2,"& > div:first-child":{margin:"auto","& > div > iframe":{borderRadius:4,border:"1px solid"}}},captchaWarning:{"& > div:first-child":{margin:"auto","& > div > iframe":{borderRadius:4,border:"1px solid red"}}}})}))(oe);function le(e){var t=e.form,a=t.setFieldValue,n=t.errors,r=t.touched,i=e.field.name,o=b.b.getState().auth.theme,c=Object(l.useCallback)((function(e){a(i,!!e)}),[a,i]);return s.a.createElement(ce,{action:"login",theme:o,onChange:c,onError:r.recaptcha&&n.recaptcha})}var se=a(73),ue=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.loggedIn&&this.props.push("/profile")}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading;return t.loggedIn?null:s.a.createElement(ee.a,{component:"main",maxWidth:"xs",style:{paddingTop:"10px"}},s.a.createElement(te.a,null),s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement(ae.a,{style:{margin:"auto"}},s.a.createElement($.a,null)),s.a.createElement(I.a,{component:"h1",variant:"h5"},"Sign in"),s.a.createElement(Q.c,{initialValues:{username:"",password:"",recaptcha:!1},validationSchema:Z.c().shape({username:Z.e().max(255).required("Email or Username is required"),password:Z.e().max(255).required("Password is required"),recaptcha:Z.a().required("ReCAPTCHA is required")}),onSubmit:function(t,a){var n=a.resetForm;e.props.login({username:t.username,password:t.password}),n({values:{username:t.username,password:"",recaptcha:t.recaptcha}})}},s.a.createElement(Q.b,null,s.a.createElement(ne.a,{mb:3},s.a.createElement(I.a,{color:"textSecondary",align:"center",gutterBottom:!0,variant:"body2"},"Sign in on the internal platform")),s.a.createElement(z.a,{item:!0},s.a.createElement(E.a,{fullWidth:!0,size:"large",variant:"contained",type:"submit",disabled:!0},"Login with Google")),s.a.createElement(ne.a,{mt:3,mb:1},s.a.createElement(I.a,{align:"center",color:"textSecondary",variant:"body1"},"or login with username / email address")),s.a.createElement(ne.a,{my:1},s.a.createElement(Q.a,{component:X.a,color:"secondary",fullWidth:!0,label:"Email Address/Username",margin:"normal",name:"username",id:"username",placeholder:"John",type:"username",variant:"outlined"})),s.a.createElement(ne.a,{my:1},s.a.createElement(Q.a,{component:X.a,color:"secondary",fullWidth:!0,label:"Password",margin:"normal",name:"password",type:"password",variant:"outlined"})),s.a.createElement(ne.a,{my:1},s.a.createElement(Q.a,{component:le,color:"secondary",fullWidth:!0,label:"Recaptcha",margin:"normal",name:"recaptcha",type:"recaptcha",variant:"outlined"})),a&&s.a.createElement(re.a,{color:"secondary"}),s.a.createElement(ne.a,{my:1},s.a.createElement(E.a,{color:"secondary",disabled:a,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Sign in")),s.a.createElement(z.a,{container:!0,style:{textAlign:"initial"}},s.a.createElement(z.a,{item:!0,xs:!0},s.a.createElement(ie.a,{color:"secondary",component:J.a,to:"/lostpassword",variant:"body2"},"Forgot password?")),s.a.createElement(z.a,{item:!0},s.a.createElement(I.a,{color:"textSecondary",variant:"body2"},"Don't have an account? ",s.a.createElement(ie.a,{color:"secondary",component:J.a,to:"/register",variant:"body2"},"Sign up"))))))))}}]),a}(s.a.Component),de=Object(h.c)((function(e){var t=e.auth;return{loggedIn:t.loggedIn,loading:t.loading}}),(function(e){return{login:Object(w.b)(se.b,e),logout:Object(w.b)(se.c,e),push:Object(w.b)(C.e,e)}}))(ue),fe=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.loggedIn&&this.props.push("/")}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading;return t.loggedIn?null:s.a.createElement(ee.a,{component:"main",maxWidth:"xs",style:{paddingTop:"10px"}},s.a.createElement(te.a,null),s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement(ae.a,{style:{margin:"auto"}},s.a.createElement($.a,null)),s.a.createElement(I.a,{component:"h1",variant:"h5"},"Lost Password"),s.a.createElement(Q.c,{initialValues:{user_login:"",recaptcha:!1},validationSchema:Z.c().shape({user_login:Z.e().max(255).required("Email or Username is required"),recaptcha:Z.a().required("ReCAPTCHA is required")}),onSubmit:function(t,a){var n=a.resetForm;t.user_login&&e.props.lostRequest(t),n({values:{user_login:"",recaptcha:t.recaptcha}})}},s.a.createElement(Q.b,null,s.a.createElement(ne.a,{my:2},s.a.createElement(I.a,{color:"textSecondary",align:"center",gutterBottom:!0,variant:"body2"},"Enter your email or user_login")),s.a.createElement(ne.a,{my:1},s.a.createElement(Q.a,{component:X.a,color:"secondary",fullWidth:!0,label:"Email Address/Username",margin:"normal",name:"user_login",id:"user_login",placeholder:"John",type:"user_login",variant:"outlined"})),s.a.createElement(ne.a,{my:1},s.a.createElement(Q.a,{component:le,color:"secondary",fullWidth:!0,label:"Recaptcha",margin:"normal",name:"recaptcha",type:"recaptcha",variant:"outlined"})),a&&s.a.createElement(re.a,{color:"secondary"}),s.a.createElement(ne.a,{my:1},s.a.createElement(E.a,{color:"secondary",disabled:a,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Recover"))))))}}]),a}(s.a.Component),he=Object(h.c)((function(e,t){var a=e.auth;return{loggedIn:a.loggedIn,loading:a.loading}}),(function(e,t){return{lostRequest:Object(w.b)(se.d,e),push:Object(w.b)(C.e,e)}}))(fe),me=a(448),pe=a(395),be=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.loggedIn&&this.props.push("/")}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading;return t.loggedIn?null:s.a.createElement(ee.a,{component:"main",maxWidth:"xs",style:{paddingTop:"10px"}},s.a.createElement(te.a,null),s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement(ae.a,{style:{margin:"auto"}},s.a.createElement($.a,null)),s.a.createElement(I.a,{component:"h1",variant:"h5"},"Sign Up"),s.a.createElement(Q.c,{initialValues:{email:"",firstname:"",lastname:"",username:"",password:"",confirm_password:"",recaptcha:!1,policy:!1},validationSchema:Z.c().shape({email:Z.e().email("Must be a valid email").max(255).required("Email is required"),firstname:Z.e().max(255).required("First name is required"),lastname:Z.e().max(255).required("Last name is required"),username:Z.e().max(255).required("User name is required"),password:Z.e().max(255).required("Password is required"),confirm_password:Z.e().oneOf([Z.d("password"),""],"Both password need to be the same"),policy:Z.a().oneOf([!0],"This field must be checked"),recaptcha:Z.a().oneOf([!0],"This field must be checked")}),onSubmit:function(t,a){var n=a.resetForm;e.props.registerRequest(Object(S.a)({},t)),n({values:Object(S.a)({},t)})}},(function(e){var t=e.handleChange,n=e.values,r=e.touched,i=e.errors;return s.a.createElement(Q.b,null,s.a.createElement(ne.a,{mb:3},s.a.createElement(I.a,{color:"textSecondary",align:"center",gutterBottom:!0,variant:"body2"},"Use your email to create new account"),s.a.createElement(Q.a,{component:X.a,color:"secondary",fullWidth:!0,label:"\u0646\u0627\u0645",margin:"normal",name:"firstname",variant:"outlined"}),s.a.createElement(Q.a,{component:X.a,color:"secondary",fullWidth:!0,label:"\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc",margin:"normal",name:"lastname",variant:"outlined"}),s.a.createElement(Q.a,{component:X.a,color:"secondary",fullWidth:!0,label:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc",margin:"normal",name:"username",variant:"outlined"}),s.a.createElement(Q.a,{component:X.a,color:"secondary",fullWidth:!0,label:"\u0622\u062f\u0631\u0633 \u0627\u06cc\u0645\u06cc\u0644",margin:"normal",name:"email",dir:"ltr",type:"email",variant:"outlined"}),s.a.createElement(Q.a,{component:X.a,color:"secondary",fullWidth:!0,label:"\u067e\u0633\u0648\u0631\u062f",margin:"normal",name:"password",type:"password",variant:"outlined"}),s.a.createElement(Q.a,{component:X.a,color:"secondary",fullWidth:!0,label:"\u062a\u0627\u0626\u06cc\u062f \u067e\u0633\u0648\u0631\u062f",margin:"normal",name:"confirm_password",type:"password",variant:"outlined"}),s.a.createElement(ne.a,{alignItems:"center",display:"flex",ml:-1},s.a.createElement(me.a,{checked:n.policy,name:"policy",onChange:t}),s.a.createElement(I.a,{color:"textSecondary",variant:"body1"},"I have read the"," ",s.a.createElement(ie.a,{color:"secondary",component:J.a,to:"#",underline:"always",variant:"body1"},"Terms and Conditions"," "))),Boolean(r.policy&&i.policy)&&s.a.createElement(pe.a,{error:!0},i.policy),s.a.createElement(ne.a,{my:1},s.a.createElement(Q.a,{component:le,color:"secondary",fullWidth:!0,label:"Recaptcha",margin:"normal",name:"recaptcha",type:"recaptcha",variant:"outlined"})),a&&s.a.createElement(re.a,{color:"secondary"}),s.a.createElement(ne.a,{my:2},s.a.createElement(E.a,{color:"secondary",disabled:a,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Sign up now")),s.a.createElement(I.a,{align:"center",color:"textSecondary",variant:"body2"},"Have an account?",s.a.createElement(ie.a,{color:"secondary",component:J.a,to:"/login",variant:"body2"},"Sign in"))))}))))}}]),a}(s.a.Component),ge=Object(h.c)((function(e){var t=e.auth;return{loggedIn:t.loggedIn,loading:t.loading}}),(function(e){return{registerRequest:Object(w.b)(se.e,e),push:Object(w.b)(C.e,e)}}))(be),ve=a(57),_e=a(3),ye=a(38),Ee=a(204),Oe=a(404),je=a(405),ke=a(406),Se=a(407),we=a(408),xe=a(409),Ce=a(410),Ae=a(411),Ne=a(455),Le=a(400),Te=a(401),Ie=a(402),Ge=a(403),Be=Object(B.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));function Me(e){var t=Be(),a=Object(ye.a)(),n=e.count,r=e.page,i=e.rowsPerPage,o=e.onChangePage;return s.a.createElement("div",{className:t.root},s.a.createElement(Ee.a,{onClick:function(e){o(e,0)},disabled:0===r,"aria-label":"first page"},"rtl"===a.direction?s.a.createElement(Le.a,null):s.a.createElement(Te.a,null)),s.a.createElement(Ee.a,{onClick:function(e){o(e,r-1)},disabled:0===r,"aria-label":"previous page"},"rtl"===a.direction?s.a.createElement(Ie.a,null):s.a.createElement(Ge.a,null)),s.a.createElement(Ee.a,{onClick:function(e){o(e,r+1)},disabled:r>=Math.ceil(n/i)-1,"aria-label":"next page"},"rtl"===a.direction?s.a.createElement(Ge.a,null):s.a.createElement(Ie.a,null)),s.a.createElement(Ee.a,{onClick:function(e){o(e,Math.max(0,Math.ceil(n/i)-1))},disabled:r>=Math.ceil(n/i)-1,"aria-label":"last page"},"rtl"===a.direction?s.a.createElement(Te.a,null):s.a.createElement(Le.a,null)))}var Re=Object(B.a)((function(e){return{table:{minWidth:300},toolbar:{"& div":Object(x.a)({flexFlow:"wrap",justifyContent:"flex-end"},e.breakpoints.only("xs"),{justifyContent:"space-around"})}}}));function Pe(e){var t=e.res,a=Re(),n=s.a.useState(0),r=Object(y.a)(n,2),i=r[0],o=r[1],c=s.a.useState(5),l=Object(y.a)(c,2),u=l[0],d=l[1],f=u-Math.min(u,t.length-i*u),h=t.length>500?"higher":t.length>=100?"high":t.length>=30?"average":t.length>5?"low":"lower",m=function(e,t){var a,n;return e&&(a=e),t&&(n=t),a||n};return s.a.createElement(A.a,{className:Object(_e.a)(a.root)},s.a.createElement(Oe.a,{title:"\u0622\u062e\u0631\u06cc\u0646 \u0622\u0647\u0646\u06af \u0647\u0627"}),s.a.createElement(je.a,null),s.a.createElement(ne.a,null,s.a.createElement(ke.a,{className:a.table,"aria-label":"custom pagination table"},s.a.createElement(Se.a,null,s.a.createElement(we.a,null,s.a.createElement(xe.a,null,"\u0646\u0627\u0645 \u0622\u0647\u0646\u06af"),s.a.createElement(xe.a,null,"\u0633\u0627\u0639\u062a"),s.a.createElement(xe.a,null,"\u062a\u0627\u0631\u06cc\u062e"),s.a.createElement(xe.a,null,"\u062f\u0642\u062a"))),s.a.createElement(Ce.a,null,(u>0?t.slice(i*u,i*u+u):t).map((function(e){return s.a.createElement(we.a,{key:Object(R.a)()},0!==e.song.id?s.a.createElement(xe.a,null,s.a.createElement(ie.a,{to:"/lesson/".concat(e.song.id),color:"secondary",component:J.a},e.song.name)):s.a.createElement(xe.a,null,s.a.createElement(ie.a,{to:"/guide",color:"secondary",component:J.a},e.song.name)),s.a.createElement(xe.a,null,m(!1,e.time)),s.a.createElement(xe.a,null,m(e.date)),s.a.createElement(xe.a,null,s.a.createElement(V.a,{color:"secondary",label:e.progress,size:"small"})))})),f>0&&s.a.createElement(we.a,{style:{height:57*f}},s.a.createElement(xe.a,{colSpan:6}))),s.a.createElement(Ae.a,null,s.a.createElement(we.a,null,s.a.createElement(Ne.a,{className:a.toolbar,rowsPerPageOptions:{lower:[{label:"\u0647\u0645\u0647",value:-1}],low:[{label:"\u06f5",value:5},{label:"\u0647\u0645\u0647",value:-1}],average:[{label:"\u06f5",value:5},{label:"\u06f1\u06f0",value:10},{label:"\u0647\u0645\u0647",value:-1}],high:[{label:"\u06f5",value:5},{label:"\u06f1\u06f0",value:10},{label:"\u06f2\u06f5",value:25},{label:"\u0647\u0645\u0647",value:-1}],higher:[{label:"\u06f5",value:5},{label:"\u06f1\u06f0",value:10},{label:"\u06f2\u06f5",value:25},{label:"\u06f5\u06f0",value:50},{label:"\u0647\u0645\u0647",value:-1}]}[h],colSpan:4,count:t.length,rowsPerPage:u,page:i,SelectProps:{inputProps:{"aria-label":"row per page"},native:!0},onChangePage:function(e,t){o(t)},onChangeRowsPerPage:function(e){d(parseInt(e.target.value,10)),o(0)},ActionsComponent:Me}))))))}var Ue=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.playtime||this.props.getPlayTimes()}},{key:"render",value:function(){var e=this.props,t=e.playtime;return e.loading?s.a.createElement(v.a,null):t?s.a.createElement(ee.a,{maxWidth:!1,style:{paddingTop:"10px"}},s.a.createElement(z.a,{container:!0,spacing:3},s.a.createElement(z.a,{item:!0,lg:12,md:12,xl:12,xs:12},s.a.createElement(Pe,{res:t})))):s.a.createElement("div",null,"not signed...")}}]),a}(s.a.Component),Ve=Object(h.c)((function(e,t){return Object(S.a)({},e.user)}),(function(e,t){return{getPlayTimes:Object(w.b)(ve.c,e)}}))(Ue),ze=a(242),Fe=a.n(ze),De=a(414),qe=a(415),He=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).fileUpload=void 0,r.showFileUpload=function(){var e;null===(e=r.fileUpload.current)||void 0===e||e.click()},r.handleImageChange=function(e){e.preventDefault();var t=new FileReader,a=e.target.files;if(null===a||void 0===a?void 0:a.length){var n=a[0];t.onloadend=function(){r.setState({file:n,imagePreviewUrl:t.result})},t.readAsDataURL(n),r.props.setFieldValue(r.props.field.name,n)}},r.state={file:void 0,imagePreviewUrl:null},r.fileUpload=s.a.createRef(),r}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.errorMessage,a=e.classes,n=e.image,r=this.props.field.name,i=this.state,o=i.file,c=i.imagePreviewUrl,l=Object(_e.a)(a.bigAvatar,this.state.file?[a.whiteBack]:[a.primaryBack],Object(x.a)({},a.errorBack,t));return s.a.createElement("div",{className:a.container},s.a.createElement("input",{className:a.hidden,id:r,name:r,type:"file",onChange:this.handleImageChange,ref:this.fileUpload,accept:"image/png, image/jpeg"}),s.a.createElement(ae.a,{className:l,onClick:this.showFileUpload,alt:"avatar",src:t?void 0:o?c:n||void 0},t?s.a.createElement(De.a,{style:{fontSize:36}}):s.a.createElement(qe.a,{style:{fontSize:36}})),t?s.a.createElement(I.a,{variant:"caption",color:"error"},t):null)}}]),a}(l.Component),We=Fe()((function(e){return Object(M.a)({hidden:{display:"none"},container:{margin:e.spacing(2,0),textAlign:"center"},bigAvatar:{margin:"auto",width:128,height:128,borderColor:e.palette.secondary.main,borderStyle:"solid",cursor:"pointer"},primaryBack:{background:e.palette.secondary.main},whiteBack:{background:"white"},errorBack:{background:e.palette.error.main}})}))(He),Ke=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,Ze=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.loading||this.props.getProfile()}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.loading,r=t.classes;if(a){var i={image_select:a.image_select,first_name:a.first_name,last_name:a.last_name,nickname:a.nickname,mobile:a.mobile?a.mobile:""};return s.a.createElement(ee.a,{maxWidth:!1,className:r.root},s.a.createElement(z.a,{container:!0,spacing:3},s.a.createElement(z.a,{item:!0,lg:12,md:12,xl:12,xs:12,className:r.container},s.a.createElement(ee.a,{component:"main",maxWidth:"xs"},s.a.createElement(Q.c,{initialValues:i,validationSchema:Z.c().shape({image_select:Z.b().test("fileSize","File too large ,should be lower than ".concat(Math.floor(163.84),"kb"),(function(e){return!e||"object"!==typeof e||e.size<=163840})),first_name:Z.e().max(255).required("First name is required"),last_name:Z.e().max(255).required("Last name is required"),nickname:Z.e().max(255).required("User name is required"),mobile:Z.e().matches(Ke,"Phone number is not valid")}),onSubmit:function(t,n){var r=n.resetForm,i=t;"string"===typeof t.image_select&&(i=Object(S.a)(Object(S.a)({},t),{},{image_select:void 0})),e.props.updateProfile(Object(S.a)({},i)),r({values:Object(S.a)(Object(S.a)({},t),{},{image_select:a.image_select})})}},(function(e){var t=e.setFieldValue,a=e.initialValues,r=e.errors;return s.a.createElement(Q.b,null,s.a.createElement(ne.a,{mb:3},s.a.createElement(Q.a,{name:"image_select",component:We,image:a.image_select,setFieldValue:t,margin:"normal",errorMessage:r.image_select?r.image_select:void 0}),s.a.createElement(I.a,{color:"textSecondary",align:"center",variant:"h5"},"Personal Information"),s.a.createElement(Q.a,{component:X.a,color:"secondary",fullWidth:!0,label:"\u0646\u0627\u0645 \u0646\u0645\u0627\u06cc\u0634\u06cc",margin:"normal",name:"nickname",variant:"outlined"}),s.a.createElement(Q.a,{component:X.a,color:"secondary",fullWidth:!0,label:"\u0646\u0627\u0645",margin:"normal",name:"first_name",variant:"outlined"}),s.a.createElement(Q.a,{component:X.a,color:"secondary",fullWidth:!0,label:"\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc",margin:"normal",name:"last_name",variant:"outlined"}),s.a.createElement(Q.a,{component:X.a,color:"secondary",fullWidth:!0,label:"\u0645\u0648\u0628\u0627\u06cc\u0644",margin:"normal",name:"mobile",type:"mobile",variant:"outlined"}),n&&s.a.createElement(re.a,{color:"secondary"}),s.a.createElement(ne.a,{my:2},s.a.createElement(E.a,{color:"secondary",disabled:n,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Save"))))}))))))}return s.a.createElement(v.a,null)}}]),a}(l.Component),Qe=Object(h.c)((function(e,t){return Object(S.a)(Object(S.a)({},e.user),{},{auth:e.auth,classes:t.classes})}),(function(e){return{getProfile:Object(w.b)(ve.d,e),updateProfile:Object(w.b)(ve.e,e)}}))(Object(F.a)((function(e){return Object(M.a)({root:Object(x.a)({width:"99vw",minHeight:"calc(100vh - 64px)"},e.breakpoints.down("xs"),{minHeight:"calc(100vh - 48px)",padding:e.spacing(1)}),container:{display:"flex",flexDirection:"column",justifyContent:"space-between"},form:{margin:e.spacing(2),display:"flex",justifyContent:"space-between","& > div":{width:"100%"}}})}))(Ze)),Xe=a(423),Je=a(424),Ye=a(249),$e=a(445),et=a(425),tt=a(419),at=a(420),nt=a(421),rt=a(422),it=a(417),ot=Object(B.a)((function(e){return Object(M.a)({root:Object(x.a)({width:300,maxHeight:360,margin:e.spacing(2)},e.breakpoints.down(350),{margin:e.spacing(1)}),cardAction:{justifyContent:"space-between",margin:"inherit"},content:{minHeight:150}})})),ct=function(e){var t=e.guide,a=ot(),n=t.title,r=t.thumbnails,i=t.description,o=t.teacher,c=function(e){b.b.dispatch(Object(C.e)("/guide/".concat(t.id)))};return s.a.createElement(A.a,{className:a.root},s.a.createElement(N.a,{onClick:c},s.a.createElement(L.a,{component:"img",alt:n,height:"140",image:Object(R.f)(r),title:n}),s.a.createElement(T.a,{className:a.content},s.a.createElement(I.a,{gutterBottom:!0,variant:"h5",component:"h2"},n),s.a.createElement(I.a,{variant:"body2",color:"textSecondary",component:"p"},i))),s.a.createElement(G.a,{className:a.cardAction},s.a.createElement(I.a,{variant:"body2",color:"textSecondary",component:"p"},"\u0627\u0632 ",o),s.a.createElement(E.a,{size:"medium",color:"secondary",onClick:c},"\u0627\u062f\u0627\u0645\u0647 \u062f\u0631\u0633")))},lt=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.requestBank("guides")}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.data,n=e.error,r=e.classes,i=a?a.length:0;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:r.header},s.a.createElement(I.a,{variant:"h3"},"\u0645\u062c\u0645\u0648\u0639\u0647 \u0647\u0627"),s.a.createElement(V.a,{className:r.chip,color:"secondary",label:"\u062a\u0639\u062f\u0627\u062f: "+i})),s.a.createElement(z.a,{container:!0,justify:"center",className:r.cardList},t?s.a.createElement(v.a,null):a.length?a.map((function(e){return s.a.createElement(ct,{key:e.id,guide:e})})):s.a.createElement(I.a,{component:"div",className:r.autoMargin},n)))}}]),a}(l.Component),st=Object(h.c)((function(e,t){return Object(S.a)({classes:t.classes},e.bank.guides)}),(function(e){return{requestBank:Object(w.b)(H,e)}}))(Object(F.a)((function(e){return Object(M.a)({header:{position:"relative"},cardList:{minHeight:"calc(100vh - 240px)"},chip:{position:"absolute",right:0,top:0},autoMargin:{margin:"auto"}})}))(lt)),ut=a(342),dt=a(418),ft=Object(B.a)((function(e){return Object(M.a)({rightChip:{backgroundColor:e.palette.background.default,position:"absolute",zIndex:30,right:e.spacing(1),top:e.spacing(1)},svgSize:{color:e.palette.secondary.main,width:34,height:34,"&:hover":{color:e.palette.primary.main}},loading:{maxWidth:34,maxHeight:34,color:e.palette.secondary.main}})})),ht=function(e){var t=e.isFavorite,a=e.loading,n=e.handleFavorite,r=ft(),i=Object(l.useState)(a),o=Object(y.a)(i,2),c=o[0],u=o[1];Object(l.useEffect)((function(){return c&&u(a),function(){u(!1)}}),[a,c]);return s.a.createElement(Ee.a,{"aria-label":"add to favorites",className:r.rightChip,onClick:function(){u(!0),n()}},c?s.a.createElement(ut.a,{className:r.loading}):t?s.a.createElement(it.a,{className:r.svgSize}):s.a.createElement(dt.a,{className:r.svgSize}))},mt=Object(B.a)((function(e){return Object(M.a)({root:Object(x.a)({width:300,maxHeight:360,position:"relative",margin:e.spacing(2)},e.breakpoints.down(350),{margin:e.spacing(1)}),cardAction:{justifyContent:"space-between",margin:"inherit"},content:{minHeight:150},rightChip:{backgroundColor:e.palette.background.default,position:"absolute",zIndex:30,right:e.spacing(1),top:e.spacing(1)},svgSize:{color:e.palette.secondary.main,width:34,height:34,"&:hover":{color:e.palette.primary.main}},loading:{maxWidth:34,maxHeight:34,color:e.palette.secondary.main}})})),pt=function(e){var t=e.lesson,a=e.user,n=e.type,r=mt(),i=t.title,o=t.featured_img,c=t.excerpt,l=t.author,u=t.id,d=a.loading,f=a.favorite,h=function(){b.b.dispatch(Object(C.e)("/".concat(n,"/").concat(u)))};return s.a.createElement(A.a,{className:r.root},s.a.createElement(ht,{isFavorite:null===f||void 0===f?void 0:f.some((function(e){return e.id===u})),loading:d,handleFavorite:function(){b.b.dispatch(Object(ve.a)({title:i,featured_img:o,excerpt:c,author:l,id:u,type:n}))}}),s.a.createElement(N.a,{onClick:h},s.a.createElement(L.a,{component:"img",alt:i,height:"140",image:Object(R.f)(o),title:i}),s.a.createElement(T.a,{className:r.content},s.a.createElement(I.a,{gutterBottom:!0,variant:"h5",component:"h2"},i),s.a.createElement(I.a,{variant:"body2",color:"textSecondary",component:"p"},c))),s.a.createElement(G.a,{className:r.cardAction},s.a.createElement(I.a,{variant:"body2",color:"textSecondary",component:"p"},"\u0627\u0632 ",l),s.a.createElement(E.a,{size:"medium",color:"secondary",onClick:h},"\u0627\u062f\u0627\u0645\u0647 \u062f\u0631\u0633")))},bt=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.requestBank("lessons")}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.data,n=e.error,r=e.classes,i=e.user,o=a?a.length:0;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:r.header},s.a.createElement(I.a,{variant:"h3"},"\u062f\u0631\u0633 \u0647\u0627"),s.a.createElement(V.a,{className:r.chip,color:"secondary",label:"\u062a\u0639\u062f\u0627\u062f: "+o})),s.a.createElement(z.a,{container:!0,justify:"center",className:r.cardList},t?s.a.createElement(v.a,null):a.length?a.map((function(e){return s.a.createElement(pt,{key:e.id,lesson:e,user:i,type:"lesson"})})):s.a.createElement(I.a,{component:"div",className:r.autoMargin},n)))}}]),a}(l.Component),gt=Object(h.c)((function(e,t){return Object(S.a)({classes:t.classes,user:e.user},e.bank.lessons)}),(function(e){return{requestBank:Object(w.b)(H,e)}}))(Object(F.a)((function(e){return Object(M.a)({header:{position:"relative"},cardList:{minHeight:"calc(100vh - 240px)"},chip:{position:"absolute",right:0,top:0},autoMargin:{margin:"auto"}})}))(bt)),vt=Object(B.a)((function(e){return Object(M.a)({root:Object(x.a)({width:300,maxHeight:360,margin:e.spacing(2)},e.breakpoints.down(350),{margin:e.spacing(1)}),cardAction:{justifyContent:"space-between",margin:"inherit"},content:{minHeight:150}})})),_t=function(e){var t=e.course,a=vt(),n=t.title,r=t.thumbnails,i=t.description,o=t.teacher,c=function(e){b.b.dispatch(Object(C.e)("/course/".concat(t.id)))};return s.a.createElement(A.a,{className:a.root},s.a.createElement(N.a,{onClick:c},s.a.createElement(L.a,{component:"img",alt:n,height:"140",image:Object(R.f)(r),title:n}),s.a.createElement(T.a,{className:a.content},s.a.createElement(I.a,{gutterBottom:!0,variant:"h5",component:"h2"},n),s.a.createElement(I.a,{variant:"body2",color:"textSecondary",component:"p"},i))),s.a.createElement(G.a,{className:a.cardAction},s.a.createElement(I.a,{variant:"body2",color:"textSecondary",component:"p"},"\u0627\u0632 ",o),s.a.createElement(E.a,{size:"medium",color:"secondary",onClick:c},"\u0627\u062f\u0627\u0645\u0647 \u062f\u0631\u0633")))},yt=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.requestBank("courses")}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.data,n=e.error,r=e.classes,i=a?a.length:0;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:r.header},s.a.createElement(I.a,{variant:"h3"},"\u0622\u0645\u0648\u0632\u0634 \u0647\u0627"),s.a.createElement(V.a,{className:r.chip,color:"secondary",label:"\u062a\u0639\u062f\u0627\u062f: "+i})),s.a.createElement(z.a,{container:!0,justify:"center",className:r.cardList},t?s.a.createElement(v.a,null):a.length?a.map((function(e){return s.a.createElement(_t,{key:e.id,course:e})})):s.a.createElement(I.a,{component:"div",className:r.autoMargin},n)))}}]),a}(l.Component),Et=Object(h.c)((function(e,t){return Object(S.a)({classes:t.classes},e.bank.courses)}),(function(e){return{requestBank:Object(w.b)(H,e)}}))(Object(F.a)((function(e){return Object(M.a)({header:{position:"relative"},cardList:{minHeight:"calc(100vh - 240px)"},chip:{position:"absolute",right:0,top:0},autoMargin:{margin:"auto"}})}))(yt)),Ot=Object(B.a)((function(e){return Object(M.a)({root:Object(x.a)({width:300,maxHeight:360,position:"relative",margin:e.spacing(2)},e.breakpoints.down(350),{margin:e.spacing(1)}),cardAction:{justifyContent:"space-between",margin:"inherit"},content:{minHeight:150}})})),jt=function(e){var t=e.favorite,a=Ot(),n=t.title,r=t.featured_img,i=t.excerpt,o=t.author,c=t.id,l=t.type,u=function(){b.b.dispatch(Object(C.e)("/".concat(l,"/").concat(c)))};return s.a.createElement(A.a,{className:a.root},s.a.createElement(ht,{isFavorite:!0,loading:!1,handleFavorite:function(){b.b.dispatch(Object(ve.a)(Object(S.a)(Object(S.a)({},t),{},{type:"lesson"})))}}),s.a.createElement(N.a,{onClick:u},s.a.createElement(L.a,{component:"img",alt:n,height:"140",image:Object(R.f)(r),title:n}),s.a.createElement(T.a,{className:a.content},s.a.createElement(I.a,{gutterBottom:!0,variant:"h5",component:"h2"},n),s.a.createElement(I.a,{variant:"body2",color:"textSecondary",component:"p"},i))),s.a.createElement(G.a,{className:a.cardAction},s.a.createElement(I.a,{variant:"body2",color:"textSecondary",component:"p"},"\u0627\u0632 ",o),s.a.createElement(E.a,{size:"medium",color:"secondary",onClick:u},"\u0627\u062f\u0627\u0645\u0647 \u062f\u0631\u0633")))},kt=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"shouldComponentUpdate",value:function(e){return!e.loading}},{key:"componentDidMount",value:function(){this.props.loading&&this.props.profileRequest()}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.favorite,n=e.error,r=e.classes,i=a?a.length:0;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:r.header},s.a.createElement(I.a,{variant:"h3"},"\u0645\u0648\u0631\u062f\u0639\u0644\u0627\u0642\u0647 \u0647\u0627"),s.a.createElement(V.a,{className:r.chip,color:"secondary",label:"\u062a\u0639\u062f\u0627\u062f: "+i})),s.a.createElement(z.a,{container:!0,justify:"center",className:r.cardList},t?s.a.createElement(v.a,null):a?a.slice(0).reverse().map((function(e){return s.a.createElement(jt,{key:e.id,favorite:e})})):s.a.createElement(I.a,{component:"div",className:r.autoMargin},n)))}}]),a}(l.Component),St=Object(h.c)((function(e,t){return Object(S.a)({classes:t.classes},e.user)}),(function(e){return{profileRequest:Object(w.b)(ve.d,e)}}))(Object(F.a)((function(e){return Object(M.a)({header:{position:"relative"},cardList:{minHeight:"calc(100vh - 240px)"},chip:{position:"absolute",right:0,top:0},autoMargin:{margin:"auto"}})}))(kt)),wt=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.requestBank("exercises")}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.data,n=e.error,r=e.classes,i=e.user,o=a?a.length:0;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:r.header},s.a.createElement(I.a,{variant:"h3"},"\u062a\u0645\u0631\u06cc\u0646 \u0647\u0627"),s.a.createElement(V.a,{className:r.chip,color:"secondary",label:"\u062a\u0639\u062f\u0627\u062f: "+o})),s.a.createElement(z.a,{container:!0,justify:"center",className:r.cardList},t?s.a.createElement(v.a,null):a.length?a.map((function(e){return s.a.createElement(pt,{key:e.id,lesson:e,user:i,type:"exercise"})})):s.a.createElement(I.a,{component:"div",className:r.autoMargin},n)))}}]),a}(l.Component),xt=Object(h.c)((function(e,t){return Object(S.a)({classes:t.classes,user:e.user},e.bank.exercises)}),(function(e){return{requestBank:Object(w.b)(H,e)}}))(Object(F.a)((function(e){return Object(M.a)({header:{position:"relative"},cardList:{minHeight:"calc(100vh - 240px)"},chip:{position:"absolute",right:0,top:0},autoMargin:{margin:"auto"}})}))(wt)),Ct=[{link:"/guide",icon:s.a.createElement(tt.a,null),label:"GUIDES",child:s.a.createElement(st,null)},{link:"/course",icon:s.a.createElement(at.a,null),label:"COURSES",child:s.a.createElement(Et,null)},{link:"/lesson",icon:s.a.createElement(nt.a,null),label:"LESSONS",child:s.a.createElement(gt,null)},{link:"/exercise",icon:s.a.createElement(rt.a,null),label:"EXERCISES",child:s.a.createElement(xt,null)},{link:"/favorite",icon:s.a.createElement(it.a,null),label:"FAVORITES",child:s.a.createElement(St,null)}],At=function(e){return Ct[e].link},Nt=function(e){var t=Ct.find((function(t){return t.link===e}));return t?Ct.indexOf(t):0},Lt=Object(B.a)((function(e){var t;return{root:{width:"100vw"},tabControl:(t={},Object(x.a)(t,e.breakpoints.down(880),{minWidth:150}),Object(x.a)(t,e.breakpoints.down(830),{minWidth:140}),Object(x.a)(t,e.breakpoints.down(780),{minWidth:120}),Object(x.a)(t,e.breakpoints.down(680),{minWidth:100}),Object(x.a)(t,e.breakpoints.down(500),{minWidth:80}),Object(x.a)(t,e.breakpoints.down(370),{minWidth:65}),Object(x.a)(t,e.breakpoints.down(320),{minWidth:55}),t),tabPanel:{padding:e.spacing(2)}}})),Tt=Object(h.c)((function(e){return{loggedIn:e.auth.loggedIn,pathName:e.router.location.pathname}}),(function(e){return{push:Object(w.b)(C.e,e)}}))((function(e){var t=e.loggedIn,a=e.pathName,n=e.push,r=Lt(),i=Object(l.useState)(Nt(a)),o=Object(y.a)(i,2),c=o[0],u=o[1];Object(l.useEffect)((function(){"/favorite"!==a||t?u(Nt(a)):n(At(0))}),[a,t,n]);var d=Object(Xe.a)("(min-width:500px)");return s.a.createElement(s.a.Fragment,null,s.a.createElement(Je.a,{position:"static"},s.a.createElement(Ye.a,{square:!0},s.a.createElement($e.a,{value:c,onChange:function(e,t){return u(a=t),void n(At(a));var a},variant:"scrollable",indicatorColor:"secondary",textColor:"secondary",scrollButtons:"desktop","aria-label":"icon label tabs"},Ct.map((function(e,a){return(4!==a||t)&&s.a.createElement(et.a,{className:r.tabControl,key:e.label,icon:e.icon,label:d?e.label:null,id:"full-width-tab-".concat(a),"aria-controls":"full-width-tabpanel-".concat(a)})}))))),Ct.map((function(e,t){return s.a.createElement("div",{key:e.label+t,role:"tabpanel",hidden:c!==t,id:"full-width-tabpanel-".concat(t),"aria-labelledby":"full-width-tab-".concat(t)},c===t&&s.a.createElement(ne.a,{className:r.tabPanel},e.child))})))}));function It(){var e=function(e){var t=s.a.useState(e),a=Object(y.a)(t,2),n=a[0],r=a[1],i=s.a.useState(null),o=Object(y.a)(i,2),c=o[0],l=o[1],u=s.a.useState(!1),d=Object(y.a)(u,2),f=d[0],h=d[1];return s.a.useEffect((function(){var e=function(e){l(null)},t=function(e){var t=e.key;t!==c&&(t===n&&h(!0),l(t))};return document.addEventListener("keydown",t),document.addEventListener("keyup",e),function(){document.removeEventListener("keydown",t),document.removeEventListener("keyup",e)}}),[c,n]),[r,c,f]}("a"),t=Object(y.a)(e,2),a=t[0],n=t[1];return s.a.createElement("div",null,s.a.createElement("h3",null,n),s.a.createElement("input",{type:"text",onChange:function(e){return a(e.currentTarget.value)}}))}var Gt=Object(l.lazy)((function(){return a.e(24).then(a.bind(null,469))})),Bt=Object(l.lazy)((function(){return a.e(21).then(a.bind(null,467))})),Mt=Object(l.lazy)((function(){return a.e(20).then(a.bind(null,470))})),Rt=Object(l.lazy)((function(){return Promise.all([a.e(0),a.e(23)]).then(a.bind(null,465))})),Pt=Object(l.lazy)((function(){return Promise.all([a.e(0),a.e(22)]).then(a.bind(null,468))})),Ut=function(){return s.a.createElement(g.d,null,s.a.createElement(l.Suspense,{fallback:s.a.createElement(v.a,null)},s.a.createElement(g.b,{exact:!0,path:["/","/post"],component:K}),s.a.createElement(g.b,{exact:!0,path:"/learning",component:Tt}),s.a.createElement(g.b,{exact:!0,path:["/guide","/course","/exercise","/favorite","/lesson"],component:Tt}),s.a.createElement(g.b,{exact:!0,path:"/post/:id",component:Gt}),s.a.createElement(g.b,{exact:!0,path:"/guide/:id",component:Bt}),s.a.createElement(g.b,{exact:!0,path:["/course/:id","/guide/:id/course=:id"],component:Mt}),s.a.createElement(g.b,{exact:!0,path:["/lesson/:id","/course/:id/lesson=:id","/guide/:id/lesson=:id","/guide/:id/course=:id/lesson=:id"],component:Rt}),s.a.createElement(g.b,{exact:!0,path:["/exercise/:id","/course/:id/exercise=:id","/guide/:id/exercise=:id","/guide/:id/course=:id/exercise=:id"],component:Pt}),s.a.createElement(g.b,{exact:!0,path:"/login",component:de}),s.a.createElement(g.b,{exact:!0,path:"/register",component:ge}),s.a.createElement(g.b,{exact:!0,path:"/lostpassword",component:he}),s.a.createElement(_,{exact:!0,path:"/dashboard",component:Ve,isAllowed:!0,restrictedPath:"/dashboard",authenticationPath:"/login"}),s.a.createElement(_,{exact:!0,path:"/profile",component:Qe,isAllowed:!0,restrictedPath:"/profile",authenticationPath:"/login"}),s.a.createElement(g.b,{exact:!0,path:"/about",component:k}),s.a.createElement(g.b,{exact:!0,path:"/test",component:It})))},Vt=(a(330),a(250)),zt=a(456),Ft=a(155),Dt=a(416),qt=a(340),Ht=a(427),Wt=a(25),Kt=a(208),Zt=a(231),Qt=a(413),Xt=a(426),Jt=Object(B.a)((function(e){return Object(M.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},divider:{margin:e.spacing(0,2)}})}));function Yt(e){var t=e.lesson,a=e.modeChanger,n=Jt();return s.a.createElement(Je.a,{position:"static",color:"default",className:n.root},s.a.createElement(Qt.a,null,s.a.createElement(Ee.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:a},s.a.createElement(Xt.a,null)),s.a.createElement(je.a,{orientation:"vertical",flexItem:!0,className:n.divider}),s.a.createElement(I.a,{variant:"h6",color:"inherit",className:n.title},null===t||void 0===t?void 0:t.title)))}var $t=function(e){var t,a,n=e.Melo,r=e.drawGame;return s.a.createElement("canvas",{ref:function(e){return function(e){e&&n.gameLoading&&n.canvasSize&&r(e)}(e)},width:null===(t=n.canvasSize)||void 0===t?void 0:t.width,height:null===(a=n.canvasSize)||void 0===a?void 0:a.height,style:{position:"absolute",top:0,left:0,zIndex:2},onWheel:function(e){return Object(Wt.a)(e)}})},ea=function(e){var t,a,n=e.Melo;return s.a.createElement("canvas",{ref:function(e){return function(e){if(e&&n.canvasSize&&n.gameLoading){var t=e.getContext("2d");t.clearRect(0,0,n.canvasSize.width,n.canvasSize.height);var a=n.pianoSize,r=a?a.length-1:61,i=a?a[r].width:.5,o=n.canvasSize.height;null===a||void 0===a||a.forEach((function(e,a){t.beginPath();var n=e.left;"CF"===e.key||"last"===e.key?(t.moveTo(n,0),t.lineTo(n,o),t.lineWidth=i,t.strokeStyle="rgba(50,50,50,0.8)",t.stroke()):"black"===e.key&&(t.rect(n,0,e.width,o),t.fillStyle="rgba(0,0,0,0.4)",t.fill())}))}}(e)},width:null===(t=n.canvasSize)||void 0===t?void 0:t.width,height:null===(a=n.canvasSize)||void 0===a?void 0:a.height,style:{zIndex:1}})},ta=function(e){var t=e.width,a=e.baseLine;return s.a.createElement("svg",{width:t+7,height:a,onWheel:function(e){return Object(Wt.a)(e)},style:{bottom:0,left:-7,zIndex:3,position:"absolute",filter:"drop-shadow(rgba(0, 0, 0, 0.7) 0px 1px 1px)"}},s.a.createElement("style",null,"@keyframes draw{to{stroke-dashoffset:0}}"),s.a.createElement("polygon",{points:"0,0 10,8 0,16",fill:"red"}),s.a.createElement("line",{style:{strokeDasharray:t+7,strokeDashoffset:t+7,animation:"draw 1s linear forwards"},x1:0,y1:8,x2:t+7,y2:8,strokeWidth:2.5,stroke:"red"}))},aa=Object(h.c)((function(e){return{Melo:e.melodition}}),(function(e){return{drawGame:Object(w.b)(Wt.d,e)}}))((function(e){var t,a,n=e.Melo,r=e.drawGame;return s.a.createElement("div",{style:{width:null===(t=n.canvasSize)||void 0===t?void 0:t.width,height:null===(a=n.canvasSize)||void 0===a?void 0:a.height,position:"relative",boxShadow:"inset 0 1px 4px 0px black"}},s.a.createElement($t,{Melo:n,drawGame:r}),s.a.createElement(ea,{Melo:n}),n.canvasSize&&s.a.createElement(ta,n.canvasSize))})),na=a(209),ra=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).svgWidth=function(e){return 1===e?668:584},r.toggleDrawer=function(e){"keydown"!==e.type&&(r.state.list?r.setState({list:!1}):r.setState({list:!0}))},r.playmodeChanger=function(){r.props.changeMode(!1)},r.updateDimensions=function(){r.props.melodition.pianoLoading||r.props.resizePlayer()},r.state={list:!1},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.melodition,n=e.lesson;return s.a.createElement("div",{className:t.root},s.a.createElement(Yt,{modeChanger:this.playmodeChanger,lesson:n}),a.playMode?s.a.createElement(z.a,{container:!0,className:t.main},s.a.createElement(z.a,{item:!0,xs:1},s.a.createElement(z.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:t.content},s.a.createElement(Kt.a,{loading:a.loading}))),s.a.createElement(z.a,{item:!0,xs:10},s.a.createElement(z.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:t.content},s.a.createElement(z.a,{item:!0,xs:12},a.pianoLoading?s.a.createElement(v.a,{noPad:!0}):s.a.createElement(aa,null),s.a.createElement(na.a,null)))),s.a.createElement(z.a,{item:!0,xs:1},s.a.createElement(z.a,{container:!0,direction:"column",justify:"space-around",alignItems:"center",className:t.content},s.a.createElement(Zt.a,null),s.a.createElement(Ee.a,{color:"secondary","aria-label":"play mode"},s.a.createElement(Ht.a,null))))):s.a.createElement(z.a,{container:!0,className:t.main},s.a.createElement(v.a,null)))}}]),a}(l.Component),ia=Object(h.c)((function(e,t){return{history:e.router.location.pathname,classes:t.classes,melodition:e.melodition,theme:e.auth.theme,lesson:e.single.lesson.data,course:e.single.course.data}}),(function(e){return{changeMode:Object(w.b)(Wt.b,e),drawGame:Object(w.b)(Wt.d,e),drawPiano:Object(w.b)(Wt.g,e),resizePlayer:Object(w.b)(Wt.m,e)}}))(Object(F.a)((function(e){var t;return Object(M.a)({root:{width:"100vw",height:"100vh",overflow:"hidden",backgroundColor:e.palette.background.paper},main:(t={width:"100vw",overflow:"hidden",minHeight:"calc(100vh - 64px)"},Object(x.a)(t,e.breakpoints.down("xs"),{minHeight:"calc(100vh - 56px)"}),Object(x.a)(t,"display","flex"),t),content:{height:"100%",width:"100%",flexWrap:"nowrap"},doubleGrid:{flexWrap:"nowrap",width:"100%",maxWidth:"100%","& > div":{margin:"auto",padding:0,height:"100%"}},centerText:{textAlign:"center"},loading:{display:"flex",height:"83%",boxShadow:"inset 0 1px 4px 0px black"}})}))(ra)),oa=function(e){return{type:O.b,key:e}},ca=[],la=Object(h.c)((function(e){return{snackbars:e.snackbar.snackbars}}),(function(e){return{removeSnack:Object(w.b)(oa,e)}}))((function(e){var t=e.snackbars,a=e.removeSnack,n=Object(p.b)(),r=n.enqueueSnackbar,i=n.closeSnackbar;return Object(l.useEffect)((function(){null===t||void 0===t||t.forEach((function(e){var t,n=e.key,o=e.message,l=e.options,s=void 0===l?{}:l,u=e.dismissed;void 0!==u&&u?i(n):ca.includes(n)||(r(o,Object(S.a)(Object(S.a)({key:n},s),{},{onClose:function(e,t,a){s.onClose&&s.onClose(e,t,a)},onExited:function(e,t){var n;a&&a(String(t)),n=String(t),ca=Object(c.a)(ca.filter((function(e){return n!==e})))}})),t=n,ca=[].concat(Object(c.a)(ca),[t]))}))}),[t,i,r,a]),null})),sa=a(449),ua=a(428),da=Object(B.a)((function(e){return Object(M.a)({bracrumbs:{padding:e.spacing(1,2,0,2),"& > ol > li":{padding:e.spacing(1,.5)}},back:{margin:e.spacing(0,2)}})})),fa={post:s.a.createElement(ua.a,null),guide:s.a.createElement(tt.a,null),course:s.a.createElement(at.a,null),lesson:s.a.createElement(nt.a,null),exercise:s.a.createElement(rt.a,null),favorite:s.a.createElement(it.a,null)},ha=Object(h.c)((function(e,t){return{pathname:e.router.location.pathname,single:e.single}}),(function(e){return{push:Object(w.b)(C.e,e),back:Object(w.b)(C.c,e)}}))((function(e){var t=e.single,a=e.pathname,n=e.push,r=e.back,i=Object(l.useState)([]),o=Object(y.a)(i,2),c=o[0],u=o[1],d=Object(l.useState)(!1),f=Object(y.a)(d,2),h=f[0],m=f[1],p=da();Object(l.useEffect)((function(){var e=Object(R.d)(a),n=Object.keys(e),r=[];return n.forEach((function(e,i){var o,c=t[n[i-1]],l=null===c||void 0===c||null===(o=c.data)||void 0===o?void 0:o.title,s=0===i?fa[e]:l||"...";r[i]={url:a.split("/").slice(0,i+2).join("/"),name:s}})),e.length>0&&(m(!0),u(r)),function(){m(!1)}}),[a,t]);var b=function(e){e.preventDefault(),n(e.currentTarget.pathname)};return h?s.a.createElement(Je.a,{position:"static"},s.a.createElement(Ye.a,{square:!0,style:{overflow:"hidden"}},s.a.createElement(Qt.a,{disableGutters:!0},s.a.createElement(Ee.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:r,className:p.back},s.a.createElement(Xt.a,null)),s.a.createElement(je.a,{orientation:"vertical",flexItem:!0}),s.a.createElement(sa.a,{"aria-label":"breadcrumb",className:p.bracrumbs},c.map((function(e,t){return s.a.createElement(ie.a,{key:t+e.name,href:e.url,color:"inherit","aria-label":e.name,onClick:b},e.name)})))))):null})),ma=a(246),pa=a(189),ba=a(188),ga=a(187),va=a(181),_a=Object(ma.a)({direction:"rtl",typography:{fontFamily:"Vazir"},overrides:{MuiBreadcrumbs:{root:{width:"calc(100vw - 64px)"},ol:{flexWrap:"nowrap",overflowX:"scroll",scrollbarWidth:"none",whiteSpace:"nowrap","&::-webkit-scrollbar":{display:"none"}}},MuiCardActions:{root:{padding:void 0}},MuiCssBaseline:{"@global":{"*":{scrollbarWidth:"thin",scrollbarColor:"rgb(245, 0, 87) #0000"},"*::-webkit-scrollbar":{width:"10px"},"*::-webkit-scrollbar-track":{"-webkit-border-radius":"10px",borderRadius:"8px"},"*::-webkit-scrollbar-thumb":{"-webkit-border-radius":"10px",borderRadius:"10px",background:"rgb(245, 0, 87)"},"*::-webkit-scrollbar-thumb:window-inactive":{background:"rgb(245, 0, 87)"}}},MuiIconButton:{colorSecondary:{"&:hover":{backgroundColor:"rgb(200 200 200 / 0.5)"}}}}}),ya=Object(ma.a)(Object(S.a)(Object(S.a)({},_a),{},{palette:{type:"dark",primary:pa.a,error:ba.a,secondary:{main:ga.a[300]}}}),va.faIR),Ea=Object(ma.a)(Object(S.a)(Object(S.a)({},_a),{},{palette:{error:ba.a}}),va.faIR),Oa=a(245),ja=a.n(Oa),ka=a(430),Sa=a(431),wa=a(432),xa=a(429),Ca=a(26),Aa=Object(B.a)((function(e){return Object(M.a)({sectionDesktop:Object(x.a)({display:"none"},e.breakpoints.up("sm"),{display:"flex"}),sectionMobile:Object(x.a)({display:"flex"},e.breakpoints.up("sm"),{display:"none"}),avatarSmall:{color:e.palette.text.primary,backgroundColor:e.palette.background.paper,width:e.spacing(3),height:e.spacing(3)},imageBorder:{border:"2px solid ".concat(e.palette.text.primary)}})})),Na=function(e){var t=e.state,a=e.dispatch,n=e.loggedIn,r=e.profile;Object(l.useEffect)((function(){n?r||b.b.dispatch(Object(ve.d)()):b.b.dispatch({type:Ca.c})}),[n,r]);var i=Aa(),o=t.menuId,c=t.mobileMenuId,u=function(e){a({type:"profile-anchor",payload:e.currentTarget})},d=null===r||void 0===r?void 0:r.image_select;return n?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:i.sectionDesktop},s.a.createElement(Ee.a,{"aria-label":"show 4 new mails",color:"inherit"},s.a.createElement(xa.a,{badgeContent:4,color:"secondary"},s.a.createElement(ka.a,null))),s.a.createElement(Ee.a,{"aria-label":"show 17 new alerts",color:"inherit"},s.a.createElement(xa.a,{badgeContent:17,color:"secondary"},s.a.createElement(Sa.a,null))),s.a.createElement(Ee.a,{edge:"end","aria-label":"account of current user","aria-controls":o,"aria-haspopup":"true",onClick:u,color:"inherit"},s.a.createElement(ae.a,{className:Object(_e.a)(i.avatarSmall,Object(x.a)({},i.imageBorder,d)),src:d||void 0},s.a.createElement(qe.a,null)))),s.a.createElement("div",{className:i.sectionMobile},s.a.createElement(Ee.a,{"aria-label":"show more","aria-controls":c,"aria-haspopup":"true",onClick:function(e){a({type:"mobile-anchor",payload:e.currentTarget})},color:"inherit"},s.a.createElement(wa.a,null)))):s.a.createElement(Ee.a,{edge:"end","aria-label":"account of current user","aria-controls":o,"aria-haspopup":"true",onClick:u,color:"inherit"},s.a.createElement(qe.a,null))},La=a(251),Ta=a(244),Ia=a.n(Ta),Ga=a(10),Ba=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).handleOnInputChange=function(e){var t=e.target.value;r.setState({query:t,loading:!0})},r.fetchSearchResult=function(){},r.state={query:"",results:{},loading:!1,message:""},r}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.query;return s.a.createElement("div",{className:t.search},s.a.createElement("div",{className:t.searchIcon},s.a.createElement(Ia.a,null)),s.a.createElement(La.a,{placeholder:"\u062c\u0633\u062a\u062c\u0648...",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"},type:"text",value:a,onChange:function(t){return e.handleOnInputChange(t)}}))}}]),a}(s.a.Component),Ma=Object(F.a)((function(e){var t;return Object(M.a)({search:Object(x.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Ga.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Ga.c)(e.palette.common.white,.25)},width:"100%",marginLeft:e.spacing(1)},e.breakpoints.up(420),{width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",top:0,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},inputRoot:{color:"inherit"},inputInput:(t={padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"0","&:focus":{width:"12ch"}},Object(x.a)(t,e.breakpoints.down(420),{width:"7ch"}),Object(x.a)(t,e.breakpoints.down(350),{width:"0"}),t)})}))(Ba),Ra=a(247),Pa=a(412),Ua=a(433),Va=function(e){var t=e.state,a=t.mobileMenuId,n=t.mobileMoreAnchor,r=Boolean(n),i=function(){e.dispatch({type:"mobile-close"})};return e.loggedIn?s.a.createElement(Ra.a,{anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},id:a,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:r,onClose:i},s.a.createElement(Pa.a,null,s.a.createElement(Ee.a,{"aria-label":"show 4 new mails",color:"inherit"},s.a.createElement(xa.a,{badgeContent:4,color:"secondary"},s.a.createElement(Ua.a,null))),s.a.createElement("p",null,"Messages")),s.a.createElement(Pa.a,null,s.a.createElement(Ee.a,{"aria-label":"show 11 new alerts",color:"inherit"},s.a.createElement(xa.a,{badgeContent:11,color:"secondary"},s.a.createElement(Sa.a,null))),s.a.createElement("p",null,"Notification")),s.a.createElement(Pa.a,{onClick:function(t){e.dispatch({type:"profile-anchor",payload:t.currentTarget})}},s.a.createElement(Ee.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},s.a.createElement(qe.a,null)),s.a.createElement("p",null,"Account")),s.a.createElement(Pa.a,{onClick:function(){i(),e.logout&&e.logout()}},s.a.createElement(Ee.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},s.a.createElement(qe.a,null)),s.a.createElement("p",null,"Sign Out"))):s.a.createElement(Ra.a,{anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},id:a,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:r,onClose:i},s.a.createElement(ie.a,{to:"/login",component:J.a,color:"secondary"},s.a.createElement(Pa.a,{onClick:i},s.a.createElement(Ee.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},s.a.createElement(qe.a,null)),s.a.createElement("p",null,"\u0648\u0631\u0648\u062f"))),s.a.createElement(ie.a,{to:"/register",component:J.a,color:"secondary"},s.a.createElement(Pa.a,{onClick:i},s.a.createElement(Ee.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},s.a.createElement(qe.a,null)),s.a.createElement("p",null,"\u062b\u0628\u062a \u0646\u0627\u0645"))))},za=a(434),Fa=a(435),Da=a(436),qa=a(437),Ha=a(438),Wa={in:[{name:"\u067e\u0631\u0648\u0641\u0627\u06cc\u0644",to:"/profile",icon:s.a.createElement(za.a,null)},{name:"\u06a9\u0627\u0628\u0631\u06cc \u0645\u0646",to:"/dashboard",icon:s.a.createElement(Fa.a,null)}],out:[{name:"\u0648\u0631\u0648\u062f",to:"/login",icon:s.a.createElement(Fa.a,null)},{name:"\u062b\u0628\u062a \u0646\u0627\u0645",to:"/register",icon:s.a.createElement(Fa.a,null)}]},Ka=[{to:"/",title:"\u062e\u0627\u0646\u0647\u200c",icon:s.a.createElement(Da.a,null)},{to:"/learning",title:"\u062f\u0631\u0633 \u0647\u0627\u200c",icon:s.a.createElement(qa.a,null)},{to:"/about",title:"\u062f\u0631\u0628\u0627\u0631\u0647\u200c",icon:s.a.createElement(Ha.a,null)}],Za=function(e){var t=e.loggedIn,a=e.state,n=e.logout,r=e.dispatch,i=a.profileMoreAnchor,o=a.menuId,c=Boolean(i),l=function(){r({type:"profile-close"})},u=t?Wa.in:Wa.out;return s.a.createElement(Ra.a,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},id:o,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:l},u.map((function(e,t){return s.a.createElement(ie.a,{to:e.to,key:"menuitem-"+t,onClick:l,component:J.a,color:"secondary"},s.a.createElement(Pa.a,{onClick:l},e.name))})),t&&s.a.createElement(Pa.a,{onClick:function(){n&&n(),l()}},"\u062e\u0631\u0648\u062c"))},Qa=a(450),Xa=a(394),Ja=a(439),Ya=a(440),$a=a(441),en=a(442),tn=a(346),an=a(443),nn=a(444),rn=Object(B.a)((function(e){return Object(M.a)({root:{display:"flex"},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(S.a)(Object(S.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-start"}),toolbar:Object(S.a)({display:"flex",alignItems:"center",justifyContent:"space-between",padding:e.spacing(0,1,0,4)},e.mixins.toolbar)})}));function on(e){var t=e.state,a=e.loggedIn,n=e.theme,r=e.changeTheme,i=e.dispatch,o=rn(),c=Object(ye.a)().direction,l=function(){i({type:"menu-toggle"})},u=a?Wa.in:Wa.out;return s.a.createElement("div",{className:o.root},s.a.createElement(te.a,null),s.a.createElement(Qa.a,{className:o.drawer,variant:"temporary",anchor:"ltr"===c?"right":"left",open:t.menuIsOpen,onClose:l,classes:{paper:o.drawerPaper}},s.a.createElement("div",{className:o.toolbar},s.a.createElement(Ee.a,{color:"inherit","aria-label":"open drawer",onClick:function(){r("light"===n?"dark":"light")},edge:"start"},"light"===n?s.a.createElement(Ja.a,null):s.a.createElement(Ya.a,null)),s.a.createElement(Ee.a,{onClick:l},"ltr"===c?s.a.createElement($a.a,null):s.a.createElement(en.a,null))),s.a.createElement(je.a,null),s.a.createElement(Xa.a,null,Ka.map((function(e,t){return s.a.createElement(ie.a,{to:e.to,key:"sidelink-"+t,onClick:l,component:J.a,color:"secondary"},s.a.createElement(tn.a,{button:!0},s.a.createElement(an.a,null,e.icon),s.a.createElement(nn.a,{primary:e.title})))}))),s.a.createElement(je.a,null),s.a.createElement(Xa.a,null,u.map((function(e,t){return s.a.createElement(ie.a,{to:e.to,key:"sidelink-"+t,onClick:l,component:J.a,color:"secondary"},s.a.createElement(tn.a,{button:!0},s.a.createElement(an.a,null,e.icon),s.a.createElement(nn.a,{primary:e.name})))})))))}var cn=a(384),ln=Object(B.a)((function(e){var t;return Object(M.a)({root:(t={display:"none"},Object(x.a)(t,e.breakpoints.up(420),{marginLeft:e.spacing(1),display:"inline-block"}),Object(x.a)(t,e.breakpoints.up("sm"),{marginLeft:e.spacing(2),display:"inline-block"}),Object(x.a)(t,e.breakpoints.up("md"),{marginLeft:e.spacing(4),display:"inline-block"}),Object(x.a)(t,e.breakpoints.up("lg"),{marginLeft:e.spacing(8),display:"inline-block"}),t),linkKeeper:{overflow:"hidden",height:"1.2em",lineHeight:"1.2em"},links:{textAlign:"center",flexGrow:1}})})),sn=function(e){var t=e.openStatus,a=ln();return s.a.createElement(cn.a,{in:!t,className:a.links},s.a.createElement("div",{className:a.linkKeeper},Ka.map((function(e,t){return s.a.createElement(ie.a,{key:"link-"+t,to:e.to,className:a.root,component:J.a,color:"secondary"},e.title)}))))},un=Object(B.a)((function(e){return Object(M.a)({appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},hide:{display:"none"},menuButton:{marginRight:e.spacing(2)}})})),dn=function(e){var t=un(),a=e.state.menuIsOpen;return s.a.createElement(Je.a,{color:"default",position:"relative",className:Object(_e.a)(t.appBar,Object(x.a)({},t.appBarShift,a))},s.a.createElement(Qt.a,null,s.a.createElement(Ee.a,{color:"inherit","aria-label":"open drawer",onClick:function(){e.dispatch({type:"menu-toggle"})},edge:"start",className:Object(_e.a)(t.menuButton,Object(x.a)({},t.hide,a))},s.a.createElement(ja.a,null)),s.a.createElement(ie.a,{component:J.a,color:"secondary",to:"/"},"\u0645\u0644\u0648\u062f\u06cc\u0634\u0646"),s.a.createElement("p",{onClick:function(){return sessionStorage.clear()}},"(","0.5.9",")"),s.a.createElement(sn,{openStatus:a}),s.a.createElement(Ma,null),s.a.createElement(Na,e)),s.a.createElement(on,e),s.a.createElement(Va,e),s.a.createElement(Za,e))},fn={menuId:"primary-search-account-menu",mobileMenuId:"primary-search-account-menu-mobile",profileMoreAnchor:null,mobileMoreAnchor:null,menuIsOpen:!1};function hn(e,t){switch(t.type){case"field":return Object(S.a)(Object(S.a)({},e),{},Object(x.a)({},t.fieldName,t.payload));case"menu-toggle":return Object(S.a)(Object(S.a)({},e),{},{menuIsOpen:!e.menuIsOpen});case"profile-close":return Object(S.a)(Object(S.a)({},e),{},{profileMoreAnchor:null});case"mobile-close":return Object(S.a)(Object(S.a)({},e),{},{mobileMoreAnchor:null});case"mobile-anchor":return Object(S.a)(Object(S.a)({},e),{},{mobileMoreAnchor:t.payload});case"profile-anchor":return Object(S.a)(Object(S.a)({},e),{},{profileMoreAnchor:t.payload});default:return e}}var mn=Object(h.c)((function(e){var t=e.auth;return{loggedIn:t.loggedIn,theme:t.theme,profile:e.user.data}}),(function(e){return{logout:Object(w.b)(se.c,e),changeTheme:Object(w.b)(se.a,e)}}))((function(e){var t=Object.assign({},e),a=Object(l.useReducer)(hn,fn),n=Object(y.a)(a,2),r=n[0],i=n[1];return s.a.createElement(dn,Object.assign({state:r,dispatch:i},t))})),pn=a(145),bn=Object(u.c)({plugins:[].concat(Object(c.a)(Object(Vt.a)().plugins),[f()()])}),gn=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){"undefined"===typeof window.orientation&&Object(pn.b)()}},{key:"render",value:function(){var e=this.props,t=e.theme,a=e.playMode,n=e.classes,r="light"===t?Ea:ya,i=Object(zt.a)(r);return s.a.createElement(m.a,{history:b.a},s.a.createElement(Ft.b,{jss:bn},s.a.createElement(Dt.a,{theme:i},s.a.createElement(p.a,null,s.a.createElement(qt.a,{direction:"right",in:a,mountOnEnter:!0,unmountOnExit:!0},s.a.createElement(Ye.a,null,s.a.createElement(ia,null))),s.a.createElement(ne.a,{className:n.app},s.a.createElement(mn,null),s.a.createElement(ha,null),s.a.createElement(la,null),s.a.createElement(ne.a,{id:"main-body",className:n.mainBody},s.a.createElement(Ut,null)))))))}}]),a}(l.Component),vn=Object(h.c)((function(e,t){return{theme:e.auth.theme,playMode:e.melodition.playMode,classes:t.classes}}),{})(Object(F.a)((function(e){return Object(M.a)({app:{width:"100vw",height:"100vh",overflowX:"hidden",display:"flex",flexDirection:"column",overflow:"hidden"},mainBody:{height:"inherit",overflowX:"hidden",overflowY:"auto"}})}))(gn)),_n=a(22);Object(_n.render)(s.a.createElement(h.a,{store:b.b},s.a.createElement(vn,null)),document.getElementById("root"))},35:function(e,t,a){"use strict";a.d(t,"i",(function(){return n})),a.d(t,"j",(function(){return r})),a.d(t,"h",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return l})),a.d(t,"k",(function(){return s})),a.d(t,"f",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"e",(function(){return f})),a.d(t,"a",(function(){return h}));var n="USER_REGISTER_REQUEST",r="USER_REGISTER_SUCCESS",i="USER_REGISTER_FAILURE",o="USER_LOGIN_REQUEST",c="USER_LOGIN_SUCCESS",l="USER_LOGIN_FAILURE",s="USER_LOGOUT",u="USER_LOST_REQUEST",d="USER_LOST_SUCCESS",f="USER_LOST_FAILURE",h="CHANGE_THEME"},39:function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return s})),a.d(t,"f",(function(){return u})),a.d(t,"e",(function(){return d}));var n=a(13),r=a(238),i=a.n(r),o=function(e){var t,a=e.split("/").filter((function(e){return e})),r={length:0};if(2===a.length)t={},Object(n.a)(t,a[0],Number(a[1])),Object(n.a)(t,"length",1),r=t;else if(3===a.length){var i,o=a[2].split("=");i={},Object(n.a)(i,a[0],Number(a[1])),Object(n.a)(i,o[0],Number(o[1])),Object(n.a)(i,"length",2),r=i}else if(4===a.length){var c,l=a[2].split("="),s=a[3].split("=");c={},Object(n.a)(c,a[0],Number(a[1])),Object(n.a)(c,l[0],Number(l[1])),Object(n.a)(c,s[0],Number(s[1])),Object(n.a)(c,"length",3),r=c}return r},c=function(e){var t=localStorage.getItem(e);return null!==t?JSON.parse(t):void 0},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new Date,a=t.getTime(),n=6e4*e;return a+n},s=function(){return l(Math.random()).toString(36)},u=function(e){var t=i.a;return e&&("object"===typeof e?t=e.medium:"string"===typeof e&&(t=e)),t},d=["","\u0634\u0631\u0648\u0639","\u0628\u062e\u0634 \u0627\u0648\u0644","\u0628\u062e\u0634 \u062f\u0648\u0645","\u0628\u062e\u0634 \u0633\u0648\u0645","\u0628\u062e\u0634 \u0686\u0647\u0627\u0631\u0645","\u0628\u062e\u0634 \u067e\u0646\u062c\u0645","\u0628\u062e\u0634 \u0634\u0634\u0645","\u0628\u062e\u0634 \u0647\u0641\u062a\u0645","\u0628\u062e\u0634 \u0647\u0634\u062a\u0645","\u0628\u062e\u0634 \u0646\u0647\u0645","\u0628\u062e\u0634 \u062f\u0647\u0645"]},40:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),r=a.n(n),i=a(341),o=a(336),c=a(342),l=Object(i.a)((function(e){return Object(o.a)({loading:{display:"flex",height:"83%",boxShadow:"inset 0 1px 4px 0px black"},loadingPad:{display:"flex",width:"100vw",minHeight:"calc(100vh - 300px)",overflow:"hidden"}})})),s=function(e){var t=e.noPad,a=l();return r.a.createElement("div",{className:t?a.loading:a.loadingPad},r.a.createElement(c.a,{color:"secondary",style:{margin:"auto"}}))}},41:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return l}));var n=a(202),r=a.n(n),i=a(20),o=a(73),c=r.a.create({baseURL:"https://panel.melodition.com/wp-json",headers:function(){var e=localStorage.getItem("user"),t=e?JSON.parse(e):null;return(null===t||void 0===t?void 0:t.token)?{Authorization:"Bearer "+t.token}:{Authorization:""}}()});c.interceptors.response.use((function(e){return e}),(function(e){return console.log(e),403===e.response.status&&(/invalid_token/.test(e.response.data.code)?i.b.dispatch(Object(o.c)()):/incorrect_password/.test(e.response.data.code)&&(e.response.data.button={url:"/lostpassword",msg:"\u0628\u0627\u0632\u06cc\u0627\u0628\u06cc \u0631\u0645\u0632"})),Promise.reject(e)}));var l=r.a.create({method:"get",responseType:"arraybuffer"})},48:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i}));var n="SHOW_SNACKBAR",r="CLEAR_SNACKBAR",i="REMOVE_SNACKBAR"},57:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return s})),a.d(t,"c",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return f}));var n=a(2),r=a(207),i=a(26),o=a(32),c=a(41),l=function(){return function(e){e({type:i.d}),c.a.get("/jwt-auth/v1/profile").then((function(t){var a=t.data,n=a.favorite,o=Object(r.a)(a,["favorite"]);e({type:i.e,profile:o}),e({type:i.b,favorite:n})})).catch((function(e){return Object(o.a)(e,i.c)}))}},s=function(e){return function(t){var a=function(e){return c.a.put("/jwt-auth/v1/profile",e).then((function(e){t({type:i.e,profile:Object(n.a)({},e.data)})})).catch((function(e){return Object(o.a)(e,i.c)}))};if(t({type:i.d}),e.image_select){var r=new FormData;r.append("file",e.image_select),c.a.post("wp/v2/media",r).then((function(t){a(Object(n.a)(Object(n.a)({},e),{},{image_select:String(t.data.id)}))})).catch((function(e){return Object(o.a)(e,i.c)}))}else a(e)}},u=function(){return function(e){e({type:i.d}),c.a.get("/jwt-auth/v1/user?for=playtime").then((function(t){e({type:i.f,playtime:t.data})})).catch((function(e){return Object(o.a)(e,i.c)}))}},d=function(e){return function(t,a){a().auth.loggedIn?(t({type:i.d}),c.a.put("/jwt-auth/v1/user?for=favorite",e).then((function(e){t({type:i.b,favorite:e.data})})).catch((function(e){return Object(o.a)(e,i.c)}))):Object(o.b)(i.c)}},f=function(e){return function(t,a){a().auth.loggedIn?c.a.put("/jwt-auth/v1/user?for=playtime",e).then((function(e){t({type:i.f,playtime:e.data}),Object(o.c)("Saved")})).catch((function(e){return Object(o.a)(e,i.c)})):Object(o.b)(i.c)}}},73:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return d})),a.d(t,"e",(function(){return f})),a.d(t,"d",(function(){return h}));var n=a(45),r=a(35),i=a(48),o=a(32),c=a(41),l=a(26),s=function(e){return function(t){t({type:r.c}),c.a.post("/jwt-auth/v1/token",e).then((function(e){t({type:r.d,user:e.data}),localStorage.setItem("user",JSON.stringify(e.data)),c.a.defaults.headers.common={Authorization:"Bearer "+e.data.token},c.a.defaults.headers.Authorization="Bearer "+e.data.token,t(Object(n.c)()),t({type:i.c,snackbar:Object(o.d)("".concat(e.data.user_display_name," logged in successfully."),"success")})})).catch((function(e){return Object(o.a)(e,r.b)}))}},u=function(e){return function(t){t({type:r.a,theme:e})}},d=function(){return function(e){localStorage.removeItem("user"),delete c.a.defaults.headers.common.Authorization,delete c.a.defaults.headers.Authorization,e({type:r.k}),e({type:l.a})}},f=function(e){return function(t){t({type:r.i}),c.a.post("/jwt-auth/v1/register",e).then((function(e){t({type:r.j,user:e.data}),t(Object(n.e)("/login")),t({type:i.c,snackbar:Object(o.d)(e.data.message,"success")})})).catch((function(e){return Object(o.a)(e,r.h)}))}},h=function(e){return function(t){t({type:r.f}),c.a.post("/jwt-auth/v1/lostpassword",e).then((function(e){var a=e.data.message.toString();t({type:r.g,message:a}),t(Object(n.e)("/login")),t({type:i.c,snackbar:Object(o.d)(a,"success")})})).catch((function(e){Object(o.a)(e,r.e)}))}}},88:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"g",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"e",(function(){return o})),a.d(t,"c",(function(){return c})),a.d(t,"f",(function(){return l})),a.d(t,"a",(function(){return s}));var n="REQUEST_EXERCISES",r="SUCCESS_EXERCISES",i="FAILURE_EXERCISES",o="SAVE_EXERCISES",c="REQUEST_EXERCISE",l="SUCCESS_EXERCISE",s="FAILURE_EXERCISE"},89:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"g",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"e",(function(){return o})),a.d(t,"c",(function(){return c})),a.d(t,"f",(function(){return l})),a.d(t,"a",(function(){return s}));var n="REQUEST_LESSONS",r="SUCCESS_LESSONS",i="FAILURE_LESSONS",o="SAVE_LESSONS",c="REQUEST_LESSON",l="SUCCESS_LESSON",s="FAILURE_LESSON"},90:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"g",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"e",(function(){return o})),a.d(t,"c",(function(){return c})),a.d(t,"f",(function(){return l})),a.d(t,"a",(function(){return s}));var n="REQUEST_COURSES",r="SUCCESS_COURSES",i="FAILURE_COURSES",o="SAVE_COURSES",c="REQUEST_COURSE",l="SUCCESS_COURSE",s="FAILURE_COURSE"},93:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"g",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"e",(function(){return o})),a.d(t,"c",(function(){return c})),a.d(t,"f",(function(){return l})),a.d(t,"a",(function(){return s}));var n="REQUEST_GUIDES",r="SUCCESS_GUIDES",i="FAILURE_GUIDES",o="SAVE_GUIDES",c="REQUEST_GUIDE",l="SUCCESS_GUIDE",s="FAILURE_GUIDE"}},[[282,18,19]]]);
//# sourceMappingURL=main.c8eb7411.chunk.js.map