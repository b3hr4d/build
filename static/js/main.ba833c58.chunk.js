(this["webpackJsonpmelodition-typescript"]=this["webpackJsonpmelodition-typescript"]||[]).push([[17],{125:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u}));var a=n(11),r=n(18),i=[1,2,4,6,7,9,11,13,14,16,18,19,21,23,25,26,28,30,31,33,35,37,38,40,42],o=[0,2,4,6,7,9,11,12,14,16,18,19,21,23,24,26,28,30,31,33,35,36,38,40,42,43,45,47],s=function(e){var t=e%12,n="C";return 1===t&&(n="Db"),2===t&&(n="D"),3===t&&(n="Eb"),4===t&&(n="E"),5===t&&(n="F"),6===t&&(n="Gb"),7===t&&(n="G"),8===t&&(n="Ab"),9===t&&(n="A"),10===t&&(n="Bb"),11===t&&(n="B"),""+n},c=function(e){return 101===e||81===e||60===e||40===e},l={z:48,s:49,x:50,d:51,c:52,v:53,g:54,b:55,h:56,n:57,j:58,m:59,",":60,l:61,".":62,";":63,"/":64,q:65,2:66,w:67,3:68,e:69,4:70,r:71,t:72,6:73,y:74,7:75,u:76,i:77,9:78,o:79,0:80,p:81,"-":82,"[":83,"]":84},u=function e(){var t=this;Object(a.a)(this,e),this.isDown=!1,this.playedKey=void 0,this.keyboardUp=function(e){var n=e.key;if(l.hasOwnProperty(n)){var a=l[n];Object(r.h)(a),t.playedKey=null}},this.keyboardDown=function(e){var n=e.key;if(l.hasOwnProperty(n)&&n!==t.playedKey){var a=l[n];Object(r.i)(a),t.playedKey=n}},this.mouseUpReset=function(){t.isDown=!1},this.mouseDown=function(e){e.preventDefault();var n=e.currentTarget.tabIndex;t.isDown=!0,t.playedKey=n,Object(r.i)(n)},this.mouseOver=function(e){e.preventDefault();var n=e.currentTarget.tabIndex;t.isDown&&n!==t.playedKey&&(t.playedKey=n,Object(r.i)(n))},this.mouseLeave=function(e){e.preventDefault();var n=e.currentTarget.tabIndex;t.isDown&&(Object(r.h)(n),t.playedKey=null)},this.mouseUp=function(e){e.preventDefault();var n=e.currentTarget.tabIndex;t.isDown=!1,Object(r.h)(n),t.playedKey=null}}},134:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var a,r=n(208),i=n(18),o=n(39),s=function(){navigator.requestMIDIAccess?navigator.requestMIDIAccess().then((function(e){console.log("MIDI Ready!");var t,n=Object(r.a)(e.inputs);try{for(n.s();!(t=n.n()).done;){var i=t.value;a=i[1],Object(o.b)("MIDI input device: "+a.name),console.log(a),a.onmidimessage=f,a.onstatechange=l}}catch(s){n.e(s)}finally{n.f()}})).catch((function(e){Object(o.a)("Error accessing MIDI devices: "+e)})):Object(o.a)("\u0644\u0637\u0641\u0627\u064b \u0628\u0631\u0627\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0627\u0645\u0644 \u0627\u0632 \u0627\u0645\u06a9\u0627\u0646\u0627\u062a \u0633\u0627\u06cc\u062a \u0627\u0632 \u06af\u0648\u06af\u0644 \u06a9\u0631\u0648\u0645 \u06cc\u0627 \u0645\u0627\u06cc\u06a9\u0631\u0648\u0633\u0627\u0641\u062a \u0627\u062c \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f.")},c=function(e){a&&(a.onmidimessage=e?f:function(){})},l=function(e){console.log(e)},u=[],d=!1,f=function(e){var t=e.data;if(3===t.length){var n=t[0]>>>4;if(11===n){var a=t[2];d=h(a)}if(9===n||8===n){var r=t[1],o=t[2];9===n&&o?(Object(i.i)(r,o/100),u.push(r)):d||(Object(i.h)(r),u=[])}}},h=function(e){return 0!==e||(u.forEach((function(e){Object(i.h)(e)})),u=[],!1)}},148:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var a="REQUEST_FAVORITES",r="SUCCESS_FAVORITES",i="FAILURE_FAVORITES"},18:function(e,t,n){"use strict";n.d(t,"k",(function(){return P})),n.d(t,"g",(function(){return V})),n.d(t,"j",(function(){return U})),n.d(t,"c",(function(){return z})),n.d(t,"f",(function(){return F})),n.d(t,"d",(function(){return D})),n.d(t,"e",(function(){return q})),n.d(t,"m",(function(){return H})),n.d(t,"l",(function(){return W})),n.d(t,"b",(function(){return K})),n.d(t,"a",(function(){return Z})),n.d(t,"n",(function(){return Q})),n.d(t,"o",(function(){return X})),n.d(t,"i",(function(){return J})),n.d(t,"h",(function(){return Y}));var a=n(21),r=n(75),i=n.n(r),o=n(3),s=n(108),c=n(11),l=n(74),u=function e(t){var n=this;Object(c.a)(this,e),this.volume=1,this.tracks=[],this.analyserNode=void 0,this.sampleNodes=[],this.masterVolumeNode=void 0,this.paused=!0,this.muted=!1,this.loopEndTime=null,this.loopMode=!1,this.loopStartTime=null,this.audioContext=void 0,this.trackVolumeNodes=[],this.elapsedTimeSinceStart=null,this.decodedAudioBuffers=[],this.addTrack=function(e){n.tracks.push({decodedBuffer:e.buffer,peaks:null,volume:e.vol,panning:0,muted:!1,solo:!1,sampleNode:null,volumeNode:null})},this.loadBuffer=function(){var e=Object(s.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n,e.next=3,n.audioContext.decodeAudioData(t.buffer,(function(e){e||Promise.reject("error decoding file data: "),n.decodedAudioBuffers=[].concat(Object(l.a)(n.decodedAudioBuffers),[e]),n.addTrack({buffer:e,vol:t.vol}),Promise.resolve(a)}),(function(e){return Promise.reject(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.buildGraph=function(){for(var e=[],t=0;t<n.decodedAudioBuffers.length;t++){var a=n.decodedAudioBuffers[t];e[t]=n.audioContext.createBufferSource(),e[t].buffer=a,n.trackVolumeNodes[t]=n.audioContext.createGain(),n.trackVolumeNodes[t]&&(n.trackVolumeNodes[t].gain.value=n.tracks[t].volume),e[t].connect(n.trackVolumeNodes[t]),n.trackVolumeNodes[t].connect(n.masterVolumeNode),n.masterVolumeNode.connect(n.analyserNode),n.analyserNode.connect(n.audioContext.destination)}n.sampleNodes=e},this.play=function(e){n.buildGraph(),n.setTrackVolumesDependingOnMuteSoloStatus(),n.elapsedTimeSinceStart=e,n.sampleNodes.forEach((function(t){t.start(0,e)})),n.paused=!1},this.stop=function(){!0!==n.paused&&(n.sampleNodes.forEach((function(e){e.stop(0)})),n.paused=!0)},this.pause=function(){n.paused?n.play(n.elapsedTimeSinceStart):n.stop()},this.setVolume=function(e){n.volume=e,n.masterVolumeNode.gain.value=e},this.setMasterVolume=function(e){var t;t=void 0===e?.8:e/100,n.setVolume(t*t)},this.setVolumeOfTrack=function(e,t){void 0!==n.trackVolumeNodes[t]&&(n.trackVolumeNodes[t].gain.value=e,n.tracks[t].volume=e)},this.getUrlsOfTracks=function(){var e=[];return n.tracks.forEach((function(t){e.push(t.url)})),e},this.getDuration=function(){if(void 0!==n.decodedAudioBuffers){for(var e=0,t=0;t<n.decodedAudioBuffers.length;t++)e<n.decodedAudioBuffers[t].duration&&(e=n.decodedAudioBuffers[t].duration);return e}},this.getNbTracks=function(){return n.tracks.length},this.toggleLoopMode=function(){n.loopMode=!n.loopMode},this.toggleMute=function(){n.muted=!n.muted,n.muted?n.masterVolumeNode.gain.value=0:n.masterVolumeNode.gain.value=n.volume},this.togglePause=function(){n.paused=!n.paused},this.setTrackVolumesDependingOnMuteSoloStatus=function(){for(var e=!1,t=n.getNbTracks(),a=0;a<t;a++)if(n.tracks[a].solo){e=!0;break}if(e)for(var r=0;r<t;r++)n.tracks[r].solo?n.trackVolumeNodes[r].gain.value=n.tracks[r].volume:n.trackVolumeNodes[r].gain.value=0;else for(var i=0;i<t;i++)void 0!==n.trackVolumeNodes[i]&&(n.tracks[i].muted?n.trackVolumeNodes[i].gain.value=0:n.trackVolumeNodes[i].gain.value=n.tracks[i].volume)},this.audioContext=t,this.masterVolumeNode=this.audioContext.createGain(),this.analyserNode=this.audioContext.createAnalyser()},d=function e(t){var n=this;Object(c.a)(this,e),this.audioContext=void 0,this.input=void 0,this.band32=void 0,this.band64=void 0,this.band128=void 0,this.band256=void 0,this.band512=void 0,this.band1k=void 0,this.band2k=void 0,this.band4k=void 0,this.band8k=void 0,this.band16k=void 0,this.output=void 0,this.bandEqualizer=function(e,t){var a=n.audioContext.createBiquadFilter();return a.frequency.setTargetAtTime(t,0,1e-4),a.type="peaking",a.gain.setTargetAtTime(0,0,1e-4),a.Q.setTargetAtTime(1,0,1e-4),e.connect(a),a},console.log("WebAudioFont Channel v1.04"),this.audioContext=t,this.input=this.audioContext.createDynamicsCompressor(),this.input.threshold.setValueAtTime(-3,0),this.input.knee.setValueAtTime(30,0),this.input.ratio.setValueAtTime(12,0),this.input.attack.setValueAtTime(.05,0),this.input.release.setValueAtTime(.08,0),this.band32=this.bandEqualizer(this.input,32),this.band64=this.bandEqualizer(this.band32,64),this.band128=this.bandEqualizer(this.band64,128),this.band256=this.bandEqualizer(this.band128,256),this.band512=this.bandEqualizer(this.band256,512),this.band1k=this.bandEqualizer(this.band512,1024),this.band2k=this.bandEqualizer(this.band1k,2048),this.band4k=this.bandEqualizer(this.band2k,4096),this.band8k=this.bandEqualizer(this.band4k,8192),this.band16k=this.bandEqualizer(this.band8k,16384),this.output=t.createGain(),this.band16k.connect(this.output)},f=function e(t){var n=this;Object(c.a)(this,e),this.player=void 0,this.cached=void 0,this.choosenInfos=void 0,this.drumKeyArray=void 0,this.drumNamesArray=void 0,this.instrumentKeyArray=void 0,this.instrumentNamesArray=void 0,this.startLoad=function(e,t){if(!window[t]){for(var a=0;a<n.cached.length;a++)if(n.cached[a].variableName===t)return;n.cached.push({filePath:e,variableName:t});var r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",e),document.getElementsByTagName("head")[0].appendChild(r),n.decodeAfterLoading(t)}},this.decodeAfterLoading=function(e){n.waitOrFinish(e,(function(){n.player.adjustPreset(window[e])}))},this.waitOrFinish=function(e,t){if(window[e])t();else{var a=n;setTimeout((function(){a.waitOrFinish(e,t)}),111)}},this.loaded=function(e){if(!window[e])return!1;for(var t=window[e],n=0;n<t.zones.length;n++)if(!t.zones[n].buffer)return!1;return!0},this.progress=function(){if(n.cached.length>0){for(var e=0;e<n.cached.length;e++)if(!n.loaded(n.cached[e].variableName))return e/n.cached.length;return 1}return 1},this.waitLoad=function(e){var t=n;n.progress()>=1?e():setTimeout((function(){t.waitLoad(e)}),333)},this.instrumentTitles=function(){if(!n.instrumentNamesArray){var e=[];e[0]="Acoustic Grand Piano: Piano",e[1]="Bright Acoustic Piano: Piano",e[2]="Electric Grand Piano: Piano",e[3]="Honky-tonk Piano: Piano",e[4]="Electric Piano 1: Piano",e[5]="Electric Piano 2: Piano",e[6]="Harpsichord: Piano",e[7]="Clavinet: Piano",e[8]="Celesta: Chromatic Percussion",e[9]="Glockenspiel: Chromatic Percussion",e[10]="Music Box: Chromatic Percussion",e[11]="Vibraphone: Chromatic Percussion",e[12]="Marimba: Chromatic Percussion",e[13]="Xylophone: Chromatic Percussion",e[14]="Tubular Bells: Chromatic Percussion",e[15]="Dulcimer: Chromatic Percussion",e[16]="Drawbar Organ: Organ",e[17]="Percussive Organ: Organ",e[18]="Rock Organ: Organ",e[19]="Church Organ: Organ",e[20]="Reed Organ: Organ",e[21]="Accordion: Organ",e[22]="Harmonica: Organ",e[23]="Tango Accordion: Organ",e[24]="Acoustic Guitar (nylon): Guitar",e[25]="Acoustic Guitar (steel): Guitar",e[26]="Electric Guitar (jazz): Guitar",e[27]="Electric Guitar (clean): Guitar",e[28]="Electric Guitar (muted): Guitar",e[29]="Overdriven Guitar: Guitar",e[30]="Distortion Guitar: Guitar",e[31]="Guitar Harmonics: Guitar",e[32]="Acoustic Bass: Bass",e[33]="Electric Bass (finger): Bass",e[34]="Electric Bass (pick): Bass",e[35]="Fretless Bass: Bass",e[36]="Slap Bass 1: Bass",e[37]="Slap Bass 2: Bass",e[38]="Synth Bass 1: Bass",e[39]="Synth Bass 2: Bass",e[40]="Violin: Strings",e[41]="Viola: Strings",e[42]="Cello: Strings",e[43]="Contrabass: Strings",e[44]="Tremolo Strings: Strings",e[45]="Pizzicato Strings: Strings",e[46]="Orchestral Harp: Strings",e[47]="Timpani: Strings",e[48]="String Ensemble 1: Ensemble",e[49]="String Ensemble 2: Ensemble",e[50]="Synth Strings 1: Ensemble",n.instrumentNamesArray=e}return n.instrumentNamesArray},this.instrumentKeys=function(){return n.instrumentKeyArray||(n.instrumentKeyArray=["0000_Aspirin_sf2_file","0001_FluidR3_GM_sf2_file","0002_GeneralUserGS_sf2_file","0003_GeneralUserGS_sf2_file","0010_Aspirin_sf2_file","0011_Aspirin_sf2_file","0012_GeneralUserGS_sf2_file","0020_Aspirin_sf2_file","0021_Aspirin_sf2_file","0022_Aspirin_sf2_file","0030_Aspirin_sf2_file","0031_Aspirin_sf2_file","0040_Aspirin_sf2_file","0041_FluidR3_GM_sf2_file","0042_GeneralUserGS_sf2_file","0043_GeneralUserGS_sf2_file","0044_GeneralUserGS_sf2_file","0045_GeneralUserGS_sf2_file","0046_GeneralUserGS_sf2_file","0050_Aspirin_sf2_file","0051_FluidR3_GM_sf2_file","0052_GeneralUserGS_sf2_file","0053_GeneralUserGS_sf2_file","0054_GeneralUserGS_sf2_file","0060_Aspirin_sf2_file","0061_Aspirin_sf2_file","0062_GeneralUserGS_sf2_file","0070_Aspirin_sf2_file","0071_GeneralUserGS_sf2_file","0080_Aspirin_sf2_file","0080_Chaos_sf2_file","0081_FluidR3_GM_sf2_file","0090_Aspirin_sf2_file","0091_SoundBlasterOld_sf2","0100_Aspirin_sf2_file","0101_GeneralUserGS_sf2_file","0110_Aspirin_sf2_file","0111_FluidR3_GM_sf2_file","0120_Aspirin_sf2_file","0121_FluidR3_GM_sf2_file","0130_Aspirin_sf2_file","0131_FluidR3_GM_sf2_file","0140_Aspirin_sf2_file","0141_FluidR3_GM_sf2_file","0142_GeneralUserGS_sf2_file","0143_GeneralUserGS_sf2_file","0150_Aspirin_sf2_file","0151_FluidR3_GM_sf2_file","0160_Aspirin_sf2_file","0161_Aspirin_sf2_file","0170_Aspirin_sf2_file","0171_FluidR3_GM_sf2_file","0172_FluidR3_GM_sf2_file","0180_Aspirin_sf2_file","0181_Aspirin_sf2_file","0190_Aspirin_sf2_file","0191_Aspirin_sf2_file","0200_Aspirin_sf2_file","0201_Aspirin_sf2_file","0210_Aspirin_sf2_file","0211_Aspirin_sf2_file","0212_GeneralUserGS_sf2_file","0220_Aspirin_sf2_file","0221_FluidR3_GM_sf2_file","0230_Aspirin_sf2_file","0231_FluidR3_GM_sf2_file","0232_FluidR3_GM_sf2_file","0233_FluidR3_GM_sf2_file","0240_Aspirin_sf2_file","0241_GeneralUserGS_sf2_file","0241_JCLive_sf2_file","0242_JCLive_sf2_file","0243_JCLive_sf2_file","0253_Acoustic_Guitar_sf2_file","0250_Aspirin_sf2_file","0251_Acoustic_Guitar_sf2_file","0252_Acoustic_Guitar_sf2_file","0253_Acoustic_Guitar_sf2_file","0254_Acoustic_Guitar_sf2_file","0255_GeneralUserGS_sf2_file","0260_Aspirin_sf2_file","0261_GeneralUserGS_sf2_file","0262_Stratocaster_sf2_file","0270_Aspirin_sf2_file","0271_GeneralUserGS_sf2_file","0280_Aspirin_sf2_file","0281_Aspirin_sf2_file","0282_FluidR3_GM_sf2_file","0283_GeneralUserGS_sf2_file","0290_Aspirin_sf2_file","0291_Aspirin_sf2_file","0292_Aspirin_sf2_file","0300_Aspirin_sf2_file","0301_Aspirin_sf2_file","0302_Aspirin_sf2_file","0303_Aspirin_sf2_file","0304_Aspirin_sf2_file","0310_Aspirin_sf2_file","0311_FluidR3_GM_sf2_file","0320_Aspirin_sf2_file","0321_GeneralUserGS_sf2_file","0322_GeneralUserGS_sf2_file","0330_Aspirin_sf2_file","0331_GeneralUserGS_sf2_file","0332_GeneralUserGS_sf2_file","0340_Aspirin_sf2_file","0341_Aspirin_sf2_file","0350_Aspirin_sf2_file","0351_GeneralUserGS_sf2_file","0360_Aspirin_sf2_file","0361_GeneralUserGS_sf2_file","0370_Aspirin_sf2_file","0371_GeneralUserGS_sf2_file","0372_GeneralUserGS_sf2_file","0380_Aspirin_sf2_file","0381_FluidR3_GM_sf2_file","0382_FluidR3_GM_sf2_file","0383_GeneralUserGS_sf2_file","0384_GeneralUserGS_sf2_file","0385_GeneralUserGS_sf2_file","0386_GeneralUserGS_sf2_file","0387_GeneralUserGS_sf2_file","0390_Aspirin_sf2_file","0391_FluidR3_GM_sf2_file","0392_FluidR3_GM_sf2_file","0393_GeneralUserGS_sf2_file","0400_Aspirin_sf2_file","0401_Aspirin_sf2_file","0402_GeneralUserGS_sf2_file","0410_Aspirin_sf2_file","0410_Chaos_sf2_file","0411_FluidR3_GM_sf2_file","0420_Aspirin_sf2_file","0421_FluidR3_GM_sf2_file","0430_Aspirin_sf2_file","0431_FluidR3_GM_sf2_file","0440_Aspirin_sf2_file","0441_GeneralUserGS_sf2_file","0442_GeneralUserGS_sf2_file","0450_Aspirin_sf2_file","0451_FluidR3_GM_sf2_file","0460_Aspirin_sf2_file","0461_FluidR3_GM_sf2_file","0470_Aspirin_sf2_file","0471_FluidR3_GM_sf2_file","0480_Aspirin_sf2_file","0480_SoundBlasterOld_sf2","04810_GeneralUserGS_sf2_file","0481_Aspirin_sf2_file","0481_FluidR3_GM_sf2_file","0481_GeneralUserGS_sf2_file","0482_Aspirin_sf2_file","0482_GeneralUserGS_sf2_file","0483_GeneralUserGS_sf2_file","0484_GeneralUserGS_sf2_file","0485_GeneralUserGS_sf2_file","0486_GeneralUserGS_sf2_file","0487_GeneralUserGS_sf2_file","0488_GeneralUserGS_sf2_file","0489_GeneralUserGS_sf2_file","0490_Aspirin_sf2_file","0490_GeneralUserGS_sf2_file","0491_GeneralUserGS_sf2_file","0492_GeneralUserGS_sf2_file","0500_Aspirin_sf2_file"]),n.instrumentKeyArray},this.instrumentInfo=function(e){var t=n.instrumentKeys()[e],a=1*Number(t.substr(0,3));return{variable:"_tone_"+t,url:"https://surikov.github.io/webaudiofontdata/sound/"+t+".js",title:n.instrumentTitles()[a]}},this.findInstrument=function(e){n.choosenInfos||(n.choosenInfos=[[1,2],[2,14],[3,25],[4,37],[5,48],[6,58],[7,70],[8,83],[9,91],[10,99],[11,107],[12,118],[13,127],[14,136],[15,144],[16,152],[17,164],[18,170],[19,183],[20,194],[21,205],[22,215],[23,228],[24,241],[25,254],[26,263],[27,277],[28,296],[29,308],[30,319],[31,350],[32,356],[33,369],[34,379],[35,385],[36,399],[37,403],[38,412],[39,421],[40,438],[41,452],[42,461],[43,467],[44,477],[45,488],[46,493],[47,501],[48,511],[49,518],[50,547]]);for(var t=0;t<n.instrumentKeys().length;t++)if(e===1*Number(n.instrumentKeys()[t].substring(0,3)))return t;return console.log("program",e,"not found"),0},this.drumTitles=function(){if(!n.drumNamesArray){var e=[];e[35]="Bass Drum 2",e[36]="Bass Drum 1",e[37]="Side Stick/Rimshot",e[38]="Snare Drum 1",e[39]="Hand Clap",e[40]="Snare Drum 2",e[41]="Low Tom 2",e[42]="Closed Hi-hat",e[43]="Low Tom 1",e[44]="Pedal Hi-hat",e[45]="Mid Tom 2",e[46]="Open Hi-hat",e[47]="Mid Tom 1",e[48]="High Tom 2",e[49]="Crash Cymbal 1",e[50]="High Tom 1",e[51]="Ride Cymbal 1",e[52]="Chinese Cymbal",e[53]="Ride Bell",e[54]="Tambourine",e[55]="Splash Cymbal",e[56]="Cowbell",e[57]="Crash Cymbal 2",e[58]="Vibra Slap",e[59]="Ride Cymbal 2",e[60]="High Bongo",e[61]="Low Bongo",e[62]="Mute High Conga",e[63]="Open High Conga",e[64]="Low Conga",e[65]="High Timbale",e[66]="Low Timbale",e[67]="High Agogo",e[68]="Low Agogo",e[69]="Cabasa",e[70]="Maracas",e[71]="Short Whistle",e[72]="Long Whistle",e[73]="Short Guiro",e[74]="Long Guiro",e[75]="Claves",e[76]="High Wood Block",e[77]="Low Wood Block",e[78]="Mute Cuica",e[79]="Open Cuica",e[80]="Mute Triangle",e[81]="Open Triangle",n.drumNamesArray=e}return n.drumNamesArray},this.drumKeys=function(){return n.drumKeyArray||(n.drumKeyArray=["35_0_SBLive_sf2","36_0_SBLive_sf2","37_0_SBLive_sf2","38_0_SBLive_sf2","39_0_SBLive_sf2","40_0_SBLive_sf2","41_0_SBLive_sf2","42_0_SBLive_sf2","43_0_SBLive_sf2","44_0_SBLive_sf2","45_0_SBLive_sf2","46_0_SBLive_sf2","47_0_SBLive_sf2","48_0_SBLive_sf2","49_0_SBLive_sf2","50_0_SBLive_sf2","51_0_SBLive_sf2","52_0_SBLive_sf2","53_0_SBLive_sf2","54_0_SBLive_sf2","55_0_SBLive_sf2","56_0_SBLive_sf2","57_0_SBLive_sf2","58_0_SBLive_sf2","59_0_SBLive_sf2","60_0_SBLive_sf2","61_0_SBLive_sf2","62_0_SBLive_sf2","63_0_SBLive_sf2","64_0_SBLive_sf2","65_0_SBLive_sf2","66_0_SBLive_sf2","67_0_SBLive_sf2","68_0_SBLive_sf2","69_0_SBLive_sf2","70_0_SBLive_sf2","71_0_SBLive_sf2","72_0_SBLive_sf2","73_0_SBLive_sf2","74_0_SBLive_sf2","75_0_SBLive_sf2","76_0_SBLive_sf2","77_0_SBLive_sf2","78_0_SBLive_sf2","79_0_SBLive_sf2","80_0_SBLive_sf2","81_0_SBLive_sf2"]),n.drumKeyArray},this.drumInfo=function(e){var t=n.drumKeys()[e],a=1*Number(t.substr(0,2));return{variable:"_drum_"+t,url:"https://surikov.github.io/webaudiofontdata/sound/128"+t+".js",pitch:a,title:n.drumTitles()[a]}},this.findDrum=function(e){for(var t=0;t<n.drumKeys().length;t++)if(e===1*Number(n.drumKeys()[t].substring(0,2)))return t;return 0},console.log("WebAudioFont Loader v1.27"),this.player=t,this.cached=[]},h=function e(t){var a=this;Object(c.a)(this,e),this.audioContext=void 0,this.input=void 0,this.convolver=void 0,this.dry=void 0,this.wet=void 0,this.irrArrayBuffer=void 0,this.output=void 0,console.log("WebAudioFont Reverberator v1.08"),this.audioContext=t,this.input=this.audioContext.createBiquadFilter(),this.input.type="lowpass",this.input.frequency.setTargetAtTime(18e3,0,1e-4),this.convolver=null,this.output=t.createGain(),this.dry=t.createGain(),this.dry.gain.setTargetAtTime(.9,0,1e-4),this.dry.connect(this.output),this.wet=t.createGain(),this.wet.gain.setTargetAtTime(.5,0,1e-4),this.input.connect(this.dry),this.input.connect(this.wet),n.e(27).then(n.bind(null,424)).then((function(e){var n=e.reverbrator,r=n.length/2;a.irrArrayBuffer=new ArrayBuffer(r);for(var i,o=new Uint8Array(a.irrArrayBuffer),s=atob(n),c=0;c<s.length;c++)i=s.charCodeAt(c),o[c]=i;a.audioContext.decodeAudioData(a.irrArrayBuffer,(function(e){a.convolver=t.createConvolver(),a.convolver.buffer=e,a.wet.connect(a.convolver),a.convolver.connect(a.output),console.log("convolver audioBuffer",e)}))}))},m=[0,.25,.5,.75,1,1.25,1.5,1.75,2],p=new(window.AudioContext||window.webkitAudioContext),g=new function e(t){var n=this;Object(c.a)(this,e),this.audioContext=void 0,this.envelopes=void 0,this.loader=void 0,this.onCacheFinish=void 0,this.onCacheProgress=void 0,this.afterTime=void 0,this.nearZero=void 0,this.createChannel=function(){return new d(n.audioContext)},this.createReverberator=function(){return new h(n.audioContext)},this.limitVolume=function(e){return e?e*=1:e=.5,e},this.queueChord=function(e){var t=e.target,a=e.preset,r=e.when,i=e.pitches,o=e.duration,s=e.volume,c=e.slides;s=n.limitVolume(s);for(var l=0;l<i.length;l++)n.queueWaveTable({target:t,preset:a,when:r,pitches:i[l],duration:o,volume:s-.01*Math.random(),slides:c})},this.queueStrumUp=function(e){var t=e.target,a=e.preset,r=e.when,i=e.pitches,o=e.duration,s=e.volume,c=e.slides;i.sort((function(e,t){return e-t})),n.queueStrum({target:t,preset:a,when:r,pitches:i,duration:o,volume:s,slides:c})},this.queueStrumDown=function(e){var t=e.target,a=e.preset,r=e.when,i=e.pitches,o=e.duration,s=e.volume,c=e.slides;i.sort((function(e,t){return e-t})),n.queueStrum({target:t,preset:a,when:r,pitches:i,duration:o,volume:s,slides:c})},this.queueStrum=function(e){var t=e.target,a=e.preset,r=e.when,i=e.pitches,o=e.duration,s=e.volume,c=e.slides;s=n.limitVolume(s),r<n.audioContext.currentTime&&(r=n.audioContext.currentTime);for(var l=0;l<i.length;l++)n.queueWaveTable({target:t,preset:a,when:r+.01*l,pitches:i[l],duration:o,volume:s-.01*Math.random(),slides:c}),s*=.9},this.queueSnap=function(e){var t=e.target,a=e.preset,r=e.when,i=e.pitches,o=(e.duration,e.volume),s=e.slides;o=1.5*((o=n.limitVolume(o))||1),n.queueChord({target:t,preset:a,when:r,pitches:i,duration:.05,volume:o,slides:s})},this.queueWaveTable=function(e){var t=e.target,a=e.preset,r=e.when,i=e.pitches,o=e.duration,s=e.volume,c=e.slides;"suspended"===n.audioContext.state&&(console.log("audioContext.resume"),n.audioContext.resume()),s=n.limitVolume(s);var l=n.findZone(a,i);if(l.buffer){var u=l.originalPitch-100*l.coarseTune-l.fineTune,d=1*Math.pow(2,(100*i-u)/1200),f=r;f<n.audioContext.currentTime&&(f=n.audioContext.currentTime);var h=o+n.afterTime,m=!0;(l.loopStart<1||l.loopStart>=l.loopEnd)&&(m=!1),m||h>l.buffer.duration/d&&(h=l.buffer.duration/d);var p=n.findEnvelope({target:t,when:f,duration:h});if(n.setupEnvelope({envelope:p,zone:l,volume:s,startWhen:f,waveDuration:h,duration:o}),p.audioBufferSourceNode=n.audioContext.createBufferSource(),p.audioBufferSourceNode.playbackRate.setValueAtTime(d,0),c&&c.length>0){p.audioBufferSourceNode.playbackRate.setValueAtTime(d,r);for(var g=0;g<c.length;g++){var b=1*Math.pow(2,(100*c[g].pitch-u)/1200),v=r+c[g].when;p.audioBufferSourceNode.playbackRate.linearRampToValueAtTime(b,v)}}return p.audioBufferSourceNode.buffer=l.buffer,m?(p.audioBufferSourceNode.loop=!0,p.audioBufferSourceNode.loopStart=l.loopStart/l.sampleRate+l.delay,p.audioBufferSourceNode.loopEnd=l.loopEnd/l.sampleRate+l.delay):p.audioBufferSourceNode.loop=!1,p.audioBufferSourceNode.connect(p),p.audioBufferSourceNode.start(f,l.delay),p.audioBufferSourceNode.stop(f+h),p.when=f,p.duration=h,p.pitch=i,p.preset=a,p}console.log("empty buffer ",l)},this.noZeroVolume=function(e){return e>n.nearZero?e:n.nearZero},this.setupEnvelope=function(e){var t=e.envelope,a=e.zone,r=e.volume,i=e.startWhen,o=e.waveDuration,s=e.duration;t.gain.setValueAtTime(n.noZeroVolume(0),n.audioContext.currentTime);var c=0,l=0,u=a.ahdsr;o<s+n.afterTime&&(s=o-n.afterTime),u?u.length>0||(u=[{duration:0,volume:1},{duration:.5,volume:1},{duration:1.5,volume:.5},{duration:3,volume:0}]):u=[{duration:0,volume:1},{duration:s,volume:1}],t.gain.cancelScheduledValues(i),t.gain.setValueAtTime(n.noZeroVolume(u[0].volume*r),i);for(var d=0;d<u.length;d++)if(u[d].duration>0){if(u[d].duration+c>s){var f=l-(1-(u[d].duration+c-s)/u[d].duration)*(l-u[d].volume);t.gain.linearRampToValueAtTime(n.noZeroVolume(r*f),i+s);break}c+=u[d].duration,l=u[d].volume,t.gain.linearRampToValueAtTime(n.noZeroVolume(r*l),i+c)}t.gain.linearRampToValueAtTime(n.noZeroVolume(0),i+s+n.afterTime)},this.numValue=function(e,t){return"number"===typeof e?e:t},this.findEnvelope=function(e){for(var t=e.target,a=(e.when,e.duration,null),r=0;r<n.envelopes.length;r++){var i=n.envelopes[r];if(i.target===t&&n.audioContext.currentTime>i.when+i.duration+.001){try{i.audioBufferSourceNode.disconnect(),i.audioBufferSourceNode.stop(0),i.audioBufferSourceNode=null}catch(o){}a=i;break}}return a||((a=n.audioContext.createGain()).target=t,a.connect(t),a.cancel=function(){a.when+a.duration>n.audioContext.currentTime&&(a.gain.cancelScheduledValues(0),a.gain.setTargetAtTime(1e-5,n.audioContext.currentTime,.1),a.when=n.audioContext.currentTime+1e-5,a.duration=0)},n.envelopes.push(a)),a},this.adjustPreset=function(e){for(var t=0;t<e.zones.length;t++)n.adjustZone(e.zones[t])},this.adjustZone=function(e){if(e.buffer);else{if(e.delay=0,e.sample){var t=atob(e.sample);e.buffer=n.audioContext.createBuffer(1,t.length/2,e.sampleRate);for(var a,r,i,o=e.buffer.getChannelData(0),s=0;s<t.length/2;s++)(a=t.charCodeAt(2*s))<0&&(a=256+a),(r=t.charCodeAt(2*s+1))<0&&(r=256+r),(i=256*r+a)>=32768&&(i-=65536),o[s]=i/65536}else if(e.file){for(var c,l=e.file.length,u=new ArrayBuffer(l),d=new Uint8Array(u),f=atob(e.file),h=0;h<f.length;h++)c=f.charCodeAt(h),d[h]=c;n.audioContext.decodeAudioData(u,(function(t){e.buffer=t}))}e.loopStart=n.numValue(e.loopStart,0),e.loopEnd=n.numValue(e.loopEnd,0),e.coarseTune=n.numValue(e.coarseTune,0),e.fineTune=n.numValue(e.fineTune,0),e.originalPitch=n.numValue(e.originalPitch,6e3),e.sampleRate=n.numValue(e.sampleRate,44100),e.sustain=n.numValue(e.originalPitch,0)}},this.findZone=function(e,t){for(var a=null,r=e.zones.length-1;r>=0&&!((a=e.zones[r]).keyRangeLow<=t&&a.keyRangeHigh+1>=t);r--);try{n.adjustZone(a)}catch(i){console.log("adjustZone",i)}return a},this.cancelQueue=function(){for(var e=0;e<n.envelopes.length;e++){var t=n.envelopes[e];t.gain.cancelScheduledValues(0),t.gain.setValueAtTime(n.nearZero,n.audioContext.currentTime),t.when=-1;try{t.audioBufferSourceNode.disconnect()}catch(a){console.log(a)}}},this.audioContext=t,this.envelopes=[],this.loader=new f(this),this.onCacheFinish=null,this.onCacheProgress=null,this.afterTime=.05,this.nearZero=1e-6}(p),b=new d(p);if("undefined"===typeof window.orientation){console.log("Melo WebAudioFontReverberator");var v=new h(p);v.output.connect(p.destination),b.output.connect(v.input)}else console.log("skip WebAudioFontReverberator"),b.output.connect(p.destination);var _,y=function e(t){Object(c.a)(this,e),this.player=g,this.master=b,this.song=void 0,this.loading=!0,this.onAir=!1,this.loaded=!1,this.playMode=!1,this.sL=16,this.TrackID=0,this.tempo=120,this.zaribTempo=1,this.neededLines=void 0,this.neededTracks=[],this.storeFingers=[],this.storeTracks=[],this.storeDrums=[],this.trackInfo=[],this.drumInfo=[],this.seekValue=0,this.songs=[],this.songLength=272,this.tapSize=32,this.fingerNotes={},this.equalizer=[0,0,0,0,0,0,0,0,0,0],this.drumVolumes=[70,70,70,70,70,70,70,70],Object.assign(this,t),this.master.band32.gain.setValueAtTime(this.equalizer[0],0),this.master.band64.gain.setValueAtTime(this.equalizer[1],0),this.master.band128.gain.setValueAtTime(this.equalizer[2],0),this.master.band256.gain.setValueAtTime(this.equalizer[3],0),this.master.band512.gain.setValueAtTime(this.equalizer[4],0),this.master.band1k.gain.setValueAtTime(this.equalizer[5],0),this.master.band2k.gain.setValueAtTime(this.equalizer[6],0),this.master.band4k.gain.setValueAtTime(this.equalizer[7],0),this.master.band8k.gain.setValueAtTime(this.equalizer[8],0),this.master.band16k.gain.setValueAtTime(this.equalizer[9],0)},E=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,r,s,c,l,d,f,h,g,b,v,_,E,O,w,x,A,C,T,L;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=new y,r=t.song.content,s=t.fingers,c=[],l=[],e.prev=5,a.TrackID=t.track.id,s&&(d=S(s),a.storeFingers=Object(o.a)({},d)),f=r.split("-"),a.tempo=parseInt(f[0],16),a.sL=parseInt(f[1])+1,h=parseInt(f[2]),a.zaribTempo=m[h],g=0;g<10;g++)b=f[5].substring(2*g,2*g+2),a.equalizer[g]=parseInt(b,16)-10;if(v=f[6].length/7,k(v,f[6]).forEach((function(e,t,n){t===n.findIndex((function(t){return t.drum===e.drum}))&&l.push(e.drum),a.storeDrums.push({drum:e.drum,beat:e.beat})})),_=f[7].length/10,E=j(_,f[7]),O=24,w=24,E.forEach((function(e,t,n){if(t===n.findIndex((function(t){return t.track===e.track}))&&c.push(e.track),a.storeTracks.push(Object(o.a)(Object(o.a)({},e),{},{beat:e.beat})),e.track===a.TrackID){a.neededTracks.push(Object(o.a)(Object(o.a)({},e),{},{beat:e.beat-12})),e.pitch>O&&(O=e.pitch),e.pitch<w&&(w=e.pitch);var r=e.beat;a.fingerNotes[r]||(a.fingerNotes[r]=[]),a.fingerNotes[r].push({pitch:e.pitch,length:e.length})}})),a.neededLines={up:O+36,number:O-w,down:w+36,notes:a.neededTracks.length},l.forEach((function(e,t){var r={audioNode:p.createGain(),id:e,replacement:parseInt(f[8].substring(3*e,3*e+3),16),sound:null,info:"",volume:70};if(r.replacement){var i=a.player.loader.drumInfo(r.replacement-1);console.log(i),a.player.loader.startLoad(i.url,i.variable),r.info=i}n(278)("./default_drum_0".concat(e)).then((function(t){(r=Object(o.a)(Object(o.a)({},r),t.default)).volume=10*parseInt(f[4].substring(e,e+1),16),r.audioNode.connect(a.master.input),a.player.adjustPreset(r.sound),a.drumInfo.push(r)}))})),c.forEach((function(e,t){var r={audioNode:p.createGain(),nn:e,replacement:parseInt(f[9].substring(3*(7-e),3*(7-e)+3),16),sound:null,info:"",volume:70};if(r.replacement){var i=a.player.loader.instrumentInfo(r.replacement-1);console.log(i),a.player.loader.startLoad(i.url,i.variable),r.info=i}n(279)("./default_tone_0".concat(e)).then((function(t){(r=Object(o.a)(Object(o.a)({},r),t.default)).volume=10*parseInt(f[3].substring(e,e+1),16),r.audioNode.connect(a.master.input),a.player.adjustPreset(r.sound),a.trackInfo.push(r)}))})),x=[],f[10]&&"000a"!==f[10])for(A=f[10].length/4,C=0;C<A;C++)T=parseInt(f[10].substring(4*C,4*C+3),32),L=parseInt(f[10].substring(4*C+3,4*C+4),16)/10,x.push({id:T,vol:L});x.length>0&&(a.song=new u(p)),a.songs=x,e.next=34;break;case 31:e.prev=31,e.t0=e.catch(5),Promise.reject(e.t0);case 34:return e.prev=34,e.abrupt("return",a);case 37:case"end":return e.stop()}}),e,null,[[5,31,34,37]])})));return function(t){return e.apply(this,arguments)}}(),O=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=Math.ceil(n),r=n?6:2,i=Math.max.apply(Math,t.map((function(e){return e.beat+e.length}))),o=Math.max.apply(Math,e.map((function(e){return e.beat})));a=o>(a=i>a?i:a)?o:a,a+=r;do{a++}while(a%16!==0);return console.log(a,n,o,i),a},S=function(e){var t={};for(var n in e){var a=e[n].split("-");t[n]={};for(var r=0;r<a.length-1;r++)for(var i=a[r].split("+"),o=Number(i[0])+16,s=i[1].length/5,c=0;c<s;c++){var l=i[1].substring(5*c,5*c+2),u=i[1].substring(5*c+2,5*c+4);"e"!==i[1].substring(5*c+4,5*c+5)&&(t[n][u]||(t[n][u]={}),t[n][u][o]||(t[n][u][o]=[]),t[n][u][o].push(l))}}return t},k=function(e,t){for(var n=[],a=0;a<e;a++){var r=parseInt(t.substring(7*a,7*a+1)),i=parseInt(t.substring(7*a+1,7*a+3),32),o=parseInt(t.substring(7*a+3,7*a+7),32),s=i&parseInt("1111111",2);(o|parseInt("0000000000000001",2))===o&&n.push({drum:r,beat:16*s+0+16}),(o|parseInt("0000000000000010",2))===o&&n.push({drum:r,beat:16*s+1+16}),(o|parseInt("0000000000000100",2))===o&&n.push({drum:r,beat:16*s+2+16}),(o|parseInt("0000000000001000",2))===o&&n.push({drum:r,beat:16*s+3+16}),(o|parseInt("0000000000010000",2))===o&&n.push({drum:r,beat:16*s+4+16}),(o|parseInt("0000000000100000",2))===o&&n.push({drum:r,beat:16*s+5+16}),(o|parseInt("0000000001000000",2))===o&&n.push({drum:r,beat:16*s+6+16}),(o|parseInt("0000000010000000",2))===o&&n.push({drum:r,beat:16*s+7+16}),(o|parseInt("0000000100000000",2))===o&&n.push({drum:r,beat:16*s+8+16}),(o|parseInt("0000001000000000",2))===o&&n.push({drum:r,beat:16*s+9+16}),(o|parseInt("0000010000000000",2))===o&&n.push({drum:r,beat:16*s+10+16}),(o|parseInt("0000100000000000",2))===o&&n.push({drum:r,beat:16*s+11+16}),(o|parseInt("0001000000000000",2))===o&&n.push({drum:r,beat:16*s+12+16}),(o|parseInt("0010000000000000",2))===o&&n.push({drum:r,beat:16*s+13+16}),(o|parseInt("0100000000000000",2))===o&&n.push({drum:r,beat:16*s+14+16}),(o|parseInt("1000000000000000",2))===o&&n.push({drum:r,beat:16*s+15+16})}return n},j=function(e,t){for(var n=[],a=0;a<e;a++){var r=parseInt(t.substring(10*a,10*a+3),32),i=parseInt(t.substring(10*a+3,10*a+3+1),32),o=parseInt(t.substring(10*a+4,10*a+4+2),32),s=parseInt(t.substring(10*a+6,10*a+6+2),32),c=parseInt(t.substring(10*a+8,10*a+8+2),32)-64;n.push({track:i,beat:r+16,length:o,shift:c,pitch:s})}return n},w=n(25),x=new function e(){Object(c.a)(this,e),this.touchedKeys=[],this.score=[]},A=function(){function e(t){var n=t.note,a=t.len,r=t.hand,i=t.beat,o=t.num;Object(c.a)(this,e),this.len=void 0,this.note=void 0,this.finger=void 0,this.hand=void 0,this.color=void 0,this.bColor=void 0,this.fColor=void 0,this.cColor=void 0,this.end=void 0,this.num=void 0,this.showing=void 0,this.len=a,this.note=n,this.num=o,this.end=this.len-1+i,this.end<=i&&(this.end=i+1),this.hand=r.hand,this.finger=r.finger,this.fColor="rgba(210, 210, 210, 0.5)",this.cColor=n.children.front.getAttribute("fill"),this.bColor=n.id,"right"===this.hand?this.color="yellow":this.color="skyblue",this.showing=!0}return Object(w.a)(e,[{key:"show",value:function(e){var t=this.color;e&&(t=e),this.note.children.back.setAttribute("fill",t),this.note.children.front.setAttribute("fill","black"),this.finger.setAttribute("fill",t)}},{key:"hide",value:function(){this.note.children.back.setAttribute("fill",this.bColor),this.note.children.front.setAttribute("fill",this.cColor),this.note.children.back.style.fill="",this.note.children.front.style.fill="",this.finger.setAttribute("fill",this.fColor),this.showing=!1}}]),e}(),C=function e(t,n,a){var r=this;Object(c.a)(this,e),this.y=void 0,this.end=void 0,this.yPos=void 0,this.margin=void 0,this.update=function(e,t){e.drawImage(t,0,Math.floor(r.y-r.yPos-r.margin))},this.y=0,this.margin=a,this.yPos=t*n,this.end=this.yPos+n+a},T=function e(t){var n=this,a=t.width,r=t.color,i=t.x,o=t.y,s=t.lw;Object(c.a)(this,e),this.x=void 0,this.y=void 0,this.lw=void 0,this.color=void 0,this.width=void 0,this.draw=function(e){e.beginPath(),e.moveTo(0,n.y),e.lineTo(n.width,n.y),e.lineWidth=n.lw,e.strokeStyle=n.color,e.stroke(),e.fill()},this.x=i,this.y=o,this.width=a,this.color=r,this.lw=s},L=function e(t){var n=this,a=t.width,r=t.height,i=t.color,o=t.x,s=t.y,l=t.end,u=t.note,d=t.text,f=t.gap;Object(c.a)(this,e),this.y=void 0,this.x=void 0,this.r=void 0,this.gap=void 0,this.beg=void 0,this.end=void 0,this.start=void 0,this.height=void 0,this.width=void 0,this.mover=void 0,this.note=void 0,this.text=void 0,this.color=void 0,this.lineColor=void 0,this.crash=void 0,this.hit=void 0,this.move=function(){n.crash=!0,n.mover=n.y-n.gap,n.mover>-n.height&&(n.mover=-n.height)},this.update=function(e){e.beginPath(),e.moveTo(n.x,n.y+n.start),e.lineTo(n.x,n.y+n.height),e.lineWidth=.85*n.width,e.strokeStyle="black",e.lineCap="round",e.stroke(),e.beginPath(),e.moveTo(n.x,n.y+n.start),e.lineTo(n.x,n.y+n.height),e.lineWidth=.2*n.width,e.strokeStyle="white",e.stroke(),n.crash&&(e.beginPath(),e.moveTo(n.x,n.y+n.start),e.lineTo(n.x,n.y-n.mover),e.lineWidth=.2*n.width,e.strokeStyle="red",e.stroke()),n.hit&&(e.beginPath(),e.moveTo(n.x,n.y+n.start),e.lineTo(n.x,n.y-n.hit),e.lineWidth=.25*n.width,e.strokeStyle=n.color,e.stroke()),n.crash&&!n.hit&&(n.color="red"),e.beginPath(),e.arc(n.x,n.y+n.start,1.4*n.r,0,2*Math.PI),e.fillStyle="black",e.fill(),e.beginPath(),e.arc(n.x,n.y+n.start,n.r,0,2*Math.PI),e.fillStyle=n.color,e.fill(),e.font="bold "+1.3*n.r+"px arial",e.textAlign="center",e.textBaseline="middle",e.fillStyle="black",e.fillText(n.text,n.x,n.y+n.start+1)},this.y=s,this.start=-s,this.gap=f,this.beg=s+f,this.end=l,this.note=u,this.height=-r,this.x=o,this.text=d,this.width=a,this.r=a/2,this.color=i,this.lineColor="black",this.mover=r,this.crash=!1},I=function e(t){var n=this;Object(c.a)(this,e),this.x=void 0,this.y=void 0,this.r=void 0,this.note=void 0,this.text=void 0,this.pitch=void 0,this.color=void 0,this.outline=void 0,this.update=function(e){e.beginPath(),e.arc(n.x,n.y,n.r,0,2*Math.PI),e.fillStyle="rgba(0, 0, 0, 0.2)",e.fill(),e.beginPath(),e.arc(n.x,n.y,.6*n.r,0,2*Math.PI),e.fillStyle=n.color,e.fill(),n.text&&(e.font=2*n.r+"px arial",e.textAlign="center",e.textBaseline="middle",e.fillStyle="black",e.fillText(n.text,n.x-1.2*n.r,n.y)),n.outline&&(e.globalCompositeOperation="destination-over",new G(e,n.outline),e.globalCompositeOperation="source-over")},Object.assign(this,t),this.color="white"},G=function e(t,n){var a=n.r,r=n.x,i=n.y;Object(c.a)(this,e),t.beginPath(),t.moveTo(r-a,i),t.lineTo(r+a,i),t.lineWidth=.5,t.strokeStyle="black",t.stroke()},N=function(){function e(t){var n=this;Object(c.a)(this,e),this.counter=0,this.tapSize=void 0,this.spaceSize=void 0,this.width=void 0,this.height=void 0,this.notePos={},this.fullNotes=[],this.context=void 0,this.assigner=function(e){Object.assign(n,e)},this.playGame=function(e,t){n.clear(),n.updateFullSong(e,t)},this.clear=function(){n.context.clearRect(0,0,n.width,n.height)},this.drawNote=function(e){var t=1.6*n.spaceSize,a=.46*n.tapSize;a=n.spaceSize<20?.42*n.spaceSize:a;var r,i="K",o=[{note:"K",text:"!"}];e.forEach((function(e,s){var c,l=t+s*n.spaceSize,u=e.pitch+36,d=n.notePos[u].pos,f=n.notePos[u].note,h=n.notePos[u-1];if(2===f.length){var m=o.find((function(e){return e.note===f}));m?(c=m.text,f=m.note):h.note.includes(i)||0===s?c="\u266d":(c="\u266f",f=h.note,d=h.pos),o.push({note:f,text:c})}81!==u&&60!==u&&61!==u&&40!==u||(r={r:1.5*a,x:l,y:d}),59!==u&&58!==u||(r={r:1.2*a,x:l,y:n.notePos[60].pos}),i=f;var p=new I({x:l,y:d,r:a,pitch:u,text:c,note:f,outline:r});p.update(n.context),n.fullNotes.push(p)}))},this.updateFullSong=function(e,t){n.fullNotes.forEach((function(a,r){r===e&&(a.color=t),r===e-1&&(a.color="green"),a.update(n.context)}))},this.width=t.width,this.height=t.height,this.context=t.getContext("2d")}return Object(w.a)(e,[{key:"resetGame",value:function(){var e=this;this.clear(),this.fullNotes.forEach((function(t){t.color="white",t.update(e.context)}))}}]),e}(),R=function e(t){var n=this;Object(c.a)(this,e),this.counter=0,this.tapSize=32,this.songLength=17,this.gap=void 0,this.margin=128,this.width=void 0,this.height=void 0,this.notes=[],this.image=void 0,this.backMover=[],this.barNotes=[],this.fullNotes=[],this.context=void 0,this.assigner=function(e){console.log(e),Object.assign(n,e)},this.playGame=function(e){n.clear(),n.updateBacks(e),n.updateNotes(e)},this.clear=function(){n.context.clearRect(0,0,n.width,n.height)},this.pitchName=function(e){var t=e%12,n="C";return 1===t&&(n="Db"),2===t&&(n="D"),3===t&&(n="Eb"),4===t&&(n="E"),5===t&&(n="F"),6===t&&(n="Gb"),7===t&&(n="G"),8===t&&(n="Ab"),9===t&&(n="A"),10===t&&(n="Bb"),11===t&&(n="B"),""+n},this.drawImage=function(){var e,t=document.createElement("canvas").getContext("2d");t.canvas.width=n.width,t.canvas.height=n.height,t.save(),Array.from(Array(17),(function(e,t){return t})).forEach((function(e,a){var r=a%16===0?1.5:a%8===0?1.2:a%4===0?1:a%2===0?.8:.5,i=a%16===0||a%8===0?"black":a%4===0||a%2===0?"rgba(0,0,0,0.5)":"rgba(0,0,0,0.2)",o=a*n.tapSize;new T({width:n.width,color:i,x:0,y:o,lw:r}).draw(t)})),n.image.src=t.canvas.toDataURL("image/png"),n.image.onload=function(){e||(e=new C(0,n.height,n.margin)).update(n.context,n.image)}},this.drawNote=function(e,t){var a=n.tapSize;Array.from(Array(n.songLength),(function(e,t){return t})).forEach((function(r){var i=t[1].width,o=a*(16*r);n.barNotes[r]=[],e.forEach((function(e){if(e.beat>=16*r&&e.beat<16*(r+1)){var s=o+a*(e.beat%16),c=t[e.pitch].center,l=s+a*e.length,u=new L({width:i,height:l,color:"yellow",x:c,y:s,end:l+3*n.height,text:n.pitchName(e.pitch),note:e.pitch+36,gap:n.gap});n.barNotes[r].push(u),n.fullNotes.push(u)}}))}))},this.drawBack=function(){n.backMover=[];for(var e=0;e<3;e++)n.backMover.push(new C(e,n.height,n.margin))},this.pushNote=function(e){e&&(n.counter=e),n.barNotes[n.counter]&&n.barNotes[n.counter].length>0&&n.barNotes[n.counter].forEach((function(e){n.notes.push(e)})),n.songLength>n.counter+3&&n.backMover.push(new C(n.counter+3,n.height,n.margin)),n.counter++},this.updateNotes=function(e){n.notes.forEach((function(t,a){var r;(t.y=e,t.update(n.context),t.end<e&&n.notes.splice(a,1),n.gap-t.y<=t.start)&&(x.touchedKeys.forEach((function(a){t.note===a.note&&a.y>t.beg-n.tapSize&&a.y<t.beg+n.tapSize&&(t.hit=e-n.gap+.1*n.tapSize,a.y-.3*n.tapSize<=t.beg&&a.y+.3*n.tapSize>=t.beg?(r="perfect",t.color="green"):a.y>t.beg?(r="late",t.color="purple"):a.y<t.beg&&(r="early",t.color="orange"),a.hit||(a.hit=r,x.score.push([t.note,a.hit]),console.log(x.score)))})),t.move())}))},this.updateBacks=function(e){n.backMover.forEach((function(t,a){t.y=e,t.update(n.context,n.image),t.y>t.end&&n.backMover.splice(a,1)}))},this.updateFullSong=function(e){n.clear(),Array.from(Array(n.songLength),(function(e,t){return t})).forEach((function(t,a){n.context.drawImage(n.image,0,Math.floor(e-a*n.image.height-4*n.tapSize))})),n.fullNotes.forEach((function(t){t.y=e,t.update(n.context)}))},this.image=new Image,this.width=t.width,this.height=t.height,this.context=t.getContext("2d")},B=function(){function e(t){var n=this;Object(c.a)(this,e),this.game=void 0,this.notes=void 0,this.master=void 0,this.player=void 0,this.song=void 0,this.loaded=!1,this.onAir=!1,this.score=[],this.handRefs=[],this.seekBar=void 0,this.keyRefs=[],this.canvasSize=void 0,this.pianoSize=void 0,this.seekValue=0,this.songLength=272,this.tapSize=32,this.loading=!0,this.playMode=!1,this.noteMode=!1,this.TrackID=0,this.tempo=120,this.zaribTempo=1,this.fingerNotes={},this.drumInfo=[],this.trackInfo=[],this.storeDrums=[],this.storeTracks=[],this.storeFingers=[],this.equalizer=[0,0,0,0,0,0,0,0,0,0],this.drumVolumes=[70,70,70,70,70,70,70,70],this.noteInfo=void 0,this.neededTracks=void 0,this.firstDelay=void 0,this.tickID=void 0,this.currentBeat=0,this.tickerDelay=1,this.tickerStep=0,this.animeFrame=0,this.nextWhen=0,this.nextBeat=0,this.sentWhen=0,this.yPos=0,this.anime=[],this.finger=[],this.midiKeys=[],this.drawNote=function(e){n.noteMode=!0,n.notes=new N(e),n.notes.assigner(Object(o.a)({},n.noteInfo)),n.notes.drawNote(n.neededTracks),n.yPos=0,n.stopReset()},this.drawGame=function(e){n.game=new R(e),n.game.assigner({tapSize:n.tapSize,songLength:Math.round(n.songLength/16),gap:12*n.tapSize,margin:4*n.tapSize}),n.game.clear(),n.game.drawImage(),n.pianoSize&&n.game.drawNote(n.neededTracks,n.pianoSize)},this.startPlay=function(){var e,t;if(!n.onAir&&n.loaded){var a;if(n.score=[],n.yPos=0,n.resetNodeValues(),n.nextBeat=0,n.nextWhen=0,null===(e=n.game)||void 0===e||e.assigner({counter:0}),"suspended"===(null===(t=n.player)||void 0===t?void 0:t.audioContext.state))console.log("audioContext.resume"),null===(a=n.player)||void 0===a||a.audioContext.resume();n.onAir=!0;var r,i,o=240/(n.tempo*n.zaribTempo)*1e3;if(n.firstDelay=setTimeout((function(){n.playAllTracks(.03)}),o),n.queueNextBeats(),n.onAir=!0,n.playMode)null===(r=n.game)||void 0===r||r.drawBack(),null===(i=n.game)||void 0===i||i.pushNote(),n.animeFrame=requestAnimationFrame(n.moveSVG);else n.stopReset(),n.animeFrame=requestAnimationFrame(n.moveFingers)}else console.log("on air already")},this.stopPlay=function(){var e,t;n.onAir&&n.loaded?(n.onAir=!1,n.stopReset(),null===(e=document.getElementById("play-button"))||void 0===e||e.click(),clearTimeout(n.firstDelay),n.stopAllTracks(),cancelAnimationFrame(n.animeFrame),clearTimeout(n.tickID),null===(t=n.player)||void 0===t||t.cancelQueue()):console.log("Not On Air")},this.stopReset=function(){n.notes&&n.notes.resetGame(),n.finger.forEach((function(e,t){e.hide()})),n.seekValue=n.currentBeat-1,n.yPos=0,n.anime=[],n.finger=[],n.noteMode&&!n.onAir&&n.training()},this.training=function(){var e,t,a=n.finger[n.yPos-1];if((null===(e=a)||void 0===e?void 0:e.showing)&&a.hide(),n.yPos>=n.neededTracks.length)n.stopReset();else{n.seekMove(5.3333*n.yPos);var r=n.neededTracks[n.yPos].beat+12;n.anime.push(r),n.pushFinger(),(a=n.finger[n.yPos-1]).show(),null===(t=n.notes)||void 0===t||t.playGame(a.num,a.color)}},this.stopAllTracks=function(){n.song&&(n.song.stop(),n.song.elapsedTimeSinceStart=0)},this.playAllTracks=function(e){if(n.song){n.song.setMasterVolume(100),n.song.play(e);for(var t=0;t<n.song.getNbTracks();t++);}},this.rakeMouseWheel=function(e){if(!n.onAir&&n.playMode){n.seekValue="number"!==typeof e?n.seekValue+(e.deltaY>0?-1:1):e,n.seekValue=n.seekValue<0?0:n.seekValue>n.songLength?n.songLength:n.seekValue;var t=n.seekValue*n.tapSize;n.seekMove(n.seekValue),n.seekSVG(t)}},this.seekMove=function(e){n.seekBar&&e<n.songLength&&n.seekBar.changeSeeker(e)},this.seekSVG=function(e){var t;n.onAir||(null===(t=n.game)||void 0===t||t.updateFullSong(e))},this.resetNodeValues=function(){for(var e,t,a,r,i,o,s,c,l,u,d=0;d<n.trackInfo.length;d++)n.trackInfo[d].audioNode.gain.setValueAtTime(n.trackInfo[d].volume/100,0);for(var f=0;f<n.drumInfo.length;f++)n.drumInfo[f].audioNode.gain.setValueAtTime(n.drumVolumes[f]/100,0);null===(e=n.master)||void 0===e||e.band32.gain.setValueAtTime(n.equalizer[0],0),null===(t=n.master)||void 0===t||t.band64.gain.setValueAtTime(n.equalizer[1],0),null===(a=n.master)||void 0===a||a.band128.gain.setValueAtTime(n.equalizer[2],0),null===(r=n.master)||void 0===r||r.band256.gain.setValueAtTime(n.equalizer[3],0),null===(i=n.master)||void 0===i||i.band512.gain.setValueAtTime(n.equalizer[4],0),null===(o=n.master)||void 0===o||o.band1k.gain.setValueAtTime(n.equalizer[5],0),null===(s=n.master)||void 0===s||s.band2k.gain.setValueAtTime(n.equalizer[6],0),null===(c=n.master)||void 0===c||c.band4k.gain.setValueAtTime(n.equalizer[7],0),null===(l=n.master)||void 0===l||l.band8k.gain.setValueAtTime(n.equalizer[8],0),null===(u=n.master)||void 0===u||u.band16k.gain.setValueAtTime(n.equalizer[9],0)},this.queueNextBeats=function(){if(n.onAir&&n.player){var e=240/(n.tempo*n.zaribTempo)/16,t=n.player.audioContext.currentTime;for(t&&n.nextWhen<t&&(n.nextWhen=t);n.sentWhen<t+e;){var a;if(n.sendNextBeats(n.nextWhen,n.nextBeat,n.nextBeat),n.nextWhen=n.sentWhen+e,n.nextBeat>n.songLength+1&&n.stopPlay(),n.nextBeat=n.nextBeat+1,n.playMode&&n.nextBeat/16%1===0)null===(a=n.game)||void 0===a||a.pushNote();n.seekMove(n.nextBeat),n.playMode||n.pushFinger()}var r=500*(n.nextWhen-t);n.tickerStep++,n.tickerStep>=n.tickerDelay&&(n.tickerStep=0),n.tickID=setTimeout((function(){n.queueNextBeats()}),r)}},this.sendNextBeats=function(e,t,a){n.sentWhen=e;var r=1/16*(240/(n.tempo*n.zaribTempo));n.currentBeat=t,n.storeDrums.forEach((function(i){if(i.beat>=t&&i.beat<=a){var o,s=n.findDrumInfoHand(i.drum),c=s.sound;s.info&&window[s.info.variable]&&(c=window[s.info.variable]);var l=1-.2*Math.random();null===(o=n.player)||void 0===o||o.queueWaveTable({target:s.audioNode,preset:c,when:e+r*(i.beat-t),pitches:s.pitch,duration:s.length,volume:l*s.volumeRatio})}}));for(var i=[],o=0;o<n.storeTracks.length;o++){var s=n.storeTracks[o];s.beat>=t&&s.beat<=a&&i.push(s)}i.sort((function(e,t){var n=1e3*(e.beat-t.beat)+1e5*(e.track-t.track);return e.beat===t.beat&&(n+=e.pitch-t.pitch),n}));var c=-1,l=-1,u=0;i.forEach((function(a){var i,o=n.trackInfo.find((function(e){return e.nn===a.track}));a.beat===c&&a.track===l||(c=a.beat,l=a.track,u=0,a.track===n.TrackID&&n.anime.push(a.beat));var s=o.sound;o.info&&window[o.info.variable]&&(s=window[o.info.variable]);var d=[{when:a.length*r,pitch:a.shift+12*o.octave+a.pitch}],f=.6-.2*Math.random();null===(i=n.player)||void 0===i||i.queueWaveTable({target:o.audioNode,preset:s,when:e+r*(a.beat-t)+u*o.inChordDelay,pitches:12*o.octave+a.pitch,duration:.075+a.length*r,volume:f*o.volumeRatio,slides:d}),u++}))},this.pushFinger=function(){var e=n.storeFingers[n.TrackID];0!==n.anime.length&&n.anime.forEach((function(t){var a=n.fingerNotes[t];if(a){var r={};for(var i in e)if(e[i][t]){var o=n.handRefs[i],s=e[i][t];o&&(r[s]={finger:o,hand:o.getAttribute("class")})}a.forEach((function(e){var t=e.length,a=e.pitch+36,i=n.keyRefs[a];r[a]&&(n.finger.push(new A({note:i,len:t,hand:r[a],beat:n.currentBeat,num:n.yPos})),n.yPos++)}))}n.anime=n.anime.filter((function(e){return e!==t}))}))},this.moveFingers=function(){n.onAir&&(n.finger.forEach((function(e){e.showing&&n.currentBeat>e.end?e.hide():e.showing&&(n.noteMode&&n.notes&&n.notes.playGame(e.num,"green"),e.show())})),requestAnimationFrame(n.moveFingers))},this.moveSVG=function(){if(n.player&&n.game&&n.onAir){for(var e=1/16*(240/(n.tempo*n.zaribTempo)),t=n.nextBeat+(n.player.audioContext.currentTime-n.nextWhen)/e;t<0;)t+=n.songLength;t>n.songLength&&(t=n.songLength),n.game.counter<4&&t>100&&(t=0);var a=Math.round(t*n.tapSize);n.yPos=a,n.game.playGame(a),requestAnimationFrame(n.moveSVG)}},this.findTrackInfoHand=function(){var e=null;return n.trackInfo.forEach((function(t){t.nn===n.TrackID&&(e=t)})),e},this.findDrumInfoHand=function(e){var t=null;return n.drumInfo.forEach((function(n){n.id===e&&(t=n)})),t},this.midiNoteOn=function(e,t){if(0===t)n.midiNoteOff(e);else{n.midiNoteOff(e),n.onAir&&x.touchedKeys.push({note:e,y:n.yPos});var a=n.findTrackInfoHand();if(a){var r,i=a.sound;if(a.info&&window[a.info.variable]&&(i=window[a.info.variable]),n.midiKeys[e]=null===(r=n.player)||void 0===r?void 0:r.queueWaveTable({target:a.audioNode,preset:i,when:0,pitches:e,duration:10,volume:t}),n.keyRefs[e]){var o=n.keyRefs[e],s=o.children.back.getAttribute("fill"),c="red";"white"!==s&&"black"!==s&&(c="green",n.noteMode&&n.training()),o.children.back.style.fill=c}}}},this.midiNoteOff=function(e){if(n.midiKeys[e]&&(n.midiKeys[e].cancel(),x.touchedKeys.forEach((function(t,n){var a=x.touchedKeys[n].note;e===a&&x.touchedKeys.splice(n,1)}))),n.keyRefs[e]){var t=n.keyRefs[e];t&&(t.children.back.style.fill="")}},Object.assign(this,t),console.log(this)}return Object(w.a)(e,[{key:"assigner",value:function(e){Object.assign(this,e),console.log(e)}}]),e}(),M=n(51),P=function(e){return function(t){E(e).then((function(e){if(e)if(e.songs.length>0)e.songs.forEach((function(n,r){return M.a.get("/song/v2/".concat(n.id)).then((function(i){var o=i.data;return Object(M.b)(o).then((function(i){var o;null===(o=e.song)||void 0===o||o.loadBuffer({buffer:i.data,vol:n.vol}).then((function(){if(e.songs.length===r+1){var n,i=e.tempo*e.zaribTempo/60,o=(null===(n=e.song)||void 0===n?void 0:n.getDuration())/i;e.songLength=O(e.storeDrums,e.storeTracks,o),e.loaded=!0,_=new B(e);var s=e.songLength,c=e.neededLines,l=e.neededTracks;t({type:a.j,payload:{songLength:s,neededLines:c,neededTracks:l}})}}))})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}));else{e.songLength=O(e.storeDrums,e.storeTracks),e.loaded=!0,_=new B(e);var n=e.songLength,r=e.neededLines,i=e.neededTracks;t({type:a.j,payload:{songLength:n,neededLines:r,neededTracks:i}})}})).catch((function(e){return console.log(e)}))}},V=function(e,t,n){return function(r){if(t&&n){var i,o=function(e,t){var n=e[50].getBoundingClientRect().x-(e[48].getBoundingClientRect().x+e[48].getBoundingClientRect().width),a=t.pianoLeft,r=a||100,i=[];for(var o in e){var s=e[o],c=s.getBoundingClientRect(),l=c.x-r,u=c.width,d=l+u/2;s.classList.contains("C")||s.classList.contains("F")?i.push({left:l,center:d-3.5*n,width:u,key:"CF"}):s.classList.contains("last")?i.push({left:l,center:d,width:u,key:"last"}):"black"===s.id?i.push({left:l,center:d,width:u,key:"black"}):s.classList.contains("E")||s.classList.contains("B")?i.push({left:l,center:d+3.5*n,width:u,key:"EB"}):s.classList.contains("A")?i.push({left:l,center:d+1.8*n,width:u,key:"A"}):s.classList.contains("G")?i.push({left:l,center:d+1.4*n,width:u,key:"G"}):i.push({left:l,center:d,width:u,key:"white"})}return i.push({left:-100,center:0,width:n,key:"lineWidth"}),i}(e,t);null===(i=_)||void 0===i||i.assigner({pianoSize:o,keyRefs:e,canvasSize:t,tapSize:n}),r({type:a.c,payload:{pianoSize:o,canvasSize:t,tapSize:n}})}else{var s;null===(s=_)||void 0===s||s.assigner({keyRefs:e}),r({type:a.c})}}},U=function(e,t){return function(n){var r;null===(r=_)||void 0===r||r.assigner({noteInfo:t,keyRefs:e}),n({type:a.e,payload:{noteInfo:t}})}},z=function(e){return function(t){var n;null===(n=_)||void 0===n||n.assigner(e),t({type:a.a})}},F=function(e){return function(t){var n;null===(n=_)||void 0===n||n.assigner(e),t({type:a.f})}},D=function(e){return function(t){var n;null===(n=_)||void 0===n||n.drawGame(e),t({type:a.b})}},q=function(e){return function(t){var n;null===(n=_)||void 0===n||n.drawNote(e),t({type:a.d})}},H=function(){return function(e){var t;null===(t=_)||void 0===t||t.stopPlay(),e({type:a.l})}},W=function(){return function(e){var t;null===(t=_)||void 0===t||t.stopPlay(),e({type:a.k})}},K=function(e){return function(t){var n,r;null===(n=_)||void 0===n||n.assigner({playMode:e}),null===(r=_)||void 0===r||r.stopPlay(),t(e?{type:a.h}:{type:a.i})}},Z=function(e){var t;null===(t=_)||void 0===t||t.rakeMouseWheel(e)},Q=function(){var e;null===(e=_)||void 0===e||e.startPlay()},X=function(){var e;null===(e=_)||void 0===e||e.stopPlay()},J=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.7;null===(t=_)||void 0===t||t.midiNoteOn(e,n)},Y=function(e){var t;null===(t=_)||void 0===t||t.midiNoteOff(e)}},181:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(52),r=n(0),i=n.n(r),o=n(179),s=n(290),c=n(291),l=n(18),u=function(e){var t=e.loading,n=Object(r.useState)(!1),u=Object(a.a)(n,2),d=u[0],f=u[1],h=function(){d?(Object(l.o)(),f(!1)):(Object(l.n)(),f(!0))},m=function(e){"Space"!==e.code||t||h()};return Object(r.useEffect)((function(){return document.addEventListener("keyup",m),function(){document.removeEventListener("keyup",m)}})),i.a.createElement(o.a,{id:"play-button",color:"secondary","aria-label":"play song",onClick:h},d?i.a.createElement(s.a,{style:{fontSize:"1.8em"}}):i.a.createElement(c.a,{style:{fontSize:"1.8em"}}))}},182:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(15),o=n(10),s=n(18),c=n(125),l=n(284),u=n(293),d=n(134),f=[{note:"C",xPos:47,yPos:205,id:"white",front:"M0.5 0.5H42.5V155.5C42.5 156.881 43.6193 158 45 158H79.5V245C79.5 247.485 77.4853 249.5 75 249.5H5C2.51472 249.5 0.5 247.485 0.5 245V0.5Z"},{note:"Db",xPos:77,yPos:95,id:"black",front:"M95 0H45V153C45 154.105 45.8954 155 47 155H93C94.1046 155 95 154.105 95 153V0Z",back:"M79 130H61C52 130 52 150 52 150H88C88 150 88 130 79 130Z"},{note:"D",xPos:130,yPos:205,id:"white",front:"M150.5 0.5H97.5V155.5C97.5 156.881 96.3807 158 95 158H84.5V245C84.5 247.485 86.5147 249.5 89 249.5H159C161.485 249.5 163.5 247.485 163.5 245V158H153C151.619 158 150.5 156.881 150.5 155.5V0.5Z"},{note:"Eb",xPos:185,yPos:95,id:"black",front:"M203 0H153V153C153 154.105 153.895 155 155 155H201C202.105 155 203 154.105 203 153V0Z",back:"M187 130H169C160 130 160 150 160 150H196C196 150 196 130 187 130Z"},{note:"E",xPos:214,yPos:205,id:"white",front:"M247.5 0.5H205.5V155.5C205.5 156.881 204.381 158 203 158H168.5V245C168.5 247.485 170.515 249.5 173 249.5H243C245.485 249.5 247.5 247.485 247.5 245V0.5Z"},{note:"F",xPos:298,yPos:205,id:"white",front:"M252.5 0.5H291.5V155.5C291.5 156.881 292.619 158 294 158H331.5V245C331.5 247.485 329.485 249.5 327 249.5H257C254.515 249.5 252.5 247.485 252.5 245V0.5Z"},{note:"Gb",xPos:327,yPos:95,id:"black",front:"M344 0H294V153C294 154.105 294.895 155 296 155H342C343.105 155 344 154.105 344 153V0Z",back:"M328 130H310C301 130 301 150 301 150H337C337 150 337 130 328 130Z"},{note:"G",xPos:383,yPos:205,id:"white",front:"M390.5 0.5H346.5V155.5C346.5 156.881 345.381 158 344 158H336.5V245C336.5 247.485 338.515 249.5 341 249.5H411C413.485 249.5 415.5 247.485 415.5 245V158H393C391.619 158 390.5 156.881 390.5 155.5V0.5Z"},{note:"Ab",xPos:427,yPos:95,id:"black",front:"M443 0H393V153C393 154.105 393.895 155 395 155H441C442.105 155 443 154.105 443 153V0Z",back:"M427 130H409C400 130 400 150 400 150H436C436 150 436 130 427 130Z"},{note:"A",xPos:466,yPos:205,id:"white",front:"M491.5 0.5H445.5V155.5C445.5 156.881 444.381 158 443 158H420.5V245C420.5 247.485 422.515 249.5 425 249.5H495C497.485 249.5 499.5 247.485 499.5 245V158H494C492.619 158 491.5 156.881 491.5 155.5V0.5Z"},{note:"Bb",xPos:526,yPos:95,id:"black",front:"M544 0H494V153C494 154.105 494.895 155 496 155H542C543.105 155 544 154.105 544 153V0Z",back:"M528 130H510C501 130 501 150 501 150H537C537 150 537 130 528 130Z"},{note:"B",xPos:551,yPos:205,id:"white",front:"M583.5 0.5H546.5V155.5C546.5 156.881 545.381 158 544 158H504.5V245C504.5 247.485 506.515 249.5 509 249.5H579C581.485 249.5 583.5 247.485 583.5 245V0.5Z"},{note:"C",xPos:637,yPos:205,id:"white",front:"M663 249.5H593C590.515 249.5 588.5 247.485 588.5 245V0.5H667.5V245C667.5 247.485 665.485 249.5 663 249.5Z"}],h=Object(l.a)((function(e){return Object(u.a)({root:{display:"flex",flexDirection:"row-reverse",justifyContent:"center",flexWrap:"nowrap",margin:"0 auto",minWidth:"215px",width:"100%",cursor:"default","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",touchAction:"none"},back:{margin:e.spacing(0,2)}})})),m=Object(i.c)((function(e){return{theme:e.auth.theme,Melo:e.melodition}}),(function(e){return{drawGamePiano:Object(o.b)(s.g,e),drawNotePiano:Object(o.b)(s.j,e)}}))((function(e){var t=e.Melo,n=e.drawGamePiano,i=e.drawNotePiano,o=new c.a,s=o.keyboardDown,l=o.keyboardUp,u=o.mouseDown,m=o.mouseUp,p=o.mouseLeave,g=o.mouseOver,b=36,v=36,_={};Object(a.useEffect)((function(){return console.log("Piano mounted"),Object(d.a)(!0),document.addEventListener("keydown",s),document.addEventListener("keyup",l),function(){console.log("Piano disMounted"),Object(d.a)(!1),document.removeEventListener("keydown",s),document.removeEventListener("keyup",l)}}),[t.loading,s,l]);var y,E=h(),O=function(e){if(e){var t=e.tabIndex;_[t]=e}};return(y=t.octave)>6?(b=24,v=24):y>3?(b=36,v=36):y>1?(b=48,v=48):(b=60,v=60),r.a.createElement("div",{ref:function(e){if(e&&t.pianoLoading){var a=e.getBoundingClientRect(),r=a.width,o=Math.floor(window.innerHeight-(a.height+64));if(t.playMode){var s=function(e){return e/16}(o),l=4*s+8,u=a.left;n(_,{width:r,height:o,baseLine:l,pianoLeft:u},s)}else if(t.noteMode&&t.neededLines){var d=t.neededLines.up>83?102:83,f=t.neededLines.down<58||t.neededLines.up>83?28:16,h=d>83?c.e:c.b,m=o/2.1/(f/2),p=r/(t.neededLines.notes+2),g=.5*p<7?7:.5*p>12?12:.5*p,b=Array.from(Array(f),(function(e,t){return d-h[t]})),v={};b.forEach((function(e,t){var n=(t+1)*m/2;v[e]={pos:n,note:Object(c.d)(e)},v[e-1]={pos:n,note:Object(c.d)(e-1)}})),i(_,{width:r,height:o/2.1,tapSize:m,spaceSize:p,fontSize:g,linesArray:b,notePos:v})}else n(_)}},className:E.root},Array.from(Array(t.octave),(function(e,t){return"oct"+(t+1)})).map((function(e,n){var a=t.octave-n===1?668:584;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",id:e,key:e,width:a,height:"100%",viewBox:"0 0 ".concat(a," 275"),fill:"none",style:n!==t.octave-1?{marginRight:8/t.octave}:void 0},f.map((function(a,i){var o,s=f.length,c=b===v?"first":a.note;t.octave-n===1&&s===i+1&&(s++,c="last",n++);var l="white"===a.id?"#B5B5B5":void 0,d="white"===a.id?"black":"rgb(255 255 255 / 65%)",h=null===(o=t.neededTracks)||void 0===o?void 0:o.some((function(e){return e.pitch+36===b})),_="white"===a.id?a.xPos:a.xPos+6;return s!==i+1&&r.a.createElement("g",{id:a.id,ref:O,onMouseUp:m,onMouseDown:u,onMouseLeave:p,onTouchEnd:p,onTouchMove:g,onTouchStart:u,key:e+"-"+a.note+n,className:c,tabIndex:b},r.a.createElement("path",{id:"back",d:a.front,fill:a.id,stroke:l}),"white"!==a.id?r.a.createElement("path",{id:"front",d:a.back,fill:d}):r.a.createElement("text",{id:"front",x:_,y:a.yPos,fill:"rgb(155 155 155)",fontSize:"25",fontWeight:"900"},a.note),h&&r.a.createElement("circle",{cx:a.xPos-8,cy:a.yPos+20,r:"6",fill:"rgb(56 56 56)",stroke:a.id,strokeWidth:"2"}),60===b++&&r.a.createElement("polygon",{points:"30,265 40,255 50,265",fill:"black"}))})))})))}));t.a=m},188:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var a=n(50),r=n(56),i=n(39),o=n(51),s=function(){return function(e,t){var n=t().bank.posts,s=Object(r.b)()-n.nextLoad;n.data&&s<=0||(e({type:a.d}),o.a.get("/post/v2").then((function(t){return e({type:a.f,payload:{data:t.data,nextLoad:Object(r.b)(10)}})})).catch((function(e){return Object(i.a)(e,a.b)})))}},c=function(e){return function(t,n){var r=n().bank.posts.data,s=null===r||void 0===r?void 0:r.find((function(t){return t.id===e}));s?t({type:a.e,data:s}):(t({type:a.c}),o.a.get("/post/v2?id=".concat(e)).then((function(e){return t({type:a.e,data:e.data[0]})})).catch((function(e){return Object(i.a)(e,a.a)})))}}},197:function(e,t,n){"use strict";var a=n(52),r=n(0),i=n.n(r),o=n(15),s=n(10),c=n(294),l=n(18),u=Object(o.c)((function(e){return{Melo:e.melodition}}),(function(e){return{drawSeekBar:Object(s.b)(l.f,e)}}))((function(e){var t=e.Melo,n=e.drawSeekBar,a=Object(r.useCallback)((function(e){return e&&t.seekLoading&&n({seekBar:e}),function(){}}),[t.seekLoading,n]);return i.a.createElement("div",{style:{height:"40%"}},i.a.createElement(d,{ref:a,Melo:t}))}));t.a=u;var d=Object(r.forwardRef)((function(e,t){var n=e.Melo,o=Object(r.useState)(1),s=Object(a.a)(o,2),u=s[0],d=s[1];Object(r.useImperativeHandle)(t,(function(){return{changeSeeker:f}}));var f=function(e){"number"===typeof e&&d(e)};return i.a.createElement(c.a,{color:"secondary",orientation:"vertical","aria-label":"seekbar",defaultValue:0,max:n.songLength,min:0,onChange:function(e,t){var n;"number"===typeof(n=t)&&Object(l.a)(n)},"aria-labelledby":"vertical-slider",value:u})}))},204:function(e,t,n){e.exports=n.p+"static/media/melodition.7fdc0c11.jpg"},21:function(e,t,n){"use strict";n.d(t,"j",(function(){return a})),n.d(t,"g",(function(){return r})),n.d(t,"h",(function(){return i})),n.d(t,"i",(function(){return o})),n.d(t,"l",(function(){return s})),n.d(t,"k",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return m}));var a="REQUEST_PLAYER",r="ENTER_NOTEMODE",i="ENTER_PLAYMODE",o="EXIT_PLAYMODE",s="RESIZE_PLAYER",c="RESET_PLAYER",l="DRAW_GAME_PIANO",u="DRAW_NOTE_PIANO",d="DRAW_SEEKBAR",f="DRAW_FINGER",h="DRAW_NOTES",m="DRAW_GAME"},248:function(e,t,n){e.exports=n(280)},27:function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"j",(function(){return r})),n.d(t,"h",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"k",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return h}));var a="USER_REGISTER_REQUEST",r="USER_REGISTER_SUCCESS",i="USER_REGISTER_FAILURE",o="USER_LOGIN_REQUEST",s="USER_LOGIN_SUCCESS",c="USER_LOGIN_FAILURE",l="USER_LOGOUT",u="USER_LOST_REQUEST",d="USER_LOST_SUCCESS",f="USER_LOST_FAILURE",h="CHANGE_THEME"},277:function(e,t,n){},278:function(e,t,n){var a={"./default_drum_00":[217,1],"./default_drum_00.ts":[217,1],"./default_drum_01":[218,2],"./default_drum_01.ts":[218,2],"./default_drum_02":[219,3],"./default_drum_02.ts":[219,3],"./default_drum_03":[220,4],"./default_drum_03.ts":[220,4],"./default_drum_04":[221,5],"./default_drum_04.ts":[221,5],"./default_drum_05":[222,6],"./default_drum_05.ts":[222,6],"./default_drum_06":[223,7],"./default_drum_06.ts":[223,7],"./default_drum_07":[224,8],"./default_drum_07.ts":[224,8]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=278,e.exports=r},279:function(e,t,n){var a={"./default_tone_00":[225,9],"./default_tone_00.ts":[225,9],"./default_tone_01":[226,10],"./default_tone_01.ts":[226,10],"./default_tone_02":[227,11],"./default_tone_02.ts":[227,11],"./default_tone_03":[228,12],"./default_tone_03.ts":[228,12],"./default_tone_04":[229,13],"./default_tone_04.ts":[229,13],"./default_tone_05":[230,14],"./default_tone_05.ts":[230,14],"./default_tone_06":[231,15],"./default_tone_06.ts":[231,15],"./default_tone_07":[232,16],"./default_tone_07.ts":[232,16]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=279,e.exports=r},280:function(e,t,n){"use strict";n.r(t);var a=n(11),r=n(25),i=n(41),o=n(40),s=n(74),c=n(0),l=n.n(c),u=n(43),d=n(198),f=n.n(d),h=n(15),m=n(66),p=n(160),g=n(30),b=n(19),v=n(73),_=Object(h.c)((function(e){return{loggedIn:e.auth.loggedIn}}))((function(e){var t="";if(e.loggedIn||(t=e.authenticationPath),e.loggedIn&&!e.isAllowed&&(t=e.restrictedPath),t){return c.createElement(b.b,Object.assign({},e,{component:function(){return c.createElement(b.a,{to:{pathname:t}})},render:void 0}))}return c.createElement(b.b,e)})),y=n(52),E=n(287),O=n(38),S=n(39),k=function(){var e=Object(c.useState)(""),t=Object(y.a)(e,2),n=t[0],a=t[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"About"),l.a.createElement("p",null," ","Lorem ipsum dolor sit amet consectetur adipisicing elit. Atque ipsum praesentium rem asperiores fuga illo et, architecto doloremque nulla. Magni perspiciatis praesentium facere facilis, ullam officiis saepe sunt amet nulla?"),l.a.createElement("input",{type:"text",onChange:function(e){return function(e){var t=e.target.value;a(t)}(e)},value:n}),l.a.createElement(E.a,{onClick:function(){return g.b.dispatch({type:O.c,snackbar:Object(S.c)(n,"success")})}},"Snack"),l.a.createElement(E.a,{onClick:function(){return g.b.dispatch({type:O.a,dismissAll:!0})}},"Clear"))},j=n(3),w=n(10),x=n(188),A=n(14),C=n(31),T=n(337),L=n(338),I=n(339),G=n(340),N=n(79),R=n(341),B=n(284),M=n(293),P=n(56),V=Object(B.a)((function(e){return Object(M.a)({root:Object(A.a)({width:300,maxHeight:360,margin:e.spacing(2)},e.breakpoints.down(350),{margin:e.spacing(1)}),cardAction:{justifyContent:"space-between",margin:"inherit"},content:{minHeight:"140px"}})})),U=function(e){var t=e.post,n=V(),a=t.title,r=t.featured_img,i=t.excerpt,o=t.author,s=function(e){g.b.dispatch(Object(C.f)("/post/".concat(t.id)))};return l.a.createElement(T.a,{className:n.root},l.a.createElement(L.a,{onClick:s},l.a.createElement(I.a,{height:"140",component:"img",alt:t.title,title:t.title,image:Object(P.f)(r)}),l.a.createElement(G.a,{className:n.content},l.a.createElement(N.a,{gutterBottom:!0,variant:"h5",component:"h2"},a),l.a.createElement(N.a,{variant:"body2",color:"textSecondary",component:"p"},i))),l.a.createElement(R.a,{className:n.cardAction},l.a.createElement(N.a,{variant:"body2",color:"textSecondary",component:"p"},"\u0627\u0632 ",o),l.a.createElement(E.a,{size:"medium",color:"secondary",onClick:s},"\u0627\u062f\u0627\u0645\u0647 \u0645\u0637\u0644\u0628")))},z=n(398),F=n(342),D=n(5),q=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.props.requestAllPost()}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.data,a=e.error,r=e.classes,i=n?n.length:0;return l.a.createElement("div",{className:r.root},l.a.createElement("div",{className:r.header},l.a.createElement(N.a,{variant:"h3"},"\u067e\u0633\u062a \u0647\u0627"),l.a.createElement(z.a,{className:r.chip,color:"secondary",label:"\u062a\u0639\u062f\u0627\u062f: "+i})),l.a.createElement(F.a,{container:!0,justify:"center",className:r.cardList},t?l.a.createElement(v.a,null):n.length?n.map((function(e){return l.a.createElement(U,{key:e.id,post:e})})):l.a.createElement(N.a,{component:"div",className:r.autoMargin},a)))}}]),n}(c.Component),H=Object(h.c)((function(e,t){return Object(j.a)({classes:t.classes},e.bank.posts)}),(function(e){return{requestAllPost:Object(w.b)(x.a,e)}}))(Object(D.a)((function(e){return Object(M.a)({root:{padding:e.spacing(2,1,0,2)},header:{position:"relative"},cardList:{minHeight:"calc(100vh - 143px)"},chip:{position:"absolute",right:0,top:e.spacing(1)},autoMargin:{margin:"auto"}})}))(q)),W=n(75),K=n.n(W),Z=n(108),Q=n(35),X=n(22),J=n(65),Y=n(26),$=n(118),ee=n.n($),te=n(348),ne=n(349),ae=n(400),re=n(391),ie=n(347),oe=n(286),se=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={loading:!0},e.script=void 0,e.loadScript=function(){window.captchaOnLoad=e.onLoad;var t=document.createElement("script");t.type="text/javascript",t.src="https://www.google.com/recaptcha/api.js?onload=captchaOnLoad&render=explicit&hl=fa",t.async=!0,t.defer=!0,e.script=document.body.appendChild(t)},e.callback=function(){e.props.onChange(!0)},e.onLoad=function(){window.grecaptcha.render("g-recaptcha",{callback:e.callback,sitekey:"6Le8wccUAAAAAA0kNONoUC-NKPecGnUGKRY7zMno",size:"normal",theme:e.props.theme}),window.grecaptcha.ready((function(){e.setState({loading:!1})}))},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.loadScript()}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.script)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.onError;return c.createElement("div",{className:t.root},this.state.loading&&c.createElement(ie.a,{color:"secondary"}),c.createElement("div",{id:"g-recaptcha",className:n?t.captchaWarning:t.captcha}),c.createElement(N.a,{color:"error",variant:"caption"},n))}}]),n}(c.PureComponent),ce=Object(D.a)((function(e){return Object(M.a)({root:{position:"relative",minHeight:80},captcha:{zIndex:2,"& > div:first-child":{margin:"auto","& > div > iframe":{borderRadius:4,border:"1px solid"}}},captchaWarning:{"& > div:first-child":{margin:"auto","& > div > iframe":{borderRadius:4,border:"1px solid red"}}}})}))(se);function le(e){var t=e.form,n=t.setFieldValue,a=t.errors,r=t.touched,i=e.field.name,o=g.b.getState().auth.theme,s=Object(c.useCallback)((function(e){n(i,!!e)}),[n,i]);return l.a.createElement(ce,{action:"login",theme:o,onChange:s,onError:r.recaptcha&&a.recaptcha})}var ue=n(64),de=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.props.loggedIn&&this.props.push("/profile")}},{key:"render",value:function(){var e=this,t=this.props,n=t.loading;return t.loggedIn?null:l.a.createElement(te.a,{component:"main",maxWidth:"xs",style:{paddingTop:"10px"}},l.a.createElement(ne.a,null),l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(ae.a,{style:{margin:"auto"}},l.a.createElement(ee.a,null)),l.a.createElement(N.a,{component:"h1",variant:"h5"},"Sign in"),l.a.createElement(X.c,{initialValues:{username:"",password:"",recaptcha:!1},validationSchema:Q.b().shape({username:Q.d().max(255).required("Email or Username is required"),password:Q.d().max(255).required("Password is required"),recaptcha:Q.a().required("ReCAPTCHA is required")}),onSubmit:function(){var t=Object(Z.a)(K.a.mark((function t(n,a){var r;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.resetForm,t.next=3,e.props.login({username:n.username,password:n.password});case 3:r({values:{username:n.username,password:"",recaptcha:n.recaptcha}});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},l.a.createElement(X.b,null,l.a.createElement(re.a,{mb:3},l.a.createElement(N.a,{color:"textSecondary",align:"center",gutterBottom:!0,variant:"body2"},"Sign in on the internal platform")),l.a.createElement(F.a,{item:!0},l.a.createElement(E.a,{fullWidth:!0,size:"large",variant:"contained",type:"submit",disabled:!0},"Login with Google")),l.a.createElement(re.a,{mt:3,mb:1},l.a.createElement(N.a,{align:"center",color:"textSecondary",variant:"body1"},"or login with username / email address")),l.a.createElement(re.a,{my:1},l.a.createElement(X.a,{component:J.a,color:"secondary",fullWidth:!0,label:"Email Address/Username",margin:"normal",name:"username",id:"username",placeholder:"John",type:"username",variant:"outlined"})),l.a.createElement(re.a,{my:1},l.a.createElement(X.a,{component:J.a,color:"secondary",fullWidth:!0,label:"Password",margin:"normal",name:"password",type:"password",variant:"outlined"})),l.a.createElement(re.a,{my:1},l.a.createElement(X.a,{component:le,color:"secondary",fullWidth:!0,label:"Recaptcha",margin:"normal",name:"recaptcha",type:"recaptcha",variant:"outlined"})),n&&l.a.createElement(ie.a,{color:"secondary"}),l.a.createElement(re.a,{my:1},l.a.createElement(E.a,{color:"secondary",disabled:n,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Sign in")),l.a.createElement(F.a,{container:!0,style:{textAlign:"initial"}},l.a.createElement(F.a,{item:!0,xs:!0},l.a.createElement(oe.a,{color:"secondary",component:Y.a,to:"/lostpassword",variant:"body2"},"Forgot password?")),l.a.createElement(F.a,{item:!0},l.a.createElement(N.a,{color:"textSecondary",variant:"body2"},"Don't have an account?",l.a.createElement(oe.a,{color:"secondary",component:Y.a,to:"/register",variant:"body2"},"Sign up"))))))))}}]),n}(l.a.Component),fe=Object(h.c)((function(e){var t=e.auth;return{loggedIn:t.loggedIn,loading:t.loading}}),(function(e){return{login:Object(w.b)(ue.b,e),logout:Object(w.b)(ue.c,e),push:Object(w.b)(C.f,e)}}))(de),he=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.props.loggedIn&&this.props.push("/")}},{key:"render",value:function(){var e=this,t=this.props,n=t.loading;return t.loggedIn?null:l.a.createElement(te.a,{component:"main",maxWidth:"xs",style:{paddingTop:"10px"}},l.a.createElement(ne.a,null),l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(ae.a,{style:{margin:"auto"}},l.a.createElement(ee.a,null)),l.a.createElement(N.a,{component:"h1",variant:"h5"},"Lost Password"),l.a.createElement(X.c,{initialValues:{user_login:"",recaptcha:!1},validationSchema:Q.b().shape({user_login:Q.d().max(255).required("Email or Username is required"),recaptcha:Q.a().required("ReCAPTCHA is required")}),onSubmit:function(t,n){var a=n.resetForm;t.user_login&&e.props.lostRequest(t),a({values:{user_login:"",recaptcha:t.recaptcha}})}},l.a.createElement(X.b,null,l.a.createElement(re.a,{my:2},l.a.createElement(N.a,{color:"textSecondary",align:"center",gutterBottom:!0,variant:"body2"},"Enter your email or user_login")),l.a.createElement(re.a,{my:1},l.a.createElement(X.a,{component:J.a,color:"secondary",fullWidth:!0,label:"Email Address/Username",margin:"normal",name:"user_login",id:"user_login",placeholder:"John",type:"user_login",variant:"outlined"})),l.a.createElement(re.a,{my:1},l.a.createElement(X.a,{component:le,color:"secondary",fullWidth:!0,label:"Recaptcha",margin:"normal",name:"recaptcha",type:"recaptcha",variant:"outlined"})),n&&l.a.createElement(ie.a,{color:"secondary"}),l.a.createElement(re.a,{my:1},l.a.createElement(E.a,{color:"secondary",disabled:n,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Recover"))))))}}]),n}(l.a.Component),me=Object(h.c)((function(e,t){var n=e.auth;return{loggedIn:n.loggedIn,loading:n.loading}}),(function(e,t){return{lostRequest:Object(w.b)(ue.d,e),push:Object(w.b)(C.f,e)}}))(he),pe=n(395),ge=n(346),be=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.props.loggedIn&&this.props.push("/")}},{key:"render",value:function(){var e=this,t=this.props,n=t.loading;return t.loggedIn?null:l.a.createElement(te.a,{component:"main",maxWidth:"xs",style:{paddingTop:"10px"}},l.a.createElement(ne.a,null),l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(ae.a,{style:{margin:"auto"}},l.a.createElement(ee.a,null)),l.a.createElement(N.a,{component:"h1",variant:"h5"},"Sign Up"),l.a.createElement(X.c,{initialValues:{email:"",firstname:"",lastname:"",username:"",password:"",confirm_password:"",recaptcha:!1,policy:!1},validationSchema:Q.b().shape({email:Q.d().email("Must be a valid email").max(255).required("Email is required"),firstname:Q.d().max(255).required("First name is required"),lastname:Q.d().max(255).required("Last name is required"),username:Q.d().max(255).required("User name is required"),password:Q.d().max(255).required("Password is required"),confirm_password:Q.d().oneOf([Q.c("password"),""],"Both password need to be the same"),policy:Q.a().oneOf([!0],"This field must be checked"),recaptcha:Q.a().oneOf([!0],"This field must be checked")}),onSubmit:function(t,n){var a=n.resetForm;e.props.registerRequest(Object(j.a)({},t)),a({values:Object(j.a)({},t)})}},(function(e){var t=e.handleChange,a=e.values,r=e.touched,i=e.errors;return l.a.createElement(X.b,null,l.a.createElement(re.a,{mb:3},l.a.createElement(N.a,{color:"textSecondary",align:"center",gutterBottom:!0,variant:"body2"},"Use your email to create new account"),l.a.createElement(X.a,{component:J.a,color:"secondary",fullWidth:!0,label:"\u0646\u0627\u0645",margin:"normal",name:"firstname",variant:"outlined"}),l.a.createElement(X.a,{component:J.a,color:"secondary",fullWidth:!0,label:"\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc",margin:"normal",name:"lastname",variant:"outlined"}),l.a.createElement(X.a,{component:J.a,color:"secondary",fullWidth:!0,label:"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc",margin:"normal",name:"username",variant:"outlined"}),l.a.createElement(X.a,{component:J.a,color:"secondary",fullWidth:!0,label:"\u0622\u062f\u0631\u0633 \u0627\u06cc\u0645\u06cc\u0644",margin:"normal",name:"email",dir:"ltr",type:"email",variant:"outlined"}),l.a.createElement(X.a,{component:J.a,color:"secondary",fullWidth:!0,label:"\u067e\u0633\u0648\u0631\u062f",margin:"normal",name:"password",type:"password",variant:"outlined"}),l.a.createElement(X.a,{component:J.a,color:"secondary",fullWidth:!0,label:"\u062a\u0627\u0626\u06cc\u062f \u067e\u0633\u0648\u0631\u062f",margin:"normal",name:"confirm_password",type:"password",variant:"outlined"}),l.a.createElement(re.a,{alignItems:"center",display:"flex",ml:-1},l.a.createElement(pe.a,{checked:a.policy,name:"policy",onChange:t}),l.a.createElement(N.a,{color:"textSecondary",variant:"body1"},"I have read the"," ",l.a.createElement(oe.a,{color:"secondary",component:Y.a,to:"#",underline:"always",variant:"body1"},"Terms and Conditions"," "))),Boolean(r.policy&&i.policy)&&l.a.createElement(ge.a,{error:!0},i.policy),l.a.createElement(re.a,{my:1},l.a.createElement(X.a,{component:le,color:"secondary",fullWidth:!0,label:"Recaptcha",margin:"normal",name:"recaptcha",type:"recaptcha",variant:"outlined"})),n&&l.a.createElement(ie.a,{color:"secondary"}),l.a.createElement(re.a,{my:2},l.a.createElement(E.a,{color:"secondary",disabled:n,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Sign up now")),l.a.createElement(N.a,{align:"center",color:"textSecondary",variant:"body2"},"Have an account?",l.a.createElement(oe.a,{color:"secondary",component:Y.a,to:"/login",variant:"body2"},"Sign in"))))}))))}}]),n}(l.a.Component),ve=Object(h.c)((function(e){var t=e.auth;return{loggedIn:t.loggedIn,loading:t.loading}}),(function(e){return{registerRequest:Object(w.b)(ue.e,e),push:Object(w.b)(C.f,e)}}))(be),_e=n(77),ye=n(51),Ee=function(e){return function(t){t({type:_e.b});var n=Oe(e),a=n.userID;ye.a.get("/wp/v2/users/".concat(a)).then((function(e){t({type:_e.c,profile:Object(j.a)(Object(j.a)({},e.data),{},{info:n})})})).catch((function(e){return Object(S.a)(e,_e.a)}))}},Oe=function(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")),a=JSON.parse(n);return{userID:a.data.user.id,expire:1e3*a.exp,issued:1e3*a.iat,before:1e3*a.nbf}},Se=n(2),ke=n(32),je=n(179),we=n(354),xe=n(355),Ae=n(356),Ce=n(357),Te=n(358),Le=n(359),Ie=n(360),Ge=n(361),Ne=n(401),Re=n(350),Be=n(351),Me=n(352),Pe=n(353),Ve=Object(B.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));function Ue(e){var t=Ve(),n=Object(ke.a)(),a=e.count,r=e.page,i=e.rowsPerPage,o=e.onChangePage;return l.a.createElement("div",{className:t.root},l.a.createElement(je.a,{onClick:function(e){o(e,0)},disabled:0===r,"aria-label":"first page"},"rtl"===n.direction?l.a.createElement(Re.a,null):l.a.createElement(Be.a,null)),l.a.createElement(je.a,{onClick:function(e){o(e,r-1)},disabled:0===r,"aria-label":"previous page"},"rtl"===n.direction?l.a.createElement(Me.a,null):l.a.createElement(Pe.a,null)),l.a.createElement(je.a,{onClick:function(e){o(e,r+1)},disabled:r>=Math.ceil(a/i)-1,"aria-label":"next page"},"rtl"===n.direction?l.a.createElement(Pe.a,null):l.a.createElement(Me.a,null)),l.a.createElement(je.a,{onClick:function(e){o(e,Math.max(0,Math.ceil(a/i)-1))},disabled:r>=Math.ceil(a/i)-1,"aria-label":"last page"},"rtl"===n.direction?l.a.createElement(Be.a,null):l.a.createElement(Re.a,null)))}var ze=Object(B.a)((function(e){return{table:{minWidth:300},toolbar:{"& div":Object(A.a)({flexFlow:"wrap",justifyContent:"flex-end"},e.breakpoints.only("xs"),{justifyContent:"space-around"})}}}));function Fe(e){var t=e.res,n=ze(),a=l.a.useState(0),r=Object(y.a)(a,2),i=r[0],o=r[1],s=l.a.useState(5),c=Object(y.a)(s,2),u=c[0],d=c[1],f=u-Math.min(u,t.length-i*u),h=t.length>500?"higher":t.length>=100?"high":t.length>=30?"average":t.length>5?"low":"lower",m=function(e,t){var n,a;return e&&(n=e),t&&(a=t),n||a};return l.a.createElement(T.a,{className:Object(Se.a)(n.root)},l.a.createElement(we.a,{title:"\u0622\u062e\u0631\u06cc\u0646 \u0622\u0647\u0646\u06af \u0647\u0627"}),l.a.createElement(xe.a,null),l.a.createElement(re.a,null,l.a.createElement(Ae.a,{className:n.table,"aria-label":"custom pagination table"},l.a.createElement(Ce.a,null,l.a.createElement(Te.a,null,l.a.createElement(Le.a,null,"\u0646\u0627\u0645 \u0622\u0647\u0646\u06af"),l.a.createElement(Le.a,null,"\u0633\u0627\u0639\u062a"),l.a.createElement(Le.a,null,"\u062a\u0627\u0631\u06cc\u062e"),l.a.createElement(Le.a,null,"\u062f\u0642\u062a"))),l.a.createElement(Ie.a,null,(u>0?t.slice(i*u,i*u+u):t).map((function(e){return l.a.createElement(Te.a,{key:Object(P.a)()},0!==e.song.id?l.a.createElement(Le.a,null,l.a.createElement(oe.a,{to:"/lesson/".concat(e.song.id),color:"secondary",component:Y.a},e.song.name)):l.a.createElement(Le.a,null,l.a.createElement(oe.a,{to:"/guide",color:"secondary",component:Y.a},e.song.name)),l.a.createElement(Le.a,null,m(!1,e.time)),l.a.createElement(Le.a,null,m(e.date)),l.a.createElement(Le.a,null,l.a.createElement(z.a,{color:"secondary",label:e.progress,size:"small"})))})),f>0&&l.a.createElement(Te.a,{style:{height:57*f}},l.a.createElement(Le.a,{colSpan:6}))),l.a.createElement(Ge.a,null,l.a.createElement(Te.a,null,l.a.createElement(Ne.a,{className:n.toolbar,rowsPerPageOptions:{lower:[{label:"\u0647\u0645\u0647",value:-1}],low:[{label:"\u06f5",value:5},{label:"\u0647\u0645\u0647",value:-1}],average:[{label:"\u06f5",value:5},{label:"\u06f1\u06f0",value:10},{label:"\u0647\u0645\u0647",value:-1}],high:[{label:"\u06f5",value:5},{label:"\u06f1\u06f0",value:10},{label:"\u06f2\u06f5",value:25},{label:"\u0647\u0645\u0647",value:-1}],higher:[{label:"\u06f5",value:5},{label:"\u06f1\u06f0",value:10},{label:"\u06f2\u06f5",value:25},{label:"\u06f5\u06f0",value:50},{label:"\u0647\u0645\u0647",value:-1}]}[h],colSpan:4,count:t.length,rowsPerPage:u,page:i,SelectProps:{inputProps:{"aria-label":"row per page"},native:!0},onChangePage:function(e,t){o(t)},onChangeRowsPerPage:function(e){d(parseInt(e.target.value,10)),o(0)},ActionsComponent:Ue}))))))}var De=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e,t=null===(e=this.props.auth.user)||void 0===e?void 0:e.token;t&&this.props.getProfile(t)}},{key:"render",value:function(){var e=this.props.profile,t=e.profile;return e.loading?l.a.createElement(v.a,null):t?l.a.createElement(te.a,{maxWidth:!1,style:{paddingTop:"10px"}},l.a.createElement(F.a,{container:!0,spacing:3},l.a.createElement(F.a,{item:!0,lg:12,md:12,xl:12,xs:12},l.a.createElement(Fe,{res:t.meta.playtime})))):l.a.createElement("div",null,"not signed...")}}]),n}(l.a.Component),qe=Object(h.c)((function(e,t){return{profile:e.user.profile,auth:e.auth}}),(function(e,t){return{getProfile:Object(w.b)(Ee,e)}}))(De),He=Object(c.lazy)((function(){return Promise.all([n.e(23),n.e(22)]).then(n.bind(null,425))})),We=Object(c.lazy)((function(){return n.e(26).then(n.bind(null,422))})),Ke=Object(c.lazy)((function(){return n.e(21).then(n.bind(null,427))})),Ze=Object(c.lazy)((function(){return n.e(20).then(n.bind(null,429))})),Qe=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(25)]).then(n.bind(null,423))})),Xe=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(24)]).then(n.bind(null,428))})),Je=function(){return l.a.createElement(b.d,null,l.a.createElement(c.Suspense,{fallback:l.a.createElement(v.a,null)},l.a.createElement(b.b,{exact:!0,path:["/","/post"],component:H}),l.a.createElement(b.b,{exact:!0,path:"/learning",component:He}),l.a.createElement(b.b,{exact:!0,path:["/guide","/course","/exercise","/favorite","/lesson"],component:He}),l.a.createElement(b.b,{exact:!0,path:"/post/:id",component:We}),l.a.createElement(b.b,{exact:!0,path:"/guide/:id",component:Ke}),l.a.createElement(b.b,{exact:!0,path:["/course/:id","/guide/:id/course=:id"],component:Ze}),l.a.createElement(b.b,{exact:!0,path:["/lesson/:id","/course/:id/lesson=:id","/guide/:id/lesson=:id","/guide/:id/course=:id/lesson=:id"],component:Qe}),l.a.createElement(b.b,{exact:!0,path:["/exercise/:id","/course/:id/exercise=:id","/guide/:id/exercise=:id","/guide/:id/course=:id/exercise=:id"],component:Xe}),l.a.createElement(b.b,{exact:!0,path:"/login",component:fe}),l.a.createElement(b.b,{exact:!0,path:"/register",component:ve}),l.a.createElement(b.b,{exact:!0,path:"/lostpassword",component:me}),l.a.createElement(_,{exact:!0,path:"/dashboard",component:qe,isAllowed:!0,restrictedPath:"/dashboard",authenticationPath:"/login"}),l.a.createElement(b.b,{exact:!0,path:"/about",component:k})))},Ye=(n(277),n(392)),$e=n(402),et=n(403),tt=n(390),nt=n(283),at=n(215),rt=n(366),it=n(18),ot=n(181),st=n(197),ct=n(364),lt=n(363),ut=n(365),dt=Object(B.a)((function(e){return Object(M.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},divider:{margin:e.spacing(0,2)}})}));function ft(e){var t=e.lesson,n=e.modeChanger,a=dt();return l.a.createElement(ct.a,{position:"static",color:"default",className:a.root},l.a.createElement(lt.a,null,l.a.createElement(je.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:n},l.a.createElement(ut.a,null)),l.a.createElement(xe.a,{orientation:"vertical",flexItem:!0,className:a.divider}),l.a.createElement(N.a,{variant:"h6",color:"inherit",className:a.title},null===t||void 0===t?void 0:t.title)))}var ht=function(e){var t,n,a=e.Melo,r=e.drawGame;return l.a.createElement("canvas",{ref:function(e){return function(e){e&&a.gameLoading&&a.canvasSize&&r(e)}(e)},width:null===(t=a.canvasSize)||void 0===t?void 0:t.width,height:null===(n=a.canvasSize)||void 0===n?void 0:n.height,style:{position:"absolute",top:0,left:0,zIndex:2},onWheel:function(e){return Object(it.a)(e)}})},mt=function(e){var t,n,a=e.Melo;return l.a.createElement("canvas",{ref:function(e){return function(e){if(e&&a.canvasSize&&a.gameLoading){var t=e.getContext("2d");t.clearRect(0,0,a.canvasSize.width,a.canvasSize.height);var n=a.pianoSize,r=n?n.length-1:61,i=n?n[r].width:.5,o=a.canvasSize.height;null===n||void 0===n||n.forEach((function(e,n){t.beginPath();var a=e.left;"CF"===e.key||"last"===e.key?(t.moveTo(a,0),t.lineTo(a,o),t.lineWidth=i,t.strokeStyle="rgba(50,50,50,0.8)",t.stroke()):"black"===e.key&&(t.rect(a,0,e.width,o),t.fillStyle="rgba(0,0,0,0.4)",t.fill())}))}}(e)},width:null===(t=a.canvasSize)||void 0===t?void 0:t.width,height:null===(n=a.canvasSize)||void 0===n?void 0:n.height,style:{zIndex:1}})},pt=function(e){var t=e.width,n=e.baseLine;return l.a.createElement("svg",{width:t+7,height:n,onWheel:function(e){return Object(it.a)(e)},style:{bottom:0,left:-7,zIndex:3,position:"absolute",filter:"drop-shadow(rgba(0, 0, 0, 0.7) 0px 1px 1px)"}},l.a.createElement("style",null,"@keyframes draw{to{stroke-dashoffset:0}}"),l.a.createElement("polygon",{points:"0,0 10,8 0,16",fill:"red"}),l.a.createElement("line",{style:{strokeDasharray:t+7,strokeDashoffset:t+7,animation:"draw 1s linear forwards"},x1:0,y1:8,x2:t+7,y2:8,strokeWidth:2.5,stroke:"red"}))},gt=Object(h.c)((function(e){return{Melo:e.melodition}}),(function(e){return{drawGame:Object(w.b)(it.d,e)}}))((function(e){var t,n,a=e.Melo,r=e.drawGame;return l.a.createElement("div",{style:{width:null===(t=a.canvasSize)||void 0===t?void 0:t.width,height:null===(n=a.canvasSize)||void 0===n?void 0:n.height,position:"relative",boxShadow:"inset 0 1px 4px 0px black"}},l.a.createElement(ht,{Melo:a,drawGame:r}),l.a.createElement(mt,{Melo:a}),a.canvasSize&&l.a.createElement(pt,a.canvasSize))})),bt=n(182),vt=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).svgWidth=function(e){return 1===e?668:584},r.toggleDrawer=function(e){"keydown"!==e.type&&(r.state.list?r.setState({list:!1}):r.setState({list:!0}))},r.playmodeChanger=function(){r.props.changeMode(!1)},r.updateDimensions=function(){r.props.melodition.pianoLoading||r.props.resizePlayer()},r.state={list:!1},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.melodition,a=e.lesson;return l.a.createElement("div",{className:t.root},l.a.createElement(ft,{modeChanger:this.playmodeChanger,lesson:a}),n.playMode?l.a.createElement(F.a,{container:!0,className:t.main},l.a.createElement(F.a,{item:!0,xs:1},l.a.createElement(F.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:t.content},l.a.createElement(ot.a,{loading:n.loading}))),l.a.createElement(F.a,{item:!0,xs:10},l.a.createElement(F.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:t.content},l.a.createElement(F.a,{item:!0,xs:12},n.pianoLoading?l.a.createElement(v.a,{noPad:!0}):l.a.createElement(gt,null),l.a.createElement(bt.a,null)))),l.a.createElement(F.a,{item:!0,xs:1},l.a.createElement(F.a,{container:!0,direction:"column",justify:"space-around",alignItems:"center",className:t.content},l.a.createElement(st.a,null),l.a.createElement(je.a,{color:"secondary","aria-label":"play mode"},l.a.createElement(rt.a,null))))):l.a.createElement(F.a,{container:!0,className:t.main},l.a.createElement(v.a,null)))}}]),n}(c.Component),_t=Object(h.c)((function(e,t){return{history:e.router.location.pathname,classes:t.classes,melodition:e.melodition,theme:e.auth.theme,lesson:e.single.lesson.data,course:e.single.course.data}}),(function(e){return{changeMode:Object(w.b)(it.b,e),drawGame:Object(w.b)(it.d,e),drawPiano:Object(w.b)(it.g,e),resizePlayer:Object(w.b)(it.m,e)}}))(Object(D.a)((function(e){var t;return Object(M.a)({root:{width:"100vw",height:"100vh",overflow:"hidden",backgroundColor:e.palette.background.paper},main:(t={width:"100vw",overflow:"hidden",minHeight:"calc(100vh - 64px)"},Object(A.a)(t,e.breakpoints.down("xs"),{minHeight:"calc(100vh - 56px)"}),Object(A.a)(t,"display","flex"),t),content:{height:"100%",width:"100%",flexWrap:"nowrap"},doubleGrid:{flexWrap:"nowrap",width:"100%",maxWidth:"100%","& > div":{margin:"auto",padding:0,height:"100%"}},centerText:{textAlign:"center"},loading:{display:"flex",height:"83%",boxShadow:"inset 0 1px 4px 0px black"}})}))(vt)),yt=function(e){return{type:O.b,key:e}},Et=[],Ot=Object(h.c)((function(e){return{snackbars:e.snackbar.snackbars}}),(function(e){return{removeSnack:Object(w.b)(yt,e)}}))((function(e){var t=e.snackbars,n=e.removeSnack,a=Object(p.b)(),r=a.enqueueSnackbar,i=a.closeSnackbar;return Object(c.useEffect)((function(){null===t||void 0===t||t.forEach((function(e){var t,a=e.key,o=e.message,c=e.options,l=void 0===c?{}:c,u=e.dismissed;void 0!==u&&u?i(a):Et.includes(a)||(r(o,Object(j.a)(Object(j.a)({key:a},l),{},{onClose:function(e,t,n){l.onClose&&l.onClose(e,t,n)},onExited:function(e,t){var a;n&&n(String(t)),a=String(t),Et=Object(s.a)(Et.filter((function(e){return a!==e})))}})),t=a,Et=[].concat(Object(s.a)(Et),[t]))}))}),[t,i,r,n]),null})),St=n(396),kt=n(367),jt=n(368),wt=n(369),xt=n(370),At=n(371),Ct=n(372),Tt=Object(B.a)((function(e){return Object(M.a)({bracrumbs:{padding:e.spacing(1,2,0,2),"& > ol > li":{padding:e.spacing(1,.5)}},back:{margin:e.spacing(0,2)}})})),Lt={post:l.a.createElement(kt.a,null),guide:l.a.createElement(jt.a,null),course:l.a.createElement(wt.a,null),lesson:l.a.createElement(xt.a,null),exercise:l.a.createElement(At.a,null),favorite:l.a.createElement(Ct.a,null)},It=Object(h.c)((function(e,t){return{pathname:e.router.location.pathname,single:e.single}}),(function(e){return{push:Object(w.b)(C.f,e),back:Object(w.b)(C.d,e)}}))((function(e){var t=e.single,n=e.pathname,a=e.push,r=e.back,i=Object(c.useState)([]),o=Object(y.a)(i,2),s=o[0],u=o[1],d=Object(c.useState)(!1),f=Object(y.a)(d,2),h=f[0],m=f[1],p=Tt();Object(c.useEffect)((function(){var e=Object(P.d)(n),a=Object.keys(e),r=[];return a.forEach((function(e,i){var o,s=t[a[i-1]],c=null===s||void 0===s||null===(o=s.data)||void 0===o?void 0:o.title,l=0===i?Lt[e]:c||"...";r[i]={url:n.split("/").slice(0,i+2).join("/"),name:l}})),e.length>0&&(m(!0),u(r)),function(){m(!1)}}),[n,t]);var g=function(e){e.preventDefault(),a(e.currentTarget.pathname)};return h?l.a.createElement(ct.a,{position:"static"},l.a.createElement(at.a,{square:!0,style:{overflow:"hidden"}},l.a.createElement(lt.a,{disableGutters:!0},l.a.createElement(je.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:r,className:p.back},l.a.createElement(ut.a,null)),l.a.createElement(xe.a,{orientation:"vertical",flexItem:!0}),l.a.createElement(St.a,{"aria-label":"breadcrumb",className:p.bracrumbs},s.map((function(e,t){return l.a.createElement(oe.a,{key:t+e.name,href:e.url,color:"inherit","aria-label":e.name,onClick:g},e.name)})))))):null})),Gt=n(211),Nt=n(167),Rt=n(166),Bt=n(165),Mt=n(159),Pt=Object(Gt.a)({direction:"rtl",typography:{fontFamily:"Vazir"},overrides:{MuiBreadcrumbs:{root:{width:"calc(100vw - 64px)"},ol:{flexWrap:"nowrap",overflowX:"scroll",scrollbarWidth:"none",whiteSpace:"nowrap","&::-webkit-scrollbar":{display:"none"}}},MuiCardActions:{root:{padding:void 0}},MuiCssBaseline:{"@global":{"*":{scrollbarWidth:"thin",scrollbarColor:"rgb(245, 0, 87) #0000"},"*::-webkit-scrollbar":{width:"10px"},"*::-webkit-scrollbar-track":{"-webkit-border-radius":"10px",borderRadius:"8px"},"*::-webkit-scrollbar-thumb":{"-webkit-border-radius":"10px",borderRadius:"10px",background:"rgb(245, 0, 87)"},"*::-webkit-scrollbar-thumb:window-inactive":{background:"rgb(245, 0, 87)"}}},MuiIconButton:{colorSecondary:{"&:hover":{backgroundColor:"rgb(200 200 200 / 0.5)"}}}}}),Vt=Object(Gt.a)(Object(j.a)(Object(j.a)({},Pt),{},{palette:{type:"dark",primary:Nt.a,error:Rt.a,secondary:{main:Bt.a[300]}}}),Mt.faIR),Ut=Object(Gt.a)(Object(j.a)(Object(j.a)({},Pt),{},{palette:{error:Rt.a}}),Mt.faIR),zt=n(210),Ft=n.n(zt),Dt=n(374),qt=n(375),Ht=n(376),Wt=n(377),Kt=n(373),Zt=Object(B.a)((function(e){return Object(M.a)({sectionDesktop:Object(A.a)({display:"none"},e.breakpoints.up("sm"),{display:"flex"}),sectionMobile:Object(A.a)({display:"flex"},e.breakpoints.up("sm"),{display:"none"})})})),Qt=function(e){var t=Zt(),n=e.state,a=n.menuId,r=n.mobileMenuId,i=function(t){e.dispatch({type:"profile-anchor",payload:t.currentTarget})};return e.loggedIn?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:t.sectionDesktop},l.a.createElement(je.a,{"aria-label":"show 4 new mails",color:"inherit"},l.a.createElement(Kt.a,{badgeContent:4,color:"secondary"},l.a.createElement(Dt.a,null))),l.a.createElement(je.a,{"aria-label":"show 17 new alerts",color:"inherit"},l.a.createElement(Kt.a,{badgeContent:17,color:"secondary"},l.a.createElement(qt.a,null))),l.a.createElement(je.a,{edge:"end","aria-label":"account of current user","aria-controls":a,"aria-haspopup":"true",onClick:i,color:"inherit"},l.a.createElement(Ht.a,null))),l.a.createElement("div",{className:t.sectionMobile},l.a.createElement(je.a,{"aria-label":"show more","aria-controls":r,"aria-haspopup":"true",onClick:function(t){e.dispatch({type:"mobile-anchor",payload:t.currentTarget})},color:"inherit"},l.a.createElement(Wt.a,null)))):l.a.createElement(je.a,{edge:"end","aria-label":"account of current user","aria-controls":a,"aria-haspopup":"true",onClick:i,color:"inherit"},l.a.createElement(Ht.a,null))},Xt=n(216),Jt=n(209),Yt=n.n(Jt),$t=n(8),en=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handleOnInputChange=function(e){var t=e.target.value;r.setState({query:t,loading:!0})},r.fetchSearchResult=function(){},r.state={query:"",results:{},loading:!1,message:""},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state.query;return l.a.createElement("div",{className:t.search},l.a.createElement("div",{className:t.searchIcon},l.a.createElement(Yt.a,null)),l.a.createElement(Xt.a,{placeholder:"\u062c\u0633\u062a\u062c\u0648...",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"},type:"text",value:n,onChange:function(t){return e.handleOnInputChange(t)}}))}}]),n}(l.a.Component),tn=Object(D.a)((function(e){var t;return Object(M.a)({search:Object(A.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object($t.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object($t.c)(e.palette.common.white,.25)},width:"100%",marginLeft:e.spacing(1)},e.breakpoints.up(420),{width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",top:0,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},inputRoot:{color:"inherit"},inputInput:(t={padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"0","&:focus":{width:"12ch"}},Object(A.a)(t,e.breakpoints.down(420),{width:"7ch"}),Object(A.a)(t,e.breakpoints.down(350),{width:"0"}),t)})}))(en),nn=n(212),an=n(362),rn=n(378),on=function(e){var t=e.state,n=t.mobileMenuId,a=t.mobileMoreAnchor,r=Boolean(a),i=function(){e.dispatch({type:"mobile-close"})};return e.loggedIn?l.a.createElement(nn.a,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},id:n,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:r,onClose:i},l.a.createElement(an.a,null,l.a.createElement(je.a,{"aria-label":"show 4 new mails",color:"inherit"},l.a.createElement(Kt.a,{badgeContent:4,color:"secondary"},l.a.createElement(rn.a,null))),l.a.createElement("p",null,"Messages")),l.a.createElement(an.a,null,l.a.createElement(je.a,{"aria-label":"show 11 new alerts",color:"inherit"},l.a.createElement(Kt.a,{badgeContent:11,color:"secondary"},l.a.createElement(qt.a,null))),l.a.createElement("p",null,"Notification")),l.a.createElement(an.a,{onClick:function(t){e.dispatch({type:"profile-anchor",payload:t.currentTarget})}},l.a.createElement(je.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},l.a.createElement(Ht.a,null)),l.a.createElement("p",null,"Account")),l.a.createElement(an.a,{onClick:function(){i(),e.logout&&e.logout()}},l.a.createElement(je.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},l.a.createElement(Ht.a,null)),l.a.createElement("p",null,"Sign Out"))):l.a.createElement(nn.a,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},id:n,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:r,onClose:i},l.a.createElement(oe.a,{to:"/login",component:Y.a,color:"secondary"},l.a.createElement(an.a,{onClick:i},l.a.createElement(je.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},l.a.createElement(Ht.a,null)),l.a.createElement("p",null,"\u0648\u0631\u0648\u062f"))),l.a.createElement(oe.a,{to:"/register",component:Y.a,color:"secondary"},l.a.createElement(an.a,{onClick:i},l.a.createElement(je.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},l.a.createElement(Ht.a,null)),l.a.createElement("p",null,"\u062b\u0628\u062a \u0646\u0627\u0645"))))},sn=n(379),cn=n(380),ln=n(381),un=n(382),dn=n(383),fn={in:[{name:"\u067e\u0631\u0648\u0641\u0627\u06cc\u0644",to:"/profile",icon:l.a.createElement(sn.a,null)},{name:"\u06a9\u0627\u0628\u0631\u06cc \u0645\u0646",to:"/dashboard",icon:l.a.createElement(cn.a,null)}],out:[{name:"\u0648\u0631\u0648\u062f",to:"/login",icon:l.a.createElement(cn.a,null)},{name:"\u062b\u0628\u062a \u0646\u0627\u0645",to:"/register",icon:l.a.createElement(cn.a,null)}]},hn=[{to:"/",title:"\u062e\u0627\u0646\u0647\u200c",icon:l.a.createElement(ln.a,null)},{to:"/learning",title:"\u062f\u0631\u0633 \u0647\u0627\u200c",icon:l.a.createElement(un.a,null)},{to:"/about",title:"\u062f\u0631\u0628\u0627\u0631\u0647\u200c",icon:l.a.createElement(dn.a,null)}],mn=function(e){var t=e.loggedIn,n=e.state,a=e.logout,r=e.dispatch,i=n.profileMoreAnchor,o=n.menuId,s=Boolean(i),c=function(){r({type:"profile-close"})},u=t?fn.in:fn.out;return l.a.createElement(nn.a,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},id:o,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:s,onClose:c},u.map((function(e,t){return l.a.createElement(oe.a,{to:e.to,key:"menuitem-"+t,onClick:c,component:Y.a,color:"secondary"},l.a.createElement(an.a,{onClick:c},e.name))})),t&&l.a.createElement(an.a,{onClick:function(){a&&a(),c()}},"\u062e\u0631\u0648\u062c"))},pn=n(397),gn=n(345),bn=n(384),vn=n(385),_n=n(386),yn=n(387),En=n(289),On=n(388),Sn=n(389),kn=Object(B.a)((function(e){return Object(M.a)({root:{display:"flex"},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(j.a)(Object(j.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-start"}),toolbar:Object(j.a)({display:"flex",alignItems:"center",justifyContent:"space-between",padding:e.spacing(0,1,0,4)},e.mixins.toolbar)})}));function jn(e){var t=e.state,n=e.loggedIn,a=e.theme,r=e.changeTheme,i=e.dispatch,o=kn(),s=Object(ke.a)().direction,c=function(){i({type:"menu-toggle"})},u=n?fn.in:fn.out;return l.a.createElement("div",{className:o.root},l.a.createElement(ne.a,null),l.a.createElement(pn.a,{className:o.drawer,variant:"temporary",anchor:"ltr"===s?"right":"left",open:t.menuIsOpen,onClose:c,classes:{paper:o.drawerPaper}},l.a.createElement("div",{className:o.toolbar},l.a.createElement(je.a,{color:"inherit","aria-label":"open drawer",onClick:function(){r("light"===a?"dark":"light")},edge:"start"},"light"===a?l.a.createElement(bn.a,null):l.a.createElement(vn.a,null)),l.a.createElement(je.a,{onClick:c},"ltr"===s?l.a.createElement(_n.a,null):l.a.createElement(yn.a,null))),l.a.createElement(xe.a,null),l.a.createElement(gn.a,null,hn.map((function(e,t){return l.a.createElement(oe.a,{to:e.to,key:"sidelink-"+t,onClick:c,component:Y.a,color:"secondary"},l.a.createElement(En.a,{button:!0},l.a.createElement(On.a,null,e.icon),l.a.createElement(Sn.a,{primary:e.title})))}))),l.a.createElement(xe.a,null),l.a.createElement(gn.a,null,u.map((function(e,t){return l.a.createElement(oe.a,{to:e.to,key:"sidelink-"+t,onClick:c,component:Y.a,color:"secondary"},l.a.createElement(En.a,{button:!0},l.a.createElement(On.a,null,e.icon),l.a.createElement(Sn.a,{primary:e.name})))})))))}var wn=n(335),xn=Object(B.a)((function(e){var t;return Object(M.a)({root:(t={display:"none"},Object(A.a)(t,e.breakpoints.up(420),{marginLeft:e.spacing(1),display:"inline-block"}),Object(A.a)(t,e.breakpoints.up("sm"),{marginLeft:e.spacing(2),display:"inline-block"}),Object(A.a)(t,e.breakpoints.up("md"),{marginLeft:e.spacing(4),display:"inline-block"}),Object(A.a)(t,e.breakpoints.up("lg"),{marginLeft:e.spacing(8),display:"inline-block"}),t),linkKeeper:{overflow:"hidden",height:"1.2em",lineHeight:"1.2em"},links:{textAlign:"center",flexGrow:1}})})),An=function(e){var t=e.openStatus,n=xn();return l.a.createElement(wn.a,{in:!t,className:n.links},l.a.createElement("div",{className:n.linkKeeper},hn.map((function(e,t){return l.a.createElement(oe.a,{key:"link-"+t,to:e.to,className:n.root,component:Y.a,color:"secondary"},e.title)}))))},Cn=Object(B.a)((function(e){return Object(M.a)({appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},hide:{display:"none"},menuButton:{marginRight:e.spacing(2)}})})),Tn=function(e){var t=Cn(),n=e.state.menuIsOpen;return l.a.createElement(ct.a,{color:"default",position:"relative",className:Object(Se.a)(t.appBar,Object(A.a)({},t.appBarShift,n))},l.a.createElement(lt.a,null,l.a.createElement(je.a,{color:"inherit","aria-label":"open drawer",onClick:function(){e.dispatch({type:"menu-toggle"})},edge:"start",className:Object(Se.a)(t.menuButton,Object(A.a)({},t.hide,n))},l.a.createElement(Ft.a,null)),l.a.createElement(oe.a,{component:Y.a,color:"secondary",to:"/"},"\u0645\u0644\u0648\u062f\u06cc\u0634\u0646"),l.a.createElement("p",{onClick:function(){return sessionStorage.clear()}},"(","0.5.7",")"),l.a.createElement(An,{openStatus:n}),l.a.createElement(tn,null),l.a.createElement(Qt,e)),l.a.createElement(jn,e),l.a.createElement(on,e),l.a.createElement(mn,e))},Ln={menuId:"primary-search-account-menu",mobileMenuId:"primary-search-account-menu-mobile",profileMoreAnchor:null,mobileMoreAnchor:null,menuIsOpen:!1};function In(e,t){switch(t.type){case"field":return Object(j.a)(Object(j.a)({},e),{},Object(A.a)({},t.fieldName,t.payload));case"menu-toggle":return Object(j.a)(Object(j.a)({},e),{},{menuIsOpen:!e.menuIsOpen});case"profile-close":return Object(j.a)(Object(j.a)({},e),{},{profileMoreAnchor:null});case"mobile-close":return Object(j.a)(Object(j.a)({},e),{},{mobileMoreAnchor:null});case"mobile-anchor":return Object(j.a)(Object(j.a)({},e),{},{mobileMoreAnchor:t.payload});case"profile-anchor":return Object(j.a)(Object(j.a)({},e),{},{profileMoreAnchor:t.payload});default:return e}}var Gn=Object(h.c)((function(e){var t=e.auth;return{loggedIn:t.loggedIn,theme:t.theme}}),(function(e){return{logout:Object(w.b)(ue.c,e),changeTheme:Object(w.b)(ue.a,e)}}))((function(e){var t=Object.assign({},e),n=Object(c.useReducer)(In,Ln),a=Object(y.a)(n,2),r=a[0],i=a[1];return l.a.createElement(Tn,Object.assign({state:r,dispatch:i},t))})),Nn=n(134),Rn=Object(u.b)({plugins:[].concat(Object(s.a)(Object(Ye.a)().plugins),[f()()])}),Bn=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){"undefined"===typeof window.orientation&&Object(Nn.b)()}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.playMode,a=e.classes,r="light"===t?Ut:Vt,i=Object($e.a)(r);return l.a.createElement(m.a,{history:g.a},l.a.createElement(et.b,{jss:Rn},l.a.createElement(tt.a,{theme:i},l.a.createElement(p.a,null,l.a.createElement(nt.a,{direction:"right",in:n,mountOnEnter:!0,unmountOnExit:!0},l.a.createElement(at.a,null,l.a.createElement(_t,null))),l.a.createElement(re.a,{className:a.app},l.a.createElement(Gn,null),l.a.createElement(It,null),l.a.createElement(Ot,null),l.a.createElement(re.a,{id:"main-body",className:a.mainBody},l.a.createElement(Je,null)))))))}}]),n}(c.Component),Mn=Object(h.c)((function(e,t){return{theme:e.auth.theme,playMode:e.melodition.playMode,classes:t.classes}}),{})(Object(D.a)((function(e){return Object(M.a)({app:{width:"100vw",height:"100vh",overflowX:"hidden",display:"flex",flexDirection:"column",overflow:"hidden"},mainBody:{height:"inherit",overflowX:"hidden",overflowY:"auto"}})}))(Bn)),Pn=n(16);Object(Pn.render)(l.a.createElement(h.a,{store:g.b},l.a.createElement(Mn,null)),document.getElementById("root"))},30:function(e,t,n){"use strict";n.d(t,"a",(function(){return ne})),n.d(t,"b",(function(){return ae}));var a=n(55),r=n(203),i=n(10),o=n(187),s=n(66),c=n(3),l=n(27),u=n(56),d=Object(u.c)("user"),f="dark"===localStorage.getItem("theme")?"dark":"light",h=d?{loggedIn:!0,loading:!1,user:d,theme:f}:{loggedIn:!1,loading:!1,theme:f};function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.c:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case l.d:return Object(c.a)(Object(c.a)({},e),{},{loggedIn:!0,loading:!1,user:t.user});case l.b:return Object(c.a)(Object(c.a)({},e),{},{loading:!1});case l.i:return Object(c.a)(Object(c.a)({},e),{},{loggedIn:!1,loading:!0});case l.j:case l.h:return Object(c.a)(Object(c.a)({},e),{},{loading:!1});case l.f:return Object(c.a)(Object(c.a)({},e),{},{loggedIn:!1,loading:!0});case l.g:case l.e:return Object(c.a)(Object(c.a)({},e),{},{loading:!1});case l.k:return Object(c.a)(Object(c.a)({},e),{},{loggedIn:!1,loading:!1});case l.a:return localStorage.setItem("theme",t.theme),Object(c.a)(Object(c.a)({},e),{},{theme:t.theme});default:return e}}var p=n(77),g={loading:!0};function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.d:return{loading:!0,profile:t.userData};case p.b:return e;case p.c:return{loading:!1,profile:t.profile};case p.a:return{loading:!1,error:t.error};default:return e}}var v=n(148),_={data:[],loading:!0,error:"Not Found",nextLoad:0},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.b:return e;case v.c:return Object(c.a)(Object(c.a)({},e),{},{nextLoad:t.payload.nextLoad,data:t.payload.data,loading:!1});case v.a:return{data:[],error:t.error,nextLoad:0,loading:!1};default:return e}},E=n(74),O=n(38),S={snackbars:[]},k=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case O.c:return Object(c.a)(Object(c.a)({},n),{},{snackbars:[].concat(Object(E.a)(n.snackbars),[Object(c.a)({},a.snackbar)])});case O.a:return Object(c.a)(Object(c.a)({},n),{},{snackbars:null===(e=n.snackbars)||void 0===e?void 0:e.map((function(e){return a.dismissAll||e.key===a.key?Object(c.a)(Object(c.a)({},e),{},{dismissed:!0}):Object(c.a)({},e)}))});case O.b:return Object(c.a)(Object(c.a)({},n),{},{snackbars:null===(t=n.snackbars)||void 0===t?void 0:t.filter((function(e){return e.key!==a.key}))});default:return n}},j=n(21),w={fingerLoading:!0,notesLoading:!0,pianoLoading:!0,gameLoading:!0,seekLoading:!0,loading:!0},x=Object(c.a)(Object(c.a)({},w),{},{playMode:!1,noteMode:!1,octave:5,songLength:272,tapSize:32}),A=JSON.parse(JSON.stringify(x)),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.j:return Object(c.a)(Object(c.a)(Object(c.a)({},e),t.payload),{},{loading:!1});case j.c:case j.e:return Object(c.a)(Object(c.a)(Object(c.a)({},e),t.payload),{},{pianoLoading:!1});case j.b:return Object(c.a)(Object(c.a)({},e),{},{gameLoading:!1});case j.a:return Object(c.a)(Object(c.a)({},e),{},{fingerLoading:!1});case j.d:return Object(c.a)(Object(c.a)({},e),{},{notesLoading:!1});case j.f:return Object(c.a)(Object(c.a)({},e),{},{seekLoading:!1});case j.g:return Object(c.a)(Object(c.a)({},e),{},{noteMode:!0});case j.h:return Object(c.a)(Object(c.a)(Object(c.a)({},e),w),{},{loading:!1,playMode:!0,canvasSize:void 0});case j.i:return Object(c.a)(Object(c.a)(Object(c.a)({},e),w),{},{loading:!1,playMode:!1});case j.l:return Object(c.a)(Object(c.a)({},e),{},{pianoLoading:!0,gameLoading:!0,notesLoading:!0});case j.k:return A;default:return e}},T=n(50),L={data:[],loading:!0,error:"Not Found",nextLoad:0},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.d:return e;case T.f:return Object(c.a)(Object(c.a)({},e),{},{data:t.payload.data,nextLoad:t.payload.nextLoad,loading:!1});case T.b:return{data:[],error:t.error,nextLoad:0,loading:!1};default:return e}},G={loading:!0,error:"Not Found"},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.c:return Object(c.a)(Object(c.a)({},e),{},{loading:!0,data:void 0});case T.e:return t.data,Object(c.a)(Object(c.a)({},e),{},{data:t.data,loading:!1});case T.a:return Object(c.a)(Object(c.a)({},e),{},{error:t.error,loading:!1});default:return e}},R=n(84),B={data:[],loading:!0,error:"Not Found",nextLoad:0},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.d:return e;case R.g:return Object(c.a)(Object(c.a)({},e),{},{data:t.payload.data,nextLoad:t.payload.nextLoad,loading:!1});case R.e:var n=!1;return e.data.length&&(n=t.data.every((function(t){return e.data.map((function(e){return e.id===t.id}))}))),Object(c.a)(Object(c.a)({},e),{},{data:n?e.data:t.data});case R.b:return{data:[],error:t.error,nextLoad:0,loading:!1};default:return e}},P={loading:!0,error:"Not Found"},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.c:return Object(c.a)(Object(c.a)({},e),{},{loading:!0,data:void 0});case R.f:return Object(c.a)(Object(c.a)({},e),{},{data:t.data,loading:!1});case R.a:return Object(c.a)(Object(c.a)({},e),{},{error:t.error,loading:!1});default:return e}},U=n(82),z={data:[],loading:!0,error:"Not Found",nextLoad:0},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U.d:return e;case U.g:return Object(c.a)(Object(c.a)({},e),{},{data:t.payload.data,nextLoad:t.payload.nextLoad,loading:!1});case U.e:var n=!1;return e.data.length&&(n=t.data.every((function(t){return e.data.map((function(e){return e.id===t.id}))}))),Object(c.a)(Object(c.a)({},e),{},{data:n?e.data:t.data});case U.b:return{data:[],error:t.error,nextLoad:0,loading:!1};default:return e}},D={loading:!0,error:"Not Found"},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U.c:return Object(c.a)(Object(c.a)({},e),{},{loading:!0,data:void 0});case U.f:return Object(c.a)(Object(c.a)({},e),{},{data:t.data,loading:!1});case U.a:return Object(c.a)(Object(c.a)({},e),{},{error:t.error,loading:!1});default:return e}},H=n(83),W={data:[],loading:!0,error:"Not Found",nextLoad:0},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H.d:return e;case H.g:return Object(c.a)(Object(c.a)({},e),{},{data:t.payload.data,nextLoad:t.payload.nextLoad,loading:!1});case H.e:var n=!1;return e.data.length&&(n=t.data.every((function(t){return e.data.map((function(e){return e.id===t.id}))}))),Object(c.a)(Object(c.a)({},e),{},{data:n?e.data:t.data});case H.b:return{data:[],nextLoad:0,error:t.error,loading:!1};default:return e}},Z={loading:!0,error:"Not Found"},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H.c:return Object(c.a)(Object(c.a)({},e),{},{loading:!0,data:void 0});case H.f:return void 0===t.data?Object(c.a)(Object(c.a)({},e),{},{loading:!1}):Object(c.a)(Object(c.a)({},e),{},{data:t.data,loading:!1});case H.a:return Object(c.a)(Object(c.a)({},e),{},{error:t.error,loading:!1});default:return e}},X=n(80),J={data:[],loading:!0,error:"Not Found",nextLoad:0},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X.d:return e;case X.g:return Object(c.a)(Object(c.a)({},e),{},{data:t.payload.data,nextLoad:t.payload.nextLoad,loading:!1});case X.e:var n=!1;return e.data.length&&(n=t.data.every((function(t){return e.data.map((function(e){return e.id===t.id}))}))),Object(c.a)(Object(c.a)({},e),{},{data:n?e.data:t.data});case X.b:return{data:[],error:t.error,nextLoad:0,loading:!1};default:return e}},$={loading:!0,error:"Not Found"},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X.c:return Object(c.a)(Object(c.a)({},e),{},{loading:!0,data:void 0});case X.f:return t.data,Object(c.a)(Object(c.a)({},e),{},{data:t.data,loading:!1});case X.a:return Object(c.a)(Object(c.a)({},e),{},{error:t.error,loading:!1});default:return e}},te=function(e){return Object(i.c)({router:Object(s.b)(e),single:Object(i.c)({post:N,guide:V,course:Q,lesson:q,exercise:ee}),bank:Object(i.c)({posts:I,guides:M,courses:K,lessons:F,exercises:Y}),melodition:C,user:Object(i.c)({profile:b,favorites:y}),snackbar:k,auth:m})},ne=Object(a.a)(),ae=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d;return Object(i.e)(te(ne),e,t(Object(i.a)(Object(o.a)(ne),r.a)))}()},38:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var a="SHOW_SNACKBAR",r="CLEAR_SNACKBAR",i="REMOVE_SNACKBAR"},39:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return g}));var a=n(0),r=n.n(a),i=n(288),o=n(30),s=n(26),c=n(283),l=n(286),u=n(287),d=n(179),f=n(56),h=n(38),m=function(e,t){var n,a,r,i,s=e;("string"!==typeof e&&(s=null===(n=e.response)||void 0===n?void 0:n.data.message.toString()),s)&&(t&&o.b.dispatch({type:t,error:s}),(null===(r=e.response)||void 0===r?void 0:r.data.button)&&(a=null===(i=e.response)||void 0===i?void 0:i.data.button),o.b.dispatch({type:h.c,snackbar:g(s,"error",a)}))},p=function(e,t){var n,a=e;"string"!==typeof e&&(a=null===(n=e.response)||void 0===n?void 0:n.data.message.toString()),t&&o.b.dispatch({type:t,error:a}),o.b.dispatch({type:h.c,snackbar:g(a,"success")})},g=function(e,t,n){return{message:e.replace(/<[^>]+>/g,""),key:Object(f.a)(),options:{TransitionComponent:function(e){return r.a.createElement(c.a,Object.assign({},e,{direction:"left"}))},anchorOrigin:{horizontal:"left",vertical:"bottom"},variant:t,autoHideDuration:"error"===t?null:5e3,action:function(e){return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(l.a,{to:n.url,component:s.a},r.a.createElement(u.a,{color:"primary"},n.msg)),r.a.createElement(d.a,{style:{borderRadius:5},color:"inherit",size:"small","aria-label":"close",component:"span",onClick:function(){return o.b.dispatch({type:h.a,dismissAll:!e,key:e})}},r.a.createElement(i.a,null)))}}}}},50:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return c}));var a="REQUEST_POSTS",r="SUCCESS_POSTS",i="FAILURE_POSTS",o="REQUEST_POST",s="SUCCESS_POST",c="FAILURE_POST"},51:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var a=n(177),r=n.n(a),i=n(30),o=n(64),s=r.a.create({baseURL:"https://panel.melodition.com/wp-json",headers:function(){var e=localStorage.getItem("user"),t=e?JSON.parse(e):null;return(null===t||void 0===t?void 0:t.token)?{Authorization:"Bearer "+t.token}:{}}()});s.interceptors.response.use((function(e){return e}),(function(e){return console.log(e),403===e.response.status&&(/invalid_token/.test(e.response.data.code)?i.b.dispatch(Object(o.c)()):/incorrect_password/.test(e.response.data.code)&&(e.response.data.button={url:"/lostpassword",msg:"\u0628\u0627\u0632\u06cc\u0627\u0628\u06cc \u0631\u0645\u0632"})),Promise.reject(e)}));var c=r.a.create({method:"get",responseType:"arraybuffer"})},56:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return d}));var a=n(14),r=n(204),i=n.n(r),o=function(e){var t,n=e.split("/"),r={length:0};if(3===n.length)t={},Object(a.a)(t,n[1],Number(n[2])),Object(a.a)(t,"length",1),r=t;else if(4===n.length){var i,o=n[3].split("=");i={},Object(a.a)(i,n[1],Number(n[2])),Object(a.a)(i,o[0],Number(o[1])),Object(a.a)(i,"length",2),r=i}else if(5===n.length){var s,c=n[3].split("="),l=n[4].split("=");s={},Object(a.a)(s,n[1],Number(n[2])),Object(a.a)(s,c[0],Number(c[1])),Object(a.a)(s,l[0],Number(l[1])),Object(a.a)(s,"length",3),r=s}return r},s=function(e){var t=localStorage.getItem(e);return null!==t?JSON.parse(t):void 0},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new Date,n=t.getTime(),a=6e4*e;return n+a},l=function(){return c(Math.random()).toString(36)},u=function(e){var t=i.a;return e&&("object"===typeof e?t=e.medium:"string"===typeof e&&(t=e)),t},d=["","\u0634\u0631\u0648\u0639","\u0628\u062e\u0634 \u0627\u0648\u0644","\u0628\u062e\u0634 \u062f\u0648\u0645","\u0628\u062e\u0634 \u0633\u0648\u0645","\u0628\u062e\u0634 \u0686\u0647\u0627\u0631\u0645","\u0628\u062e\u0634 \u067e\u0646\u062c\u0645","\u0628\u062e\u0634 \u0634\u0634\u0645","\u0628\u062e\u0634 \u0647\u0641\u062a\u0645","\u0628\u062e\u0634 \u0647\u0634\u062a\u0645","\u0628\u062e\u0634 \u0646\u0647\u0645","\u0628\u062e\u0634 \u062f\u0647\u0645"]},64:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return f}));var a=n(31),r=n(27),i=n(38),o=n(39),s=n(51),c=function(e){return function(t){t({type:r.c}),s.a.post("/jwt-auth/v1/token",e).then((function(e){t({type:r.d,user:e.data}),localStorage.setItem("user",JSON.stringify(e.data)),s.a.defaults.headers.common={Authorization:"Bearer "+e.data.token},t(Object(a.d)()),t({type:i.c,snackbar:Object(o.c)("".concat(e.data.user_display_name," logged in successfully."),"success")})})).catch((function(e){return Object(o.a)(e,r.b)}))}},l=function(e){return function(t){t({type:r.a,theme:e})}},u=function(){return function(e){localStorage.removeItem("user"),s.a.defaults.headers.common={},e(Object(a.c)(0)),e({type:r.k})}},d=function(e){return function(t){t({type:r.i}),s.a.post("/jwt-auth/v1/register",e).then((function(e){t({type:r.j,user:e.data}),t(Object(a.f)("/login")),t({type:i.c,snackbar:Object(o.c)(e.data.message,"success")})})).catch((function(e){return Object(o.a)(e,r.h)}))}},f=function(e){return function(t){t({type:r.f}),s.a.post("/jwt-auth/v1/lostpassword",e).then((function(e){var n=e.data.message.toString();t({type:r.g,message:n}),t(Object(a.f)("/login")),t({type:i.c,snackbar:Object(o.c)(n,"success")})})).catch((function(e){Object(o.a)(e,r.e)}))}}},73:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),r=n.n(a),i=n(284),o=n(293),s=n(285),c=Object(i.a)((function(e){return Object(o.a)({loading:{display:"flex",height:"83%",boxShadow:"inset 0 1px 4px 0px black"},loadingPad:{display:"flex",width:"100vw",minHeight:"calc(100vh - 300px)",overflow:"hidden"}})})),l=function(e){var t=e.noPad,n=c();return r.a.createElement("div",{className:t?n.loading:n.loadingPad},r.a.createElement(s.a,{color:"secondary",style:{margin:"auto"}}))}},77:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o}));var a="PROFILE_INFO_REQUEST",r="PROFILE_INFO_SUCCESS",i="PROFILE_INFO_FAILURE",o="SAVE_PROFILE"},80:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"g",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return l}));var a="REQUEST_EXERCISES",r="SUCCESS_EXERCISES",i="FAILURE_EXERCISES",o="SAVE_EXERCISES",s="REQUEST_EXERCISE",c="SUCCESS_EXERCISE",l="FAILURE_EXERCISE"},82:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"g",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return l}));var a="REQUEST_LESSONS",r="SUCCESS_LESSONS",i="FAILURE_LESSONS",o="SAVE_LESSONS",s="REQUEST_LESSON",c="SUCCESS_LESSON",l="FAILURE_LESSON"},83:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"g",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return l}));var a="REQUEST_COURSES",r="SUCCESS_COURSES",i="FAILURE_COURSES",o="SAVE_COURSES",s="REQUEST_COURSE",c="SUCCESS_COURSE",l="FAILURE_COURSE"},84:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"g",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return l}));var a="REQUEST_GUIDES",r="SUCCESS_GUIDES",i="FAILURE_GUIDES",o="SAVE_GUIDES",s="REQUEST_GUIDE",c="SUCCESS_GUIDE",l="FAILURE_GUIDE"}},[[248,18,19]]]);
//# sourceMappingURL=main.ba833c58.chunk.js.map