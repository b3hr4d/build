{"version":3,"sources":["_types/favorite.types.ts","_actions/post.actions.ts","components/Layout/Player/Buttons.tsx","components/Layout/Player/SeekBar.tsx","components/Layout/Instruments/Finger/SvgKeys.ts","components/Layout/Instruments/Piano/Piano.tsx","assets/img/melodition.jpg","plugin/Melodition/Song.ts","plugin/Melodition/WebAudio.ts","_helpers/playerApi.ts","_actions/player.actions.ts","_helpers/midiContext.ts","plugin/Game/Canvas.ts","plugin/Game/Game.ts","plugin/Melodition/Melodition.ts","_helpers/pianoSizes.ts","_types/user.types.ts","assets/sounds lazy /^/default_drum_0.*$/ groupOptions: {} namespace object","assets/sounds lazy /^/default_tone_0.*$/ groupOptions: {} namespace object","router/ProtectedRoute.tsx","components/InfoPages/About.tsx","components/PostPages/PostCard.tsx","components/PostPages/PostList.tsx","components/Layout/Captcha/ReCaptcha.tsx","components/Layout/Captcha/Captcha.tsx","components/AuthPages/LoginPage.tsx","components/AuthPages/LostPage.tsx","components/AuthPages/RegisterPage.tsx","_actions/profile.actions.ts","components/UserPages/Dashboard/LatestSongs.js","components/UserPages/Dashboard.tsx","router/index.tsx","components/Layout/Instruments/Piano/BackCanvas.tsx","components/Layout/Instruments/Piano/FrontCanvas.tsx","components/Layout/Instruments/Piano/SvgLine.tsx","components/Layout/Instruments/Piano/PianoCanvas.tsx","components/Layout/Instruments/Piano/PlayMode/PlayerHeader.tsx","components/Layout/Instruments/Piano/PlayMode/LessonPlayMode.tsx","plugin/Themes/GlobalTheme.ts","plugin/Themes/DarkTheme.ts","plugin/Themes/LightTheme.ts","components/Layout/Breadcrumbs.tsx","components/Layout/Header/LeftIcons.tsx","components/Layout/Header/SearchInput.tsx","components/Layout/Header/MobileMenu.tsx","components/Layout/Header/Links.tsx","components/Layout/Header/MenuRender.tsx","components/Layout/Header/MiniDrawer.tsx","components/Layout/Header/LinkConst.tsx","components/Layout/Header/MainAppBar.tsx","_reducers/header.reducer.ts","components/Layout/Header/Header.tsx","_actions/snackbar.actions.ts","components/Layout/SnackBar/Notifier.ts","App.tsx","index.tsx","_types/player.types.ts","_reducers/user.reducer.ts","_reducers/profile.reducer.ts","_reducers/favorite.reducer.ts","_reducers/snackbar.reducer.ts","_reducers/player.reducer.ts","_reducers/post.reducer.ts","_reducers/guide.reducer.ts","_reducers/lesson.reducer.ts","_reducers/course.reducer.ts","_reducers/exercise.reducer.ts","_reducers/index.ts","_store/store.config.ts","_types/snackbar.types.ts","_types/post.types.ts","components/Layout/SnackBar/alert.tsx","_helpers/api.ts","_helpers/constants.ts","_actions/user.actions.ts","_types/profile.types.ts","_types/exercise.types.ts","_types/lesson.types.ts","_types/course.types.ts","_types/guide.types.ts"],"names":["REQUEST_FAVORITES","SUCCESS_FAVORITES","FAILURE_FAVORITES","requestAllPost","dispatch","getState","postState","bank","posts","resetTime","getTheTime","nextLoad","data","type","REQUEST_POSTS","API","get","then","res","SUCCESS_POSTS","payload","catch","err","errorHandler","FAILURE_POSTS","requestPost","id","found","find","post","SUCCESS_POST","REQUEST_POST","FAILURE_POST","PlayButton","loading","useState","onAir","setOnAir","playHandler","stopPlayer","startPlayer","keyboardUp","e","code","useEffect","document","addEventListener","removeEventListener","color","aria-label","onClick","style","fontSize","connectedSeekbar","connect","state","Melo","melodition","drawSeekBar","bindActionCreators","callback","useCallback","node","seekLoading","seekBar","SeekInput","ref","forwardRef","seek","setSeek","useImperativeHandle","changeSeeker","value","orientation","defaultValue","max","songLength","min","onChange","_","canvasWheel","aria-labelledby","SvgKeys","note","front","back","LastKey","useStyles","makeStyles","theme","createStyles","root","display","flexDirection","justifyContent","flexWrap","margin","minWidth","width","spacing","connectedPiano","auth","drawPiano","props","isDown","playedKey","emulatedKeys","z","s","x","d","c","v","g","b","h","n","j","m","l","q","2","w","3","4","r","t","6","y","7","u","i","9","o","0","p","counter","firstkey","KeysArray","key","hasOwnProperty","midiNoteOff","keyboardDown","midiNoteOn","mouseUpReset","octSize","classes","mouseDown","preventDefault","currentTarget","tabIndex","mouseOver","mouseLeave","mouseUp","svgWidth","setKeyRef","pianoSizes","keyRefs","canvasSize","tapSize","themer","octave","pianoLoading","playMode","pianoSize","getBoundingClientRect","height","Math","floor","window","innerHeight","detectSize","baseLine","pianoLeft","left","className","filter","Array","from","map","xmlns","viewBox","fill","marginRight","undefined","k","onMouseDown","onMouseUp","onMouseLeave","onMouseOver","stroke","points","module","exports","Song","audioContext","volume","tracks","analyserNode","sampleNodes","masterVolumeNode","paused","muted","loopEndTime","loopMode","loopStartTime","trackVolumeNodes","elapsedTimeSinceStart","decodedAudioBuffers","addTrack","push","decodedBuffer","buffer","peaks","vol","panning","solo","sampleNode","volumeNode","loadBuffer","a","song","decodeAudioData","Promise","reject","resolve","error","buildGraph","sources","length","sample","createBufferSource","createGain","gain","destination","play","startTime","setTrackVolumesDependingOnMuteSoloStatus","forEach","start","stop","pause","setVolume","setMasterVolume","val","fraction","setVolumeOfTrack","trackNumber","getUrlsOfTracks","urls","track","url","getDuration","dur","duration","getNbTracks","toggleLoopMode","toggleMute","togglePause","thereIsSolo","nbTracks","this","createAnalyser","WebAudioFontChannel","input","band32","band64","band128","band256","band512","band1k","band2k","band4k","band8k","band16k","output","bandEqualizer","frequency","createBiquadFilter","setTargetAtTime","Q","console","log","createDynamicsCompressor","threshold","setValueAtTime","knee","ratio","attack","release","WebAudioFontLoader","player","cached","choosenInfos","drumKeyArray","drumNamesArray","instrumentKeyArray","instrumentNamesArray","startLoad","filePath","variableName","createElement","setAttribute","getElementsByTagName","appendChild","decodeAfterLoading","waitOrFinish","adjustPreset","onFinish","me","setTimeout","loaded","preset","zones","progress","waitLoad","instrumentTitles","insNames","instrumentKeys","instrumentInfo","Number","substr","variable","title","findInstrument","program","substring","drumTitles","drumNames","drumKeys","drumInfo","pitch","findDrum","nn","WebAudioFontReverberator","convolver","dry","wet","irrArrayBuffer","irr","reverbrator","datalen","ArrayBuffer","view","Uint8Array","decoded","atob","charCodeAt","audioBuffer","createConvolver","zarib","AudioContext","webkitAudioContext","master","fontPlayer","envelopes","loader","onCacheFinish","onCacheProgress","afterTime","nearZero","createChannel","createReverberator","limitVolume","queueChord","target","when","pitches","slides","queueWaveTable","random","queueStrumUp","sort","queueStrum","queueStrumDown","currentTime","queueSnap","resume","zone","findZone","baseDetune","originalPitch","coarseTune","fineTune","playbackRate","pow","startWhen","waveDuration","loop","loopStart","loopEnd","envelope","findEnvelope","setupEnvelope","audioBufferSourceNode","newPlaybackRate","newWhen","linearRampToValueAtTime","sampleRate","delay","noZeroVolume","sampleDuration","lastTime","lastVolume","ahdsr","cancelScheduledValues","numValue","aValue","defValue","disconnect","cancel","adjustZone","createBuffer","b1","b2","float32Array","getChannelData","file","arraybuffer","sustain","keyRangeLow","keyRangeHigh","ex","cancelQueue","reverberator","ResetPlayer","options","currentSong","sL","TrackID","tempo","zaribTempo","storeFingers","storeTracks","storeDrums","trackInfo","seekValue","songs","fingerNotes","equalizer","drumVolumes","Object","assign","lessonCompiler","content","dataString","fingers","neededTracks","neededDrums","strings","split","main","beat","cnt","f","parseInt","step","cntD","drum","i32","drm","index","self","findIndex","cntT","shift","trc","audioNode","replacement","sound","info","default","cauntMeasures","songdur","mx","ceil","add","mxT","apply","mxD","MidiState","touchedKeys","score","FingersClass","len","hand","finger","timer","bColor","end","children","BackMover","yPos","update","ctx","img","drawImage","MusicLine","lw","draw","beginPath","moveTo","lineTo","lineWidth","strokeStyle","Note","text","gap","beg","mover","lineColor","crash","hit","move","lineCap","arc","PI","fillStyle","font","textAlign","textBaseline","fillText","Game","canvas","notes","image","backMover","barNotes","fullNotes","context","assigner","playGame","clear","updateBacks","updateNotes","clearRect","pitchName","firstLine","myLine","getContext","save","src","toDataURL","onload","drawNote","showTrack","notePos","tap","yy","cc","center","le","drawBack","pushNote","num","splice","touch","updateFullSong","Image","Melodition","game","handRefs","firstDelay","tickID","currentBeat","tickerDelay","tickerStep","animeFrame","nextWhen","nextBeat","anime","sentWhen","midiKeys","drawGame","round","startPlay","resetNodeValues","beatDur","playAllTracks","queueNextBeats","requestAnimationFrame","moveSVG","moveFingers","stopPlay","fin","hide","getElementById","click","clearTimeout","stopAllTracks","cancelAnimationFrame","rakeMouseWheel","deltaY","seekY","seekMove","seekSVG","beat16duration","sendNextBeats","showFingers","wait","startBeat","endBeat","beatLen","channel","findDrumInfoHand","volumeRatio","n1","n2","currentTrack","inChordCount","findTrackInfoHand","inChordDelay","nBeat","handArr","getAttribute","item","show","order","diff","velocity","elem","cColor","notePitch","requestPlayer","Melodi","AudioApi","realTempo","songbeat","REQUEST_PLAYER","bufferError","urlError","keyXPos","padLeft","rect","centerX","classList","contains","sizeCalculator","DRAW_PIANO","drawFinger","DRAW_FINGER","DRAW_SEEKBAR","DRAW_GAME","resizePlayer","RESIZE_PLAYER","resetPlayer","RESET_PLAYER","changeMode","mode","ENTER_PLAYMODE","EXIT_PLAYMODE","REGISTER_REQUEST","REGISTER_SUCCESS","REGISTER_FAILURE","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","USER_LOGOUT","LOST_REQUEST","LOST_SUCCESS","LOST_FAILURE","CHANGE_THEME","webpackAsyncContext","req","__webpack_require__","Error","ids","keys","loggedIn","redirectPath","authenticationPath","isAllowed","restrictedPath","component","to","pathname","render","About","setInput","handleChange","Button","store","SHOW_SNACKBAR","snackbar","snackBarMaker","CLEAR_SNACKBAR","dismissAll","maxHeight","breakpoints","down","cardAction","minHeight","PostCard","featured_img","excerpt","author","clickHandler","Card","CardActionArea","CardMedia","alt","thumbnailsFinder","CardContent","Typography","gutterBottom","variant","CardActions","size","PostList","header","Chip","chip","label","Grid","container","justify","cardList","CircularProgress","autoMargin","Component","ownProps","withStyles","padding","position","right","top","ReCaptcha","script","loadScript","captchaOnLoad","onLoad","async","defer","body","grecaptcha","sitekey","ready","setState","removeChild","onError","LinearProgress","captchaWarning","captcha","React","zIndex","borderRadius","border","Captcha","form","setFieldValue","errors","touched","name","field","event","action","recaptcha","LoginPage","Container","maxWidth","paddingTop","CssBaseline","Avatar","initialValues","username","password","validationSchema","Yup","shape","required","onSubmit","resetForm","login","Box","mb","align","fullWidth","disabled","mt","my","TextField","placeholder","xs","Link","RouterLink","loginRequest","logout","logoutRequest","LostPage","user_login","lostRequest","RegisterPage","email","firstname","lastname","confirm_password","policy","oneOf","registerRequest","values","dir","alignItems","ml","Checkbox","checked","underline","Boolean","FormHelperText","profileRequest","token","INFO_REQUEST","userInfo","parseToken","userID","INFO_SUCCESS","profile","INFO_FAILURE","base64","replace","jsonPayload","decodeURIComponent","toString","slice","join","resJson","JSON","parse","user","expire","exp","issued","iat","before","nbf","useStyles1","flexShrink","marginLeft","TablePaginationActions","useTheme","count","page","rowsPerPage","onChangePage","IconButton","direction","LastPage","FirstPage","KeyboardArrowRight","KeyboardArrowLeft","useStyles2","table","toolbar","flexFlow","only","LatestSongs","setPage","setRowsPerPage","emptyRows","sel","dateChanger","date","time","clsx","CardHeader","Divider","Table","TableHead","TableRow","TableCell","TableBody","row","UniqId","colSpan","TableFooter","TablePagination","rowsPerPageOptions","lower","low","average","high","higher","SelectProps","inputProps","native","newPage","onChangeRowsPerPage","ActionsComponent","Dashboard","getProfile","lg","md","xl","meta","playtime","LearningPage","lazy","Post","Guide","Course","Lesson","Exercise","AppRouter","fallback","exact","path","LostPassPage","BackCanvas","gameLoading","backCtx","drawBackContext","FrontCanvas","drawFrontContext","onWheel","SvgLine","bottom","strokeDasharray","strokeDashoffset","animation","x1","y1","x2","y2","strokeWidth","connectedPianoCanvas","boxShadow","flexGrow","menuButton","divider","MenuAppBar","lesson","modeChanger","AppBar","Toolbar","edge","ArrowForward","flexItem","LessonPlayerMode","toggleDrawer","list","playmodeChanger","updateDimensions","Piano","ArrowBackIos","history","router","location","single","course","overflow","backgroundColor","palette","background","paper","doubleGrid","centerText","globalStyle","createMuiTheme","typography","fontFamily","overrides","MuiBreadcrumbs","ol","overflowX","scrollbarWidth","whiteSpace","MuiCardActions","MuiCssBaseline","scrollbarColor","MuiIconButton","colorSecondary","DarkTheme","primary","blue","red","secondary","pink","faIR","LightTheme","bracrumbs","pages","AllInbox","guide","LibraryMusic","QueueMusic","MusicNote","exercise","EmojiSymbols","favorite","Favorite","conectedBreadcrumb","goBack","linkPath","setLinkPath","trigger","setTrigger","pathFinder","linkArray","handleClick","Paper","square","disableGutters","Breadcrumbs","link","href","sectionDesktop","up","sectionMobile","IconController","menuId","mobileMenuId","profileMenuOpen","Fragment","Badge","badgeContent","Star","Notifications","aria-controls","aria-haspopup","AccountCircle","MoreHoriz","SearchInput","handleOnInputChange","query","fetchSearchResult","results","message","search","searchIcon","InputBase","inputRoot","inputInput","fade","common","white","pointerEvents","cursor","paddingLeft","transition","transitions","create","MobileMenu","mobileMoreAnchor","mobileMenuIsOpen","handleMobileMenu","anchorEl","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","onClose","MenuItem","Stars","sideLink","in","icon","SettingsApplications","AccountBox","out","links","Home","FileCopy","Info","MenuRender","profileMoreAnchor","profileMenuIsOpen","handleDrawerClose","botLinks","drawer","drawerPaper","drawerHeader","mixins","MiniDrawer","changeTheme","Drawer","anchor","menuIsOpen","Brightness7","Brightness4","ChevronLeft","ChevronRight","List","ListItem","button","ListItemIcon","ListItemText","linkKeeper","lineHeight","LinkConst","openStatus","Collapse","appBar","easing","sharp","leavingScreen","appBarShift","enteringScreen","MainAppBar","sessionStorage","process","initialState","HeaderReducer","fieldName","rest","useReducer","snackbarRemove","REMOVE_SNACKBAR","displayed","snackbars","removeSnack","useSnackbar","enqueueSnackbar","closeSnackbar","dismissed","includes","reason","myKey","onExited","String","jss","plugins","jssPreset","jssRTL","app","mainBody","overflowY","conectedApp","currentTheme","responsTheme","responsiveFontSizes","StylesProvider","ThemeProvider","Slide","mountOnEnter","unmountOnExit","elevation","getUserLocal","localStorage","getItem","authReducer","setItem","profileReducerDefaultState","profileReducer","SAVE_PROFILE","userData","favoriteReducerDefaultState","favoriteReducer","snackbarReducerDefaultState","snackbarReducer","loadings","fingerLoading","defaultPlayer","resetState","stringify","playerReducer","postsReducerDefaultState","postsReducer","postReducerDefaultState","postReducer","guidesReducerDefaultState","guidesReducer","REQUEST_GUIDES","SUCCESS_GUIDES","SAVE_GUIDES","match","every","FAILURE_GUIDES","guideReducerDefaultState","guideReducer","REQUEST_GUIDE","SUCCESS_GUIDE","FAILURE_GUIDE","lessonsReducerDefaultState","lessonsReducer","REQUEST_LESSONS","SUCCESS_LESSONS","SAVE_LESSONS","FAILURE_LESSONS","lessonReducerDefaultState","lessonReducer","REQUEST_LESSON","SUCCESS_LESSON","FAILURE_LESSON","coursesReducerDefaultState","coursesReducer","REQUEST_COURSES","SUCCESS_COURSES","SAVE_COURSES","FAILURE_COURSES","courseReducerDefaultState","courseReducer","REQUEST_COURSE","SUCCESS_COURSE","FAILURE_COURSE","exercisesReducerDefaultState","exercisesReducer","REQUEST_EXERCISES","SUCCESS_EXERCISES","SAVE_EXERCISES","FAILURE_EXERCISES","exerciseReducerDefaultState","exerciseReducer","REQUEST_EXERCISE","SUCCESS_EXERCISE","FAILURE_EXERCISE","rootReducer","combineReducers","connectRouter","guides","courses","lessons","exercises","favorites","createBrowserHistory","preloadingState","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","createRootReducer","applyMiddleware","routerMiddleware","thunk","configureStore","response","TransitionComponent","autoHideDuration","Axios","baseURL","headers","localUser","Authorization","authHeader","interceptors","use","status","test","method","responseType","pathSplit","compiledPath","typeSplit","type1Split","type2Split","minutes","Date","getTime","ms","fallImg","medium","season","defaults","user_display_name","removeItem","go"],"mappings":"uIAAA,sGAAO,IAAMA,EAAoB,oBACpBC,EAAoB,oBACpBC,EAAoB,qB,iCCDjC,wGAcaC,EAAiB,kBAC5B,SAACC,EAAgCC,GAC/B,IAAMC,EAAYD,IAAWE,KAAKC,MAE5BC,EADcC,cACYJ,EAAUK,SACtCL,EAAUM,MAAQH,GAAa,IAGnCL,EAAS,CAAES,KAAMC,MACjBC,IAAIC,IAAJ,YACGC,MAAK,SAAAC,GAAG,OAAId,EAAS,CACpBS,KAAMM,IAAeC,QAAS,CAC5BR,KAAMM,EAAIN,KACVD,SAAUD,YAAW,UAGxBW,OAAM,SAAAC,GAAG,OAAIC,YAAaD,EAAKE,WAIzBC,EAAc,SAACC,GAAD,OACzB,SAACtB,EAAgCC,GAC/B,IAAMC,EAAYD,IAAWE,KAAKC,MAAMI,KAElCe,EAAK,OAAGrB,QAAH,IAAGA,OAAH,EAAGA,EAAWsB,MAAK,SAAAC,GAAI,OAAIA,EAAKH,KAAOA,KAC9CC,EACFvB,EAAS,CAAES,KAAMiB,IAAclB,KAAMe,KAErCvB,EAAS,CAAES,KAAMkB,MACjBhB,IAAIC,IAAJ,sBAAuBU,IACpBT,MAAK,SAACC,GAAD,OAASd,EAAS,CAAES,KAAMiB,IAAclB,KAAMM,EAAIN,KAAK,QAC5DS,OAAM,SAAAC,GAAG,OAAIC,YAAaD,EAAKU,Y,kICtC3BC,EAAmC,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAAc,EACrCC,oBAAS,GAD4B,mBACxDC,EADwD,KACjDC,EADiD,KAGzDC,EAAc,WACdF,GACFG,cACAF,GAAS,KAETG,cACAH,GAAS,KAGPI,EAAa,SAACC,GACH,UAAXA,EAAEC,MAAqBT,GACzBI,KASJ,OANAM,qBAAU,WAER,OADAC,SAASC,iBAAiB,QAASL,GAC5B,WACLI,SAASE,oBAAoB,QAASN,OAIxC,kBAAC,IAAD,CACEf,GAAG,cACHsB,MAAM,YACNC,aAAW,YACXC,QAASZ,GAERF,EACC,kBAAC,IAAD,CAAoBe,MAAO,CAAEC,SAAU,WAEvC,kBAAC,IAAD,CAAmBD,MAAO,CAAEC,SAAU,c,8FCLxCC,EAAmBC,aAND,SAACC,GAAD,MAAsB,CAC5CC,KAAMD,EAAME,eAEa,SAACrD,GAAD,MAAoD,CAC7EsD,YAAaC,YAAmBD,IAAatD,MAEtBkD,EAnBe,SAAC,GAA2B,IAAzBE,EAAwB,EAAxBA,KAAME,EAAkB,EAAlBA,YACzCE,EAAWC,uBACf,SAACC,GAIC,OAHIA,GAAQN,EAAKO,aACfL,EAAY,CAAEM,QAASF,IAElB,eAET,CAACN,EAAKO,YAAaL,IAGrB,OAAO,kBAACO,EAAD,CAAWC,IAAKN,EAAUJ,KAAMA,OAU1BH,MAKf,IAAMY,EAAYE,sBAAoC,WAAWD,GAAS,IAAjBV,EAAgB,EAAhBA,KAAgB,EAC/CrB,mBAAS,GADsC,mBAChEiC,EADgE,KAC1DC,EAD0D,KAEvEC,8BAAoBJ,GAAK,WACvB,MAAO,CACLK,aAAcA,MAGlB,IAAMA,EAAe,SAACC,GACC,kBAAVA,GACTH,EAAQG,IAQZ,OACE,kBAAC,IAAD,CACExB,MAAM,YACNyB,YAAY,WACZxB,aAAW,UACXyB,aAAc,EACdC,IAAKnB,EAAKoB,WACVC,IAAK,EACLC,SAAU,SAACC,EAAGrC,GAbE,IAAC8B,EACE,kBADFA,EAae9B,IAXhCsC,YAAYR,IAYZS,kBAAgB,kBAChBT,MAAOJ,Q,uECREc,EA9DC,CAAC,CACfxD,GAAI,QACJyD,KAAM,IACNC,MAAO,4IACPC,KAAM,+1BACL,CACDF,KAAM,KACNzD,GAAI,QACJ0D,MAAO,iFACPC,KAAM,4DACL,CACD3D,GAAI,QACJyD,KAAM,IACNC,MAAO,kMACPC,KAAM,ujBACL,CACDF,KAAM,KACNzD,GAAI,QACJ0D,MAAO,wFACPC,KAAM,qEACL,CACDF,KAAM,IACNzD,GAAI,QACJ0D,MAAO,0JACPC,KAAM,gHACL,CACDF,KAAM,IACNzD,GAAI,QACJ0D,MAAO,0JACPC,KAAM,gGACL,CACDF,KAAM,KACNzD,GAAI,QACJ0D,MAAO,wFACPC,KAAM,qEACL,CACDF,KAAM,IACNzD,GAAI,QACJ0D,MAAO,wMACPC,KAAM,i1BACL,CACDF,KAAM,KACNzD,GAAI,QACJ0D,MAAO,wFACPC,KAAM,qEACL,CACDF,KAAM,IACNzD,GAAI,QACJ0D,MAAO,wMACPC,KAAM,sKACL,CACDF,KAAM,KACNzD,GAAI,QACJ0D,MAAO,wFACPC,KAAM,qEACL,CACDF,KAAM,IACNzD,GAAI,QACJ0D,MAAO,0JACPC,KAAM,kzBAKKC,EAGJ,4GAHIA,EAIL,41B,wBCtDFC,EAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,KAAM,CACJC,QAAS,OACTC,cAAe,cACfC,eAAgB,SAChBC,SAAU,SACVC,OAAQ,SACRC,SAAU,QACVC,MAAO,QAETb,KAAM,CACJW,OAAQP,EAAMU,QAAQ,EAAG,SAkRzBC,EAAiB9C,aATC,SAACC,GAAD,MAAsB,CAC5CkC,MAAOlC,EAAM8C,KAAKZ,MAClBjC,KAAMD,EAAME,eAGa,SAACrD,GAAD,MAAoD,CAC7EkG,UAAW3C,YAAmB2C,IAAWlG,MAGpBkD,EA1QQ,SAACiD,GAAW,IACjCd,EAA2Bc,EAA3Bd,MAAOjC,EAAoB+C,EAApB/C,KAAM8C,EAAcC,EAAdD,UAEjBE,GAAS,EACTC,EAAiB,KACfC,EAAe,CACnBC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACH,IAAK,GACLC,EAAG,GACH,IAAK,GACL,IAAK,GACL,IAAK,GACLC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHjF,EAAG,GACHkF,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACHC,EAAG,GACH,IAAK,GACL,IAAK,GACL,IAAK,IAEHC,EAAU,GACVC,EAAW,GACTC,EAAY,GAEZjG,EAAa,SAACC,GAClB,IAAMiG,EAAMjG,EAAEiG,IACd,GAAIjC,EAAakC,eAAeD,GAAM,CACpC,IAAMxD,EAAOuB,EAAaiC,GAC1BE,YAAY1D,GACZsB,EAAY,OAGVqC,EAAe,SAACpG,GACpB,IAAMiG,EAAMjG,EAAEiG,IACd,GAAIjC,EAAakC,eAAeD,IAC1BA,IAAQlC,EAAW,CACrB,IAAMtB,EAAOuB,EAAaiC,GAC1BI,YAAW5D,GACXsB,EAAYkC,IAKZK,EAAe,WACnBxC,GAAS,GAGX5D,qBAAU,WAIR,OAHAC,SAASC,iBAAiB,UAAWgG,GACrCjG,SAASC,iBAAiB,QAASL,GACnCI,SAASC,iBAAiB,UAAWkG,GAC9B,WACLnG,SAASE,oBAAoB,UAAW+F,GACxCjG,SAASE,oBAAoB,QAASN,OAI1C,IAwCyBwG,EAxCnBC,EAAU3D,IAEV4D,EAAY,SAACzG,GACjBA,EAAE0G,iBACF,IACMjE,EADmBzC,EAAE2G,cACVC,SACjB9C,GAAS,EACTC,EAAYtB,EACZ4D,YAAW5D,IAEPoE,EAAY,SAAC7G,GACjBA,EAAE0G,iBACF,IACMjE,EADmBzC,EAAE2G,cACVC,SACb9C,GAAUrB,IAASsB,IACrBA,EAAYtB,EACZ4D,YAAW5D,KAGTqE,EAAa,SAAC9G,GAClBA,EAAE0G,iBACF,IACMjE,EADmBzC,EAAE2G,cACVC,SACb9C,IACFqC,YAAY1D,GACZsB,EAAY,OAGVgD,EAAU,SAAC/G,GACfA,EAAE0G,iBACF,IACMjE,EADmBzC,EAAE2G,cACVC,SACjB9C,GAAS,EACTqC,YAAY1D,GACZsB,EAAY,MAERiD,EAAW,SAACvB,GAEhB,OADkB,IAANA,EAAU,IAAM,KA+BxBwB,EAAY,SAACzF,GACjB,GAAIA,EAAK,CACP,IAAMyE,EAAMzE,EAAIoF,SAChBZ,EAAUC,GAAOzE,IAmBf0F,EAAa,SACjBC,EACAC,EACAC,GAEAzD,EAAUuD,EAASC,EAAYC,IAE3BC,EAAmB,SAAVvE,EAAmB,EAAI,EAEtC,OA3DyBwD,EA0DTzF,EAAKyG,QAzDL,GACZzB,EAAU,GACVC,EAAW,IACFQ,EAAU,GACnBT,EAAU,GACVC,EAAW,IACFQ,EAAU,GACnBT,EAAU,GACVC,EAAW,KAEXD,EAAU,GACVC,EAAW,IAgDb,yBACEvE,IA3BW,SAACA,GACd,GAAIA,GAAOV,EAAK0G,aACd,GAAI1G,EAAK2G,SAAU,CACjB,IAAMC,EAAYlG,EAAImG,wBAChBnE,EAAQkE,EAAUlE,MAClBoE,EAASC,KAAKC,MAAMC,OAAOC,aAAeN,EAAUE,OAAS,KAC7DP,EAzBO,SAACO,GAClB,OACSA,EAAS,GAuBEK,CAAWL,GACrBM,EAAqB,EAAVb,EAAc,EACzBc,EAAYT,EAAUU,KAE5BlB,EAAWlB,EADI,CAAExC,QAAOoE,SAAQM,WAAUC,aACZd,QAE9BH,EAAWlB,IAgBbqC,UAAW7B,EAAQvD,KACnBxC,MAAO,CAAE6H,OAAO,UAAD,OAAYhB,EAAZ,OAEdiB,MAAMC,KAAKD,MAAMzH,EAAKyG,SAAS,SAAClF,EAAGoD,GAAJ,MAAU,OAASA,EAAI,MAAIgD,KACzD,SAACxC,EAAKR,GAAN,OACE,yBACEiD,MAAM,6BACN1J,GAAIiH,EACJA,IAAKA,EACLzC,MAAOwD,EAASlG,EAAKyG,OAAS9B,GAC9BmC,OAAO,OACPe,QAAO,cAAS3B,EAASlG,EAAKyG,OAAS9B,GAAhC,QACPmD,KAAK,OACLnI,MACEgF,IAAM3E,EAAKyG,OAAS,EAChB,CAAEsB,YAAa,EAAI/H,EAAKyG,aACxBuB,GAGLtG,EAAQiG,KAAI,SAACM,GAAD,OACX,uBACE9C,IAAKA,EAAM,IAAM8C,EAAEtG,KACnBzD,GAAI+J,EAAE/J,GACN4H,WAAYd,EACZkD,YAAavC,EACbwC,UAAWlC,EACXmC,aAAcpC,EACdqC,YAAatC,EACbwB,UAAWvC,IAAYC,EAAW,QAAUgD,EAAEtG,KAC9CjB,IAAKyF,GAEL,0BACEjI,GAAG,OACHoF,EAAG2E,EAAErG,MACLkG,KAAMG,EAAE/J,GACRoK,OAAiB,UAATL,EAAE/J,GAAiB,eAAY8J,IAEzC,0BACE9J,GAAG,QACHoF,EAAG2E,EAAEpG,KACLiG,KAAe,UAATG,EAAE/J,GAAiB,QAAU,2BAExB,KAAZ8G,EACC,6BAASuD,OAAQ,uBAAwBT,KAAM,UAC7C,SAGP9H,EAAKyG,OAAS9B,IAAM,EACnB,uBACEzG,GAAG,IACHqJ,UAAU,OACVzB,WAAYd,EACZkD,YAAavC,EACbwC,UAAWlC,EACXmC,aAAcpC,EACdqC,YAAatC,EACbrF,IAAKyF,GAEL,0BACEjI,GAAG,OACHoF,EAAGxB,EACHgG,KAAK,QACLQ,OAAO,YAET,0BAAMpK,GAAG,QAAQoF,EAAGxB,EAAcgG,KAAK,WAEvC,aAmBDlF,O,oBC9Sf4F,EAAOC,QAAU,IAA0B,wC,whBCAtBC,EAgBnB,WAAYC,GAA6B,IAAD,gCAfxCC,OAAS,EAe+B,KAdxCC,OAAgB,GAcwB,KAbxCC,kBAawC,OAZxCC,YAAqB,GAYmB,KAXxCC,sBAWwC,OAVxCC,QAAkB,EAUsB,KATxCC,OAAiB,EASuB,KARxCC,YAAmB,KAQqB,KAPxCC,UAAoB,EAOoB,KANxCC,cAAqB,KAMmB,KALxCV,kBAKwC,OAJxCW,iBAA0B,GAIc,KAHxCC,sBAA6B,KAGW,KAFxCC,oBAA0C,GAEF,KAKxCC,SAAW,SAACrM,GACV,EAAKyL,OAAOa,KAAK,CACfC,cAAevM,EAAKwM,OACpBC,MAAO,KACPjB,OAAQxL,EAAK0M,IACbC,QAAS,EACTb,OAAO,EACPc,MAAM,EACNC,WAAY,KACZC,WAAY,QAdwB,KAiBxCC,WAjBwC,uCAiB3B,WAAO/M,GAAP,eAAAgN,EAAA,6DACLC,EAAO,EADF,SAEL,EAAK1B,aAAa2B,gBACtBlN,EAAKwM,QACL,SAACA,GACMA,GACHW,QAAQC,OAAO,8BAEjB,EAAKhB,oBAAL,sBAA+B,EAAKA,qBAApC,CAAyDI,IACzD,EAAKH,SAAS,CAAEG,SAAQE,IAAK1M,EAAK0M,MAClCS,QAAQE,QAAQJ,MAElB,SAACK,GAAD,OAAWH,QAAQC,OAAOE,MAZjB,2CAjB2B,2DAgCxCC,WAAa,WAEX,IADA,IAAIC,EAAU,GACLjG,EAAI,EAAGA,EAAI,EAAK6E,oBAAoBqB,OAAQlG,IAAK,CACxD,IAAImG,EAAS,EAAKtB,oBAAoB7E,GACtCiG,EAAQjG,GAAK,EAAKgE,aAAaoC,qBAC/BH,EAAQjG,GAAGiF,OAASkB,EACpB,EAAKxB,iBAAiB3E,GAAK,EAAKgE,aAAaqC,aACzC,EAAK1B,iBAAiB3E,KACxB,EAAK2E,iBAAiB3E,GAAGsG,KAAKjK,MAAQ,EAAK6H,OAAOlE,GAAGiE,QAEvDgC,EAAQjG,GAAG7E,QAAQ,EAAKwJ,iBAAiB3E,IACzC,EAAK2E,iBAAiB3E,GAAG7E,QAAQ,EAAKkJ,kBACtC,EAAKA,iBAAiBlJ,QAAQ,EAAKgJ,cACnC,EAAKA,aAAahJ,QAAQ,EAAK6I,aAAauC,aAE9C,EAAKnC,YAAc6B,GA/CmB,KAiDxCO,KAAO,SAACC,GACN,EAAKT,aACL,EAAKU,2CACL,EAAK9B,sBAAwB6B,EAC7B,EAAKrC,YAAYuC,SAAQ,SAAClI,GACxBA,EAAEmI,MAAM,EAAGH,MAEb,EAAKnC,QAAS,GAxDwB,KA0DxCuC,KAAO,YACe,IAAhB,EAAKvC,SACT,EAAKF,YAAYuC,SAAQ,SAAClI,GACxBA,EAAEoI,KAAK,MAET,EAAKvC,QAAS,IA/DwB,KAiExCwC,MAAQ,WACD,EAAKxC,OAGR,EAAKkC,KAAK,EAAK5B,uBAFf,EAAKiC,QAnE+B,KAwExCE,UAAY,SAAC1K,GACX,EAAK4H,OAAS5H,EACd,EAAKgI,iBAAiBiC,KAAKjK,MAAQA,GA1EG,KA4ExC2K,gBAAkB,SAACC,GACjB,IAAIC,EAEFA,OADU7D,IAAR4D,EACS,GAEAA,EAAM,IAEnB,EAAKF,UAAUG,EAAWA,IAnFY,KAqFxCC,iBAAmB,SAAC9K,EAAe+K,QACU/D,IAAvC,EAAKsB,iBAAiByC,KACxB,EAAKzC,iBAAiByC,GAAad,KAAKjK,MAAQA,EAChD,EAAK6H,OAAOkD,GAAanD,OAAS5H,IAxFE,KA2FxCgL,gBAAkB,WAChB,IAAIC,EAAiB,GAIrB,OAHA,EAAKpD,OAAOyC,SAAQ,SAACY,GACnBD,EAAKvC,KAAKwC,EAAMC,QAEXF,GAhG+B,KAkGxCG,YAAc,WACZ,QAAiCpE,IAA7B,EAAKwB,oBAAmC,CAE1C,IADA,IAAI6C,EAAM,EACD1H,EAAI,EAAGA,EAAI,EAAK6E,oBAAoBqB,OAAQlG,IAC/C0H,EAAM,EAAK7C,oBAAoB7E,GAAG2H,WACpCD,EAAM,EAAK7C,oBAAoB7E,GAAG2H,UAEtC,OAAOD,IAzG6B,KA6GxCE,YAAc,WACZ,OAAO,EAAK1D,OAAOgC,QA9GmB,KAgHxC2B,eAAiB,WACf,EAAKpD,UAAY,EAAKA,UAjHgB,KAmHxCqD,WAAa,WACX,EAAKvD,OAAS,EAAKA,MACf,EAAKA,MACP,EAAKF,iBAAiBiC,KAAKjK,MAAQ,EAEnC,EAAKgI,iBAAiBiC,KAAKjK,MAAQ,EAAK4H,QAxHJ,KA2HxC8D,YAAc,WACZ,EAAKzD,QAAU,EAAKA,QA5HkB,KA8HxCoC,yCAA2C,WAGzC,IAFA,IAAIsB,GAAc,EACdC,EAAW,EAAKL,cACX5H,EAAI,EAAGA,EAAIiI,EAAUjI,IAC5B,GAAI,EAAKkE,OAAOlE,GAAGqF,KAAM,CACvB2C,GAAc,EACd,MAGJ,GAAIA,EACF,IAAK,IAAIhI,EAAI,EAAGA,EAAIiI,EAAUjI,IACxB,EAAKkE,OAAOlE,GAAGqF,KACjB,EAAKV,iBAAiB3E,GAAGsG,KAAKjK,MAAQ,EAAK6H,OAAOlE,GAAGiE,OAErD,EAAKU,iBAAiB3E,GAAGsG,KAAKjK,MAAQ,OAK5C,IAAK,IAAI2D,EAAI,EAAGA,EAAIiI,EAAUjI,SACKqD,IAA7B,EAAKsB,iBAAiB3E,KACpB,EAAKkE,OAAOlE,GAAGuE,MACjB,EAAKI,iBAAiB3E,GAAGsG,KAAKjK,MAAQ,EAEtC,EAAKsI,iBAAiB3E,GAAGsG,KAAKjK,MAAQ,EAAK6H,OAAOlE,GAAGiE,SArJ3DiE,KAAKlE,aAAeA,EACpBkE,KAAK7D,iBAAmB6D,KAAKlE,aAAaqC,aAC1C6B,KAAK/D,aAAe+D,KAAKlE,aAAamE,kBCjB7BC,EAcX,WAAYpE,GAA6B,IAAD,gCAbxCA,kBAawC,OAZxCqE,WAYwC,OAXxCC,YAWwC,OAVxCC,YAUwC,OATxCC,aASwC,OARxCC,aAQwC,OAPxCC,aAOwC,OANxCC,YAMwC,OALxCC,YAKwC,OAJxCC,YAIwC,OAHxCC,YAGwC,OAFxCC,aAEwC,OADxCC,YACwC,OAsBxCC,cAAgB,SAAClG,EAAWmG,GAC1B,IAAIrG,EAAS,EAAKmB,aAAamF,qBAM/B,OALAtG,EAAOqG,UAAUE,gBAAgBF,EAAW,EAAG,MAC/CrG,EAAOnK,KAAO,UACdmK,EAAOyD,KAAK8C,gBAAgB,EAAG,EAAG,MAClCvG,EAAOwG,EAAED,gBAAgB,EAAK,EAAG,MACjCrG,EAAK5H,QAAQ0H,GACNA,GA5BPyG,QAAQC,IAAI,8BACZrB,KAAKlE,aAAeA,EACpBkE,KAAKG,MAAQH,KAAKlE,aAAawF,2BAC/BtB,KAAKG,MAAMoB,UAAUC,gBAAgB,EAAG,GACxCxB,KAAKG,MAAMsB,KAAKD,eAAe,GAAI,GACnCxB,KAAKG,MAAMuB,MAAMF,eAAe,GAAI,GACpCxB,KAAKG,MAAMwB,OAAOH,eAAe,IAAM,GACvCxB,KAAKG,MAAMyB,QAAQJ,eAAe,IAAM,GACxCxB,KAAKI,OAASJ,KAAKe,cAAcf,KAAKG,MAAO,IAC7CH,KAAKK,OAASL,KAAKe,cAAcf,KAAKI,OAAQ,IAC9CJ,KAAKM,QAAUN,KAAKe,cAAcf,KAAKK,OAAQ,KAC/CL,KAAKO,QAAUP,KAAKe,cAAcf,KAAKM,QAAS,KAChDN,KAAKQ,QAAUR,KAAKe,cAAcf,KAAKO,QAAS,KAChDP,KAAKS,OAAST,KAAKe,cAAcf,KAAKQ,QAAS,MAC/CR,KAAKU,OAASV,KAAKe,cAAcf,KAAKS,OAAQ,MAC9CT,KAAKW,OAASX,KAAKe,cAAcf,KAAKU,OAAQ,MAC9CV,KAAKY,OAASZ,KAAKe,cAAcf,KAAKW,OAAQ,MAC9CX,KAAKa,QAAUb,KAAKe,cAAcf,KAAKY,OAAQ,OAC/CZ,KAAKc,OAAShF,EAAaqC,aAC3B6B,KAAKa,QAAQ5N,QAAQ+M,KAAKc,SAYjBe,EAQX,WAAYC,GAA6B,IAAD,gCAPxCA,YAOwC,OANxCC,YAMwC,OALxCC,kBAKwC,OAJxCC,kBAIwC,OAHxCC,oBAGwC,OAFxCC,wBAEwC,OADxCC,0BACwC,OAKxCC,UAAY,SAACC,EAAkBC,GAC7B,IAAInI,OAAOmI,GAAX,CAGA,IAAK,IAAIzK,EAAI,EAAGA,EAAI,EAAKiK,OAAO/D,OAAQlG,IACtC,GAAI,EAAKiK,OAAOjK,GAAGyK,eAAiBA,EAClC,OAGJ,EAAKR,OAAOlF,KAAK,CACfyF,SAAUA,EACVC,aAAcA,IAEhB,IAAI/K,EAAIhF,SAASgQ,cAAc,UAC/BhL,EAAEiL,aAAa,OAAQ,mBACvBjL,EAAEiL,aAAa,MAAOH,GACtB9P,SAASkQ,qBAAqB,QAAQ,GAAGC,YAAYnL,GACrD,EAAKoL,mBAAmBL,KAtBc,KAwBxCK,mBAAqB,SAACL,GACpB,EAAKM,aAAaN,GAAc,WAC9B,EAAKT,OAAOgB,aAAa1I,OAAOmI,QA1BI,KA6BxCM,aAAe,SAACN,EAAmBQ,GACjC,GAAI3I,OAAOmI,GACTQ,QACK,CACL,IAAIC,EAAK,EACTC,YAAW,WACTD,EAAGH,aAAaN,EAAcQ,KAC7B,OApCiC,KAuCxCG,OAAS,SAACX,GACR,IAAKnI,OAAOmI,GACV,OAAO,EAGT,IADA,IAAIY,EAAS/I,OAAOmI,GACXzK,EAAI,EAAGA,EAAIqL,EAAOC,MAAMpF,OAAQlG,IACvC,IAAKqL,EAAOC,MAAMtL,GAAGiF,OACnB,OAAO,EAGX,OAAO,GAjD+B,KAmDxCsG,SAAW,WACT,GAAI,EAAKtB,OAAO/D,OAAS,EAAG,CAC1B,IAAK,IAAI5C,EAAI,EAAGA,EAAI,EAAK2G,OAAO/D,OAAQ5C,IACtC,IAAK,EAAK8H,OAAO,EAAKnB,OAAO3G,GAAGmH,cAC9B,OAAOnH,EAAI,EAAK2G,OAAO/D,OAG3B,OAAO,EAEP,OAAO,GA5D6B,KA+DxCsF,SAAW,SAACP,GACV,IAAIC,EAAK,EACL,EAAKK,YAAc,EACrBN,IAEAE,YAAW,WACTD,EAAGM,SAASP,KACX,MAtEiC,KAyExCQ,iBAAmB,WACjB,IAAK,EAAKnB,qBAAsB,CAC9B,IAAIoB,EAAW,GACfA,EAAS,GAAK,8BACdA,EAAS,GAAK,+BACdA,EAAS,GAAK,8BACdA,EAAS,GAAK,0BACdA,EAAS,GAAK,0BACdA,EAAS,GAAK,0BACdA,EAAS,GAAK,qBACdA,EAAS,GAAK,kBACdA,EAAS,GAAK,gCACdA,EAAS,GAAK,qCACdA,EAAS,IAAM,kCACfA,EAAS,IAAM,mCACfA,EAAS,IAAM,gCACfA,EAAS,IAAM,kCACfA,EAAS,IAAM,sCACfA,EAAS,IAAM,iCACfA,EAAS,IAAM,uBACfA,EAAS,IAAM,0BACfA,EAAS,IAAM,oBACfA,EAAS,IAAM,sBACfA,EAAS,IAAM,oBACfA,EAAS,IAAM,mBACfA,EAAS,IAAM,mBACfA,EAAS,IAAM,yBACfA,EAAS,IAAM,kCACfA,EAAS,IAAM,kCACfA,EAAS,IAAM,iCACfA,EAAS,IAAM,kCACfA,EAAS,IAAM,kCACfA,EAAS,IAAM,4BACfA,EAAS,IAAM,4BACfA,EAAS,IAAM,2BACfA,EAAS,IAAM,sBACfA,EAAS,IAAM,+BACfA,EAAS,IAAM,6BACfA,EAAS,IAAM,sBACfA,EAAS,IAAM,oBACfA,EAAS,IAAM,oBACfA,EAAS,IAAM,qBACfA,EAAS,IAAM,qBACfA,EAAS,IAAM,kBACfA,EAAS,IAAM,iBACfA,EAAS,IAAM,iBACfA,EAAS,IAAM,sBACfA,EAAS,IAAM,2BACfA,EAAS,IAAM,6BACfA,EAAS,IAAM,2BACfA,EAAS,IAAM,mBACfA,EAAS,IAAM,8BACfA,EAAS,IAAM,8BACfA,EAAS,IAAM,4BACf,EAAKpB,qBAAuBoB,EAE9B,OAAO,EAAKpB,sBAjI0B,KAmIxCqB,eAAiB,WA0Kf,OAzKK,EAAKtB,qBACR,EAAKA,mBAAqB,CACxB,wBACA,2BACA,8BACA,8BACA,wBACA,wBACA,8BACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,2BACA,8BACA,8BACA,8BACA,8BACA,8BACA,wBACA,2BACA,8BACA,8BACA,8BACA,wBACA,wBACA,8BACA,wBACA,8BACA,wBACA,sBACA,2BACA,wBACA,2BACA,wBACA,8BACA,wBACA,2BACA,wBACA,2BACA,wBACA,2BACA,wBACA,2BACA,8BACA,8BACA,wBACA,2BACA,wBACA,wBACA,wBACA,2BACA,2BACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,8BACA,wBACA,2BACA,wBACA,2BACA,2BACA,2BACA,wBACA,8BACA,uBACA,uBACA,uBACA,gCACA,wBACA,gCACA,gCACA,gCACA,gCACA,8BACA,wBACA,8BACA,6BACA,wBACA,8BACA,wBACA,wBACA,2BACA,8BACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,2BACA,wBACA,8BACA,8BACA,wBACA,8BACA,8B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","file":"static/js/main.6da61ce2.chunk.js","sourcesContent":["export const REQUEST_FAVORITES = \"REQUEST_FAVORITES\";\r\nexport const SUCCESS_FAVORITES = \"SUCCESS_FAVORITES\";\r\nexport const FAILURE_FAVORITES = \"FAILURE_FAVORITES\";\r\n\r\nexport interface DefaultFavoritesState {\r\n  data: IFavorite[];\r\n  error: string;\r\n  loading: boolean;\r\n  nextLoad: number;\r\n}\r\n\r\nexport interface IFavorite {\r\n  id: number;\r\n  title: string;\r\n  content: string;\r\n  author: string;\r\n  excerpt: string;\r\n  featured_img: string;\r\n  slug: string;\r\n  info: FavoriteInfo;\r\n}\r\ntype FavoriteInfo = {\r\n  series: string[];\r\n  instrument: string;\r\n  grade: string[];\r\n  genre: string[];\r\n  img: string[];\r\n  tags: string[];\r\n};\r\n\r\nexport interface RequestFavorites {\r\n  type: typeof REQUEST_FAVORITES;\r\n}\r\nexport interface SeccessFavorites {\r\n  type: typeof SUCCESS_FAVORITES;\r\n  payload: {\r\n    data: IFavorite[];\r\n    nextLoad: number;\r\n  }\r\n}\r\nexport interface FailureFavorites {\r\n  type: typeof FAILURE_FAVORITES;\r\n  error: string;\r\n}\r\n\r\nexport type FavoriteActionTypes =\r\n  | RequestFavorites\r\n  | SeccessFavorites\r\n  | FailureFavorites;\r\n","import { Dispatch } from \"redux\";\r\nimport {\r\n  REQUEST_POSTS,\r\n  SUCCESS_POSTS,\r\n  FAILURE_POSTS,\r\n  REQUEST_POST,\r\n  SUCCESS_POST,\r\n  FAILURE_POST,\r\n} from \"../_types/post.types\";\r\nimport { AppState } from \"../_types\";\r\nimport { AppActions } from \"../_types\";\r\nimport { getTheTime } from \"../_helpers/constants\";\r\nimport { errorHandler } from \"../components/Layout/SnackBar/alert\";\r\nimport { API } from \"../_helpers/api\";\r\n\r\nexport const requestAllPost = () => (\r\n  (dispatch: Dispatch<AppActions>, getState: () => AppState) => {\r\n    const postState = getState().bank.posts;\r\n    const currentTime = getTheTime();\r\n    const resetTime = currentTime - postState.nextLoad;\r\n    if (postState.data && resetTime <= 0) {\r\n      return;\r\n    }\r\n    dispatch({ type: REQUEST_POSTS });\r\n    API.get(`/post/v2`)\r\n      .then(res => dispatch({\r\n        type: SUCCESS_POSTS, payload: {\r\n          data: res.data,\r\n          nextLoad: getTheTime(10)\r\n        }\r\n      }))\r\n      .catch(err => errorHandler(err, FAILURE_POSTS))\r\n  }\r\n)\r\n\r\nexport const requestPost = (id: number) => (\r\n  (dispatch: Dispatch<AppActions>, getState: () => AppState) => {\r\n    const postState = getState().bank.posts.data;\r\n\r\n    const found = postState?.find(post => post.id === id);\r\n    if (found) {\r\n      dispatch({ type: SUCCESS_POST, data: found })\r\n    } else {\r\n      dispatch({ type: REQUEST_POST });\r\n      API.get(`/post/v2?id=${id}`)\r\n        .then((res) => dispatch({ type: SUCCESS_POST, data: res.data[0] }))\r\n        .catch(err => errorHandler(err, FAILURE_POST))\r\n    }\r\n  }\r\n)","import React, { useEffect, useState } from \"react\";\r\nimport { IconButton } from \"@material-ui/core\";\r\nimport { PauseCircleOutline, PlayCircleOutline } from \"@material-ui/icons\";\r\nimport { startPlayer, stopPlayer } from \"../../../_actions/player.actions\";\r\n\r\ninterface IPlayProps {\r\n  loading: boolean;\r\n}\r\nexport const PlayButton: React.FC<IPlayProps> = ({ loading }) => {\r\n  const [onAir, setOnAir] = useState(false);\r\n\r\n  const playHandler = () => {\r\n    if (onAir) {\r\n      stopPlayer();\r\n      setOnAir(false);\r\n    } else {\r\n      startPlayer();\r\n      setOnAir(true);\r\n    }\r\n  };\r\n  const keyboardUp = (e: KeyboardEvent) => {\r\n    if (e.code === \"Space\" && !loading) {\r\n      playHandler();\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    document.addEventListener(\"keyup\", keyboardUp);\r\n    return () => {\r\n      document.removeEventListener(\"keyup\", keyboardUp);\r\n    };\r\n  });\r\n  return (\r\n    <IconButton\r\n      id=\"play-button\"\r\n      color=\"secondary\"\r\n      aria-label=\"play song\"\r\n      onClick={playHandler}\r\n    >\r\n      {onAir ? (\r\n        <PauseCircleOutline style={{ fontSize: \"1.8em\" }} />\r\n      ) : (\r\n        <PlayCircleOutline style={{ fontSize: \"1.8em\" }} />\r\n      )}\r\n    </IconButton>\r\n  );\r\n};\r\n","import React, {\r\n  useState,\r\n  forwardRef,\r\n  useImperativeHandle,\r\n  useCallback,\r\n} from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport { AppActions, AppState } from \"../../../_types\";\r\nimport { canvasWheel, drawSeekBar } from \"../../../_actions/player.actions\";\r\nimport { IMelodition } from \"../../../_types/player.types\";\r\n\r\ntype SeekBarProps = ReturnType<typeof mapStateToProps> &\r\n  ReturnType<typeof mapDispatchToProps>;\r\n\r\nconst Seekbar: React.FC<SeekBarProps> = ({ Melo, drawSeekBar }) => {\r\n  const callback = useCallback(\r\n    (node: any) => {\r\n      if (node && Melo.seekLoading) {\r\n        drawSeekBar({ seekBar: node });\r\n      }\r\n      return () => {};\r\n    },\r\n    [Melo.seekLoading, drawSeekBar]\r\n  );\r\n\r\n  return <SeekInput ref={callback} Melo={Melo} />;\r\n};\r\nconst mapStateToProps = (state: AppState) => ({\r\n  Melo: state.melodition,\r\n});\r\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AppActions>) => ({\r\n  drawSeekBar: bindActionCreators(drawSeekBar, dispatch),\r\n});\r\nconst connectedSeekbar = connect(mapStateToProps, mapDispatchToProps)(Seekbar);\r\n\r\nexport default connectedSeekbar;\r\n\r\ninterface SeekInputProps {\r\n  Melo: IMelodition;\r\n}\r\nconst SeekInput = forwardRef<unknown, SeekInputProps>(({ Melo }, ref) => {\r\n  const [seek, setSeek] = useState(1);\r\n  useImperativeHandle(ref, () => {\r\n    return {\r\n      changeSeeker: changeSeeker,\r\n    };\r\n  });\r\n  const changeSeeker = (value: number) => {\r\n    if (typeof value === \"number\") {\r\n      setSeek(value);\r\n    }\r\n  };\r\n  const seekchanger = (value: number | number[]) => {\r\n    if (typeof value === \"number\") {\r\n      canvasWheel(value);\r\n    }\r\n  };\r\n  return (\r\n    <Slider\r\n      color=\"secondary\"\r\n      orientation=\"vertical\"\r\n      aria-label=\"seekbar\"\r\n      defaultValue={0}\r\n      max={Melo.songLength}\r\n      min={0}\r\n      onChange={(_, e) => seekchanger(e)}\r\n      aria-labelledby=\"vertical-slider\"\r\n      value={seek}\r\n    />\r\n  );\r\n});\r\n","const SvgKeys = [{\r\n  id: \"white\",\r\n  note: \"C\",\r\n  front: \"M0.5 0.5H42.5V155.5C42.5 156.881 43.6193 158 45 158H79.5V245C79.5 247.485 77.4853 249.5 75 249.5H5C2.51472 249.5 0.5 247.485 0.5 245V0.5Z\",\r\n  back: \"M45.1094 203.488C44.9336 204.992 44.377 206.154 43.4395 206.975C42.5085 207.788 41.2682 208.195 39.7188 208.195C38.0391 208.195 36.6914 207.593 35.6758 206.389C34.6667 205.184 34.1621 203.573 34.1621 201.555V200.188C34.1621 198.866 34.3965 197.704 34.8652 196.701C35.3405 195.699 36.0111 194.93 36.877 194.396C37.7428 193.856 38.7454 193.586 39.8848 193.586C41.3952 193.586 42.6061 194.009 43.5176 194.855C44.429 195.695 44.9596 196.861 45.1094 198.352H43.2246C43.0618 197.219 42.707 196.398 42.1602 195.891C41.6198 195.383 40.8613 195.129 39.8848 195.129C38.6868 195.129 37.7461 195.572 37.0625 196.457C36.3854 197.342 36.0469 198.602 36.0469 200.236V201.613C36.0469 203.156 36.3691 204.383 37.0137 205.295C37.6582 206.206 38.5599 206.662 39.7188 206.662C40.7604 206.662 41.5579 206.428 42.1113 205.959C42.6712 205.484 43.0423 204.66 43.2246 203.488H45.1094Z\",\r\n}, {\r\n  note: \"Db\",\r\n  id: \"black\",\r\n  front: \"M95 0H45V153C45 154.105 45.8954 155 47 155H93C94.1046 155 95 154.105 95 153V0Z\",\r\n  back: \"M79 130H61C52 130 52 150 52 150H88C88 150 88 130 79 130Z\",\r\n}, {\r\n  id: \"white\",\r\n  note: \"D\",\r\n  front: \"M150.5 0.5H97.5V155.5C97.5 156.881 96.3807 158 95 158H84.5V245C84.5 247.485 86.5147 249.5 89 249.5H159C161.485 249.5 163.5 247.485 163.5 245V158H153C151.619 158 150.5 156.881 150.5 155.5V0.5Z\",\r\n  back: \"M118.65 208V193.781H122.664C123.901 193.781 124.995 194.055 125.945 194.602C126.896 195.148 127.628 195.926 128.143 196.936C128.663 197.945 128.927 199.104 128.934 200.412V201.32C128.934 202.661 128.673 203.837 128.152 204.846C127.638 205.855 126.899 206.63 125.936 207.17C124.979 207.71 123.862 207.987 122.586 208H118.65ZM120.525 195.324V206.467H122.498C123.943 206.467 125.066 206.018 125.867 205.119C126.674 204.221 127.078 202.941 127.078 201.281V200.451C127.078 198.837 126.697 197.583 125.936 196.691C125.18 195.793 124.106 195.337 122.713 195.324H120.525Z\",\r\n}, {\r\n  note: \"Eb\",\r\n  id: \"black\",\r\n  front: \"M203 0H153V153C153 154.105 153.895 155 155 155H201C202.105 155 203 154.105 203 153V0Z\",\r\n  back: \"M187 130H169C160 130 160 150 160 150H196C196 150 196 130 187 130Z\",\r\n}, {\r\n  note: \"E\",\r\n  id: \"white\",\r\n  front: \"M247.5 0.5H205.5V155.5C205.5 156.881 204.381 158 203 158H168.5V245C168.5 247.485 170.515 249.5 173 249.5H243C245.485 249.5 247.5 247.485 247.5 245V0.5Z\",\r\n  back: \"M211.688 201.428H205.525V206.467H212.684V208H203.65V193.781H212.586V195.324H205.525V199.895H211.688V201.428Z\",\r\n}, {\r\n  note: \"F\",\r\n  id: \"white\",\r\n  front: \"M252.5 0.5H291.5V155.5C291.5 156.881 292.619 158 294 158H331.5V245C331.5 247.485 329.485 249.5 327 249.5H257C254.515 249.5 252.5 247.485 252.5 245V0.5Z\",\r\n  back: \"M295.492 201.721H289.525V208H287.65V193.781H296.459V195.324H289.525V200.188H295.492V201.721Z\",\r\n}, {\r\n  note: \"Gb\",\r\n  id: \"black\",\r\n  front: \"M344 0H294V153C294 154.105 294.895 155 296 155H342C343.105 155 344 154.105 344 153V0Z\",\r\n  back: \"M328 130H310C301 130 301 150 301 150H337C337 150 337 130 328 130Z\",\r\n}, {\r\n  note: \"G\",\r\n  id: \"white\",\r\n  front: \"M390.5 0.5H346.5V155.5C346.5 156.881 345.381 158 344 158H336.5V245C336.5 247.485 338.515 249.5 341 249.5H411C413.485 249.5 415.5 247.485 415.5 245V158H393C391.619 158 390.5 156.881 390.5 155.5V0.5Z\",\r\n  back: \"M381.148 206.135C380.667 206.825 379.993 207.342 379.127 207.688C378.268 208.026 377.265 208.195 376.119 208.195C374.96 208.195 373.932 207.925 373.033 207.385C372.135 206.838 371.438 206.063 370.943 205.061C370.455 204.058 370.204 202.896 370.191 201.574V200.334C370.191 198.192 370.689 196.532 371.686 195.354C372.688 194.175 374.094 193.586 375.904 193.586C377.389 193.586 378.583 193.967 379.488 194.729C380.393 195.484 380.947 196.558 381.148 197.951H379.273C378.922 196.07 377.802 195.129 375.914 195.129C374.658 195.129 373.704 195.572 373.053 196.457C372.408 197.336 372.083 198.612 372.076 200.285V201.447C372.076 203.042 372.441 204.312 373.17 205.256C373.899 206.193 374.885 206.662 376.129 206.662C376.832 206.662 377.447 206.584 377.975 206.428C378.502 206.271 378.938 206.008 379.283 205.637V202.443H375.992V200.92H381.148V206.135Z\",\r\n}, {\r\n  note: \"Ab\",\r\n  id: \"black\",\r\n  front: \"M443 0H393V153C393 154.105 393.895 155 395 155H441C442.105 155 443 154.105 443 153V0Z\",\r\n  back: \"M427 130H409C400 130 400 150 400 150H436C436 150 436 130 427 130Z\",\r\n}, {\r\n  note: \"A\",\r\n  id: \"white\",\r\n  front: \"M491.5 0.5H445.5V155.5C445.5 156.881 444.381 158 443 158H420.5V245C420.5 247.485 422.515 249.5 425 249.5H495C497.485 249.5 499.5 247.485 499.5 245V158H494C492.619 158 491.5 156.881 491.5 155.5V0.5Z\",\r\n  back: \"M462.502 204.289H456.545L455.207 208H453.273L458.703 193.781H460.344L465.783 208H463.859L462.502 204.289ZM457.111 202.746H461.945L459.523 196.096L457.111 202.746Z\",\r\n}, {\r\n  note: \"Bb\",\r\n  id: \"black\",\r\n  front: \"M544 0H494V153C494 154.105 494.895 155 496 155H542C543.105 155 544 154.105 544 153V0Z\",\r\n  back: \"M528 130H510C501 130 501 150 501 150H537C537 150 537 130 528 130Z\",\r\n}, {\r\n  note: \"B\",\r\n  id: \"white\",\r\n  front: \"M583.5 0.5H546.5V155.5C546.5 156.881 545.381 158 544 158H504.5V245C504.5 247.485 506.515 249.5 509 249.5H579C581.485 249.5 583.5 247.485 583.5 245V0.5Z\",\r\n  back: \"M538.65 208V193.781H543.299C544.842 193.781 546.001 194.1 546.775 194.738C547.557 195.376 547.947 196.32 547.947 197.57C547.947 198.234 547.758 198.824 547.381 199.338C547.003 199.846 546.489 200.24 545.838 200.52C546.606 200.734 547.212 201.145 547.654 201.75C548.104 202.349 548.328 203.065 548.328 203.898C548.328 205.174 547.915 206.177 547.088 206.906C546.261 207.635 545.092 208 543.582 208H538.65ZM540.525 201.35V206.467H543.621C544.493 206.467 545.18 206.242 545.682 205.793C546.189 205.337 546.443 204.712 546.443 203.918C546.443 202.206 545.512 201.35 543.65 201.35H540.525ZM540.525 199.846H543.357C544.178 199.846 544.832 199.641 545.32 199.23C545.815 198.82 546.062 198.264 546.062 197.561C546.062 196.779 545.835 196.213 545.379 195.861C544.923 195.503 544.23 195.324 543.299 195.324H540.525V199.846Z\",\r\n}];\r\n\r\nexport default SvgKeys;\r\n\r\nexport const LastKey = {\r\n  note: \"C2\",\r\n  id: \"white\",\r\n  front: \"M663 249.5H593C590.515 249.5 588.5 247.485 588.5 245V0.5H667.5V245C667.5 247.485 665.485 249.5 663 249.5Z\",\r\n  back: \"M633.109 203.488C632.934 204.992 632.377 206.154 631.439 206.975C630.508 207.788 629.268 208.195 627.719 208.195C626.039 208.195 624.691 207.593 623.676 206.389C622.667 205.184 622.162 203.573 622.162 201.555V200.188C622.162 198.866 622.396 197.704 622.865 196.701C623.34 195.699 624.011 194.93 624.877 194.396C625.743 193.856 626.745 193.586 627.885 193.586C629.395 193.586 630.606 194.009 631.518 194.855C632.429 195.695 632.96 196.861 633.109 198.352H631.225C631.062 197.219 630.707 196.398 630.16 195.891C629.62 195.383 628.861 195.129 627.885 195.129C626.687 195.129 625.746 195.572 625.062 196.457C624.385 197.342 624.047 198.602 624.047 200.236V201.613C624.047 203.156 624.369 204.383 625.014 205.295C625.658 206.206 626.56 206.662 627.719 206.662C628.76 206.662 629.558 206.428 630.111 205.959C630.671 205.484 631.042 204.66 631.225 203.488H633.109Z\",\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core\";\r\nimport SvgKeys, { LastKey } from \"../Finger/SvgKeys\";\r\nimport {\r\n  midiNoteOff,\r\n  midiNoteOn,\r\n  drawPiano,\r\n} from \"../../../../_actions/player.actions\";\r\nimport { ICanvas } from \"../../../../_types/player.types\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { AppActions, AppState } from \"../../../../_types\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      flexDirection: \"row-reverse\",\r\n      justifyContent: \"center\",\r\n      flexWrap: \"nowrap\",\r\n      margin: \"0 auto\",\r\n      minWidth: \"215px\",\r\n      width: \"100%\",\r\n    },\r\n    back: {\r\n      margin: theme.spacing(0, 2),\r\n    },\r\n  })\r\n);\r\n\r\ntype Props = ReturnType<typeof mapStateToProps> &\r\n  ReturnType<typeof mapDispatchToProps>;\r\n\r\nconst Piano: React.FC<Props> = (props) => {\r\n  const { theme, Melo, drawPiano } = props;\r\n\r\n  let isDown = false;\r\n  let playedKey: any = null;\r\n  const emulatedKeys = {\r\n    z: 48,\r\n    s: 49,\r\n    x: 50,\r\n    d: 51,\r\n    c: 52,\r\n    v: 53,\r\n    g: 54,\r\n    b: 55,\r\n    h: 56,\r\n    n: 57,\r\n    j: 58,\r\n    m: 59,\r\n    \",\": 60,\r\n    l: 61,\r\n    \".\": 62,\r\n    \";\": 63,\r\n    \"/\": 64,\r\n    q: 65,\r\n    2: 66,\r\n    w: 67,\r\n    3: 68,\r\n    e: 69,\r\n    4: 70,\r\n    r: 71,\r\n    t: 72,\r\n    6: 73,\r\n    y: 74,\r\n    7: 75,\r\n    u: 76,\r\n    i: 77,\r\n    9: 78,\r\n    o: 79,\r\n    0: 80,\r\n    p: 81,\r\n    \"-\": 82,\r\n    \"[\": 83,\r\n    \"]\": 84,\r\n  };\r\n  let counter = 35;\r\n  let firstkey = 36;\r\n  const KeysArray = {} as SVGGElement[];\r\n\r\n  const keyboardUp = (e: KeyboardEvent) => {\r\n    const key = e.key as keyof typeof emulatedKeys;\r\n    if (emulatedKeys.hasOwnProperty(key)) {\r\n      const note = emulatedKeys[key];\r\n      midiNoteOff(note);\r\n      playedKey = null;\r\n    }\r\n  };\r\n  const keyboardDown = (e: KeyboardEvent) => {\r\n    const key = e.key as keyof typeof emulatedKeys;\r\n    if (emulatedKeys.hasOwnProperty(key)) {\r\n      if (key !== playedKey) {\r\n        const note = emulatedKeys[key];\r\n        midiNoteOn(note);\r\n        playedKey = key;\r\n      }\r\n    }\r\n  };\r\n\r\n  const mouseUpReset = () => {\r\n    isDown = false;\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", keyboardDown);\r\n    document.addEventListener(\"keyup\", keyboardUp);\r\n    document.addEventListener(\"mouseup\", mouseUpReset);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", keyboardDown);\r\n      document.removeEventListener(\"keyup\", keyboardUp);\r\n    };\r\n  });\r\n\r\n  const classes = useStyles();\r\n\r\n  const mouseDown = (e: React.MouseEvent<SVGGElement, MouseEvent>) => {\r\n    e.preventDefault();\r\n    const ref: SVGGElement = e.currentTarget;\r\n    const note = ref.tabIndex;\r\n    isDown = true;\r\n    playedKey = note;\r\n    midiNoteOn(note);\r\n  };\r\n  const mouseOver = (e: React.MouseEvent<SVGGElement, MouseEvent>) => {\r\n    e.preventDefault();\r\n    const ref: SVGGElement = e.currentTarget;\r\n    const note = ref.tabIndex;\r\n    if (isDown && note !== playedKey) {\r\n      playedKey = note;\r\n      midiNoteOn(note);\r\n    }\r\n  };\r\n  const mouseLeave = (e: React.MouseEvent<SVGGElement, MouseEvent>) => {\r\n    e.preventDefault();\r\n    const ref: SVGGElement = e.currentTarget;\r\n    const note = ref.tabIndex;\r\n    if (isDown) {\r\n      midiNoteOff(note);\r\n      playedKey = null;\r\n    }\r\n  };\r\n  const mouseUp = (e: React.MouseEvent<SVGGElement, MouseEvent>) => {\r\n    e.preventDefault();\r\n    const ref: SVGGElement = e.currentTarget;\r\n    const note = ref.tabIndex;\r\n    isDown = false;\r\n    midiNoteOff(note);\r\n    playedKey = null;\r\n  };\r\n  const svgWidth = (i: number) => {\r\n    const num = i === 1 ? 668 : 584;\r\n    return num;\r\n  };\r\n  const counterFunction = (octSize: number) => {\r\n    if (octSize > 6) {\r\n      counter = 23;\r\n      firstkey = 24;\r\n    } else if (octSize > 3) {\r\n      counter = 35;\r\n      firstkey = 36;\r\n    } else if (octSize > 1) {\r\n      counter = 47;\r\n      firstkey = 48;\r\n    } else {\r\n      counter = 59;\r\n      firstkey = 60;\r\n    }\r\n  };\r\n  const detectSize = (height: number) => {\r\n    if (height > 700) {\r\n      return height / 16;\r\n    } else if (height > 500) {\r\n      return height / 16;\r\n    } else if (height > 300) {\r\n      return height / 16;\r\n    } else if (height > 100) {\r\n      return height / 16;\r\n    } else {\r\n      return height / 16;\r\n    }\r\n  };\r\n  const setKeyRef = (ref: SVGGElement | null) => {\r\n    if (ref) {\r\n      const key = ref.tabIndex;\r\n      KeysArray[key] = ref;\r\n    }\r\n  };\r\n  const setRef = (ref: HTMLDivElement) => {\r\n    if (ref && Melo.pianoLoading) {\r\n      if (Melo.playMode) {\r\n        const pianoSize = ref.getBoundingClientRect();\r\n        const width = pianoSize.width;\r\n        const height = Math.floor(window.innerHeight - (pianoSize.height + 64));\r\n        const tapSize = detectSize(height);\r\n        const baseLine = tapSize * 4 + 8;\r\n        const pianoLeft = pianoSize.left;\r\n        const canvas = { width, height, baseLine, pianoLeft };\r\n        pianoSizes(KeysArray, canvas, tapSize);\r\n      } else {\r\n        pianoSizes(KeysArray);\r\n      }\r\n    }\r\n  };\r\n  const pianoSizes = (\r\n    keyRefs: SVGGElement[],\r\n    canvasSize?: ICanvas,\r\n    tapSize?: number\r\n  ) => {\r\n    drawPiano(keyRefs, canvasSize, tapSize);\r\n  };\r\n  const themer = theme === \"dark\" ? 1 : 0;\r\n  counterFunction(Melo.octave);\r\n  return (\r\n    <div\r\n      ref={setRef}\r\n      className={classes.root}\r\n      style={{ filter: `invert(${themer})` }}\r\n    >\r\n      {Array.from(Array(Melo.octave), (_, i) => \"oct\" + (i + 1)).map(\r\n        (key, i) => (\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            id={key}\r\n            key={key}\r\n            width={svgWidth(Melo.octave - i)}\r\n            height=\"100%\"\r\n            viewBox={`0 0 ${svgWidth(Melo.octave - i)} 275`}\r\n            fill=\"none\"\r\n            style={\r\n              i !== Melo.octave - 1\r\n                ? { marginRight: 8 / Melo.octave }\r\n                : undefined\r\n            }\r\n          >\r\n            {SvgKeys.map((k) => (\r\n              <g\r\n                key={key + \"-\" + k.note}\r\n                id={k.id}\r\n                tabIndex={++counter}\r\n                onMouseDown={mouseDown}\r\n                onMouseUp={mouseUp}\r\n                onMouseLeave={mouseLeave}\r\n                onMouseOver={mouseOver}\r\n                className={counter === firstkey ? \"first\" : k.note}\r\n                ref={setKeyRef}\r\n              >\r\n                <path\r\n                  id=\"back\"\r\n                  d={k.front}\r\n                  fill={k.id}\r\n                  stroke={k.id === \"white\" ? \"#B5B5B5\" : undefined}\r\n                />\r\n                <path\r\n                  id=\"front\"\r\n                  d={k.back}\r\n                  fill={k.id === \"white\" ? \"black\" : \"rgb(255 255 255 / 65%)\"}\r\n                />\r\n                {counter === 60 ? (\r\n                  <polygon points={\"30,265 40,255 50,265\"} fill={\"black\"} />\r\n                ) : null}\r\n              </g>\r\n            ))}\r\n            {Melo.octave - i === 1 ? (\r\n              <g\r\n                id=\"C\"\r\n                className=\"last\"\r\n                tabIndex={++counter}\r\n                onMouseDown={mouseDown}\r\n                onMouseUp={mouseUp}\r\n                onMouseLeave={mouseLeave}\r\n                onMouseOver={mouseOver}\r\n                ref={setKeyRef}\r\n              >\r\n                <path\r\n                  id=\"back\"\r\n                  d={LastKey.front}\r\n                  fill=\"white\"\r\n                  stroke=\"#B5B5B5\"\r\n                />\r\n                <path id=\"front\" d={LastKey.back} fill=\"black\" />\r\n              </g>\r\n            ) : null}\r\n          </svg>\r\n        )\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: AppState) => ({\r\n  theme: state.auth.theme,\r\n  Melo: state.melodition,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AppActions>) => ({\r\n  drawPiano: bindActionCreators(drawPiano, dispatch),\r\n});\r\n\r\nconst connectedPiano = connect(mapStateToProps, mapDispatchToProps)(Piano);\r\n\r\nexport default connectedPiano;\r\n","module.exports = __webpack_public_path__ + \"static/media/melodition.7fdc0c11.jpg\";","export default class Song {\n  volume = 1;\n  tracks: any[] = [];\n  analyserNode: any;\n  sampleNodes: any[] = [];\n  masterVolumeNode: any;\n  paused: boolean = true;\n  muted: boolean = false;\n  loopEndTime: any = null;\n  loopMode: boolean = false;\n  loopStartTime: any = null;\n  audioContext: AudioContext;\n  trackVolumeNodes: any[] = [];\n  elapsedTimeSinceStart: any = null;\n  decodedAudioBuffers: AudioBuffer[] | [] = [];\n\n  constructor(audioContext: AudioContext) {\n    this.audioContext = audioContext;\n    this.masterVolumeNode = this.audioContext.createGain();\n    this.analyserNode = this.audioContext.createAnalyser();\n  }\n  addTrack = (data: any) => {\n    this.tracks.push({\n      decodedBuffer: data.buffer,\n      peaks: null,\n      volume: data.vol,\n      panning: 0,\n      muted: false,\n      solo: false,\n      sampleNode: null,\n      volumeNode: null,\n    });\n  };\n  loadBuffer = async (data: any) => {\n    const song = this;\n    await this.audioContext.decodeAudioData(\n      data.buffer,\n      (buffer) => {\n        if (!buffer) {\n          Promise.reject(\"error decoding file data: \");\n        }\n        this.decodedAudioBuffers = [...this.decodedAudioBuffers, buffer];\n        this.addTrack({ buffer, vol: data.vol })\n        Promise.resolve(song);\n      },\n      (error) => Promise.reject(error)\n    );\n  };\n  buildGraph = () => {\n    var sources = [];\n    for (var i = 0; i < this.decodedAudioBuffers.length; i++) {\n      var sample = this.decodedAudioBuffers[i];\n      sources[i] = this.audioContext.createBufferSource();\n      sources[i].buffer = sample;\n      this.trackVolumeNodes[i] = this.audioContext.createGain();\n      if (this.trackVolumeNodes[i]) {\n        this.trackVolumeNodes[i].gain.value = this.tracks[i].volume;\n      }\n      sources[i].connect(this.trackVolumeNodes[i]);\n      this.trackVolumeNodes[i].connect(this.masterVolumeNode);\n      this.masterVolumeNode.connect(this.analyserNode);\n      this.analyserNode.connect(this.audioContext.destination);\n    }\n    this.sampleNodes = sources;\n  };\n  play = (startTime: number) => {\n    this.buildGraph();\n    this.setTrackVolumesDependingOnMuteSoloStatus();\n    this.elapsedTimeSinceStart = startTime;\n    this.sampleNodes.forEach((s) => {\n      s.start(0, startTime);\n    });\n    this.paused = false;\n  };\n  stop = () => {\n    if (this.paused === true) return;\n    this.sampleNodes.forEach((s) => {\n      s.stop(0);\n    });\n    this.paused = true;\n  };\n  pause = () => {\n    if (!this.paused) {\n      this.stop();\n    } else {\n      this.play(this.elapsedTimeSinceStart);\n    }\n  };\n  setVolume = (value: number) => {\n    this.volume = value;\n    this.masterVolumeNode.gain.value = value;\n  };\n  setMasterVolume = (val: number) => {\n    var fraction;\n    if (val === undefined) {\n      fraction = 80 / 100;\n    } else {\n      fraction = val / 100;\n    }\n    this.setVolume(fraction * fraction);\n  };\n  setVolumeOfTrack = (value: number, trackNumber: number) => {\n    if (this.trackVolumeNodes[trackNumber] !== undefined) {\n      this.trackVolumeNodes[trackNumber].gain.value = value;\n      this.tracks[trackNumber].volume = value;\n    }\n  };\n  getUrlsOfTracks = () => {\n    var urls: string[] = [];\n    this.tracks.forEach((track) => {\n      urls.push(track.url);\n    });\n    return urls;\n  };\n  getDuration = () => {\n    if (this.decodedAudioBuffers !== undefined) {\n      let dur = 0;\n      for (let i = 0; i < this.decodedAudioBuffers.length; i++) {\n        if (dur < this.decodedAudioBuffers[i].duration)\n          dur = this.decodedAudioBuffers[i].duration;\n      }\n      return dur;\n    }\n    return undefined;\n  };\n  getNbTracks = () => {\n    return this.tracks.length;\n  };\n  toggleLoopMode = () => {\n    this.loopMode = !this.loopMode;\n  };\n  toggleMute = () => {\n    this.muted = !this.muted;\n    if (this.muted) {\n      this.masterVolumeNode.gain.value = 0;\n    } else {\n      this.masterVolumeNode.gain.value = this.volume;\n    }\n  };\n  togglePause = () => {\n    this.paused = !this.paused;\n  };\n  setTrackVolumesDependingOnMuteSoloStatus = () => {\n    var thereIsSolo = false;\n    var nbTracks = this.getNbTracks();\n    for (var i = 0; i < nbTracks; i++) {\n      if (this.tracks[i].solo) {\n        thereIsSolo = true;\n        break;\n      }\n    }\n    if (thereIsSolo) {\n      for (let i = 0; i < nbTracks; i++) {\n        if (this.tracks[i].solo) {\n          this.trackVolumeNodes[i].gain.value = this.tracks[i].volume;\n        } else {\n          this.trackVolumeNodes[i].gain.value = 0;\n        }\n      }\n      return;\n    }\n    for (let i = 0; i < nbTracks; i++) {\n      if (this.trackVolumeNodes[i] !== undefined) {\n        if (this.tracks[i].muted) {\n          this.trackVolumeNodes[i].gain.value = 0;\n        } else {\n          this.trackVolumeNodes[i].gain.value = this.tracks[i].volume;\n        }\n      }\n    }\n  };\n}","import { IQueue, IEnvelope, ISetup } from \"../../_types/player.types\";\r\n\r\nexport class WebAudioFontChannel {\r\n  audioContext: AudioContext;\r\n  input: any;\r\n  band32: any;\r\n  band64: any;\r\n  band128: any;\r\n  band256: any;\r\n  band512: any;\r\n  band1k: any;\r\n  band2k: any;\r\n  band4k: any;\r\n  band8k: any;\r\n  band16k: any;\r\n  output: any;\r\n  constructor(audioContext: AudioContext) {\r\n    console.log(\"WebAudioFont Channel v1.04\");\r\n    this.audioContext = audioContext;\r\n    this.input = this.audioContext.createDynamicsCompressor();\r\n    this.input.threshold.setValueAtTime(-3, 0); // = -3; //-50\r\n    this.input.knee.setValueAtTime(30, 0); //40\r\n    this.input.ratio.setValueAtTime(12, 0); //12\r\n    this.input.attack.setValueAtTime(0.05, 0); //0\r\n    this.input.release.setValueAtTime(0.08, 0); //0.25\r\n    this.band32 = this.bandEqualizer(this.input, 32);\r\n    this.band64 = this.bandEqualizer(this.band32, 64);\r\n    this.band128 = this.bandEqualizer(this.band64, 128);\r\n    this.band256 = this.bandEqualizer(this.band128, 256);\r\n    this.band512 = this.bandEqualizer(this.band256, 512);\r\n    this.band1k = this.bandEqualizer(this.band512, 1024);\r\n    this.band2k = this.bandEqualizer(this.band1k, 2048);\r\n    this.band4k = this.bandEqualizer(this.band2k, 4096);\r\n    this.band8k = this.bandEqualizer(this.band4k, 8192);\r\n    this.band16k = this.bandEqualizer(this.band8k, 16384);\r\n    this.output = audioContext.createGain();\r\n    this.band16k.connect(this.output);\r\n  }\r\n  bandEqualizer = (from: any, frequency: any) => {\r\n    var filter = this.audioContext.createBiquadFilter();\r\n    filter.frequency.setTargetAtTime(frequency, 0, 0.0001);\r\n    filter.type = \"peaking\";\r\n    filter.gain.setTargetAtTime(0, 0, 0.0001);\r\n    filter.Q.setTargetAtTime(1.0, 0, 0.0001);\r\n    from.connect(filter);\r\n    return filter;\r\n  };\r\n}\r\nexport class WebAudioFontLoader {\r\n  player: any;\r\n  cached: { filePath: any, variableName: any }[];\r\n  choosenInfos?: [number, number][];\r\n  drumKeyArray?: string[];\r\n  drumNamesArray?: string[];\r\n  instrumentKeyArray?: string[];\r\n  instrumentNamesArray?: string[];\r\n  constructor(player: WebAudioFontPlayer) {\r\n    console.log(\"WebAudioFont Loader v1.27\");\r\n    this.player = player;\r\n    this.cached = [];\r\n  }\r\n  startLoad = (filePath: string, variableName: any) => {\r\n    if (window[variableName]) {\r\n      return;\r\n    }\r\n    for (var i = 0; i < this.cached.length; i++) {\r\n      if (this.cached[i].variableName === variableName) {\r\n        return;\r\n      }\r\n    }\r\n    this.cached.push({\r\n      filePath: filePath,\r\n      variableName: variableName,\r\n    });\r\n    var r = document.createElement(\"script\");\r\n    r.setAttribute(\"type\", \"text/javascript\");\r\n    r.setAttribute(\"src\", filePath);\r\n    document.getElementsByTagName(\"head\")[0].appendChild(r);\r\n    this.decodeAfterLoading(variableName);\r\n  };\r\n  decodeAfterLoading = (variableName: any) => {\r\n    this.waitOrFinish(variableName, () => {\r\n      this.player.adjustPreset(window[variableName]);\r\n    });\r\n  };\r\n  waitOrFinish = (variableName: any, onFinish: () => void) => {\r\n    if (window[variableName]) {\r\n      onFinish();\r\n    } else {\r\n      var me = this;\r\n      setTimeout(function () {\r\n        me.waitOrFinish(variableName, onFinish);\r\n      }, 111);\r\n    }\r\n  };\r\n  loaded = (variableName: any) => {\r\n    if (!window[variableName]) {\r\n      return false;\r\n    }\r\n    var preset = window[variableName];\r\n    for (var i = 0; i < preset.zones.length; i++) {\r\n      if (!preset.zones[i].buffer) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n  progress = () => {\r\n    if (this.cached.length > 0) {\r\n      for (var k = 0; k < this.cached.length; k++) {\r\n        if (!this.loaded(this.cached[k].variableName)) {\r\n          return k / this.cached.length;\r\n        }\r\n      }\r\n      return 1;\r\n    } else {\r\n      return 1;\r\n    }\r\n  };\r\n  waitLoad = (onFinish: () => void) => {\r\n    var me = this;\r\n    if (this.progress() >= 1) {\r\n      onFinish();\r\n    } else {\r\n      setTimeout(function () {\r\n        me.waitLoad(onFinish);\r\n      }, 333);\r\n    }\r\n  };\r\n  instrumentTitles = () => {\r\n    if (!this.instrumentNamesArray) {\r\n      var insNames = [];\r\n      insNames[0] = \"Acoustic Grand Piano: Piano\";\r\n      insNames[1] = \"Bright Acoustic Piano: Piano\";\r\n      insNames[2] = \"Electric Grand Piano: Piano\";\r\n      insNames[3] = \"Honky-tonk Piano: Piano\";\r\n      insNames[4] = \"Electric Piano 1: Piano\";\r\n      insNames[5] = \"Electric Piano 2: Piano\";\r\n      insNames[6] = \"Harpsichord: Piano\";\r\n      insNames[7] = \"Clavinet: Piano\";\r\n      insNames[8] = \"Celesta: Chromatic Percussion\";\r\n      insNames[9] = \"Glockenspiel: Chromatic Percussion\";\r\n      insNames[10] = \"Music Box: Chromatic Percussion\";\r\n      insNames[11] = \"Vibraphone: Chromatic Percussion\";\r\n      insNames[12] = \"Marimba: Chromatic Percussion\";\r\n      insNames[13] = \"Xylophone: Chromatic Percussion\";\r\n      insNames[14] = \"Tubular Bells: Chromatic Percussion\";\r\n      insNames[15] = \"Dulcimer: Chromatic Percussion\";\r\n      insNames[16] = \"Drawbar Organ: Organ\";\r\n      insNames[17] = \"Percussive Organ: Organ\";\r\n      insNames[18] = \"Rock Organ: Organ\";\r\n      insNames[19] = \"Church Organ: Organ\";\r\n      insNames[20] = \"Reed Organ: Organ\";\r\n      insNames[21] = \"Accordion: Organ\";\r\n      insNames[22] = \"Harmonica: Organ\";\r\n      insNames[23] = \"Tango Accordion: Organ\";\r\n      insNames[24] = \"Acoustic Guitar (nylon): Guitar\";\r\n      insNames[25] = \"Acoustic Guitar (steel): Guitar\";\r\n      insNames[26] = \"Electric Guitar (jazz): Guitar\";\r\n      insNames[27] = \"Electric Guitar (clean): Guitar\";\r\n      insNames[28] = \"Electric Guitar (muted): Guitar\";\r\n      insNames[29] = \"Overdriven Guitar: Guitar\";\r\n      insNames[30] = \"Distortion Guitar: Guitar\";\r\n      insNames[31] = \"Guitar Harmonics: Guitar\";\r\n      insNames[32] = \"Acoustic Bass: Bass\";\r\n      insNames[33] = \"Electric Bass (finger): Bass\";\r\n      insNames[34] = \"Electric Bass (pick): Bass\";\r\n      insNames[35] = \"Fretless Bass: Bass\";\r\n      insNames[36] = \"Slap Bass 1: Bass\";\r\n      insNames[37] = \"Slap Bass 2: Bass\";\r\n      insNames[38] = \"Synth Bass 1: Bass\";\r\n      insNames[39] = \"Synth Bass 2: Bass\";\r\n      insNames[40] = \"Violin: Strings\";\r\n      insNames[41] = \"Viola: Strings\";\r\n      insNames[42] = \"Cello: Strings\";\r\n      insNames[43] = \"Contrabass: Strings\";\r\n      insNames[44] = \"Tremolo Strings: Strings\";\r\n      insNames[45] = \"Pizzicato Strings: Strings\";\r\n      insNames[46] = \"Orchestral Harp: Strings\";\r\n      insNames[47] = \"Timpani: Strings\";\r\n      insNames[48] = \"String Ensemble 1: Ensemble\";\r\n      insNames[49] = \"String Ensemble 2: Ensemble\";\r\n      insNames[50] = \"Synth Strings 1: Ensemble\";\r\n      this.instrumentNamesArray = insNames;\r\n    }\r\n    return this.instrumentNamesArray;\r\n  };\r\n  instrumentKeys = () => {\r\n    if (!this.instrumentKeyArray) {\r\n      this.instrumentKeyArray = [\r\n        \"0000_Aspirin_sf2_file\",\r\n        \"0001_FluidR3_GM_sf2_file\",\r\n        \"0002_GeneralUserGS_sf2_file\",\r\n        \"0003_GeneralUserGS_sf2_file\",\r\n        \"0010_Aspirin_sf2_file\",\r\n        \"0011_Aspirin_sf2_file\",\r\n        \"0012_GeneralUserGS_sf2_file\",\r\n        \"0020_Aspirin_sf2_file\",\r\n        \"0021_Aspirin_sf2_file\",\r\n        \"0022_Aspirin_sf2_file\",\r\n        \"0030_Aspirin_sf2_file\",\r\n        \"0031_Aspirin_sf2_file\",\r\n        \"0040_Aspirin_sf2_file\",\r\n        \"0041_FluidR3_GM_sf2_file\",\r\n        \"0042_GeneralUserGS_sf2_file\",\r\n        \"0043_GeneralUserGS_sf2_file\",\r\n        \"0044_GeneralUserGS_sf2_file\",\r\n        \"0045_GeneralUserGS_sf2_file\",\r\n        \"0046_GeneralUserGS_sf2_file\",\r\n        \"0050_Aspirin_sf2_file\",\r\n        \"0051_FluidR3_GM_sf2_file\",\r\n        \"0052_GeneralUserGS_sf2_file\",\r\n        \"0053_GeneralUserGS_sf2_file\",\r\n        \"0054_GeneralUserGS_sf2_file\",\r\n        \"0060_Aspirin_sf2_file\",\r\n        \"0061_Aspirin_sf2_file\",\r\n        \"0062_GeneralUserGS_sf2_file\",\r\n        \"0070_Aspirin_sf2_file\",\r\n        \"0071_GeneralUserGS_sf2_file\",\r\n        \"0080_Aspirin_sf2_file\",\r\n        \"0080_Chaos_sf2_file\",\r\n        \"0081_FluidR3_GM_sf2_file\",\r\n        \"0090_Aspirin_sf2_file\",\r\n        \"0091_SoundBlasterOld_sf2\",\r\n        \"0100_Aspirin_sf2_file\",\r\n        \"0101_GeneralUserGS_sf2_file\",\r\n        \"0110_Aspirin_sf2_file\",\r\n        \"0111_FluidR3_GM_sf2_file\",\r\n        \"0120_Aspirin_sf2_file\",\r\n        \"0121_FluidR3_GM_sf2_file\",\r\n        \"0130_Aspirin_sf2_file\",\r\n        \"0131_FluidR3_GM_sf2_file\",\r\n        \"0140_Aspirin_sf2_file\",\r\n        \"0141_FluidR3_GM_sf2_file\",\r\n        \"0142_GeneralUserGS_sf2_file\",\r\n        \"0143_GeneralUserGS_sf2_file\",\r\n        \"0150_Aspirin_sf2_file\",\r\n        \"0151_FluidR3_GM_sf2_file\",\r\n        \"0160_Aspirin_sf2_file\",\r\n        \"0161_Aspirin_sf2_file\",\r\n        \"0170_Aspirin_sf2_file\",\r\n        \"0171_FluidR3_GM_sf2_file\",\r\n        \"0172_FluidR3_GM_sf2_file\",\r\n        \"0180_Aspirin_sf2_file\",\r\n        \"0181_Aspirin_sf2_file\",\r\n        \"0190_Aspirin_sf2_file\",\r\n        \"0191_Aspirin_sf2_file\",\r\n        \"0200_Aspirin_sf2_file\",\r\n        \"0201_Aspirin_sf2_file\",\r\n        \"0210_Aspirin_sf2_file\",\r\n        \"0211_Aspirin_sf2_file\",\r\n        \"0212_GeneralUserGS_sf2_file\",\r\n        \"0220_Aspirin_sf2_file\",\r\n        \"0221_FluidR3_GM_sf2_file\",\r\n        \"0230_Aspirin_sf2_file\",\r\n        \"0231_FluidR3_GM_sf2_file\",\r\n        \"0232_FluidR3_GM_sf2_file\",\r\n        \"0233_FluidR3_GM_sf2_file\",\r\n        \"0240_Aspirin_sf2_file\",\r\n        \"0241_GeneralUserGS_sf2_file\",\r\n        \"0241_JCLive_sf2_file\",\r\n        \"0242_JCLive_sf2_file\",\r\n        \"0243_JCLive_sf2_file\",\r\n        \"0253_Acoustic_Guitar_sf2_file\",\r\n        \"0250_Aspirin_sf2_file\",\r\n        \"0251_Acoustic_Guitar_sf2_file\",\r\n        \"0252_Acoustic_Guitar_sf2_file\",\r\n        \"0253_Acoustic_Guitar_sf2_file\",\r\n        \"0254_Acoustic_Guitar_sf2_file\",\r\n        \"0255_GeneralUserGS_sf2_file\",\r\n        \"0260_Aspirin_sf2_file\",\r\n        \"0261_GeneralUserGS_sf2_file\",\r\n        \"0262_Stratocaster_sf2_file\",\r\n        \"0270_Aspirin_sf2_file\",\r\n        \"0271_GeneralUserGS_sf2_file\",\r\n        \"0280_Aspirin_sf2_file\",\r\n        \"0281_Aspirin_sf2_file\",\r\n        \"0282_FluidR3_GM_sf2_file\",\r\n        \"0283_GeneralUserGS_sf2_file\",\r\n        \"0290_Aspirin_sf2_file\",\r\n        \"0291_Aspirin_sf2_file\",\r\n        \"0292_Aspirin_sf2_file\",\r\n        \"0300_Aspirin_sf2_file\",\r\n        \"0301_Aspirin_sf2_file\",\r\n        \"0302_Aspirin_sf2_file\",\r\n        \"0303_Aspirin_sf2_file\",\r\n        \"0304_Aspirin_sf2_file\",\r\n        \"0310_Aspirin_sf2_file\",\r\n        \"0311_FluidR3_GM_sf2_file\",\r\n        \"0320_Aspirin_sf2_file\",\r\n        \"0321_GeneralUserGS_sf2_file\",\r\n        \"0322_GeneralUserGS_sf2_file\",\r\n        \"0330_Aspirin_sf2_file\",\r\n        \"0331_GeneralUserGS_sf2_file\",\r\n        \"0332_GeneralUserGS_sf2_file\",\r\n        \"0340_Aspirin_sf2_file\",\r\n        \"0341_Aspirin_sf2_file\",\r\n        \"0350_Aspirin_sf2_file\",\r\n        \"0351_GeneralUserGS_sf2_file\",\r\n        \"0360_Aspirin_sf2_file\",\r\n        \"0361_GeneralUserGS_sf2_file\",\r\n        \"0370_Aspirin_sf2_file\",\r\n        \"0371_GeneralUserGS_sf2_file\",\r\n        \"0372_GeneralUserGS_sf2_file\",\r\n        \"0380_Aspirin_sf2_file\",\r\n        \"0381_FluidR3_GM_sf2_file\",\r\n        \"0382_FluidR3_GM_sf2_file\",\r\n        \"0383_GeneralUserGS_sf2_file\",\r\n        \"0384_GeneralUserGS_sf2_file\",\r\n        \"0385_GeneralUserGS_sf2_file\",\r\n        \"0386_GeneralUserGS_sf2_file\",\r\n        \"0387_GeneralUserGS_sf2_file\",\r\n        \"0390_Aspirin_sf2_file\",\r\n        \"0391_FluidR3_GM_sf2_file\",\r\n        \"0392_FluidR3_GM_sf2_file\",\r\n        \"0393_GeneralUserGS_sf2_file\",\r\n        \"0400_Aspirin_sf2_file\",\r\n        \"0401_Aspirin_sf2_file\",\r\n        \"0402_GeneralUserGS_sf2_file\",\r\n        \"0410_Aspirin_sf2_file\",\r\n        \"0410_Chaos_sf2_file\",\r\n        \"0411_FluidR3_GM_sf2_file\",\r\n        \"0420_Aspirin_sf2_file\",\r\n        \"0421_FluidR3_GM_sf2_file\",\r\n        \"0430_Aspirin_sf2_file\",\r\n        \"0431_FluidR3_GM_sf2_file\",\r\n        \"0440_Aspirin_sf2_file\",\r\n        \"0441_GeneralUserGS_sf2_file\",\r\n        \"0442_GeneralUserGS_sf2_file\",\r\n        \"0450_Aspirin_sf2_file\",\r\n        \"0451_FluidR3_GM_sf2_file\",\r\n        \"0460_Aspirin_sf2_file\",\r\n        \"0461_FluidR3_GM_sf2_file\",\r\n        \"0470_Aspirin_sf2_file\",\r\n        \"0471_FluidR3_GM_sf2_file\",\r\n        \"0480_Aspirin_sf2_file\",\r\n        \"0480_SoundBlasterOld_sf2\",\r\n        \"04810_GeneralUserGS_sf2_file\",\r\n        \"0481_Aspirin_sf2_file\",\r\n        \"0481_FluidR3_GM_sf2_file\",\r\n        \"0481_GeneralUserGS_sf2_file\",\r\n        \"0482_Aspirin_sf2_file\",\r\n        \"0482_GeneralUserGS_sf2_file\",\r\n        \"0483_GeneralUserGS_sf2_file\",\r\n        \"0484_GeneralUserGS_sf2_file\",\r\n        \"0485_GeneralUserGS_sf2_file\",\r\n        \"0486_GeneralUserGS_sf2_file\",\r\n        \"0487_GeneralUserGS_sf2_file\",\r\n        \"0488_GeneralUserGS_sf2_file\",\r\n        \"0489_GeneralUserGS_sf2_file\",\r\n        \"0490_Aspirin_sf2_file\",\r\n        \"0490_GeneralUserGS_sf2_file\",\r\n        \"0491_GeneralUserGS_sf2_file\",\r\n        \"0492_GeneralUserGS_sf2_file\",\r\n        \"0500_Aspirin_sf2_file\",\r\n      ];\r\n    }\r\n    return this.instrumentKeyArray;\r\n  };\r\n  instrumentInfo = (n: number) => {\r\n    var key = this.instrumentKeys()[n];\r\n    var p = 1 * Number(key.substr(0, 3));\r\n    return {\r\n      variable: \"_tone_\" + key,\r\n      url: \"https://surikov.github.io/webaudiofontdata/sound/\" + key + \".js\",\r\n      title: this.instrumentTitles()[p],\r\n    };\r\n  };\r\n  findInstrument = (program: number) => {\r\n    if (!this.choosenInfos) {\r\n      this.choosenInfos = [\r\n        [1, 2], //Accoustic Grand Piano\r\n        [2, 14], //Bright Accoustic Piano\r\n        [3, 25], //Electric Grand Piano\r\n        [4, 37], //Honky-Tonk Piano\r\n        [5, 48], //Electric Pino 1\r\n        [6, 58], //Electric Piano 2\r\n        [7, 70], //HarpsiChord Piano\r\n        [8, 83], //Cravinet\r\n        [9, 91], //Celesta\r\n        [10, 99], //Glockenspiel\r\n        [11, 107], //Music Box\r\n        [12, 118], //Vibraphone\r\n        [13, 127], // Marimba\r\n        [14, 136], // Xylophone\r\n        [15, 144], // Tubular Bells\r\n        [16, 152], // Dulcimer\r\n        [17, 164], // Drawbar Organ\r\n        [18, 170], // Percussive Organ\r\n        [19, 183], //Rock Organ\r\n        [20, 194], // Church Organ\r\n        [21, 205], //Reed Organ\r\n        [22, 215], //Accordion\r\n        [23, 228], //\r\n        [24, 241], //\r\n        [25, 254], //\r\n        [26, 263], //\r\n        [27, 277], //\r\n        [28, 296], //\r\n        [29, 308], //\r\n        [30, 319], //\r\n        [31, 350], //\r\n        [32, 356], //\r\n        [33, 369], //\r\n        [34, 379], //\r\n        [35, 385], //\r\n        [36, 399], // Fretless Bass\r\n        [37, 403], // Slap Bass 1\r\n        [38, 412], // Slap Bass 2\r\n        [39, 421], // Synth Bass 1\r\n        [40, 438], // Synth Bass 2\r\n        [41, 452], // Violin\r\n        [42, 461], // Viola\r\n        [43, 467], // Cello\r\n        [44, 477], // Contrabass\r\n        [45, 488], // Tremolo Strings\r\n        [46, 493], // Pizzicato Strings\r\n        [47, 501], // Orchestral Harp\r\n        [48, 511], // Timpani\r\n        [49, 518], // String Ensemble 1\r\n        [50, 547], //String Ensemble 2\r\n      ];\r\n    }\r\n    for (var i = 0; i < this.instrumentKeys().length; i++) {\r\n      if (program === 1 * Number(this.instrumentKeys()[i].substring(0, 3))) {\r\n        return i;\r\n      }\r\n    }\r\n    console.log(\"program\", program, \"not found\");\r\n    return 0;\r\n  };\r\n  drumTitles = () => {\r\n    if (!this.drumNamesArray) {\r\n      var drumNames = [];\r\n      drumNames[35] = \"Bass Drum 2\";\r\n      drumNames[36] = \"Bass Drum 1\";\r\n      drumNames[37] = \"Side Stick/Rimshot\";\r\n      drumNames[38] = \"Snare Drum 1\";\r\n      drumNames[39] = \"Hand Clap\";\r\n      drumNames[40] = \"Snare Drum 2\";\r\n      drumNames[41] = \"Low Tom 2\";\r\n      drumNames[42] = \"Closed Hi-hat\";\r\n      drumNames[43] = \"Low Tom 1\";\r\n      drumNames[44] = \"Pedal Hi-hat\";\r\n      drumNames[45] = \"Mid Tom 2\";\r\n      drumNames[46] = \"Open Hi-hat\";\r\n      drumNames[47] = \"Mid Tom 1\";\r\n      drumNames[48] = \"High Tom 2\";\r\n      drumNames[49] = \"Crash Cymbal 1\";\r\n      drumNames[50] = \"High Tom 1\";\r\n      drumNames[51] = \"Ride Cymbal 1\";\r\n      drumNames[52] = \"Chinese Cymbal\";\r\n      drumNames[53] = \"Ride Bell\";\r\n      drumNames[54] = \"Tambourine\";\r\n      drumNames[55] = \"Splash Cymbal\";\r\n      drumNames[56] = \"Cowbell\";\r\n      drumNames[57] = \"Crash Cymbal 2\";\r\n      drumNames[58] = \"Vibra Slap\";\r\n      drumNames[59] = \"Ride Cymbal 2\";\r\n      drumNames[60] = \"High Bongo\";\r\n      drumNames[61] = \"Low Bongo\";\r\n      drumNames[62] = \"Mute High Conga\";\r\n      drumNames[63] = \"Open High Conga\";\r\n      drumNames[64] = \"Low Conga\";\r\n      drumNames[65] = \"High Timbale\";\r\n      drumNames[66] = \"Low Timbale\";\r\n      drumNames[67] = \"High Agogo\";\r\n      drumNames[68] = \"Low Agogo\";\r\n      drumNames[69] = \"Cabasa\";\r\n      drumNames[70] = \"Maracas\";\r\n      drumNames[71] = \"Short Whistle\";\r\n      drumNames[72] = \"Long Whistle\";\r\n      drumNames[73] = \"Short Guiro\";\r\n      drumNames[74] = \"Long Guiro\";\r\n      drumNames[75] = \"Claves\";\r\n      drumNames[76] = \"High Wood Block\";\r\n      drumNames[77] = \"Low Wood Block\";\r\n      drumNames[78] = \"Mute Cuica\";\r\n      drumNames[79] = \"Open Cuica\";\r\n      drumNames[80] = \"Mute Triangle\";\r\n      drumNames[81] = \"Open Triangle\";\r\n      this.drumNamesArray = drumNames;\r\n    }\r\n    return this.drumNamesArray;\r\n  };\r\n  drumKeys = () => {\r\n    if (!this.drumKeyArray) {\r\n      this.drumKeyArray = [\r\n        \"35_0_SBLive_sf2\",\r\n        \"36_0_SBLive_sf2\",\r\n        \"37_0_SBLive_sf2\",\r\n        \"38_0_SBLive_sf2\",\r\n        \"39_0_SBLive_sf2\",\r\n        \"40_0_SBLive_sf2\",\r\n        \"41_0_SBLive_sf2\",\r\n        \"42_0_SBLive_sf2\",\r\n        \"43_0_SBLive_sf2\",\r\n        \"44_0_SBLive_sf2\",\r\n        \"45_0_SBLive_sf2\",\r\n        \"46_0_SBLive_sf2\",\r\n        \"47_0_SBLive_sf2\",\r\n        \"48_0_SBLive_sf2\",\r\n        \"49_0_SBLive_sf2\",\r\n        \"50_0_SBLive_sf2\",\r\n        \"51_0_SBLive_sf2\",\r\n        \"52_0_SBLive_sf2\",\r\n        \"53_0_SBLive_sf2\",\r\n        \"54_0_SBLive_sf2\",\r\n        \"55_0_SBLive_sf2\",\r\n        \"56_0_SBLive_sf2\",\r\n        \"57_0_SBLive_sf2\",\r\n        \"58_0_SBLive_sf2\",\r\n        \"59_0_SBLive_sf2\",\r\n        \"60_0_SBLive_sf2\",\r\n        \"61_0_SBLive_sf2\",\r\n        \"62_0_SBLive_sf2\",\r\n        \"63_0_SBLive_sf2\",\r\n        \"64_0_SBLive_sf2\",\r\n        \"65_0_SBLive_sf2\",\r\n        \"66_0_SBLive_sf2\",\r\n        \"67_0_SBLive_sf2\",\r\n        \"68_0_SBLive_sf2\",\r\n        \"69_0_SBLive_sf2\",\r\n        \"70_0_SBLive_sf2\",\r\n        \"71_0_SBLive_sf2\",\r\n        \"72_0_SBLive_sf2\",\r\n        \"73_0_SBLive_sf2\",\r\n        \"74_0_SBLive_sf2\",\r\n        \"75_0_SBLive_sf2\",\r\n        \"76_0_SBLive_sf2\",\r\n        \"77_0_SBLive_sf2\",\r\n        \"78_0_SBLive_sf2\",\r\n        \"79_0_SBLive_sf2\",\r\n        \"80_0_SBLive_sf2\",\r\n        \"81_0_SBLive_sf2\",\r\n      ];\r\n    }\r\n    return this.drumKeyArray;\r\n  };\r\n  drumInfo = (n: number) => {\r\n    var key = this.drumKeys()[n];\r\n    var p = 1 * Number(key.substr(0, 2));\r\n    return {\r\n      variable: \"_drum_\" + key,\r\n      url: \"https://surikov.github.io/webaudiofontdata/sound/128\" + key + \".js\",\r\n      pitch: p,\r\n      title: this.drumTitles()[p],\r\n    };\r\n  };\r\n  findDrum = (nn: number) => {\r\n    for (var i = 0; i < this.drumKeys().length; i++) {\r\n      if (nn === 1 * Number(this.drumKeys()[i].substring(0, 2))) {\r\n        return i;\r\n      }\r\n    }\r\n    return 0;\r\n  };\r\n}\r\nexport class WebAudioFontPlayer {\r\n  audioContext: AudioContext;\r\n  envelopes: any[];\r\n  loader: any;\r\n  onCacheFinish: any;\r\n  onCacheProgress: any;\r\n  afterTime: number;\r\n  nearZero: number;\r\n  constructor(audioContext: AudioContext) {\r\n    this.audioContext = audioContext;\r\n    this.envelopes = [];\r\n    this.loader = new WebAudioFontLoader(this);\r\n    this.onCacheFinish = null;\r\n    this.onCacheProgress = null;\r\n    this.afterTime = 0.05;\r\n    this.nearZero = 0.000001;\r\n  }\r\n  createChannel = () => {\r\n    return new WebAudioFontChannel(this.audioContext);\r\n  };\r\n  createReverberator = () => {\r\n    return new WebAudioFontReverberator(this.audioContext);\r\n  };\r\n  limitVolume = (volume: number) => {\r\n    if (volume) {\r\n      volume = 1.0 * volume;\r\n    } else {\r\n      volume = 0.5;\r\n    }\r\n    return volume;\r\n  };\r\n  queueChord = ({\r\n    target,\r\n    preset,\r\n    when,\r\n    pitches,\r\n    duration,\r\n    volume,\r\n    slides\r\n  }: IQueue) => {\r\n    volume = this.limitVolume(volume);\r\n    for (var i = 0; i < pitches.length; i++) {\r\n      this.queueWaveTable({\r\n        target,\r\n        preset,\r\n        when,\r\n        pitches: pitches[i],\r\n        duration,\r\n        volume: volume - Math.random() * 0.01,\r\n        slides\r\n      });\r\n    }\r\n  };\r\n  queueStrumUp = ({\r\n    target,\r\n    preset,\r\n    when,\r\n    pitches,\r\n    duration,\r\n    volume,\r\n    slides\r\n  }: IQueue) => {\r\n    pitches.sort((a: number, b: number) => a - b);\r\n    this.queueStrum({\r\n      target,\r\n      preset,\r\n      when,\r\n      pitches,\r\n      duration,\r\n      volume,\r\n      slides\r\n    });\r\n  };\r\n  queueStrumDown = ({\r\n    target,\r\n    preset,\r\n    when,\r\n    pitches,\r\n    duration,\r\n    volume,\r\n    slides\r\n  }: IQueue) => {\r\n    pitches.sort((a: number, b: number) => a - b);\r\n    this.queueStrum({\r\n      target,\r\n      preset,\r\n      when,\r\n      pitches,\r\n      duration,\r\n      volume,\r\n      slides\r\n    });\r\n  };\r\n  queueStrum = ({\r\n    target,\r\n    preset,\r\n    when,\r\n    pitches,\r\n    duration,\r\n    volume,\r\n    slides\r\n  }: IQueue) => {\r\n    volume = this.limitVolume(volume);\r\n    if (when < this.audioContext.currentTime) {\r\n      when = this.audioContext.currentTime;\r\n    }\r\n    for (var i = 0; i < pitches.length; i++) {\r\n      this.queueWaveTable({\r\n        target,\r\n        preset,\r\n        when: when + i * 0.01,\r\n        pitches: pitches[i],\r\n        duration,\r\n        volume: volume - Math.random() * 0.01,\r\n        slides\r\n      });\r\n      volume = 0.9 * volume;\r\n    }\r\n  };\r\n  queueSnap = ({\r\n    target,\r\n    preset,\r\n    when,\r\n    pitches,\r\n    duration,\r\n    volume,\r\n    slides\r\n  }: IQueue) => {\r\n    volume = this.limitVolume(volume);\r\n    volume = 1.5 * (volume || 1.0);\r\n    duration = 0.05;\r\n    this.queueChord({\r\n      target,\r\n      preset,\r\n      when,\r\n      pitches,\r\n      duration,\r\n      volume,\r\n      slides\r\n    });\r\n  };\r\n  queueWaveTable = ({\r\n    target,\r\n    preset,\r\n    when,\r\n    pitches: pitch,\r\n    duration,\r\n    volume,\r\n    slides\r\n  }: IQueue) => {\r\n    if (this.audioContext.state === \"suspended\") {\r\n      console.log(\"audioContext.resume\");\r\n      this.audioContext.resume();\r\n    }\r\n    volume = this.limitVolume(volume);\r\n    var zone = this.findZone(preset, pitch);\r\n    if (!zone.buffer) {\r\n      console.log(\"empty buffer \", zone);\r\n      return;\r\n    }\r\n    var baseDetune =\r\n      zone.originalPitch - 100.0 * zone.coarseTune - zone.fineTune;\r\n    var playbackRate = 1.0 * Math.pow(2, (100.0 * pitch - baseDetune) / 1200.0);\r\n    // var sampleRatio = zone.sampleRate / audioContext.sampleRate;\r\n    var startWhen = when;\r\n    if (startWhen < this.audioContext.currentTime) {\r\n      startWhen = this.audioContext.currentTime;\r\n    }\r\n    var waveDuration = duration + this.afterTime;\r\n    var loop = true;\r\n    if (zone.loopStart < 1 || zone.loopStart >= zone.loopEnd) {\r\n      loop = false;\r\n    }\r\n    if (!loop) {\r\n      if (waveDuration > zone.buffer.duration / playbackRate) {\r\n        waveDuration = zone.buffer.duration / playbackRate;\r\n      }\r\n    }\r\n    var envelope = this.findEnvelope({\r\n      target,\r\n      when: startWhen,\r\n      duration: waveDuration\r\n    });\r\n    this.setupEnvelope({\r\n      envelope,\r\n      zone,\r\n      volume,\r\n      startWhen,\r\n      waveDuration,\r\n      duration\r\n    });\r\n    envelope.audioBufferSourceNode = this.audioContext.createBufferSource();\r\n    envelope.audioBufferSourceNode.playbackRate.setValueAtTime(playbackRate, 0);\r\n    if (slides) {\r\n      if (slides.length > 0) {\r\n        envelope.audioBufferSourceNode.playbackRate.setValueAtTime(\r\n          playbackRate,\r\n          when\r\n        );\r\n        for (var i = 0; i < slides.length; i++) {\r\n          var newPlaybackRate =\r\n            1.0 * Math.pow(2, (100.0 * slides[i].pitch - baseDetune) / 1200.0);\r\n          var newWhen = when + slides[i].when;\r\n          envelope.audioBufferSourceNode.playbackRate.linearRampToValueAtTime(\r\n            newPlaybackRate,\r\n            newWhen\r\n          );\r\n        }\r\n      }\r\n    }\r\n    envelope.audioBufferSourceNode.buffer = zone.buffer;\r\n    if (loop) {\r\n      envelope.audioBufferSourceNode.loop = true;\r\n      envelope.audioBufferSourceNode.loopStart =\r\n        zone.loopStart / zone.sampleRate + zone.delay;\r\n      envelope.audioBufferSourceNode.loopEnd =\r\n        zone.loopEnd / zone.sampleRate + zone.delay;\r\n    } else {\r\n      envelope.audioBufferSourceNode.loop = false;\r\n    }\r\n    envelope.audioBufferSourceNode.connect(envelope);\r\n    envelope.audioBufferSourceNode.start(startWhen, zone.delay);\r\n    envelope.audioBufferSourceNode.stop(startWhen + waveDuration);\r\n    envelope.when = startWhen;\r\n    envelope.duration = waveDuration;\r\n    envelope.pitch = pitch;\r\n    envelope.preset = preset;\r\n    return envelope;\r\n  };\r\n  noZeroVolume = (n: number) => {\r\n    if (n > this.nearZero) {\r\n      return n;\r\n    } else {\r\n      return this.nearZero;\r\n    }\r\n  };\r\n  setupEnvelope = ({\r\n    envelope,\r\n    zone,\r\n    volume,\r\n    startWhen: when,\r\n    waveDuration: sampleDuration,\r\n    duration\r\n  }: IEnvelope) => {\r\n    envelope.gain.setValueAtTime(\r\n      this.noZeroVolume(0),\r\n      this.audioContext.currentTime\r\n    );\r\n    var lastTime = 0;\r\n    var lastVolume = 0;\r\n    var ahdsr = zone.ahdsr;\r\n    if (sampleDuration < duration + this.afterTime) {\r\n      duration = sampleDuration - this.afterTime;\r\n    }\r\n    if (ahdsr) {\r\n      if (!(ahdsr.length > 0)) {\r\n        ahdsr = [\r\n          {\r\n            duration: 0,\r\n            volume: 1,\r\n          },\r\n          {\r\n            duration: 0.5,\r\n            volume: 1,\r\n          },\r\n          {\r\n            duration: 1.5,\r\n            volume: 0.5,\r\n          },\r\n          {\r\n            duration: 3,\r\n            volume: 0,\r\n          },\r\n        ];\r\n      }\r\n    } else {\r\n      ahdsr = [\r\n        {\r\n          duration: 0,\r\n          volume: 1,\r\n        },\r\n        {\r\n          duration: duration,\r\n          volume: 1,\r\n        },\r\n      ];\r\n    }\r\n    envelope.gain.cancelScheduledValues(when);\r\n    envelope.gain.setValueAtTime(\r\n      this.noZeroVolume(ahdsr[0].volume * volume),\r\n      when\r\n    );\r\n    for (var i = 0; i < ahdsr.length; i++) {\r\n      if (ahdsr[i].duration > 0) {\r\n        if (ahdsr[i].duration + lastTime > duration) {\r\n          var r =\r\n            1 - (ahdsr[i].duration + lastTime - duration) / ahdsr[i].duration;\r\n          var n = lastVolume - r * (lastVolume - ahdsr[i].volume);\r\n          envelope.gain.linearRampToValueAtTime(\r\n            this.noZeroVolume(volume * n),\r\n            when + duration\r\n          );\r\n          break;\r\n        }\r\n        lastTime = lastTime + ahdsr[i].duration;\r\n        lastVolume = ahdsr[i].volume;\r\n        envelope.gain.linearRampToValueAtTime(\r\n          this.noZeroVolume(volume * lastVolume),\r\n          when + lastTime\r\n        );\r\n      }\r\n    }\r\n    envelope.gain.linearRampToValueAtTime(\r\n      this.noZeroVolume(0),\r\n      when + duration + this.afterTime\r\n    );\r\n  };\r\n  numValue = (aValue: number, defValue: number) => {\r\n    if (typeof aValue === \"number\") {\r\n      return aValue;\r\n    } else {\r\n      return defValue;\r\n    }\r\n  };\r\n  findEnvelope = ({ target, when, duration }: ISetup) => {\r\n    var envelope: any = null;\r\n    for (var i = 0; i < this.envelopes.length; i++) {\r\n      var e = this.envelopes[i];\r\n      if (\r\n        e.target === target &&\r\n        this.audioContext.currentTime > e.when + e.duration + 0.001\r\n      ) {\r\n        try {\r\n          e.audioBufferSourceNode.disconnect();\r\n          e.audioBufferSourceNode.stop(0);\r\n          e.audioBufferSourceNode = null;\r\n        } catch (x) {\r\n          //audioBufferSourceNode is dead already\r\n        }\r\n        envelope = e;\r\n        break;\r\n      }\r\n    }\r\n    if (!envelope) {\r\n      envelope = this.audioContext.createGain();\r\n      envelope.target = target;\r\n      envelope.connect(target);\r\n      envelope.cancel = () => {\r\n        if (envelope.when + envelope.duration > this.audioContext.currentTime) {\r\n          envelope.gain.cancelScheduledValues(0);\r\n          envelope.gain.setTargetAtTime(0.00001, this.audioContext.currentTime, 0.1);\r\n          envelope.when = this.audioContext.currentTime + 0.00001;\r\n          envelope.duration = 0;\r\n        }\r\n      };\r\n      this.envelopes.push(envelope);\r\n    }\r\n    return envelope;\r\n  };\r\n  adjustPreset = (preset: any) => {\r\n    for (var i = 0; i < preset.zones.length; i++) {\r\n      this.adjustZone(preset.zones[i]);\r\n    }\r\n  };\r\n  adjustZone = (zone: any) => {\r\n    if (zone.buffer) {\r\n      //\r\n    } else {\r\n      zone.delay = 0;\r\n      if (zone.sample) {\r\n        let decoded = atob(zone.sample);\r\n        zone.buffer = this.audioContext.createBuffer(\r\n          1,\r\n          decoded.length / 2,\r\n          zone.sampleRate\r\n        );\r\n        var float32Array = zone.buffer.getChannelData(0);\r\n        var b1, b2, n;\r\n        for (var i = 0; i < decoded.length / 2; i++) {\r\n          b1 = decoded.charCodeAt(i * 2);\r\n          b2 = decoded.charCodeAt(i * 2 + 1);\r\n          if (b1 < 0) {\r\n            b1 = 256 + b1;\r\n          }\r\n          if (b2 < 0) {\r\n            b2 = 256 + b2;\r\n          }\r\n          n = b2 * 256 + b1;\r\n          if (n >= 65536 / 2) {\r\n            n = n - 65536;\r\n          }\r\n          float32Array[i] = n / 65536.0;\r\n        }\r\n      } else {\r\n        if (zone.file) {\r\n          var datalen = zone.file.length;\r\n          var arraybuffer = new ArrayBuffer(datalen);\r\n          var view = new Uint8Array(arraybuffer);\r\n          let decoded = atob(zone.file);\r\n          var b;\r\n          for (let i = 0; i < decoded.length; i++) {\r\n            b = decoded.charCodeAt(i);\r\n            view[i] = b;\r\n          }\r\n          this.audioContext.decodeAudioData(arraybuffer, function (audioBuffer) {\r\n            zone.buffer = audioBuffer;\r\n          });\r\n        }\r\n      }\r\n      zone.loopStart = this.numValue(zone.loopStart, 0);\r\n      zone.loopEnd = this.numValue(zone.loopEnd, 0);\r\n      zone.coarseTune = this.numValue(zone.coarseTune, 0);\r\n      zone.fineTune = this.numValue(zone.fineTune, 0);\r\n      zone.originalPitch = this.numValue(zone.originalPitch, 6000);\r\n      zone.sampleRate = this.numValue(zone.sampleRate, 44100);\r\n      zone.sustain = this.numValue(zone.originalPitch, 0);\r\n    }\r\n  };\r\n  findZone = (preset: any, pitch: any) => {\r\n    var zone = null;\r\n    for (var i = preset.zones.length - 1; i >= 0; i--) {\r\n      zone = preset.zones[i];\r\n      if (zone.keyRangeLow <= pitch && zone.keyRangeHigh + 1 >= pitch) {\r\n        break;\r\n      }\r\n    }\r\n    try {\r\n      this.adjustZone(zone);\r\n    } catch (ex) {\r\n      console.log(\"adjustZone\", ex);\r\n    }\r\n    return zone;\r\n  };\r\n  cancelQueue = () => {\r\n    for (var i = 0; i < this.envelopes.length; i++) {\r\n      var e = this.envelopes[i];\r\n      e.gain.cancelScheduledValues(0);\r\n      e.gain.setValueAtTime(this.nearZero, this.audioContext.currentTime);\r\n      e.when = -1;\r\n      try {\r\n        e.audioBufferSourceNode.disconnect();\r\n      } catch (ex) {\r\n        console.log(ex);\r\n      }\r\n    }\r\n  };\r\n}\r\nexport class WebAudioFontReverberator {\r\n  audioContext: AudioContext;\r\n  input: any;\r\n  convolver: any\r\n  dry: any\r\n  wet: any\r\n  irrArrayBuffer: any\r\n  output: any\r\n  constructor(audioContext: AudioContext) {\r\n    console.log(\"WebAudioFont Reverberator v1.08\");\r\n    this.audioContext = audioContext;\r\n    this.input = this.audioContext.createBiquadFilter();\r\n    this.input.type = \"lowpass\";\r\n    this.input.frequency.setTargetAtTime(18000, 0, 0.0001);\r\n    this.convolver = null;\r\n    this.output = audioContext.createGain();\r\n    this.dry = audioContext.createGain();\r\n    this.dry.gain.setTargetAtTime(0.9, 0, 0.0001);\r\n    this.dry.connect(this.output);\r\n    this.wet = audioContext.createGain();\r\n    this.wet.gain.setTargetAtTime(0.5, 0, 0.0001);\r\n    this.input.connect(this.dry);\r\n    this.input.connect(this.wet);\r\n    import(\"./Reverbrator\").then(({ reverbrator }) => {\r\n      var irr = reverbrator;\r\n      var datalen = irr.length / 2;\r\n      this.irrArrayBuffer = new ArrayBuffer(datalen);\r\n      var view = new Uint8Array(this.irrArrayBuffer);\r\n      var decoded = atob(irr);\r\n      var b;\r\n      for (var i = 0; i < decoded.length; i++) {\r\n        b = decoded.charCodeAt(i);\r\n        view[i] = b;\r\n      }\r\n      this.audioContext.decodeAudioData(this.irrArrayBuffer, (audioBuffer) => {\r\n        this.convolver = audioContext.createConvolver();\r\n        this.convolver.buffer = audioBuffer;\r\n        this.wet.connect(this.convolver);\r\n        this.convolver.connect(this.output);\r\n        console.log(\"convolver audioBuffer\", audioBuffer);\r\n      });\r\n    })\r\n  }\r\n}\r\n","import Song from \"../plugin/Melodition/Song\";\r\nimport { WebAudioFontChannel, WebAudioFontPlayer, WebAudioFontReverberator } from \"../plugin/Melodition/WebAudio\";\r\nimport { PlayerDataInfo } from \"../_types/player.types\";\r\n\r\nconst zarib = [0, 0.25, 0.5, 0.75, 1, 1.25, 1.5, 1.75, 2];\r\n\r\nconst AudioContextFunc = window.AudioContext || window.webkitAudioContext;\r\n\r\nconst audioContext = new AudioContextFunc();\r\nconst master = new WebAudioFontChannel(audioContext);\r\nconst fontPlayer = new WebAudioFontPlayer(audioContext);\r\nif (typeof window.orientation === 'undefined') {\r\n    console.log(\"Melo WebAudioFontReverberator\");\r\n    const reverberator = new WebAudioFontReverberator(audioContext)\r\n    reverberator.output.connect(audioContext.destination);\r\n    master.output.connect(reverberator.input);\r\n} else {\r\n    console.log(\"skip WebAudioFontReverberator\");\r\n    master.output.connect(audioContext.destination);\r\n}\r\n\r\nexport class ResetPlayer {\r\n    player = fontPlayer;\r\n    master = master\r\n    currentSong?: Song;\r\n    loading = true;\r\n    onAir = false;\r\n    loaded = false;\r\n    playMode = false;\r\n    sL = 16;\r\n    TrackID = 0;\r\n    tempo = 120;\r\n    zaribTempo = 1;\r\n    storeFingers: any[] = []\r\n    storeTracks: any[] = []\r\n    storeDrums: any[] = []\r\n    trackInfo: any[] = []\r\n    drumInfo: any[] = []\r\n    seekValue = 0\r\n    songs: { id: number, vol: number }[] = [];\r\n    songLength = 272;\r\n    tapSize = 32;\r\n    fingerNotes: any = {};\r\n    equalizer: number[] = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n    drumVolumes: number[] = [70, 70, 70, 70, 70, 70, 70, 70];\r\n    constructor(options?: Partial<any>) {\r\n        Object.assign(this, options);\r\n        this.master.band32.gain.setValueAtTime(this.equalizer[0], 0);\r\n        this.master.band64.gain.setValueAtTime(this.equalizer[1], 0);\r\n        this.master.band128.gain.setValueAtTime(this.equalizer[2], 0);\r\n        this.master.band256.gain.setValueAtTime(this.equalizer[3], 0);\r\n        this.master.band512.gain.setValueAtTime(this.equalizer[4], 0);\r\n        this.master.band1k.gain.setValueAtTime(this.equalizer[5], 0);\r\n        this.master.band2k.gain.setValueAtTime(this.equalizer[6], 0);\r\n        this.master.band4k.gain.setValueAtTime(this.equalizer[7], 0);\r\n        this.master.band8k.gain.setValueAtTime(this.equalizer[8], 0);\r\n        this.master.band16k.gain.setValueAtTime(this.equalizer[9], 0);\r\n    }\r\n}\r\n\r\n\r\nexport const lessonCompiler = async (content: PlayerDataInfo): Promise<ResetPlayer | undefined> => {\r\n    const Melo = new ResetPlayer();\r\n    const dataString = content.song.content;\r\n    const fingers = content.fingers\r\n    let neededTracks: number[] = []\r\n    let neededDrums: number[] = []\r\n    try {\r\n        Melo.TrackID = content.track.id;\r\n        let storeFingers = {} as any;\r\n        if (fingers) {\r\n            for (const p in fingers) {\r\n                const strings = fingers[p].split(\"-\");\r\n                storeFingers[p] = {};\r\n                for (let l = 0; l < strings.length - 1; l++) {\r\n                    const main = strings[l].split(\"+\");\r\n                    const beat = Number(main[0]) + 16;\r\n                    var cnt = main[1].length / 5;\r\n                    for (let i = 0; i < cnt; i++) {\r\n                        const k = main[1].substring(i * 5, i * 5 + 2);\r\n                        const f = main[1].substring(i * 5 + 2, i * 5 + 4);\r\n                        const s = main[1].substring(i * 5 + 4, i * 5 + 5);\r\n                        if (s !== \"e\") {\r\n                            if (!storeFingers[p][f]) {\r\n                                storeFingers[p][f] = {};\r\n                            }\r\n                            if (!storeFingers[p][f][beat]) {\r\n                                storeFingers[p][f][beat] = [];\r\n                            }\r\n                            storeFingers[p][f][beat].push(k);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            Melo.storeFingers = { ...storeFingers };\r\n        }\r\n        const strings = dataString.split(\"-\");\r\n        console.log(strings)\r\n        Melo.tempo = parseInt(strings[0], 16);\r\n        Melo.sL = parseInt(strings[1]) + 1;\r\n        const step = parseInt(strings[2]);\r\n        Melo.zaribTempo = zarib[step];\r\n        for (let i = 0; i < 10; i++) {\r\n            let t = strings[5].substring(i * 2, i * 2 + 2);\r\n            Melo.equalizer[i] = parseInt(t, 16) - 10;\r\n        }\r\n        let storeDrums = [];\r\n        const cntD = strings[6].length / 7;\r\n        for (var i = 0; i < cntD; i++) {\r\n            var drum = parseInt(strings[6].substring(i * 7, i * 7 + 1));\r\n            var key = parseInt(strings[6].substring(i * 7 + 1, i * 7 + 3), 32);\r\n            var data = parseInt(strings[6].substring(i * 7 + 3, i * 7 + 7), 32);\r\n            var i32 = key & parseInt(\"1111111\", 2);\r\n            if ((data | parseInt(\"0000000000000001\", 2)) === data)\r\n                storeDrums.push({\r\n                    drum: drum,\r\n                    beat: i32 * 16 + 0,\r\n                });\r\n            if ((data | parseInt(\"0000000000000010\", 2)) === data)\r\n                storeDrums.push({\r\n                    drum: drum,\r\n                    beat: i32 * 16 + 1,\r\n                });\r\n            if ((data | parseInt(\"0000000000000100\", 2)) === data)\r\n                storeDrums.push({\r\n                    drum: drum,\r\n                    beat: i32 * 16 + 2,\r\n                });\r\n            if ((data | parseInt(\"0000000000001000\", 2)) === data)\r\n                storeDrums.push({\r\n                    drum: drum,\r\n                    beat: i32 * 16 + 3,\r\n                });\r\n            if ((data | parseInt(\"0000000000010000\", 2)) === data)\r\n                storeDrums.push({\r\n                    drum: drum,\r\n                    beat: i32 * 16 + 4,\r\n                });\r\n            if ((data | parseInt(\"0000000000100000\", 2)) === data)\r\n                storeDrums.push({\r\n                    drum: drum,\r\n                    beat: i32 * 16 + 5,\r\n                });\r\n            if ((data | parseInt(\"0000000001000000\", 2)) === data)\r\n                storeDrums.push({\r\n                    drum: drum,\r\n                    beat: i32 * 16 + 6,\r\n                });\r\n            if ((data | parseInt(\"0000000010000000\", 2)) === data)\r\n                storeDrums.push({\r\n                    drum: drum,\r\n                    beat: i32 * 16 + 7,\r\n                });\r\n            if ((data | parseInt(\"0000000100000000\", 2)) === data)\r\n                storeDrums.push({\r\n                    drum: drum,\r\n                    beat: i32 * 16 + 8,\r\n                });\r\n            if ((data | parseInt(\"0000001000000000\", 2)) === data)\r\n                storeDrums.push({\r\n                    drum: drum,\r\n                    beat: i32 * 16 + 9,\r\n                });\r\n            if ((data | parseInt(\"0000010000000000\", 2)) === data)\r\n                storeDrums.push({\r\n                    drum: drum,\r\n                    beat: i32 * 16 + 10,\r\n                });\r\n            if ((data | parseInt(\"0000100000000000\", 2)) === data)\r\n                storeDrums.push({\r\n                    drum: drum,\r\n                    beat: i32 * 16 + 11,\r\n                });\r\n            if ((data | parseInt(\"0001000000000000\", 2)) === data)\r\n                storeDrums.push({\r\n                    drum: drum,\r\n                    beat: i32 * 16 + 12,\r\n                });\r\n            if ((data | parseInt(\"0010000000000000\", 2)) === data)\r\n                storeDrums.push({\r\n                    drum: drum,\r\n                    beat: i32 * 16 + 13,\r\n                });\r\n            if ((data | parseInt(\"0100000000000000\", 2)) === data)\r\n                storeDrums.push({\r\n                    drum: drum,\r\n                    beat: i32 * 16 + 14,\r\n                });\r\n            if ((data | parseInt(\"1000000000000000\", 2)) === data)\r\n                storeDrums.push({\r\n                    drum: drum,\r\n                    beat: i32 * 16 + 15,\r\n                });\r\n        }\r\n        storeDrums.forEach((drm, index, self) => {\r\n            if (index === self.findIndex((t) => (\r\n                t.drum === drm.drum\r\n            ))) neededDrums.push(drm.drum)\r\n            Melo.storeDrums.push({\r\n                drum: drm.drum,\r\n                beat: drm.beat + 16,\r\n            });\r\n        });\r\n        let storeTracks = [];\r\n        const cntT = strings[7].length / 10;\r\n        for (let i = 0; i < cntT; i++) {\r\n            var beat = parseInt(strings[7].substring(i * 10, i * 10 + 3), 32);\r\n            var track = parseInt(\r\n                strings[7].substring(i * 10 + 3, i * 10 + 3 + 1), 32\r\n            );\r\n            var length = parseInt(\r\n                strings[7].substring(i * 10 + 4, i * 10 + 4 + 2), 32\r\n            );\r\n            var pitch = parseInt(\r\n                strings[7].substring(i * 10 + 6, i * 10 + 6 + 2), 32\r\n            );\r\n            var shift =\r\n                parseInt(strings[7].substring(i * 10 + 8, i * 10 + 8 + 2), 32) - 64;\r\n            storeTracks.push({\r\n                track: track,\r\n                beat: beat,\r\n                length: length,\r\n                shift: shift,\r\n                pitch: pitch,\r\n            });\r\n        }\r\n        Melo.storeTracks = [];\r\n        storeTracks.forEach((trc, index, self) => {\r\n            if (index === self.findIndex((t) => (\r\n                t.track === trc.track\r\n            ))) neededTracks.push(trc.track)\r\n            Melo.storeTracks.push({\r\n                beat: trc.beat + 16,\r\n                pitch: trc.pitch,\r\n                track: trc.track,\r\n                shift: trc.shift,\r\n                length: trc.length,\r\n            });\r\n            if (trc.track === Melo.TrackID) {\r\n                const beat = trc.beat;\r\n                if (Melo.fingerNotes[beat + 16]) {\r\n                    Melo.fingerNotes[beat + 16].push({ pitch: trc.pitch, length: trc.length });\r\n                } else {\r\n                    Melo.fingerNotes[beat + 16] = [];\r\n                    Melo.fingerNotes[beat + 16].push({ pitch: trc.pitch, length: trc.length });\r\n                }\r\n            }\r\n        });\r\n        neededDrums.forEach((id, i) => {\r\n            let drum = {\r\n                audioNode: audioContext.createGain(),\r\n                id: id,\r\n                replacement: parseInt(strings[8].substring(id * 3, id * 3 + 3), 16),\r\n                sound: null,\r\n                info: \"\",\r\n                volume: 70\r\n            };\r\n            if (drum.replacement) {\r\n                let info = Melo.player.loader.drumInfo(\r\n                    drum.replacement - 1\r\n                );\r\n                console.log(info)\r\n                Melo.player.loader.startLoad(\r\n                    info.url,\r\n                    info.variable\r\n                );\r\n                drum.info = info;\r\n            }\r\n            import(`../assets/sounds/default_drum_0${id}`).then((drm) => {\r\n                drum = { ...drum, ...drm.default }\r\n                drum.volume = 10 * parseInt(strings[4].substring(id, id + 1), 16);\r\n                drum.audioNode.connect(Melo.master.input);\r\n                Melo.player.adjustPreset(drum.sound);\r\n                Melo.drumInfo.push(drum);\r\n            });\r\n        })\r\n        neededTracks.forEach((id, i) => {\r\n            let track = {\r\n                audioNode: audioContext.createGain(),\r\n                nn: id,\r\n                replacement: parseInt(strings[9].substring((7 - id) * 3, (7 - id) * 3 + 3), 16),\r\n                sound: null,\r\n                info: \"\",\r\n                volume: 70\r\n            };\r\n            if (track.replacement) {\r\n                let info = Melo.player.loader.instrumentInfo(\r\n                    track.replacement - 1\r\n                );\r\n                console.log(info)\r\n                Melo.player.loader.startLoad(\r\n                    info.url,\r\n                    info.variable\r\n                );\r\n                track.info = info;\r\n            }\r\n            import(`../assets/sounds/default_tone_0${id}`).then((trc) => {\r\n                track = { ...track, ...trc.default }\r\n                track.volume = 10 * parseInt(strings[3].substring(id, id + 1), 16);\r\n                track.audioNode.connect(Melo.master.input);\r\n                Melo.player.adjustPreset(track.sound);\r\n                Melo.trackInfo.push(track);\r\n            });\r\n        })\r\n        let songs = [];\r\n        if (strings[10] && strings[10] !== \"000a\") {\r\n            let cnt = strings[10].length / 4;\r\n            for (let i = 0; i < cnt; i++) {\r\n                let track = parseInt(strings[10].substring(i * 4, i * 4 + 3), 32);\r\n                let vol = parseInt(strings[10].substring(i * 4 + 3, i * 4 + 4), 16) / 10;\r\n                songs.push({ id: track, vol: vol });\r\n            }\r\n        }\r\n        if (songs.length > 0) {\r\n            Melo.currentSong = new Song(audioContext);\r\n        }\r\n        Melo.songs = songs;\r\n    } catch (ex) {\r\n        Promise.reject(ex);\r\n    } finally {\r\n        return Melo\r\n    }\r\n}\r\nexport const cauntMeasures = (storeDrums: any[], storeTracks: any[], songdur: number = 0) => {\r\n    let mx: number = Math.ceil(songdur);\r\n    const add: number = songdur ? 6 : 2;\r\n    const mxT = Math.max.apply(Math, storeTracks.map((o) => o.beat + o.length));\r\n    const mxD = Math.max.apply(Math, storeDrums.map((o) => o.beat));\r\n    mx = mxT > mx ? mxT : mx;\r\n    mx = mxD > mx ? mxD : mx;\r\n    mx = mx + add;\r\n    do {\r\n        mx++\r\n    } while (mx % 16 !== 0)\r\n    console.log(mx, songdur, mxD, mxT);\r\n    return mx;\r\n}","import { Dispatch } from \"react\";\r\nimport { AppActions } from \"../_types\";\r\nimport {\r\n    PlayerDataInfo,\r\n    REQUEST_PLAYER,\r\n    RESIZE_PLAYER,\r\n    RESET_PLAYER,\r\n    DRAW_FINGER,\r\n    DRAW_PIANO,\r\n    DRAW_GAME,\r\n    ICanvas,\r\n    ENTER_PLAYMODE,\r\n    EXIT_PLAYMODE,\r\n    DRAW_SEEKBAR\r\n} from \"../_types/player.types\";\r\nimport { cauntMeasures, lessonCompiler } from \"../_helpers/playerApi\";\r\nimport { Melodition } from \"../plugin/Melodition/Melodition\";\r\nimport { sizeCalculator } from \"../_helpers/pianoSizes\";\r\nimport { API, AudioApi } from \"../_helpers/api\";\r\n\r\nvar Melo: Melodition | undefined;\r\n\r\nexport const requestPlayer = (info: PlayerDataInfo) => (\r\n    (dispatch: Dispatch<AppActions>) => {\r\n        lessonCompiler(info).then((Melodi) => {\r\n            if (Melodi) {\r\n                if (Melodi.songs.length > 0) {\r\n                    Melodi.songs.forEach((song, index) =>\r\n                        API.get(`/song/v2/${song.id}`).then(({ data }) =>\r\n                            AudioApi(data).then((res) => {\r\n                                Melodi.currentSong?.loadBuffer({ buffer: res.data, vol: song.vol })\r\n                                    .then(() => {\r\n                                        if (Melodi.songs.length === index + 1) {\r\n                                            const realTempo = (Melodi.tempo * Melodi.zaribTempo) / 60\r\n                                            const songbeat = Melodi.currentSong!.getDuration()! / realTempo;\r\n                                            Melodi.songLength = cauntMeasures(Melodi.storeDrums, Melodi.storeTracks, songbeat)\r\n                                            Melodi.loaded = true;\r\n                                            Melo = new Melodition(Melodi)\r\n                                            dispatch({ type: REQUEST_PLAYER, payload: { songLength: Melodi.songLength } });\r\n                                        }\r\n                                    })\r\n                            }).catch((bufferError) => console.log(bufferError))\r\n                        ).catch((urlError) => console.log(urlError))\r\n                    )\r\n                } else {\r\n                    Melodi.songLength = cauntMeasures(Melodi.storeDrums, Melodi.storeTracks)\r\n                    Melodi.loaded = true;\r\n                    Melo = new Melodition(Melodi)\r\n                    dispatch({ type: REQUEST_PLAYER, payload: { songLength: Melodi.songLength } });\r\n                }\r\n            }\r\n        }).catch(err => console.log(err))\r\n    }\r\n)\r\n\r\nexport const drawPiano = (keyRefs: SVGGElement[], canvasSize?: ICanvas, tapSize?: number) => (\r\n    (dispatch: Dispatch<AppActions>) => {\r\n        if (canvasSize && tapSize) {\r\n            const pianoSize = sizeCalculator(keyRefs, canvasSize)\r\n            Melo?.assigner({ pianoSize, keyRefs, canvasSize, tapSize })\r\n            dispatch({ type: DRAW_PIANO, payload: { pianoSize, canvasSize, tapSize } })\r\n        } else {\r\n            Melo?.assigner({ keyRefs })\r\n            dispatch({ type: DRAW_PIANO })\r\n        }\r\n    }\r\n)\r\nexport const drawFinger = (payload: any) => (\r\n    (dispatch: Dispatch<AppActions>) => {\r\n        Melo?.assigner(payload)\r\n        dispatch({ type: DRAW_FINGER })\r\n    }\r\n)\r\nexport const drawSeekBar = (payload: any) => (\r\n    (dispatch: Dispatch<AppActions>) => {\r\n        Melo?.assigner(payload)\r\n        dispatch({ type: DRAW_SEEKBAR })\r\n    }\r\n)\r\nexport const drawGame = (payload: any) => (\r\n    (dispatch: Dispatch<AppActions>) => {\r\n        Melo?.drawGame(payload)\r\n        dispatch({ type: DRAW_GAME })\r\n    }\r\n)\r\nexport const resizePlayer = () => (\r\n    (dispatch: Dispatch<AppActions>) => {\r\n        Melo?.stopPlay()\r\n        dispatch({ type: RESIZE_PLAYER })\r\n    }\r\n)\r\nexport const resetPlayer = () => (\r\n    (dispatch: Dispatch<AppActions>) => {\r\n        Melo?.stopPlay()\r\n        dispatch({ type: RESET_PLAYER })\r\n    }\r\n)\r\nexport const changeMode = (mode: boolean) => (\r\n    (dispatch: Dispatch<AppActions>) => {\r\n        Melo?.assigner({ playMode: mode });\r\n        Melo?.stopPlay()\r\n        if (mode)\r\n            dispatch({ type: ENTER_PLAYMODE });\r\n        else\r\n            dispatch({ type: EXIT_PLAYMODE });\r\n    }\r\n)\r\n\r\nexport const canvasWheel = (e: number | React.WheelEvent) => {\r\n    Melo?.rakeMouseWheel(e)\r\n}\r\nexport const startPlayer = () => {\r\n    Melo?.startPlay()\r\n}\r\nexport const stopPlayer = () => {\r\n    Melo?.stopPlay()\r\n}\r\nexport const midiNoteOn = (pitch: number) => {\r\n    Melo?.midiNoteOn(pitch, 0.7)\r\n}\r\nexport const midiNoteOff = (pitch: number) => {\r\n    Melo?.midiNoteOff(pitch)\r\n}","export class Midi {\r\n    touchedKeys: any[] = []\r\n    score: any = []\r\n}\r\nconst MidiState = new Midi();\r\n\r\nexport default MidiState","\r\ninterface IFingersClass {\r\n  note: any,\r\n  len: number,\r\n  hand: any,\r\n  beat: number\r\n}\r\nexport class FingersClass {\r\n  len: number;\r\n  note: any;\r\n  finger: any;\r\n  timer: any;\r\n  hand: string;\r\n  color: string;\r\n  bColor: string;\r\n  end: number;\r\n  constructor({ note, len, hand, beat }: IFingersClass) {\r\n    this.len = len;\r\n    this.note = note;\r\n    this.end = this.len - 1 + beat;\r\n    if (this.end <= beat) {\r\n      this.end = beat + 1;\r\n    }\r\n    this.timer = null;\r\n    this.hand = hand.hand;\r\n    this.finger = hand.finger;\r\n    this.bColor = note.id;\r\n    if (this.hand === \"right\") {\r\n      this.color = \"yellow\";\r\n    } else {\r\n      this.color = \"skyblue\";\r\n    }\r\n  }\r\n  show() {\r\n    this.note.children.back.setAttribute(\"fill\", this.color);\r\n    this.finger.setAttribute(\"fill\", this.color);\r\n  }\r\n  hide() {\r\n    this.note.children.back.setAttribute(\"fill\", this.bColor);\r\n    this.note.children.back.style.fill = \"\";\r\n    this.finger.setAttribute(\"fill\", \"rgba(99, 99, 99, 0.25)\");\r\n  }\r\n}\r\nexport class BackMover {\r\n  public y: number;\r\n  public end: number;\r\n  private yPos: number;\r\n  public margin: number;\r\n  constructor(beat: number, height: number, margin: number) {\r\n    this.y = 0;\r\n    this.margin = margin;\r\n    this.yPos = beat * height;\r\n    this.end = this.yPos + height + margin;\r\n  }\r\n  update = (ctx: CanvasRenderingContext2D, img: HTMLImageElement) => {\r\n    ctx.drawImage(img, 0, Math.floor(this.y - this.yPos - this.margin));\r\n  }\r\n}\r\ninterface IMusicLine {\r\n  x: number;\r\n  y: number;\r\n  lw: number;\r\n  color: string;\r\n  width: number;\r\n}\r\nexport class MusicLine {\r\n  private x: number;\r\n  private y: number;\r\n  private lw: number;\r\n  private color: string;\r\n  private width: number;\r\n  constructor({ width, color, x, y, lw }: IMusicLine) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.width = width;\r\n    this.color = color;\r\n    this.lw = lw\r\n  }\r\n  draw = (ctx: CanvasRenderingContext2D) => {\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, this.y);\r\n    ctx.lineTo(this.width, this.y);\r\n    ctx.lineWidth = this.lw\r\n    ctx.strokeStyle = this.color\r\n    ctx.stroke();\r\n    ctx.fill();\r\n  }\r\n}\r\ninterface INote {\r\n  width: number,\r\n  height: number,\r\n  color: string,\r\n  x: number,\r\n  note: number;\r\n  y: number,\r\n  end: number,\r\n  text: string,\r\n  gap: number,\r\n  tapSize: number\r\n}\r\nexport class Note {\r\n  y: number;\r\n  x: number;\r\n  r: number;\r\n  gap: number;\r\n  beg: number;\r\n  end: number;\r\n  start: number;\r\n  height: number;\r\n  width: number;\r\n  mover: number;\r\n  note: number;\r\n  tapSize: number;\r\n  text: string;\r\n  color: string;\r\n  lineColor: string;\r\n  crash: boolean;\r\n  hit?: number;\r\n  constructor({ width, height, color, x, y, end, note, text, gap, tapSize }: INote) {\r\n    this.y = y;\r\n    this.start = -y;\r\n    this.tapSize = tapSize;\r\n    this.gap = gap;\r\n    this.beg = y + gap;\r\n    this.end = end;\r\n    this.note = note;\r\n    this.height = -height;\r\n    this.x = x;\r\n    this.text = text;\r\n    this.width = width;\r\n    this.r = width / 2;\r\n    this.color = color;\r\n    this.lineColor = 'black';\r\n    this.mover = height;\r\n    this.crash = false;\r\n  }\r\n  move = () => {\r\n    this.crash = true;\r\n    this.mover = this.y - this.gap;\r\n    if (this.mover > -this.height) {\r\n      this.mover = -this.height\r\n    }\r\n  }\r\n  update = (ctx: CanvasRenderingContext2D) => {\r\n    ctx.beginPath();\r\n    ctx.moveTo(this.x, this.y + this.start);\r\n    ctx.lineTo(this.x, this.y + this.height);\r\n    ctx.lineWidth = this.width * 0.85;\r\n    ctx.strokeStyle = 'black';\r\n    ctx.lineCap = 'round';\r\n    ctx.stroke();\r\n    ctx.beginPath();\r\n    ctx.moveTo(this.x, this.y + this.start);\r\n    ctx.lineTo(this.x, this.y + this.height);\r\n    ctx.lineWidth = this.width * 0.2;\r\n    ctx.strokeStyle = 'white';\r\n    ctx.stroke();\r\n    if (this.crash) {\r\n      ctx.beginPath();\r\n      ctx.moveTo(this.x, this.y + this.start);\r\n      ctx.lineTo(this.x, this.y - this.mover);\r\n      ctx.lineWidth = this.width * 0.2;\r\n      ctx.strokeStyle = 'red';\r\n      ctx.stroke();\r\n    }\r\n    if (this.hit) {\r\n      ctx.beginPath();\r\n      ctx.moveTo(this.x, this.y + this.start);\r\n      ctx.lineTo(this.x, this.y - this.hit);\r\n      ctx.lineWidth = this.width * 0.25;\r\n      ctx.strokeStyle = this.color;\r\n      ctx.stroke();\r\n    }\r\n    if (this.crash && !this.hit) {\r\n      this.color = 'red';\r\n    }\r\n    ctx.beginPath();\r\n    ctx.arc(this.x, this.y + this.start, this.r * 1.4, 0, 2 * Math.PI);\r\n    ctx.fillStyle = 'black';\r\n    ctx.fill()\r\n    ctx.beginPath();\r\n    ctx.arc(this.x, this.y + this.start, this.r, 0, 2 * Math.PI);\r\n    ctx.fillStyle = this.color;\r\n    ctx.fill()\r\n    ctx.font = 'bold ' + this.r * 1.3 + 'px arial';\r\n    ctx.textAlign = 'center';\r\n    ctx.textBaseline = 'middle';\r\n    ctx.fillStyle = 'black';\r\n    ctx.fillText(this.text, this.x, this.y + this.start + 1);\r\n  }\r\n}\r\n","import MidiState from \"../../_helpers/midiContext\";\r\nimport { BackMover, MusicLine, Note } from \"./Canvas\";\r\nimport { IPianoSizes } from \"../../_types/player.types\";\r\n\r\nexport default class Game {\r\n  public counter = 0;\r\n  public tapSize: number = 32;\r\n  public songLength: number = 17;\r\n  private gap: number = 384;\r\n  private margin: number = 128;\r\n  private width: number;\r\n  private height: number;\r\n  private notes: Note[] = [];\r\n  private image: HTMLImageElement;\r\n  private backMover: BackMover[] = [];\r\n  private barNotes: Note[][] = [];\r\n  private fullNotes: Note[] = [];\r\n  private context: CanvasRenderingContext2D;\r\n  constructor(canvas: HTMLCanvasElement) {\r\n    this.image = new Image();\r\n    this.width = canvas.width;\r\n    this.height = canvas.height;\r\n    this.context = canvas.getContext(\"2d\")!;\r\n  }\r\n  assigner = (options: Partial<any>) => {\r\n    Object.assign(this, options);\r\n  }\r\n  playGame = (y: number) => {\r\n    this.clear();\r\n    this.updateBacks(y)\r\n    this.updateNotes(y)\r\n  }\r\n  clear = () => {\r\n    this.context.clearRect(0, 0, this.width, this.height);\r\n  }\r\n  pitchName = (pitch: number) => {\r\n    let n = pitch % 12;\r\n    let t = \"C\";\r\n    if (n === 1) {\r\n      t = \"Db\";\r\n    }\r\n    if (n === 2) {\r\n      t = \"D\";\r\n    }\r\n    if (n === 3) {\r\n      t = \"Eb\";\r\n    }\r\n    if (n === 4) {\r\n      t = \"E\";\r\n    }\r\n    if (n === 5) {\r\n      t = \"F\";\r\n    }\r\n    if (n === 6) {\r\n      t = \"Gb\";\r\n    }\r\n    if (n === 7) {\r\n      t = \"G\";\r\n    }\r\n    if (n === 8) {\r\n      t = \"Ab\";\r\n    }\r\n    if (n === 9) {\r\n      t = \"A\";\r\n    }\r\n    if (n === 10) {\r\n      t = \"Bb\";\r\n    }\r\n    if (n === 11) {\r\n      t = \"B\";\r\n    }\r\n    return \"\" + t;\r\n  }\r\n  drawImage = () => {\r\n    const myLine = document.createElement(\"canvas\").getContext(\"2d\")!;\r\n    myLine.canvas.width = this.width;\r\n    myLine.canvas.height = this.height;\r\n    myLine.save();\r\n    Array.from(Array(17), (_, i) => i).forEach((_, v) => {\r\n      const lineWidth =\r\n        v % 16 === 0\r\n          ? 1.5\r\n          : v % 8 === 0\r\n            ? 1.2\r\n            : v % 4 === 0\r\n              ? 1\r\n              : v % 2 === 0\r\n                ? 0.8\r\n                : 0.5;\r\n      const strokeStyle =\r\n        v % 16 === 0\r\n          ? \"black\"\r\n          : v % 8 === 0\r\n            ? \"black\"\r\n            : v % 4 === 0\r\n              ? \"rgba(0,0,0,0.5)\"\r\n              : v % 2 === 0\r\n                ? \"rgba(0,0,0,0.5)\"\r\n                : \"rgba(0,0,0,0.2)\";\r\n      const yPos = v * this.tapSize;\r\n      const line = new MusicLine({\r\n        width: this.width,\r\n        color: strokeStyle,\r\n        x: 0,\r\n        y: yPos,\r\n        lw: lineWidth,\r\n      });\r\n      line.draw(myLine);\r\n    });\r\n    this.image.src = myLine.canvas.toDataURL(\"image/png\");\r\n    let firstLine: BackMover;\r\n    this.image.onload = () => {\r\n      if (!firstLine) {\r\n        firstLine = new BackMover(0, this.height, this.margin);\r\n        firstLine.update(this.context, this.image);\r\n      }\r\n    };\r\n  }\r\n  drawNote = (showTrack: any[], notePos: IPianoSizes[]) => {\r\n    const tap = this.tapSize;\r\n    Array.from(Array(this.songLength), (_, i) => i).forEach((_, m) => {\r\n      const r = notePos[1].width;\r\n      const y = tap * (16 * m);\r\n      this.barNotes[m] = [];\r\n      showTrack.forEach((p) => {\r\n        if (p.beat >= m * 16) {\r\n          if (p.beat < (m + 1) * 16) {\r\n            const yy = y + tap * (p.beat % 16);\r\n            const cc = notePos[p.pitch].center;\r\n            const le = yy + tap * p.length;\r\n            const note = new Note({\r\n              width: r,\r\n              height: le,\r\n              color: \"yellow\",\r\n              x: cc,\r\n              y: yy,\r\n              end: le + this.height * 3,\r\n              text: this.pitchName(p.pitch),\r\n              note: p.pitch + 36,\r\n              gap: this.gap,\r\n              tapSize: this.tapSize\r\n            });\r\n            this.barNotes[m].push(note);\r\n            this.fullNotes.push(note);\r\n          }\r\n        }\r\n      });\r\n    });\r\n  }\r\n  drawBack = () => {\r\n    this.backMover = [];\r\n    for (let i = 0; i < 3; i++) {\r\n      this.backMover.push(new BackMover(i, this.height, this.margin));\r\n    }\r\n  }\r\n  pushNote = (num?: number) => {\r\n    if (num) this.counter = num;\r\n    if (\r\n      this.barNotes[this.counter] &&\r\n      this.barNotes[this.counter].length > 0\r\n    ) {\r\n      this.barNotes[this.counter].forEach((g) => {\r\n        this.notes.push(g);\r\n      });\r\n    }\r\n    if (this.songLength > this.counter + 3)\r\n      this.backMover.push(new BackMover(this.counter + 3, this.height, this.margin));\r\n    this.counter++;\r\n  }\r\n  updateNotes = (y: number) => {\r\n    this.notes.forEach((note, i) => {\r\n      note.y = y;\r\n      note.update(this.context);\r\n      if (note.end < y) {\r\n        this.notes.splice(i, 1);\r\n        // missing notes\r\n        // if (!note.hit)\r\n        // \tthis.score.push([note.note, 'miss'])\r\n      }\r\n      if (this.gap - note.y <= note.start) {\r\n        let hit: string;\r\n        MidiState.touchedKeys.forEach((touch) => {\r\n          if (note.note === touch.note) {\r\n            if (\r\n              touch.y > note.beg - this.tapSize &&\r\n              touch.y < note.beg + this.tapSize\r\n            ) {\r\n              note.hit = y - this.gap + this.tapSize * 0.1;\r\n              if (\r\n                touch.y - this.tapSize * 0.3 <= note.beg &&\r\n                touch.y + this.tapSize * 0.3 >= note.beg\r\n              ) {\r\n                hit = \"perfect\";\r\n                note.color = \"green\";\r\n              } else if (touch.y > note.beg) {\r\n                hit = \"late\";\r\n                note.color = \"purple\";\r\n              } else if (touch.y < note.beg) {\r\n                hit = \"early\";\r\n                note.color = \"orange\";\r\n              }\r\n              if (!touch.hit) {\r\n                touch[\"hit\"] = hit;\r\n                MidiState.score.push([note.note, touch.hit]);\r\n                console.log(MidiState.score);\r\n              }\r\n            }\r\n          }\r\n        });\r\n        note.move();\r\n      }\r\n    });\r\n  }\r\n  updateBacks = (y: number) => {\r\n    this.backMover.forEach((back, i) => {\r\n      back.y = y;\r\n      back.update(this.context, this.image);\r\n      if (back.y > back.end) {\r\n        this.backMover.splice(i, 1);\r\n      }\r\n    });\r\n  }\r\n  updateFullSong = (y: number) => {\r\n    this.clear();\r\n    Array.from(Array(this.songLength), (_, i) => i).forEach((_, m) => {\r\n      this.context.drawImage(this.image, 0, Math.floor(y - m * this.image.height - this.tapSize * 4));\r\n    });\r\n    this.fullNotes.forEach(note => {\r\n      note.y = y;\r\n      note.update(this.context);\r\n    });\r\n  }\r\n};","import { WebAudioFontChannel, WebAudioFontPlayer } from \"./WebAudio\";\r\nimport { ICanvas, IPianoSizes } from \"../../_types/player.types\";\r\nimport MidiState from \"../../_helpers/midiContext\";\r\nimport { FingersClass } from \"../Game/Canvas\";\r\nimport Game from \"../Game/Game\";\r\nimport Song from \"./Song\";\r\n\r\nexport class Melodition {\r\n    public game?: Game;\r\n    public master?: WebAudioFontChannel;\r\n    public player?: WebAudioFontPlayer;\r\n    public currentSong?: Song;\r\n    public loaded: boolean = false;\r\n    public onAir: boolean = false;\r\n    public score: any[] = [];\r\n    public handRefs: any = [];\r\n    public seekBar?: { changeSeeker: (v: number) => void };\r\n    public keyRefs: SVGGElement[] = [];\r\n    public canvasSize?: ICanvas;\r\n    public pianoSize?: IPianoSizes[];\r\n    public seekValue: number = 0;\r\n    public songLength = 272;\r\n    public tapSize = 32;\r\n    public loading = true;\r\n    public playMode = false;\r\n    public TrackID = 0;\r\n    public tempo = 120;\r\n    public zaribTempo = 1;\r\n    public fingerNotes: any = {};\r\n    public drumInfo: any[] = [];\r\n    public trackInfo: any[] = [];\r\n    public storeDrums: any[] = [];\r\n    public storeTracks: any[] = [];\r\n    public storeFingers: any[] = [];\r\n    public equalizer: number[] = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n    public drumVolumes: number[] = [70, 70, 70, 70, 70, 70, 70, 70];\r\n    private firstDelay!: NodeJS.Timeout;\r\n    private tickID!: NodeJS.Timeout;\r\n    private currentBeat: number = 0;\r\n    private tickerDelay: number = 1;\r\n    private tickerStep: number = 0;\r\n    private animeFrame: number = 0;\r\n    private nextWhen: number = 0;\r\n    private nextBeat: number = 0;\r\n    private anime: number[] = [];\r\n    private yPos: number = 0;\r\n    private sentWhen: number = 0;\r\n    private finger: FingersClass[] = [];\r\n    private midiKeys: any[] = [];\r\n    constructor(options: Partial<any>) {\r\n        Object.assign(this, options);\r\n        console.log(this)\r\n    }\r\n    assigner(options: Partial<any>) {\r\n        console.log(options)\r\n        Object.assign(this, options);\r\n    }\r\n    drawGame = (canvas: HTMLCanvasElement) => {\r\n        this.game = new Game(canvas)\r\n        this.game.assigner({\r\n            tapSize: this.tapSize,\r\n            songLength: Math.round(this.songLength / 16),\r\n            gap: this.tapSize * 12,\r\n            margin: this.tapSize * 4\r\n        })\r\n        const showTrack: {\r\n            beat: number,\r\n            pitch: number,\r\n            shift: number,\r\n            length: number,\r\n        }[] = [];\r\n        this.storeTracks.forEach(p => {\r\n            if (p.track === this.TrackID) {\r\n                showTrack.push({\r\n                    beat: p.beat - 12,\r\n                    pitch: p.pitch,\r\n                    shift: p.shift,\r\n                    length: p.length,\r\n                });\r\n            }\r\n        });\r\n        this.game.clear();\r\n        this.game.drawImage();\r\n        if (this.pianoSize) {\r\n            this.game.drawNote(showTrack, this.pianoSize);\r\n        }\r\n    }\r\n    startPlay = () => {\r\n        if (this.onAir || !this.loaded) {\r\n            console.log(\"on air already\");\r\n            return;\r\n        }\r\n        this.score = [];\r\n        this.resetNodeValues();\r\n        this.nextBeat = 0;\r\n        this.nextWhen = 0;\r\n        this.game?.assigner({ counter: 0 })\r\n        if (this.player?.audioContext.state === \"suspended\") {\r\n            console.log(\"audioContext.resume\");\r\n            this.player?.audioContext.resume();\r\n        }\r\n        this.onAir = true;\r\n        const beatDur = ((4 * 60) / (this.tempo * this.zaribTempo)) * 1000;\r\n        this.firstDelay = setTimeout(() => {\r\n            this.playAllTracks(0.03);\r\n        }, beatDur);\r\n        this.queueNextBeats();\r\n        if (this.playMode) {\r\n            this.game?.drawBack();\r\n            this.game?.pushNote();\r\n            this.animeFrame = requestAnimationFrame(this.moveSVG);\r\n        } else {\r\n            this.animeFrame = requestAnimationFrame(this.moveFingers);\r\n        }\r\n        this.onAir = true;\r\n    }\r\n    stopPlay = () => {\r\n        if (!this.onAir || !this.loaded) {\r\n            console.log(\"Not On Air\");\r\n            return;\r\n        }\r\n        this.finger.forEach((fin, i) => {\r\n            fin.hide()\r\n        });\r\n        document.getElementById(\"play-button\")?.click();\r\n        this.seekValue = this.currentBeat - 1;\r\n        this.onAir = false\r\n        this.anime = [];\r\n        this.finger = [];\r\n        clearTimeout(this.firstDelay);\r\n        this.stopAllTracks();\r\n        cancelAnimationFrame(this.animeFrame);\r\n        clearTimeout(this.tickID);\r\n        this.player?.cancelQueue();\r\n        this.onAir = false;\r\n    }\r\n    stopAllTracks = () => {\r\n        if (this.currentSong) {\r\n            this.currentSong.stop();\r\n            this.currentSong.elapsedTimeSinceStart = 0;\r\n        }\r\n    }\r\n    playAllTracks = (startTime: number) => {\r\n        if (this.currentSong) {\r\n            this.currentSong.setMasterVolume(100);\r\n            this.currentSong.play(startTime);\r\n            for (let i = 0; i < this.currentSong.getNbTracks(); i++) { }\r\n        }\r\n    }\r\n    rakeMouseWheel = (e: number | React.WheelEvent) => {\r\n        if (!this.onAir && this.playMode) {\r\n            if (typeof e !== \"number\")\r\n                this.seekValue = this.seekValue + (e.deltaY > 0 ? -1 : 1);\r\n            else\r\n                this.seekValue = e;\r\n            this.seekValue = this.seekValue < 0 ? 0 :\r\n                this.seekValue > this.songLength ? this.songLength : this.seekValue\r\n            const seekY = this.seekValue * this.tapSize;\r\n            this.seekMove(this.seekValue);\r\n            this.seekSVG(seekY);\r\n        }\r\n    }\r\n    seekMove = (value: number) => {\r\n        if (this.seekBar && value < this.songLength) {\r\n            this.seekBar.changeSeeker(value);\r\n        }\r\n    }\r\n    seekSVG = (y: number) => {\r\n        if (!this.onAir) {\r\n            this.game?.updateFullSong(y)\r\n        }\r\n    }\r\n    resetNodeValues = () => {\r\n        for (let i = 0; i < this.trackInfo.length; i++) {\r\n            this.trackInfo[i].audioNode.gain.setValueAtTime(\r\n                this.trackInfo[i].volume / 100,\r\n                0\r\n            );\r\n        }\r\n        for (let i = 0; i < this.drumInfo.length; i++) {\r\n            this.drumInfo[i].audioNode.gain.setValueAtTime(\r\n                this.drumVolumes[i] / 100,\r\n                0\r\n            );\r\n        }\r\n        this.master?.band32.gain.setValueAtTime(this.equalizer[0], 0);\r\n        this.master?.band64.gain.setValueAtTime(this.equalizer[1], 0);\r\n        this.master?.band128.gain.setValueAtTime(this.equalizer[2], 0);\r\n        this.master?.band256.gain.setValueAtTime(this.equalizer[3], 0);\r\n        this.master?.band512.gain.setValueAtTime(this.equalizer[4], 0);\r\n        this.master?.band1k.gain.setValueAtTime(this.equalizer[5], 0);\r\n        this.master?.band2k.gain.setValueAtTime(this.equalizer[6], 0);\r\n        this.master?.band4k.gain.setValueAtTime(this.equalizer[7], 0);\r\n        this.master?.band8k.gain.setValueAtTime(this.equalizer[8], 0);\r\n        this.master?.band16k.gain.setValueAtTime(this.equalizer[9], 0);\r\n    }\r\n    queueNextBeats = () => {\r\n        if (this.onAir && this.player) {\r\n            let beat16duration = (4 * 60) / (this.tempo * this.zaribTempo) / 16;\r\n            let t = this.player.audioContext.currentTime;\r\n            if (t && this.nextWhen < t) {\r\n                this.nextWhen = t;\r\n            }\r\n            while (this.sentWhen < t + beat16duration) {\r\n                this.sendNextBeats(this.nextWhen, this.nextBeat, this.nextBeat);\r\n                this.nextWhen = this.sentWhen + beat16duration;\r\n                if (this.nextBeat > this.songLength + 1) {\r\n                    this.stopPlay();\r\n                }\r\n                this.nextBeat = this.nextBeat + 1;\r\n                if (this.playMode && (this.nextBeat / 16) % 1 === 0) {\r\n                    this.game?.pushNote();\r\n                }\r\n                this.seekMove(this.nextBeat);\r\n                if (!this.playMode) this.showFingers();\r\n            }\r\n            let wait = 0.5 * 1000 * (this.nextWhen - t);\r\n            this.tickerStep++;\r\n            if (this.tickerStep >= this.tickerDelay) {\r\n                this.tickerStep = 0;\r\n            }\r\n            this.tickID = setTimeout(() => {\r\n                this.queueNextBeats();\r\n            }, wait);\r\n        }\r\n    }\r\n    sendNextBeats = (when: number, startBeat: number, endBeat: number) => {\r\n        this.sentWhen = when;\r\n        let N = (4 * 60) / (this.tempo * this.zaribTempo);\r\n        let beatLen = (1 / 16) * N;\r\n        this.currentBeat = startBeat;\r\n        this.storeDrums.forEach((hit) => {\r\n            if (hit.beat >= startBeat && hit.beat <= endBeat) {\r\n                let channel = this.findDrumInfoHand(hit.drum);\r\n                let zones = channel.sound;\r\n                if (channel.info && window[channel.info.variable]) {\r\n                    zones = window[channel.info.variable];\r\n                }\r\n                let r = 1.0 - Math.random() * 0.2;\r\n                this.player?.queueWaveTable({\r\n                    target: channel.audioNode,\r\n                    preset: zones,\r\n                    when: when + beatLen * (hit.beat - startBeat),\r\n                    pitches: channel.pitch,\r\n                    duration: channel.length,\r\n                    volume: r * channel.volumeRatio,\r\n                });\r\n            }\r\n        })\r\n        let notes = [];\r\n        for (let i = 0; i < this.storeTracks.length; i++) {\r\n            let note = this.storeTracks[i];\r\n            if (note.beat >= startBeat && note.beat <= endBeat) {\r\n                notes.push(note);\r\n            }\r\n        }\r\n        notes.sort(function (n1, n2) {\r\n            let r = 1000 * (n1.beat - n2.beat) + 100000 * (n1.track - n2.track);\r\n            if (n1.beat === n2.beat) {\r\n                r = r + (n1.pitch - n2.pitch);\r\n            }\r\n            return r;\r\n        });\r\n        let currentBeat = -1;\r\n        let currentTrack = -1;\r\n        let inChordCount = 0;\r\n        notes.forEach(note => {\r\n            let channel = this.trackInfo.find(trc => trc.nn === note.track);\r\n            if (note.beat !== currentBeat || note.track !== currentTrack) {\r\n                currentBeat = note.beat;\r\n                currentTrack = note.track;\r\n                inChordCount = 0;\r\n                if (note.track === this.findTrackInfoHand().nn) {\r\n                    this.anime.push(note.beat);\r\n                }\r\n            }\r\n            let zones = channel.sound;\r\n            if (channel.info && window[channel.info.variable]) {\r\n                zones = window[channel.info.variable];\r\n            }\r\n            let shift = [\r\n                {\r\n                    when: note.length * beatLen,\r\n                    pitch: note.shift + channel.octave * 12 + note.pitch,\r\n                },\r\n            ];\r\n            let r = 0.6 - Math.random() * 0.2;\r\n            this.player?.queueWaveTable({\r\n                target: channel.audioNode,\r\n                preset: zones,\r\n                when:\r\n                    when +\r\n                    beatLen * (note.beat - startBeat) +\r\n                    inChordCount * channel.inChordDelay,\r\n                pitches: channel.octave * 12 + note.pitch,\r\n                duration: 0.075 + note.length * beatLen,\r\n                volume: r * channel.volumeRatio,\r\n                slides: shift,\r\n            });\r\n            inChordCount++;\r\n        })\r\n    }\r\n    showFingers = () => {\r\n        const fingers = this.storeFingers[this.TrackID];\r\n        if (this.anime.length !== 0) {\r\n            this.anime.forEach((nBeat) => {\r\n                const beat = this.fingerNotes[nBeat];\r\n                if (beat) {\r\n                    let handArr: any = {};\r\n                    for (let fin in fingers) {\r\n                        if (fingers[fin][nBeat]) {\r\n                            const hand = this.handRefs[fin];\r\n                            const key = fingers[fin][nBeat];\r\n                            handArr[key] = { finger: hand, hand: hand.getAttribute(\"class\") };\r\n                        }\r\n                    }\r\n                    beat.forEach((b: any) => {\r\n                        const len = b.length;\r\n                        const pitch = b.pitch + 36;\r\n                        const note = this.keyRefs[pitch];\r\n                        if (handArr[pitch]) {\r\n                            this.finger.push(new FingersClass({\r\n                                note: note,\r\n                                len: len,\r\n                                hand: handArr[pitch],\r\n                                beat: this.currentBeat\r\n                            }));\r\n                        }\r\n                    });\r\n                }\r\n                this.anime = this.anime.filter((item) => item !== nBeat);\r\n            });\r\n        }\r\n    }\r\n    moveFingers = () => {\r\n        if (this.onAir) {\r\n            this.finger.forEach((fin, i) => {\r\n                if (this.currentBeat >= fin.end) {\r\n                    fin.hide();\r\n                    this.finger.splice(i, 1);\r\n                } else {\r\n                    fin.show();\r\n                }\r\n            });\r\n            requestAnimationFrame(this.moveFingers);\r\n        }\r\n    }\r\n    findTrackInfoHand = (): any => {\r\n        let track = null\r\n        this.trackInfo.forEach(trc => {\r\n            if (trc.nn === this.TrackID) {\r\n                track = trc;\r\n            }\r\n        });\r\n        return track;\r\n    }\r\n    findDrumInfoHand = (order: number): any => {\r\n        let drum = null\r\n        this.drumInfo.forEach(drm => {\r\n            if (drm.id === order) {\r\n                drum = drm;\r\n            }\r\n        });\r\n        return drum;\r\n    }\r\n    moveSVG = () => {\r\n        if (this.player && this.game && this.onAir) {\r\n            const N = (4 * 60) / (this.tempo * this.zaribTempo);\r\n            const beatLen = (1 / 16) * N;\r\n            let diff =\r\n                this.nextBeat +\r\n                (this.player.audioContext.currentTime - this.nextWhen) / beatLen;\r\n            while (diff < 0) {\r\n                diff = diff + this.songLength;\r\n            }\r\n            if (diff > this.songLength) {\r\n                diff = this.songLength;\r\n            }\r\n            if (this.game.counter < 4 && diff > 100) diff = 0;\r\n            let y = diff * this.tapSize;\r\n            this.yPos = y;\r\n            this.game.playGame(y);\r\n            requestAnimationFrame(this.moveSVG);\r\n        }\r\n    }\r\n    midiNoteOn = (pitch: any, velocity = 0.7) => {\r\n        if (velocity === 0) {\r\n            this.midiNoteOff(pitch);\r\n        } else {\r\n            this.midiNoteOff(pitch);\r\n            if (this.onAir) MidiState.touchedKeys.push({ note: pitch, y: this.yPos });\r\n            let channel = this.findTrackInfoHand();\r\n            if (channel) {\r\n                let zones = channel.sound;\r\n                if (channel.info && window[channel.info.variable]) {\r\n                    zones = window[channel.info.variable];\r\n                }\r\n                this.midiKeys[pitch] = this.player?.queueWaveTable({\r\n                    target: channel.audioNode,\r\n                    preset: zones,\r\n                    when: 0,\r\n                    pitches: pitch,\r\n                    duration: 10,\r\n                    volume: velocity,\r\n                });\r\n                if (this.keyRefs[pitch]) {\r\n                    const elem: any = this.keyRefs[pitch];\r\n                    const cColor = elem.children.back.getAttribute(\"fill\");\r\n                    let bColor = \"red\";\r\n                    if (cColor !== \"white\" && cColor !== \"black\") bColor = \"green\";\r\n                    elem.children.back.style.fill = bColor;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    midiNoteOff = (pitch: any) => {\r\n        if (this.midiKeys[pitch]) {\r\n            this.midiKeys[pitch].cancel();\r\n            MidiState.touchedKeys.forEach((x, i) => {\r\n                const notePitch = MidiState.touchedKeys[i].note;\r\n                if (pitch === notePitch) MidiState.touchedKeys.splice(i, 1);\r\n            });\r\n        }\r\n        if (this.keyRefs[pitch]) {\r\n            const elem: any = this.keyRefs[pitch];\r\n            if (elem) {\r\n                elem.children.back.style.fill = \"\";\r\n            }\r\n        }\r\n    }\r\n}","import { ICanvas, IPianoSizes } from \"../_types/player.types\";\r\n\r\nexport const sizeCalculator = (keyRefs: SVGGElement[], pianoSize: ICanvas) => {\r\n    const lineWidth =\r\n        keyRefs[50].getBoundingClientRect().x -\r\n        (keyRefs[48].getBoundingClientRect().x +\r\n            keyRefs[48].getBoundingClientRect().width);\r\n    const keyXPos = pianoSize.pianoLeft\r\n    const padLeft = keyXPos ? keyXPos : 100;\r\n    const notePos: IPianoSizes[] = []\r\n    for (let k in keyRefs) {\r\n        const key = keyRefs[k];\r\n        const rect = key.getBoundingClientRect();\r\n        const x = rect.x - padLeft;\r\n        const w = rect.width;\r\n        const centerX = x + w / 2;\r\n        if (key.classList.contains(\"C\") || key.classList.contains(\"F\")) {\r\n            notePos.push({ left: x, center: centerX - lineWidth * 3.5, width: w, key: \"CF\" });\r\n        } else if (key.classList.contains(\"last\")) {\r\n            notePos.push({ left: x, center: centerX, width: w, key: \"last\" });\r\n        } else if (key.id === \"black\") {\r\n            notePos.push({ left: x, center: centerX, width: w, key: \"black\" });\r\n        } else if (key.classList.contains(\"E\") || key.classList.contains(\"B\"))\r\n            notePos.push({ left: x, center: centerX + lineWidth * 3.5, width: w, key: \"EB\" });\r\n        else if (key.classList.contains(\"A\"))\r\n            notePos.push({ left: x, center: centerX + lineWidth * 1.8, width: w, key: \"A\" });\r\n        else if (key.classList.contains(\"G\"))\r\n            notePos.push({ left: x, center: centerX + lineWidth * 1.4, width: w, key: \"G\" });\r\n        else notePos.push({ left: x, center: centerX, width: w, key: \"white\" });\r\n    }\r\n    notePos.push({ left: -100, center: 0, width: lineWidth, key: \"lineWidth\" });\r\n    return notePos;\r\n}","export const REGISTER_REQUEST = \"USER_REGISTER_REQUEST\";\r\nexport const REGISTER_SUCCESS = \"USER_REGISTER_SUCCESS\";\r\nexport const REGISTER_FAILURE = \"USER_REGISTER_FAILURE\";\r\n\r\nexport const LOGIN_REQUEST = \"USER_LOGIN_REQUEST\";\r\nexport const LOGIN_SUCCESS = \"USER_LOGIN_SUCCESS\";\r\nexport const LOGIN_FAILURE = \"USER_LOGIN_FAILURE\";\r\n\r\nexport const USER_LOGOUT = \"USER_LOGOUT\";\r\n\r\nexport const LOST_REQUEST = \"USER_LOST_REQUEST\";\r\nexport const LOST_SUCCESS = \"USER_LOST_SUCCESS\";\r\nexport const LOST_FAILURE = \"USER_LOST_FAILURE\";\r\n\r\nexport const CHANGE_THEME = \"CHANGE_THEME\";\r\n\r\nexport interface DefaultUserState {\r\n  loggedIn: boolean;\r\n  loading: boolean;\r\n  user?: LoginResponse;\r\n  error?: string;\r\n  theme: \"light\" | \"dark\";\r\n}\r\nexport type ILost = {\r\n  user_login: string;\r\n};\r\nexport type IUser = {\r\n  username: string;\r\n  password: string;\r\n};\r\nexport type IRegister = {\r\n  username: string;\r\n  password: string;\r\n  firstname: string;\r\n  lastname: string;\r\n  email: string;\r\n};\r\nexport type LoginResponse = {\r\n  user_display_name: string;\r\n  token: string;\r\n  user_email: string;\r\n  user_nicename: string;\r\n};\r\n\r\nexport interface LoginRequestAction {\r\n  type: typeof LOGIN_REQUEST;\r\n}\r\nexport interface LoginSuccessAction {\r\n  type: typeof LOGIN_SUCCESS;\r\n  user: LoginResponse;\r\n}\r\nexport interface LoginFailureAction {\r\n  type: typeof LOGIN_FAILURE;\r\n  error: string;\r\n}\r\n\r\nexport interface RegisterRequestAction {\r\n  type: typeof REGISTER_REQUEST;\r\n}\r\nexport interface RegisterSuccessAction {\r\n  type: typeof REGISTER_SUCCESS;\r\n  user: string;\r\n}\r\nexport interface RegisterFailureAction {\r\n  type: typeof REGISTER_FAILURE;\r\n  error: string;\r\n}\r\n\r\nexport interface LogoutAction {\r\n  type: typeof USER_LOGOUT;\r\n}\r\n\r\nexport interface LostRequestAction {\r\n  type: typeof LOST_REQUEST;\r\n}\r\nexport interface LostSuccessAction {\r\n  type: typeof LOST_SUCCESS;\r\n  message: string;\r\n}\r\nexport interface LostFailureAction {\r\n  type: typeof LOST_FAILURE;\r\n  error: string;\r\n}\r\n\r\nexport interface ChangeThemeAction {\r\n  type: typeof CHANGE_THEME;\r\n  theme: \"light\" | \"dark\";\r\n}\r\n\r\nexport type UserActionTypes =\r\n  | RegisterRequestAction\r\n  | RegisterSuccessAction\r\n  | RegisterFailureAction\r\n  | LostRequestAction\r\n  | LostSuccessAction\r\n  | LostFailureAction\r\n  | LogoutAction\r\n  | LoginRequestAction\r\n  | LoginSuccessAction\r\n  | LoginFailureAction\r\n  | ChangeThemeAction\r\n","var map = {\n\t\"./default_drum_00\": [\n\t\t213,\n\t\t0\n\t],\n\t\"./default_drum_00.ts\": [\n\t\t213,\n\t\t0\n\t],\n\t\"./default_drum_01\": [\n\t\t214,\n\t\t1\n\t],\n\t\"./default_drum_01.ts\": [\n\t\t214,\n\t\t1\n\t],\n\t\"./default_drum_02\": [\n\t\t215,\n\t\t2\n\t],\n\t\"./default_drum_02.ts\": [\n\t\t215,\n\t\t2\n\t],\n\t\"./default_drum_03\": [\n\t\t216,\n\t\t3\n\t],\n\t\"./default_drum_03.ts\": [\n\t\t216,\n\t\t3\n\t],\n\t\"./default_drum_04\": [\n\t\t217,\n\t\t4\n\t],\n\t\"./default_drum_04.ts\": [\n\t\t217,\n\t\t4\n\t],\n\t\"./default_drum_05\": [\n\t\t218,\n\t\t5\n\t],\n\t\"./default_drum_05.ts\": [\n\t\t218,\n\t\t5\n\t],\n\t\"./default_drum_06\": [\n\t\t219,\n\t\t6\n\t],\n\t\"./default_drum_06.ts\": [\n\t\t219,\n\t\t6\n\t],\n\t\"./default_drum_07\": [\n\t\t220,\n\t\t7\n\t],\n\t\"./default_drum_07.ts\": [\n\t\t220,\n\t\t7\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 274;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./default_tone_00\": [\n\t\t221,\n\t\t8\n\t],\n\t\"./default_tone_00.ts\": [\n\t\t221,\n\t\t8\n\t],\n\t\"./default_tone_01\": [\n\t\t222,\n\t\t9\n\t],\n\t\"./default_tone_01.ts\": [\n\t\t222,\n\t\t9\n\t],\n\t\"./default_tone_02\": [\n\t\t223,\n\t\t10\n\t],\n\t\"./default_tone_02.ts\": [\n\t\t223,\n\t\t10\n\t],\n\t\"./default_tone_03\": [\n\t\t224,\n\t\t11\n\t],\n\t\"./default_tone_03.ts\": [\n\t\t224,\n\t\t11\n\t],\n\t\"./default_tone_04\": [\n\t\t225,\n\t\t12\n\t],\n\t\"./default_tone_04.ts\": [\n\t\t225,\n\t\t12\n\t],\n\t\"./default_tone_05\": [\n\t\t226,\n\t\t13\n\t],\n\t\"./default_tone_05.ts\": [\n\t\t226,\n\t\t13\n\t],\n\t\"./default_tone_06\": [\n\t\t227,\n\t\t14\n\t],\n\t\"./default_tone_06.ts\": [\n\t\t227,\n\t\t14\n\t],\n\t\"./default_tone_07\": [\n\t\t228,\n\t\t15\n\t],\n\t\"./default_tone_07.ts\": [\n\t\t228,\n\t\t15\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 275;\nmodule.exports = webpackAsyncContext;","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect, Route, RouteProps } from \"react-router\";\r\nimport { AppState } from \"../_types\";\r\n\r\ninterface ProtectedRouteProps extends RouteProps {\r\n  loggedIn?: boolean;\r\n  isAllowed?: boolean;\r\n  restrictedPath: string;\r\n  authenticationPath: string;\r\n}\r\n\r\nexport const ProtectedRoute: React.FC<ProtectedRouteProps> = (props) => {\r\n  let redirectPath = \"\";\r\n  if (!props.loggedIn) {\r\n    redirectPath = props.authenticationPath;\r\n  }\r\n  if (props.loggedIn && !props.isAllowed) {\r\n    redirectPath = props.restrictedPath;\r\n  }\r\n\r\n  if (redirectPath) {\r\n    const renderComponent = () => <Redirect to={{ pathname: redirectPath }} />;\r\n    return <Route {...props} component={renderComponent} render={undefined} />;\r\n  } else {\r\n    return <Route {...props} />;\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state: AppState) => {\r\n  const { auth } = state;\r\n  return {\r\n    loggedIn: auth.loggedIn,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(ProtectedRoute);\r\n","import React, { useState } from \"react\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport { store } from \"../../_store/store.config\";\r\nimport { SHOW_SNACKBAR, CLEAR_SNACKBAR } from \"../../_types/snackbar.types\";\r\nimport { snackBarMaker } from \"../Layout/SnackBar/alert\";\r\n\r\ninterface AboutProps {}\r\n\r\nconst About: React.FC<AboutProps> = () => {\r\n  const [input, setInput] = useState<string>(\"\");\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n    const { value } = e.target;\r\n    setInput(value);\r\n  };\r\n  return (\r\n    <>\r\n      <h1>About</h1>\r\n      <p>\r\n        {\" \"}\r\n        Lorem ipsum dolor sit amet consectetur adipisicing elit. Atque ipsum\r\n        praesentium rem asperiores fuga illo et, architecto doloremque nulla.\r\n        Magni perspiciatis praesentium facere facilis, ullam officiis saepe sunt\r\n        amet nulla?\r\n      </p>\r\n      <input type=\"text\" onChange={(e) => handleChange(e)} value={input} />\r\n      <Button\r\n        onClick={() =>\r\n          store.dispatch({\r\n            type: SHOW_SNACKBAR,\r\n            snackbar: snackBarMaker(input, \"success\"),\r\n          })\r\n        }\r\n      >\r\n        Snack\r\n      </Button>\r\n      <Button\r\n        onClick={() =>\r\n          store.dispatch({\r\n            type: CLEAR_SNACKBAR,\r\n            dismissAll: true,\r\n          })\r\n        }\r\n      >\r\n        Clear\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\nexport default About;\r\n","import React from \"react\";\r\nimport { push } from \"connected-react-router\";\r\nimport {\r\n  Card,\r\n  Button,\r\n  CardMedia,\r\n  Typography,\r\n  CardContent,\r\n  CardActions,\r\n  CardActionArea,\r\n} from \"@material-ui/core\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\nimport { store } from \"../../_store/store.config\";\r\nimport { IPost } from \"../../_types/post.types\";\r\nimport { thumbnailsFinder } from \"../../_helpers/constants\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      width: 300,\r\n      maxHeight: 360,\r\n      margin: theme.spacing(2),\r\n      [theme.breakpoints.down(350)]: {\r\n        margin: theme.spacing(1),\r\n      },\r\n    },\r\n    cardAction: {\r\n      justifyContent: \"space-between\",\r\n      margin: \"inherit\",\r\n    },\r\n    content: {\r\n      minHeight: \"140px\",\r\n    },\r\n  })\r\n);\r\n\r\ntype Props = {\r\n  post: IPost;\r\n};\r\n\r\nexport const PostCard: React.FC<Props> = ({ post }) => {\r\n  const classes = useStyles();\r\n  const { title, featured_img, excerpt, author } = post;\r\n\r\n  const clickHandler = (\r\n    e: React.MouseEvent<HTMLButtonElement, MouseEvent>\r\n  ): void => {\r\n    store.dispatch(push(`/post/${post.id}`));\r\n  };\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardActionArea onClick={clickHandler}>\r\n        <CardMedia\r\n          height=\"140\"\r\n          component=\"img\"\r\n          alt={post.title}\r\n          title={post.title}\r\n          image={thumbnailsFinder(featured_img)}\r\n        />\r\n        <CardContent className={classes.content}>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {title}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            {excerpt}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions className={classes.cardAction}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n          از {author}\r\n        </Typography>\r\n        <Button size=\"medium\" color=\"secondary\" onClick={clickHandler}>\r\n          ادامه مطلب\r\n        </Button>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { AppActions } from \"../../_types\";\r\nimport { IPost } from \"../../_types/post.types\";\r\nimport { AppState } from \"../../_types\";\r\nimport { requestAllPost } from \"../../_actions/post.actions\";\r\nimport { PostCard } from \"./PostCard\";\r\nimport {\r\n  Chip,\r\n  CircularProgress,\r\n  createStyles,\r\n  Grid,\r\n  Theme,\r\n  Typography,\r\n  WithStyles,\r\n  withStyles,\r\n} from \"@material-ui/core\";\r\n\r\nconst useStyles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      padding: theme.spacing(2, 1, 0, 2),\r\n    },\r\n    header: {\r\n      position: \"relative\",\r\n    },\r\n    cardList: {\r\n      minHeight: \"calc(100vh - 143px)\",\r\n    },\r\n    chip: {\r\n      position: \"absolute\",\r\n      right: 0,\r\n      top: theme.spacing(1),\r\n    },\r\n    autoMargin: {\r\n      margin: \"auto\",\r\n    },\r\n  });\r\n\r\ninterface PostsPorps extends WithStyles<typeof useStyles> {\r\n  data: IPost[];\r\n  error: string;\r\n  loading: boolean;\r\n}\r\n\r\ntype Props = PostsPorps & LinkDispatchProps;\r\n\r\nexport class PostList extends Component<Props> {\r\n  componentDidMount() {\r\n    this.props.requestAllPost();\r\n  }\r\n\r\n  render() {\r\n    const { loading, data, error, classes } = this.props;\r\n    const length = data ? data.length : 0;\r\n    return (\r\n      <div className={classes.root}>\r\n        <div className={classes.header}>\r\n          <Typography variant=\"h3\">پست ها</Typography>\r\n          <Chip\r\n            className={classes.chip}\r\n            color=\"secondary\"\r\n            label={\"تعداد: \" + length}\r\n          />\r\n        </div>\r\n        <Grid container justify=\"center\" className={classes.cardList}>\r\n          {loading ? (\r\n            <CircularProgress\r\n              color=\"secondary\"\r\n              className={classes.autoMargin}\r\n            />\r\n          ) : data.length ? (\r\n            data.map((post: IPost) => <PostCard key={post.id} post={post} />)\r\n          ) : (\r\n            <Typography component=\"div\" className={classes.autoMargin}>\r\n              {error}\r\n            </Typography>\r\n          )}\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n  requestAllPost: () => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState, ownProps: Props): PostsPorps => ({\r\n  classes: ownProps.classes,\r\n  ...state.bank.posts,\r\n});\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n  requestAllPost: bindActionCreators(requestAllPost, dispatch),\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(useStyles)(PostList));\r\n","import {\r\n  createStyles,\r\n  LinearProgress,\r\n  Theme,\r\n  Typography,\r\n  WithStyles,\r\n  withStyles,\r\n} from \"@material-ui/core\";\r\nimport { FormikErrors } from \"formik\";\r\nimport * as React from \"react\";\r\n\r\ndeclare global {\r\n  interface Window {\r\n    captchaOnLoad: () => void;\r\n    grecaptcha: ReCaptchaInstance;\r\n    webkitAudioContext: {\r\n      new (contextOptions?: AudioContextOptions | undefined): AudioContext;\r\n      prototype: AudioContext;\r\n    };\r\n    zones: any;\r\n  }\r\n}\r\n\r\ninterface ReCaptchaInstance {\r\n  ready: (cb: () => any) => any;\r\n  execute: (options: ReCaptchaExecuteOptions) => Promise<string>;\r\n  render: (id: string, options: ReCaptchaRenderOptions) => any;\r\n}\r\n\r\ninterface ReCaptchaExecuteOptions {\r\n  action: string;\r\n}\r\n\r\ninterface ReCaptchaRenderOptions {\r\n  callback: () => void;\r\n  sitekey: string;\r\n  size: \"normal\";\r\n  theme: \"dark\" | \"light\";\r\n}\r\n\r\nconst useStyles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      position: \"relative\",\r\n      minHeight: 80,\r\n    },\r\n    captcha: {\r\n      zIndex: 2,\r\n      \"& > div:first-child\": {\r\n        margin: \"auto\",\r\n        \"& > div > iframe\": {\r\n          borderRadius: 4,\r\n          border: \"1px solid\",\r\n        },\r\n      },\r\n    },\r\n    captchaWarning: {\r\n      \"& > div:first-child\": {\r\n        margin: \"auto\",\r\n        \"& > div > iframe\": {\r\n          borderRadius: 4,\r\n          border: \"1px solid red\",\r\n        },\r\n      },\r\n    },\r\n  });\r\n\r\ninterface Props extends WithStyles<typeof useStyles> {\r\n  action: string;\r\n  theme: \"light\" | \"dark\";\r\n  onError: error;\r\n  onChange: (val: boolean) => void;\r\n}\r\ntype error =\r\n  | string\r\n  | false\r\n  | FormikErrors<any>\r\n  | string[]\r\n  | FormikErrors<any>[]\r\n  | undefined;\r\n\r\ninterface State {\r\n  readonly loading: boolean;\r\n}\r\n\r\nclass ReCaptcha extends React.PureComponent<Props, State> {\r\n  state: State = {\r\n    loading: true,\r\n  };\r\n\r\n  private script!: HTMLScriptElement;\r\n\r\n  componentDidMount(): void {\r\n    this.loadScript();\r\n  }\r\n\r\n  componentWillUnmount(): void {\r\n    document.body.removeChild(this.script);\r\n  }\r\n\r\n  render() {\r\n    const { classes, onError } = this.props;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        {this.state.loading && <LinearProgress color=\"secondary\" />}\r\n        <div\r\n          id=\"g-recaptcha\"\r\n          className={onError ? classes.captchaWarning : classes.captcha}\r\n        />\r\n        <Typography color=\"error\" variant=\"caption\">\r\n          {onError}\r\n        </Typography>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private loadScript = (): void => {\r\n    window.captchaOnLoad = this.onLoad;\r\n\r\n    const url = \"https://www.google.com/recaptcha/api.js\";\r\n    const queryString = \"?onload=captchaOnLoad&render=explicit&hl=fa\";\r\n    const script = document.createElement(\"script\");\r\n    script.type = \"text/javascript\";\r\n    script.src = url + queryString;\r\n    script.async = true;\r\n    script.defer = true;\r\n    this.script = document.body.appendChild(script);\r\n  };\r\n\r\n  private callback = () => {\r\n    this.props.onChange(true);\r\n  };\r\n\r\n  private onLoad = (): void => {\r\n    window.grecaptcha.render(\"g-recaptcha\", {\r\n      callback: this.callback,\r\n      sitekey: \"6Le8wccUAAAAAA0kNONoUC-NKPecGnUGKRY7zMno\",\r\n      size: \"normal\",\r\n      theme: this.props.theme,\r\n    });\r\n\r\n    window.grecaptcha.ready(() => {\r\n      this.setState({ loading: false });\r\n    });\r\n  };\r\n}\r\n\r\nexport default withStyles(useStyles)(ReCaptcha);\r\n","import React, { useCallback } from \"react\";\r\nimport { SwitchProps } from \"formik-material-ui\";\r\nimport ReCaptcha from \"./ReCaptcha\";\r\nimport { store } from \"../../../_store/store.config\";\r\n\r\nexport function Captcha(props: SwitchProps) {\r\n  const {\r\n    form: { setFieldValue, errors, touched },\r\n    field: { name },\r\n  } = props;\r\n\r\n  const theme = store.getState().auth.theme;\r\n  const onChange = useCallback(\r\n    (event) => {\r\n      setFieldValue(name, event ? true : false);\r\n    },\r\n    [setFieldValue, name]\r\n  );\r\n  return (\r\n    <ReCaptcha\r\n      action=\"login\"\r\n      theme={theme}\r\n      onChange={onChange}\r\n      onError={touched.recaptcha && errors.recaptcha}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { Field, Form, Formik } from \"formik\";\r\nimport { TextField } from \"formik-material-ui\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport {\r\n  Avatar,\r\n  CssBaseline,\r\n  Box,\r\n  Button,\r\n  Container,\r\n  Link,\r\n  Grid,\r\n  Typography,\r\n  LinearProgress,\r\n} from \"@material-ui/core\";\r\n\r\nimport { AppState } from \"../../_types\";\r\nimport { AppActions } from \"../../_types\";\r\nimport { IUser } from \"../../_types/user.types\";\r\nimport { Captcha } from \"../Layout/Captcha/Captcha\";\r\nimport { loginRequest, logoutRequest } from \"../../_actions/user.actions\";\r\nimport { push } from \"connected-react-router\";\r\nimport { Path } from \"history\";\r\n\r\ninterface LoginPageProps {\r\n  loading: boolean;\r\n  loggedIn: boolean;\r\n}\r\n\r\ntype Props = LoginPageProps & LinkDispatchProps;\r\n\r\nclass LoginPage extends React.Component<Props> {\r\n  componentDidMount() {\r\n    if (this.props.loggedIn) {\r\n      this.props.push(\"/profile\");\r\n    }\r\n  }\r\n  render() {\r\n    const { loading, loggedIn } = this.props;\r\n    return !loggedIn ? (\r\n      <Container component=\"main\" maxWidth=\"xs\" style={{ paddingTop: \"10px\" }}>\r\n        <CssBaseline />\r\n        <div style={{ textAlign: \"center\" }}>\r\n          <Avatar style={{ margin: \"auto\" }}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign in\r\n          </Typography>\r\n          <Formik\r\n            initialValues={{\r\n              username: \"\",\r\n              password: \"\",\r\n              recaptcha: \"\",\r\n            }}\r\n            validationSchema={Yup.object().shape({\r\n              username: Yup.string()\r\n                .max(255)\r\n                .required(\"Email or Username is required\"),\r\n              password: Yup.string().max(255).required(\"Password is required\"),\r\n              recaptcha: Yup.boolean().required(\"ReCAPTCHA is required\"),\r\n            })}\r\n            onSubmit={(event: IUser, { resetForm }) => {\r\n              if (event.username && event.password) {\r\n                this.props.login({\r\n                  username: event.username,\r\n                  password: event.password,\r\n                });\r\n                resetForm({});\r\n              }\r\n            }}\r\n          >\r\n            <Form>\r\n              <Box mb={3}>\r\n                <Typography\r\n                  color=\"textSecondary\"\r\n                  align=\"center\"\r\n                  gutterBottom\r\n                  variant=\"body2\"\r\n                >\r\n                  Sign in on the internal platform\r\n                </Typography>\r\n              </Box>\r\n              <Grid item>\r\n                <Button\r\n                  fullWidth\r\n                  size=\"large\"\r\n                  variant=\"contained\"\r\n                  type=\"submit\"\r\n                  disabled={true}\r\n                >\r\n                  Login with Google\r\n                </Button>\r\n              </Grid>\r\n              <Box mt={3} mb={1}>\r\n                <Typography\r\n                  align=\"center\"\r\n                  color=\"textSecondary\"\r\n                  variant=\"body1\"\r\n                >\r\n                  or login with username / email address\r\n                </Typography>\r\n              </Box>\r\n              <Box my={1}>\r\n                <Field\r\n                  component={TextField}\r\n                  color=\"secondary\"\r\n                  fullWidth\r\n                  label=\"Email Address/Username\"\r\n                  margin=\"normal\"\r\n                  name=\"username\"\r\n                  id=\"username\"\r\n                  placeholder=\"John\"\r\n                  type=\"username\"\r\n                  variant=\"outlined\"\r\n                />\r\n              </Box>\r\n              <Box my={1}>\r\n                <Field\r\n                  component={TextField}\r\n                  color=\"secondary\"\r\n                  fullWidth\r\n                  label=\"Password\"\r\n                  margin=\"normal\"\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  variant=\"outlined\"\r\n                />\r\n              </Box>\r\n              <Box my={1}>\r\n                <Field\r\n                  component={Captcha}\r\n                  color=\"secondary\"\r\n                  fullWidth\r\n                  label=\"Recaptcha\"\r\n                  margin=\"normal\"\r\n                  name=\"recaptcha\"\r\n                  type=\"recaptcha\"\r\n                  variant=\"outlined\"\r\n                />\r\n              </Box>\r\n              {loading && <LinearProgress color=\"secondary\" />}\r\n              <Box my={1}>\r\n                <Button\r\n                  color=\"secondary\"\r\n                  disabled={loading}\r\n                  fullWidth\r\n                  size=\"large\"\r\n                  type=\"submit\"\r\n                  variant=\"contained\"\r\n                >\r\n                  Sign in\r\n                </Button>\r\n              </Box>\r\n              <Grid container style={{ textAlign: \"initial\" }}>\r\n                <Grid item xs>\r\n                  <Link\r\n                    color=\"secondary\"\r\n                    component={RouterLink}\r\n                    to=\"/lostpassword\"\r\n                    variant=\"body2\"\r\n                  >\r\n                    Forgot password?\r\n                  </Link>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Typography color=\"textSecondary\" variant=\"body2\">\r\n                    Don&apos;t have an account?\r\n                    <Link\r\n                      color=\"secondary\"\r\n                      component={RouterLink}\r\n                      to=\"/register\"\r\n                      variant=\"body2\"\r\n                    >\r\n                      Sign up\r\n                    </Link>\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid>\r\n            </Form>\r\n          </Formik>\r\n        </div>\r\n      </Container>\r\n    ) : null;\r\n  }\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n  login: (user: IUser) => void;\r\n  logout: () => void;\r\n  push: (path: Path) => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState): LoginPageProps => {\r\n  const { loggedIn, loading } = state.auth;\r\n  return {\r\n    loggedIn,\r\n    loading,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n  login: bindActionCreators(loginRequest, dispatch),\r\n  logout: bindActionCreators(logoutRequest, dispatch),\r\n  push: bindActionCreators(push, dispatch),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginPage);\r\n","import React from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { Field, Form, Formik } from \"formik\";\r\nimport { TextField } from \"formik-material-ui\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport {\r\n  Avatar,\r\n  CssBaseline,\r\n  Box,\r\n  Button,\r\n  Container,\r\n  Typography,\r\n  LinearProgress,\r\n} from \"@material-ui/core\";\r\n\r\nimport { AppState } from \"../../_types\";\r\nimport { AppActions } from \"../../_types\";\r\nimport { ILost } from \"../../_types/user.types\";\r\nimport { lostRequest } from \"../../_actions/user.actions\";\r\nimport { Captcha } from \"../Layout/Captcha/Captcha\";\r\nimport { push } from \"connected-react-router\";\r\nimport { Path } from \"history\";\r\n\r\ninterface LostPageProps {\r\n  loading: boolean;\r\n  loggedIn: boolean;\r\n}\r\n\r\ntype Props = LostPageProps & LinkDispatchProps;\r\n\r\nclass LostPage extends React.Component<Props> {\r\n  componentDidMount() {\r\n    if (this.props.loggedIn) {\r\n      this.props.push(\"/\");\r\n    }\r\n  }\r\n  render() {\r\n    const { loading, loggedIn } = this.props;\r\n    return !loggedIn ? (\r\n      <Container component=\"main\" maxWidth=\"xs\" style={{ paddingTop: \"10px\" }}>\r\n        <CssBaseline />\r\n        <div style={{ textAlign: \"center\" }}>\r\n          <Avatar style={{ margin: \"auto\" }}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Lost Password\r\n          </Typography>\r\n          <Formik\r\n            initialValues={{\r\n              user_login: \"\",\r\n              recaptcha: \"\",\r\n            }}\r\n            validationSchema={Yup.object().shape({\r\n              user_login: Yup.string()\r\n                .max(255)\r\n                .required(\"Email or Username is required\"),\r\n              recaptcha: Yup.boolean().required(\"ReCAPTCHA is required\"),\r\n            })}\r\n            onSubmit={(event: ILost, { resetForm }) => {\r\n              if (event.user_login) {\r\n                this.props.lostRequest(event);\r\n              }\r\n              resetForm({});\r\n            }}\r\n          >\r\n            <Form>\r\n              <Box my={2}>\r\n                <Typography\r\n                  color=\"textSecondary\"\r\n                  align=\"center\"\r\n                  gutterBottom\r\n                  variant=\"body2\"\r\n                >\r\n                  Enter your email or user_login\r\n                </Typography>\r\n              </Box>\r\n              <Box my={1}>\r\n                <Field\r\n                  component={TextField}\r\n                  color=\"secondary\"\r\n                  fullWidth\r\n                  label=\"Email Address/Username\"\r\n                  margin=\"normal\"\r\n                  name=\"user_login\"\r\n                  id=\"user_login\"\r\n                  placeholder=\"John\"\r\n                  type=\"user_login\"\r\n                  variant=\"outlined\"\r\n                />\r\n              </Box>\r\n              <Box my={1}>\r\n                <Field\r\n                  component={Captcha}\r\n                  color=\"secondary\"\r\n                  fullWidth\r\n                  label=\"Recaptcha\"\r\n                  margin=\"normal\"\r\n                  name=\"recaptcha\"\r\n                  type=\"recaptcha\"\r\n                  variant=\"outlined\"\r\n                />\r\n              </Box>\r\n              {loading && <LinearProgress color=\"secondary\" />}\r\n              <Box my={1}>\r\n                <Button\r\n                  color=\"secondary\"\r\n                  disabled={loading}\r\n                  fullWidth\r\n                  size=\"large\"\r\n                  type=\"submit\"\r\n                  variant=\"contained\"\r\n                >\r\n                  Recover\r\n                </Button>\r\n              </Box>\r\n            </Form>\r\n          </Formik>\r\n        </div>\r\n      </Container>\r\n    ) : null;\r\n  }\r\n}\r\ninterface LinkDispatchProps {\r\n  lostRequest: (user: ILost) => void;\r\n  push: (path: Path) => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState, ownProps: Props): LostPageProps => {\r\n  const { loggedIn, loading } = state.auth;\r\n  return {\r\n    loggedIn,\r\n    loading,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>,\r\n  ownProps: LostPageProps\r\n): LinkDispatchProps => ({\r\n  lostRequest: bindActionCreators(lostRequest, dispatch),\r\n  push: bindActionCreators(push, dispatch),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LostPage);\r\n","import React from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { Field, Form, Formik } from \"formik\";\r\nimport { TextField } from \"formik-material-ui\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport {\r\n  Avatar,\r\n  CssBaseline,\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Container,\r\n  FormHelperText,\r\n  Link,\r\n  Typography,\r\n  LinearProgress,\r\n} from \"@material-ui/core\";\r\n\r\nimport { AppState } from \"../../_types\";\r\nimport { AppActions } from \"../../_types\";\r\nimport { IRegister } from \"../../_types/user.types\";\r\nimport { Captcha } from \"../Layout/Captcha/Captcha\";\r\nimport { registerRequest } from \"../../_actions/user.actions\";\r\nimport { push } from \"connected-react-router\";\r\nimport { Path } from \"history\";\r\n\r\ninterface RegisterPageProps {\r\n  loading: boolean;\r\n  loggedIn: boolean;\r\n}\r\n\r\ntype Props = RegisterPageProps & LinkDispatchProps;\r\n\r\nclass RegisterPage extends React.Component<Props> {\r\n  componentDidMount() {\r\n    if (this.props.loggedIn) {\r\n      this.props.push(\"/\");\r\n    }\r\n  }\r\n  render() {\r\n    const { loading, loggedIn } = this.props;\r\n    return !loggedIn ? (\r\n      <Container component=\"main\" maxWidth=\"xs\" style={{ paddingTop: \"10px\" }}>\r\n        <CssBaseline />\r\n        <div style={{ textAlign: \"center\" }}>\r\n          <Avatar style={{ margin: \"auto\" }}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign Up\r\n          </Typography>\r\n          <Formik\r\n            initialValues={{\r\n              email: \"\",\r\n              firstname: \"\",\r\n              lastname: \"\",\r\n              username: \"\",\r\n              password: \"\",\r\n              confirm_password: \"\",\r\n              recaptcha: false,\r\n              policy: false,\r\n            }}\r\n            validationSchema={Yup.object().shape({\r\n              email: Yup.string()\r\n                .email(\"Must be a valid email\")\r\n                .max(255)\r\n                .required(\"Email is required\"),\r\n              firstname: Yup.string()\r\n                .max(255)\r\n                .required(\"First name is required\"),\r\n              lastname: Yup.string().max(255).required(\"Last name is required\"),\r\n              username: Yup.string().max(255).required(\"User name is required\"),\r\n              password: Yup.string().max(255).required(\"Password is required\"),\r\n              confirm_password: Yup.string().oneOf(\r\n                [Yup.ref(\"password\"), \"\"],\r\n                \"Both password need to be the same\"\r\n              ),\r\n              policy: Yup.boolean().oneOf([true], \"This field must be checked\"),\r\n              recaptcha: Yup.boolean().oneOf(\r\n                [true],\r\n                \"This field must be checked\"\r\n              ),\r\n            })}\r\n            onSubmit={(e, { resetForm }) => {\r\n              if (\r\n                e.firstname &&\r\n                e.lastname &&\r\n                e.username &&\r\n                e.email &&\r\n                e.password\r\n              ) {\r\n                this.props.registerRequest({\r\n                  firstname: e.firstname,\r\n                  lastname: e.lastname,\r\n                  username: e.username,\r\n                  password: e.password,\r\n                  email: e.email,\r\n                });\r\n              }\r\n              resetForm({});\r\n            }}\r\n          >\r\n            {({ handleChange, values, touched, errors }) => (\r\n              <Form>\r\n                <Box mb={3}>\r\n                  <Typography\r\n                    color=\"textSecondary\"\r\n                    align=\"center\"\r\n                    gutterBottom\r\n                    variant=\"body2\"\r\n                  >\r\n                    Use your email to create new account\r\n                  </Typography>\r\n                  <Field\r\n                    component={TextField}\r\n                    color=\"secondary\"\r\n                    fullWidth\r\n                    label=\"نام\"\r\n                    margin=\"normal\"\r\n                    name=\"firstname\"\r\n                    variant=\"outlined\"\r\n                  />\r\n                  <Field\r\n                    component={TextField}\r\n                    color=\"secondary\"\r\n                    fullWidth\r\n                    label=\"نام خانوادگی\"\r\n                    margin=\"normal\"\r\n                    name=\"lastname\"\r\n                    variant=\"outlined\"\r\n                  />\r\n                  <Field\r\n                    component={TextField}\r\n                    color=\"secondary\"\r\n                    fullWidth\r\n                    label=\"نام کاربری\"\r\n                    margin=\"normal\"\r\n                    name=\"username\"\r\n                    variant=\"outlined\"\r\n                  />\r\n                  <Field\r\n                    component={TextField}\r\n                    color=\"secondary\"\r\n                    fullWidth\r\n                    label=\"آدرس ایمیل\"\r\n                    margin=\"normal\"\r\n                    name=\"email\"\r\n                    dir=\"ltr\"\r\n                    type=\"email\"\r\n                    variant=\"outlined\"\r\n                  />\r\n                  <Field\r\n                    component={TextField}\r\n                    color=\"secondary\"\r\n                    fullWidth\r\n                    label=\"پسورد\"\r\n                    margin=\"normal\"\r\n                    name=\"password\"\r\n                    type=\"password\"\r\n                    variant=\"outlined\"\r\n                  />\r\n                  <Field\r\n                    component={TextField}\r\n                    color=\"secondary\"\r\n                    fullWidth\r\n                    label=\"تائید پسورد\"\r\n                    margin=\"normal\"\r\n                    name=\"confirm_password\"\r\n                    type=\"password\"\r\n                    variant=\"outlined\"\r\n                  />\r\n                  <Box alignItems=\"center\" display=\"flex\" ml={-1}>\r\n                    <Checkbox\r\n                      checked={values.policy}\r\n                      name=\"policy\"\r\n                      onChange={handleChange}\r\n                    />\r\n                    <Typography color=\"textSecondary\" variant=\"body1\">\r\n                      I have read the{\" \"}\r\n                      <Link\r\n                        color=\"secondary\"\r\n                        component={RouterLink}\r\n                        to=\"#\"\r\n                        underline=\"always\"\r\n                        variant=\"body1\"\r\n                      >\r\n                        Terms and Conditions{\" \"}\r\n                      </Link>\r\n                    </Typography>\r\n                  </Box>\r\n                  {Boolean(touched.policy && errors.policy) && (\r\n                    <FormHelperText error>{errors.policy}</FormHelperText>\r\n                  )}\r\n                  <Box my={1}>\r\n                    <Field\r\n                      component={Captcha}\r\n                      color=\"secondary\"\r\n                      fullWidth\r\n                      label=\"Recaptcha\"\r\n                      margin=\"normal\"\r\n                      name=\"recaptcha\"\r\n                      type=\"recaptcha\"\r\n                      variant=\"outlined\"\r\n                    />\r\n                  </Box>\r\n                  {loading && <LinearProgress color=\"secondary\" />}\r\n                  <Box my={2}>\r\n                    <Button\r\n                      color=\"secondary\"\r\n                      disabled={loading}\r\n                      fullWidth\r\n                      size=\"large\"\r\n                      type=\"submit\"\r\n                      variant=\"contained\"\r\n                    >\r\n                      Sign up now\r\n                    </Button>\r\n                  </Box>\r\n                  <Typography\r\n                    align=\"center\"\r\n                    color=\"textSecondary\"\r\n                    variant=\"body2\"\r\n                  >\r\n                    Have an account?\r\n                    <Link\r\n                      color=\"secondary\"\r\n                      component={RouterLink}\r\n                      to=\"/login\"\r\n                      variant=\"body2\"\r\n                    >\r\n                      Sign in\r\n                    </Link>\r\n                  </Typography>\r\n                </Box>\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        </div>\r\n      </Container>\r\n    ) : null;\r\n  }\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n  registerRequest: (user: IRegister) => void;\r\n  push: (path: Path) => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState): RegisterPageProps => {\r\n  const { loggedIn, loading } = state.auth;\r\n  return {\r\n    loggedIn,\r\n    loading,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n  registerRequest: bindActionCreators(registerRequest, dispatch),\r\n  push: bindActionCreators(push, dispatch),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RegisterPage);\r\n","import { Dispatch } from \"react\";\r\nimport { AppActions } from \"../_types\";\r\nimport {\r\n  INFO_FAILURE,\r\n  INFO_REQUEST,\r\n  INFO_SUCCESS,\r\n} from \"../_types/profile.types\";\r\nimport { UserInfo } from \"../_types/profile.types\";\r\nimport { errorHandler } from \"../components/Layout/SnackBar/alert\";\r\nimport { API } from \"../_helpers/api\";\r\n\r\nexport const profileRequest = (token: string) => (\r\n  (dispatch: Dispatch<AppActions>) => {\r\n    dispatch({ type: INFO_REQUEST });\r\n    const userInfo: UserInfo = parseToken(token);\r\n    const id: string = userInfo.userID;\r\n    API.get(`/wp/v2/users/${id}`)\r\n      .then(res => {\r\n        dispatch({\r\n          type: INFO_SUCCESS,\r\n          profile: { ...res.data, info: userInfo },\r\n        });\r\n      })\r\n      .catch(err => errorHandler(err, INFO_FAILURE))\r\n  }\r\n)\r\n\r\nconst parseToken = (token: string): UserInfo => {\r\n  const base64Url = token.split(\".\")[1];\r\n  const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n  const jsonPayload = decodeURIComponent(\r\n    atob(base64)\r\n      .split(\"\")\r\n      .map(function (c) {\r\n        return \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2);\r\n      })\r\n      .join(\"\")\r\n  );\r\n  const resJson = JSON.parse(jsonPayload);\r\n  const userData = {\r\n    userID: resJson.data.user.id,\r\n    expire: resJson.exp * 1000,\r\n    issued: resJson.iat * 1000,\r\n    before: resJson.nbf * 1000,\r\n  };\r\n  return userData;\r\n};\r\n","import React from \"react\";\r\nimport clsx from \"clsx\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  Box,\r\n  Card,\r\n  CardHeader,\r\n  Chip,\r\n  Divider,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableFooter,\r\n  TableRow,\r\n  makeStyles,\r\n  Link,\r\n  useTheme,\r\n  IconButton,\r\n  TablePagination,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  KeyboardArrowLeft,\r\n  KeyboardArrowRight,\r\n  FirstPage,\r\n  LastPage,\r\n} from \"@material-ui/icons\";\r\nimport { UniqId } from \"../../../_helpers/constants\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\n\r\nconst useStyles1 = makeStyles((theme) => ({\r\n  root: {\r\n    flexShrink: 0,\r\n    marginLeft: theme.spacing(2.5),\r\n  },\r\n}));\r\n\r\nfunction TablePaginationActions(props) {\r\n  const classes = useStyles1();\r\n  const theme = useTheme();\r\n  const { count, page, rowsPerPage, onChangePage } = props;\r\n  const handleFirstPageButtonClick = (event) => {\r\n    onChangePage(event, 0);\r\n  };\r\n\r\n  const handleBackButtonClick = (event) => {\r\n    onChangePage(event, page - 1);\r\n  };\r\n\r\n  const handleNextButtonClick = (event) => {\r\n    onChangePage(event, page + 1);\r\n  };\r\n\r\n  const handleLastPageButtonClick = (event) => {\r\n    onChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <IconButton\r\n        onClick={handleFirstPageButtonClick}\r\n        disabled={page === 0}\r\n        aria-label=\"first page\"\r\n      >\r\n        {theme.direction === \"rtl\" ? <LastPage /> : <FirstPage />}\r\n      </IconButton>\r\n      <IconButton\r\n        onClick={handleBackButtonClick}\r\n        disabled={page === 0}\r\n        aria-label=\"previous page\"\r\n      >\r\n        {theme.direction === \"rtl\" ? (\r\n          <KeyboardArrowRight />\r\n        ) : (\r\n          <KeyboardArrowLeft />\r\n        )}\r\n      </IconButton>\r\n      <IconButton\r\n        onClick={handleNextButtonClick}\r\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n        aria-label=\"next page\"\r\n      >\r\n        {theme.direction === \"rtl\" ? (\r\n          <KeyboardArrowLeft />\r\n        ) : (\r\n          <KeyboardArrowRight />\r\n        )}\r\n      </IconButton>\r\n      <IconButton\r\n        onClick={handleLastPageButtonClick}\r\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n        aria-label=\"last page\"\r\n      >\r\n        {theme.direction === \"rtl\" ? <FirstPage /> : <LastPage />}\r\n      </IconButton>\r\n    </div>\r\n  );\r\n}\r\n\r\nTablePaginationActions.propTypes = {\r\n  count: PropTypes.number.isRequired,\r\n  onChangePage: PropTypes.func.isRequired,\r\n  page: PropTypes.number.isRequired,\r\n  rowsPerPage: PropTypes.number.isRequired,\r\n};\r\n\r\nconst useStyles2 = makeStyles((theme) => ({\r\n  table: {\r\n    minWidth: 300,\r\n  },\r\n  toolbar: {\r\n    \"& div\": {\r\n      flexFlow: \"wrap\",\r\n      justifyContent: \"flex-end\",\r\n      [theme.breakpoints.only(\"xs\")]: {\r\n        justifyContent: \"space-around\",\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function LatestSongs({ res }) {\r\n  const classes = useStyles2();\r\n  const [page, setPage] = React.useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\r\n\r\n  const emptyRows =\r\n    rowsPerPage - Math.min(rowsPerPage, res.length - page * rowsPerPage);\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n  const pagination = {\r\n    lower: [{ label: \"همه\", value: -1 }],\r\n    low: [\r\n      { label: \"۵\", value: 5 },\r\n      { label: \"همه\", value: -1 },\r\n    ],\r\n    average: [\r\n      { label: \"۵\", value: 5 },\r\n      { label: \"۱۰\", value: 10 },\r\n      { label: \"همه\", value: -1 },\r\n    ],\r\n    high: [\r\n      { label: \"۵\", value: 5 },\r\n      { label: \"۱۰\", value: 10 },\r\n      { label: \"۲۵\", value: 25 },\r\n      { label: \"همه\", value: -1 },\r\n    ],\r\n    higher: [\r\n      { label: \"۵\", value: 5 },\r\n      { label: \"۱۰\", value: 10 },\r\n      { label: \"۲۵\", value: 25 },\r\n      { label: \"۵۰\", value: 50 },\r\n      { label: \"همه\", value: -1 },\r\n    ],\r\n  };\r\n  const sel =\r\n    res.length > 500\r\n      ? \"higher\"\r\n      : res.length >= 100\r\n      ? \"high\"\r\n      : res.length >= 30\r\n      ? \"average\"\r\n      : res.length > 5\r\n      ? \"low\"\r\n      : \"lower\";\r\n\r\n  // moment.loadPersian({ usePersianDigits: true });\r\n\r\n  const dateChanger = (d, t) => {\r\n    let date, time;\r\n    if (d) date = d;\r\n    if (t) time = t;\r\n    return date ? date : time;\r\n  };\r\n  return (\r\n    <Card className={clsx(classes.root)}>\r\n      <CardHeader title=\"آخرین آهنگ ها\" />\r\n      <Divider />\r\n      <Box>\r\n        <Table className={classes.table} aria-label=\"custom pagination table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>نام آهنگ</TableCell>\r\n              <TableCell>ساعت</TableCell>\r\n              <TableCell>تاریخ</TableCell>\r\n              <TableCell>دقت</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {(rowsPerPage > 0\r\n              ? res.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n              : res\r\n            ).map((row) => (\r\n              <TableRow key={UniqId()}>\r\n                {row.song.id !== 0 ? (\r\n                  <TableCell>\r\n                    <Link\r\n                      to={`/lesson/${row.song.id}`}\r\n                      color=\"secondary\"\r\n                      component={RouterLink}\r\n                    >\r\n                      {row.song.name}\r\n                    </Link>\r\n                  </TableCell>\r\n                ) : (\r\n                  <TableCell>\r\n                    <Link to=\"/guide\" color=\"secondary\" component={RouterLink}>\r\n                      {row.song.name}\r\n                    </Link>\r\n                  </TableCell>\r\n                )}\r\n                <TableCell>{dateChanger(false, row.time)}</TableCell>\r\n                <TableCell>{dateChanger(row.date)}</TableCell>\r\n                <TableCell>\r\n                  <Chip color=\"secondary\" label={row.progress} size=\"small\" />\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n            {emptyRows > 0 && (\r\n              <TableRow style={{ height: 57 * emptyRows }}>\r\n                <TableCell colSpan={6} />\r\n              </TableRow>\r\n            )}\r\n          </TableBody>\r\n          <TableFooter>\r\n            <TableRow>\r\n              <TablePagination\r\n                className={classes.toolbar}\r\n                rowsPerPageOptions={pagination[sel]}\r\n                colSpan={4}\r\n                count={res.length}\r\n                rowsPerPage={rowsPerPage}\r\n                page={page}\r\n                SelectProps={{\r\n                  inputProps: { \"aria-label\": \"row per page\" },\r\n                  native: true,\r\n                }}\r\n                onChangePage={handleChangePage}\r\n                onChangeRowsPerPage={handleChangeRowsPerPage}\r\n                ActionsComponent={TablePaginationActions}\r\n              />\r\n            </TableRow>\r\n          </TableFooter>\r\n        </Table>\r\n      </Box>\r\n    </Card>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { CircularProgress, Container, Grid } from \"@material-ui/core\";\r\nimport { connect } from \"react-redux\";\r\nimport { profileRequest } from \"../../_actions/profile.actions\";\r\nimport { DefaultProfileState } from \"../../_types/profile.types\";\r\nimport { DefaultUserState } from \"../../_types/user.types\";\r\nimport { AppState } from \"../../_types\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { AppActions } from \"../../_types\";\r\nimport LatestSongs from \"./Dashboard/LatestSongs\";\r\n\r\ninterface ProfilePageProps {\r\n  auth: DefaultUserState;\r\n  profile: DefaultProfileState;\r\n}\r\n\r\ntype Props = ProfilePageProps & LinkDispatchProps;\r\n\r\nclass Dashboard extends React.Component<Props> {\r\n  componentDidMount() {\r\n    const token = this.props.auth.user?.token;\r\n    if (token) this.props.getProfile(token);\r\n  }\r\n\r\n  render() {\r\n    const { profile, loading } = this.props.profile;\r\n    if (loading) {\r\n      return <CircularProgress color=\"secondary\" />;\r\n    }\r\n    if (!profile) {\r\n      return <div>not signed...</div>;\r\n    } else {\r\n      return (\r\n        <Container maxWidth={false} style={{ paddingTop: \"10px\" }}>\r\n          <Grid container spacing={3}>\r\n            <Grid item lg={12} md={12} xl={12} xs={12}>\r\n              <LatestSongs res={profile.meta.playtime} />\r\n            </Grid>\r\n            {/* <Grid item lg={4} md={12} xl={4} xs={12}>\r\n              <InstrumentTraffic />\r\n            </Grid>\r\n            <Grid\r\n              container\r\n              spacing={3}\r\n              item\r\n              lg={8}\r\n              md={12}\r\n              xl={8}\r\n              xs={12}\r\n              style={{ margin: 0, padding: 0 }}\r\n            > */}\r\n            {/* <Grid item lg={6} md={6} xl={6} xs={12}>\r\n                <TotalLevel />\r\n              </Grid>\r\n              <Grid item lg={6} md={6} xl={6} xs={12}>\r\n                <Budget  />\r\n              </Grid>\r\n              <Grid item lg={6} md={6} xl={6} xs={12}>\r\n                <TotalCustomers  />\r\n              </Grid>\r\n              <Grid item lg={6} md={6} xl={6} xs={12}>\r\n                <TotalProfit /> */}\r\n            {/* </Grid> */}\r\n            {/* </Grid> */}\r\n          </Grid>\r\n        </Container>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\ninterface LinkDispatchProps {\r\n  getProfile: (token: string) => void;\r\n}\r\n\r\nconst mapStateToProps = (\r\n  state: AppState,\r\n  ownProps: Props\r\n): ProfilePageProps => {\r\n  return { profile: state.user.profile, auth: state.auth };\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>,\r\n  ownProps: ProfilePageProps\r\n): LinkDispatchProps => ({\r\n  getProfile: bindActionCreators(profileRequest, dispatch),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);\r\n","import React, { lazy, Suspense } from \"react\";\nimport { Redirect, Route, Switch } from \"react-router-dom\";\n\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport About from \"../components/InfoPages/About\";\nimport PostList from \"../components/PostPages/PostList\";\nimport LoginPage from \"../components/AuthPages/LoginPage\";\nimport LostPassPage from \"../components/AuthPages/LostPage\";\nimport RegisterPage from \"../components/AuthPages/RegisterPage\";\nimport Dashboard from \"../components/UserPages/Dashboard\";\n\nconst LearningPage = lazy(() => import(\"../components/LearningPages\"));\nconst Post = lazy(() => import(\"../components/PostPages/Post\"));\nconst Guide = lazy(() => import(\"../components/LearningPages/Guide\"));\nconst Course = lazy(() => import(\"../components/LearningPages/Course\"));\nconst Lesson = lazy(() => import(\"../components/LearningPages/Lesson\"));\nconst Exercise = lazy(() => import(\"../components/LearningPages/Exercise\"));\n\nconst AppRouter = () => (\n  <Switch>\n    <Suspense fallback={<div>Loading...</div>}>\n      <Redirect exact path=\"/\" to=\"/post\" />\n      <Route exact path=\"/post\" component={PostList} />\n      <Route exact path=\"/learning\" component={LearningPage} />\n      <Route\n        exact\n        path={[\"/guide\", \"/course\", \"/exercise\", \"/favorite\", \"/lesson\"]}\n        component={LearningPage}\n      />\n      <Route exact path=\"/post/:id\" component={Post} />\n      <Route exact path=\"/guide/:id\" component={Guide} />\n      <Route\n        exact\n        path={[\"/course/:id\", \"/guide/:id/course=:id\"]}\n        component={Course}\n      />\n      <Route\n        exact\n        path={[\n          \"/lesson/:id\",\n          \"/course/:id/lesson=:id\",\n          \"/guide/:id/lesson=:id\",\n          \"/guide/:id/course=:id/lesson=:id\",\n        ]}\n        component={Lesson}\n      />\n      <Route\n        exact\n        path={[\n          \"/exercise/:id\",\n          \"/course/:id/exercise=:id\",\n          \"/guide/:id/exercise=:id\",\n          \"/guide/:id/course=:id/exercise=:id\",\n        ]}\n        component={Exercise}\n      />\n      <Route exact path=\"/login\" component={LoginPage} />\n      <Route exact path=\"/register\" component={RegisterPage} />\n      <Route exact path=\"/lostpassword\" component={LostPassPage} />\n      <ProtectedRoute\n        exact\n        path=\"/dashboard\"\n        component={Dashboard}\n        isAllowed={true}\n        restrictedPath=\"/dashboard\"\n        authenticationPath=\"/login\"\n      />\n      <Route exact path=\"/about\" component={About} />\n    </Suspense>\n  </Switch>\n);\n\nexport default AppRouter;\n","import React from \"react\";\r\nimport { IMelodition } from \"../../../../_types/player.types\";\r\n\r\ninterface CanvasProps {\r\n  Melo: IMelodition;\r\n}\r\n\r\nconst BackCanvas: React.FC<CanvasProps> = ({ Melo }) => {\r\n  const drawBackContext = (ref: HTMLCanvasElement | null) => {\r\n    if (ref && Melo.canvasSize && Melo.gameLoading) {\r\n      const backCtx = ref.getContext(\"2d\")!;\r\n      backCtx.clearRect(0, 0, Melo.canvasSize.width, Melo.canvasSize.height);\r\n      const keyRefs = Melo.pianoSize;\r\n      const length = keyRefs ? keyRefs.length - 1 : 61;\r\n      const lineWidth = keyRefs ? keyRefs[length].width : 0.5;\r\n      const h = Melo.canvasSize.height;\r\n      keyRefs?.forEach((rect, i) => {\r\n        backCtx.beginPath();\r\n        const x = rect.left;\r\n        if (rect.key === \"CF\") {\r\n          backCtx.moveTo(x, 0);\r\n          backCtx.lineTo(x, h);\r\n          backCtx.lineWidth = lineWidth;\r\n          backCtx.strokeStyle = \"rgba(50,50,50,0.8)\";\r\n          backCtx.stroke();\r\n        } else if (rect.key === \"last\") {\r\n          backCtx.moveTo(x, 0);\r\n          backCtx.lineTo(x, h);\r\n          backCtx.lineWidth = lineWidth;\r\n          backCtx.strokeStyle = \"rgba(50,50,50,0.8)\";\r\n          backCtx.stroke();\r\n        } else if (rect.key === \"black\") {\r\n          backCtx.rect(x, 0, rect.width, h);\r\n          backCtx.fillStyle = \"rgba(0,0,0,0.4)\";\r\n          backCtx.fill();\r\n        }\r\n      });\r\n    }\r\n  };\r\n  return (\r\n    <canvas\r\n      ref={(ref) => drawBackContext(ref)}\r\n      width={Melo.canvasSize?.width}\r\n      height={Melo.canvasSize?.height}\r\n      style={{ zIndex: 1 }}\r\n    />\r\n  );\r\n};\r\nexport default BackCanvas;\r\n","import React from \"react\";\r\nimport { canvasWheel } from \"../../../../_actions/player.actions\";\r\nimport { IMelodition } from \"../../../../_types/player.types\";\r\n\r\ninterface CanvasProps {\r\n  Melo: IMelodition;\r\n  drawGame: (canvas: HTMLCanvasElement) => void;\r\n}\r\nconst FrontCanvas: React.FC<CanvasProps> = ({ Melo, drawGame }) => {\r\n  const drawFrontContext = (ref: HTMLCanvasElement | null) => {\r\n    if (ref && Melo.gameLoading && Melo.canvasSize) {\r\n      drawGame(ref);\r\n    }\r\n  };\r\n  return (\r\n    <canvas\r\n      ref={(ref) => drawFrontContext(ref)}\r\n      width={Melo.canvasSize?.width}\r\n      height={Melo.canvasSize?.height}\r\n      style={{ position: \"absolute\", top: 0, left: 0, zIndex: 2 }}\r\n      onWheel={(e) => canvasWheel(e)}\r\n    />\r\n  );\r\n};\r\nexport default FrontCanvas;\r\n","import React from \"react\";\r\nimport { canvasWheel } from \"../../../../_actions/player.actions\";\r\nimport { ICanvas } from \"../../../../_types/player.types\";\r\n\r\nconst SvgLine: React.FC<ICanvas> = ({ width, baseLine }) => {\r\n  return (\r\n    <svg\r\n      width={width + 7}\r\n      height={baseLine}\r\n      onWheel={(e) => canvasWheel(e)}\r\n      style={{\r\n        bottom: 0,\r\n        left: -7,\r\n        zIndex: 3,\r\n        position: \"absolute\",\r\n        filter: \"drop-shadow(rgba(0, 0, 0, 0.7) 0px 1px 1px)\",\r\n      }}\r\n    >\r\n      <style>{\"@keyframes draw{to{stroke-dashoffset:0}}\"}</style>\r\n      <polygon points={\"0,0 10,8 0,16\"} fill={\"red\"} />\r\n      <line\r\n        style={{\r\n          strokeDasharray: width + 7,\r\n          strokeDashoffset: width + 7,\r\n          animation: \"draw 1s linear forwards\",\r\n        }}\r\n        x1={0}\r\n        y1={8}\r\n        x2={width + 7}\r\n        y2={8}\r\n        strokeWidth={2.5}\r\n        stroke={\"red\"}\r\n      />\r\n    </svg>\r\n  );\r\n};\r\nexport default SvgLine;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { drawGame } from \"../../../../_actions/player.actions\";\r\nimport { AppActions, AppState } from \"../../../../_types\";\r\nimport { IMelodition } from \"../../../../_types/player.types\";\r\nimport BackCanvas from \"./BackCanvas\";\r\nimport FrontCanvas from \"./FrontCanvas\";\r\nimport SvgLine from \"./SvgLine\";\r\n\r\ninterface Props {\r\n  Melo: IMelodition;\r\n  drawGame: (canvas: any) => void;\r\n}\r\n\r\nconst PianoCanvas: React.FC<Props> = ({ Melo, drawGame }) => {\r\n  return (\r\n    <div\r\n      style={{\r\n        width: Melo.canvasSize?.width,\r\n        height: Melo.canvasSize?.height,\r\n        position: \"relative\",\r\n        boxShadow: \"inset 0 1px 4px 0px black\",\r\n      }}\r\n    >\r\n      <FrontCanvas Melo={Melo} drawGame={drawGame} />\r\n      <BackCanvas Melo={Melo} />\r\n      {Melo.canvasSize && <SvgLine {...Melo.canvasSize} />}\r\n    </div>\r\n  );\r\n};\r\nconst mapStateToProps = (state: AppState) => ({\r\n  Melo: state.melodition,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AppActions>) => ({\r\n  drawGame: bindActionCreators(drawGame, dispatch),\r\n});\r\n\r\nconst connectedPianoCanvas = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(PianoCanvas);\r\n\r\nexport default connectedPianoCanvas;\r\n","import React from \"react\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport {\r\n  Divider,\r\n  Typography,\r\n  Toolbar,\r\n  AppBar,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport { ArrowForward } from \"@material-ui/icons\";\r\nimport { ILesson } from \"../../../../../_types/lesson.types\";\r\n// import AccountCircle from \"@material-ui/icons/AccountCircle\";\r\n// import MenuItem from \"@material-ui/core/MenuItem\";\r\n// import Menu from \"@material-ui/core/Menu\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      flexGrow: 1,\r\n    },\r\n    menuButton: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n    title: {\r\n      flexGrow: 1,\r\n    },\r\n    divider: {\r\n      margin: theme.spacing(0, 2),\r\n    },\r\n  })\r\n);\r\n\r\ninterface Props {\r\n  modeChanger: () => void;\r\n  lesson?: ILesson;\r\n}\r\n\r\nexport default function MenuAppBar({ lesson, modeChanger }: Props) {\r\n  const classes = useStyles();\r\n  // const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\r\n  // const open = Boolean(anchorEl);\r\n\r\n  // const handleMenu = (event: React.MouseEvent<HTMLElement>) => {\r\n  //   setAnchorEl(event.currentTarget);\r\n  // };\r\n\r\n  // const handleClose = () => {\r\n  //   setAnchorEl(null);\r\n  // };\r\n\r\n  return (\r\n    <AppBar position=\"static\" color=\"default\" className={classes.root}>\r\n      <Toolbar>\r\n        <IconButton\r\n          edge=\"start\"\r\n          color=\"inherit\"\r\n          aria-label=\"menu\"\r\n          onClick={modeChanger}\r\n        >\r\n          <ArrowForward />\r\n        </IconButton>\r\n        <Divider orientation=\"vertical\" flexItem className={classes.divider} />\r\n        <Typography variant=\"h6\" color=\"inherit\" className={classes.title}>\r\n          {lesson?.title}\r\n        </Typography>\r\n        {/*<div>\r\n          <IconButton\r\n            aria-label=\"account of current user\"\r\n            aria-controls=\"menu-appbar\"\r\n            aria-haspopup=\"true\"\r\n            onClick={handleMenu}\r\n            color=\"inherit\"\r\n          >\r\n            <AccountCircle />\r\n          </IconButton>\r\n          <Menu\r\n            id=\"menu-appbar\"\r\n            anchorEl={anchorEl}\r\n            anchorOrigin={{\r\n              vertical: \"top\",\r\n              horizontal: \"right\",\r\n            }}\r\n            keepMounted\r\n            transformOrigin={{\r\n              vertical: \"top\",\r\n              horizontal: \"right\",\r\n            }}\r\n            open={open}\r\n            onClose={handleClose}\r\n          >\r\n            <MenuItem onClick={handleClose}>Profile</MenuItem>\r\n            <MenuItem onClick={handleClose}>My account</MenuItem>\r\n          </Menu>\r\n          </div>*/}\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n}\r\n","import React, { Component, ComponentType } from \"react\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { ArrowBackIos } from \"@material-ui/icons\";\r\nimport {\r\n  createStyles,\r\n  Grid,\r\n  Theme,\r\n  IconButton,\r\n  WithStyles,\r\n  withStyles,\r\n  CircularProgress,\r\n} from \"@material-ui/core\";\r\nimport PianoCanvas from \"../PianoCanvas\";\r\nimport {\r\n  changeMode,\r\n  drawGame,\r\n  drawPiano,\r\n  resizePlayer,\r\n} from \"../../../../../_actions/player.actions\";\r\nimport { IMelodition } from \"../../../../../_types/player.types\";\r\nimport Piano from \"../Piano\";\r\nimport { PlayButton } from \"../../../Player/Buttons\";\r\nimport { AppActions, AppState } from \"../../../../../_types\";\r\nimport { ILesson } from \"../../../../../_types/lesson.types\";\r\nimport { ICourse } from \"../../../../../_types/course.types\";\r\nimport PlayerHeader from \"./PlayerHeader\";\r\nimport Seekbar from \"../../../Player/SeekBar\";\r\n\r\nconst useStyles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      width: \"100vw\",\r\n      height: \"100vh\",\r\n      overflow: \"hidden\",\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n    main: {\r\n      width: \"100vw\",\r\n      overflow: \"hidden\",\r\n      minHeight: \"calc(100vh - 64px)\",\r\n      [theme.breakpoints.down(\"xs\")]: {\r\n        minHeight: \"calc(100vh - 56px)\",\r\n      },\r\n      display: \"flex\",\r\n    },\r\n    content: {\r\n      height: \"100%\",\r\n      width: \"100%\",\r\n      flexWrap: \"nowrap\",\r\n    },\r\n    doubleGrid: {\r\n      flexWrap: \"nowrap\",\r\n      width: \"100%\",\r\n      maxWidth: \"100%\",\r\n      \"& > div\": {\r\n        margin: \"auto\",\r\n        padding: 0,\r\n        height: \"100%\",\r\n      },\r\n    },\r\n    centerText: {\r\n      textAlign: \"center\",\r\n    },\r\n    loading: {\r\n      display: \"flex\",\r\n      height: \"83%\",\r\n      boxShadow: \"inset 0 1px 4px 0px black\",\r\n    },\r\n  });\r\n\r\ninterface LessonPlayerModeProps extends WithStyles<typeof useStyles> {\r\n  history: string;\r\n  lesson?: ILesson;\r\n  course?: ICourse;\r\n  theme: \"light\" | \"dark\";\r\n  melodition: IMelodition;\r\n}\r\n\r\ninterface States {\r\n  list: boolean;\r\n}\r\n\r\ntype Props = LessonPlayerModeProps & ReturnType<typeof mapDispatchToProps>;\r\n\r\nclass LessonPlayerMode extends Component<Props, States> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.state = {\r\n      list: false,\r\n    };\r\n  }\r\n\r\n  svgWidth = (i: number): number => {\r\n    const num = i === 1 ? 668 : 584;\r\n    return num;\r\n  };\r\n\r\n  toggleDrawer = (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n    if (event.type === \"keydown\") {\r\n      return;\r\n    }\r\n    if (this.state.list) {\r\n      this.setState({ list: false });\r\n    } else {\r\n      this.setState({ list: true });\r\n    }\r\n  };\r\n  playmodeChanger = () => {\r\n    this.props.changeMode(false);\r\n  };\r\n  componentDidMount() {\r\n    window.addEventListener(\"resize\", this.updateDimensions);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"resize\", this.updateDimensions);\r\n  }\r\n  updateDimensions = () => {\r\n    if (!this.props.melodition.pianoLoading) {\r\n      this.props.resizePlayer();\r\n    }\r\n  };\r\n  render() {\r\n    const { classes, melodition, lesson } = this.props;\r\n    return (\r\n      <div className={classes.root}>\r\n        <PlayerHeader modeChanger={this.playmodeChanger} lesson={lesson} />\r\n        {melodition.playMode ? (\r\n          <Grid container className={classes.main}>\r\n            <Grid item xs={1}>\r\n              <Grid\r\n                container\r\n                direction=\"column\"\r\n                justify=\"center\"\r\n                alignItems=\"center\"\r\n                className={classes.content}\r\n              >\r\n                <PlayButton loading={melodition.loading} />\r\n              </Grid>\r\n            </Grid>\r\n            <Grid item xs={10}>\r\n              <Grid\r\n                container\r\n                direction=\"column\"\r\n                justify=\"center\"\r\n                alignItems=\"center\"\r\n                className={classes.content}\r\n              >\r\n                <Grid item xs={12}>\r\n                  {melodition.pianoLoading ? (\r\n                    <div className={classes.loading}>\r\n                      <CircularProgress\r\n                        color=\"secondary\"\r\n                        style={{ margin: \"auto\" }}\r\n                      />\r\n                    </div>\r\n                  ) : (\r\n                    <PianoCanvas />\r\n                  )}\r\n                  <Piano />\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid item xs={1}>\r\n              <Grid\r\n                container\r\n                direction=\"column\"\r\n                justify=\"space-around\"\r\n                alignItems=\"center\"\r\n                className={classes.content}\r\n              >\r\n                <div style={{ height: \"40%\" }}>\r\n                  <Seekbar />\r\n                </div>\r\n                <IconButton color=\"secondary\" aria-label=\"play mode\">\r\n                  <ArrowBackIos />\r\n                </IconButton>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        ) : (\r\n          <Grid container className={classes.main}>\r\n            <Grid\r\n              container\r\n              direction=\"column\"\r\n              justify=\"center\"\r\n              alignItems=\"center\"\r\n              className={classes.root}\r\n            >\r\n              <CircularProgress color=\"secondary\" style={{ margin: \"auto\" }} />\r\n            </Grid>\r\n          </Grid>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (\r\n  state: AppState,\r\n  ownProps: Props\r\n): LessonPlayerModeProps => ({\r\n  history: state.router.location.pathname,\r\n  classes: ownProps.classes,\r\n  melodition: state.melodition,\r\n  theme: state.auth.theme,\r\n  lesson: state.single.lesson.data,\r\n  course: state.single.course.data,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AppActions>) => ({\r\n  changeMode: bindActionCreators(changeMode, dispatch),\r\n  drawGame: bindActionCreators(drawGame, dispatch),\r\n  drawPiano: bindActionCreators(drawPiano, dispatch),\r\n  resizePlayer: bindActionCreators(resizePlayer, dispatch),\r\n});\r\n\r\nexport default (connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(\r\n  withStyles(useStyles)(LessonPlayerMode)\r\n) as unknown) as ComponentType<unknown>;\r\n","import { createMuiTheme } from \"@material-ui/core\";\r\n\r\nexport const globalStyle = createMuiTheme(\r\n    {\r\n        direction: \"rtl\",\r\n        typography: {\r\n            fontFamily: \"Vazir\",\r\n        },\r\n        overrides: {\r\n            MuiBreadcrumbs: {\r\n                root: {\r\n                    width: 'calc(100vw - 64px)',\r\n                },\r\n                ol: {\r\n                    flexWrap: \"nowrap\",\r\n                    overflowX: \"scroll\",\r\n                    scrollbarWidth: \"none\",\r\n                    whiteSpace: \"nowrap\",\r\n                    '&::-webkit-scrollbar': {\r\n                        display: \"none\"\r\n                    }\r\n                }\r\n            },\r\n            MuiCardActions: {\r\n                root: {\r\n                    padding: undefined\r\n                }\r\n            },\r\n            MuiCssBaseline: {\r\n                '@global': {\r\n                    '*': {\r\n                        scrollbarWidth: 'thin',\r\n                        scrollbarColor: \"rgb(245, 0, 87) #0000\",\r\n                    },\r\n                    '*::-webkit-scrollbar': {\r\n                        width: '10px'\r\n                    },\r\n                    '*::-webkit-scrollbar-track': {\r\n                        '-webkit-border-radius': '10px',\r\n                        borderRadius: '8px',\r\n                    },\r\n                    '*::-webkit-scrollbar-thumb': {\r\n                        '-webkit-border-radius': '10px',\r\n                        borderRadius: '10px',\r\n                        background: 'rgb(245, 0, 87)',\r\n                    },\r\n                    '*::-webkit-scrollbar-thumb:window-inactive': {\r\n                        background: 'rgb(245, 0, 87)'\r\n                    }\r\n                }\r\n            },\r\n            MuiIconButton: {\r\n                colorSecondary: {\r\n                    \"&:hover\": {\r\n                        backgroundColor: \"rgb(200 200 200 / 0.5)\",\r\n                    },\r\n                },\r\n            },\r\n        },\r\n    })\r\n\r\n","import { createMuiTheme } from \"@material-ui/core\";\r\nimport { blue, pink, red } from \"@material-ui/core/colors\";\r\nimport { faIR } from \"@material-ui/core/locale\";\r\nimport { globalStyle } from \"./GlobalTheme\";\r\n\r\nexport const DarkTheme = createMuiTheme(\r\n    {\r\n        ...globalStyle,\r\n        palette: {\r\n            type: \"dark\",\r\n            primary: blue,\r\n            error: red,\r\n            secondary: {\r\n                main: pink[300],\r\n            },\r\n        },\r\n    },\r\n    faIR\r\n);\r\n","import { createMuiTheme } from \"@material-ui/core\";\r\nimport { red } from \"@material-ui/core/colors\";\r\nimport { faIR } from \"@material-ui/core/locale\";\r\nimport { globalStyle } from \"./GlobalTheme\";\r\n\r\nexport const LightTheme = createMuiTheme(\r\n  {\r\n    ...globalStyle,\r\n    palette: {\r\n      error: red,\r\n    },\r\n  },\r\n  faIR\r\n);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { push, goBack } from \"connected-react-router\";\r\nimport { ArrowForward } from \"@material-ui/icons\";\r\nimport { Theme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n  AppBar,\r\n  Link,\r\n  Paper,\r\n  Toolbar,\r\n  IconButton,\r\n  Divider,\r\n  Breadcrumbs,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  AllInbox,\r\n  LibraryMusic,\r\n  QueueMusic,\r\n  MusicNote,\r\n  EmojiSymbols,\r\n  Favorite,\r\n} from \"@material-ui/icons\";\r\nimport { AppActions, AppState } from \"../../_types\";\r\nimport { pathFinder } from \"../../_helpers/constants\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    bracrumbs: {\r\n      padding: theme.spacing(1, 2, 0, 2),\r\n      \"& > ol > li\": {\r\n        padding: theme.spacing(1, 0.5),\r\n      },\r\n    },\r\n    back: {\r\n      margin: theme.spacing(0, 2),\r\n    },\r\n  })\r\n);\r\n\r\nconst pages: any = {\r\n  post: <AllInbox />,\r\n  guide: <LibraryMusic />,\r\n  course: <QueueMusic />,\r\n  lesson: <MusicNote />,\r\n  exercise: <EmojiSymbols />,\r\n  favorite: <Favorite />,\r\n};\r\n\r\ninterface IBreadcrumbs {\r\n  pathname: string;\r\n  single: any;\r\n}\r\n\r\ninterface ILinksPath {\r\n  name: \"home\";\r\n  url: \"/\";\r\n}\r\n\r\ntype Props = IBreadcrumbs & LinkDispatchProps;\r\n\r\nconst Breadcrumb = (props: Props) => {\r\n  const { single, pathname, push, back } = props;\r\n\r\n  const [linkPath, setLinkPath] = useState([] as ILinksPath[]);\r\n\r\n  const [trigger, setTrigger] = useState(false);\r\n\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    const path = pathFinder(pathname);\r\n    const keys = Object.keys(path);\r\n    const linkArray: any[] = [];\r\n    keys.forEach((key, i) => {\r\n      const post = single[keys[i - 1]];\r\n      const title = post?.data?.title;\r\n      let name = i === 0 ? pages[key] : title ? title : \"...\";\r\n      linkArray[i] = {\r\n        url: pathname\r\n          .split(\"/\")\r\n          .slice(0, i + 2)\r\n          .join(\"/\"),\r\n        name: name,\r\n      };\r\n    });\r\n    if (path.length > 0) {\r\n      setTrigger(true);\r\n      setLinkPath(linkArray);\r\n    }\r\n    return () => {\r\n      setTrigger(false);\r\n    };\r\n  }, [pathname, single]);\r\n\r\n  const handleClick = (\r\n    event: React.MouseEvent<HTMLAnchorElement, MouseEvent>\r\n  ) => {\r\n    event.preventDefault();\r\n    push(event.currentTarget.pathname);\r\n  };\r\n\r\n  return trigger ? (\r\n    <AppBar position=\"static\">\r\n      <Paper square style={{ overflow: \"hidden\" }}>\r\n        <Toolbar disableGutters>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"menu\"\r\n            onClick={back}\r\n            className={classes.back}\r\n          >\r\n            <ArrowForward />\r\n          </IconButton>\r\n          <Divider orientation=\"vertical\" flexItem />\r\n          <Breadcrumbs aria-label=\"breadcrumb\" className={classes.bracrumbs}>\r\n            {linkPath.map((link, i) => (\r\n              <Link\r\n                key={i + link.name}\r\n                href={link.url}\r\n                color=\"inherit\"\r\n                aria-label={link.name}\r\n                onClick={handleClick}\r\n              >\r\n                {link.name}\r\n              </Link>\r\n            ))}\r\n          </Breadcrumbs>\r\n        </Toolbar>\r\n      </Paper>\r\n    </AppBar>\r\n  ) : null;\r\n};\r\n\r\ninterface LinkDispatchProps {\r\n  push: (key: string) => void;\r\n  back: () => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState, ownProps: {}): IBreadcrumbs => {\r\n  const { pathname } = state.router.location;\r\n  return {\r\n    pathname,\r\n    single: state.single,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n  push: bindActionCreators(push, dispatch),\r\n  back: bindActionCreators(goBack, dispatch),\r\n});\r\n\r\nconst conectedBreadcrumb = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Breadcrumb);\r\n\r\nexport default conectedBreadcrumb;\r\n","import React from \"react\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core\";\r\nimport {\r\n  AccountCircle,\r\n  Star,\r\n  Notifications,\r\n  MoreHoriz,\r\n} from \"@material-ui/icons/\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { AppBarInterface } from \"./MainAppBar\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    sectionDesktop: {\r\n      display: \"none\",\r\n      [theme.breakpoints.up(\"sm\")]: {\r\n        display: \"flex\",\r\n      },\r\n    },\r\n    sectionMobile: {\r\n      display: \"flex\",\r\n      [theme.breakpoints.up(\"sm\")]: {\r\n        display: \"none\",\r\n      },\r\n    },\r\n  })\r\n);\r\n\r\nconst IconController = (props: AppBarInterface) => {\r\n  const classes = useStyles();\r\n  const { menuId, mobileMenuId } = props.state;\r\n  const profileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\r\n    props.dispatch({ type: \"profile-anchor\", payload: event.currentTarget });\r\n  };\r\n  const mobileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\r\n    props.dispatch({ type: \"mobile-anchor\", payload: event.currentTarget });\r\n  };\r\n  return props.loggedIn ? (\r\n    <React.Fragment>\r\n      <div className={classes.sectionDesktop}>\r\n        <IconButton aria-label=\"show 4 new mails\" color=\"inherit\">\r\n          <Badge badgeContent={4} color=\"secondary\">\r\n            <Star />\r\n          </Badge>\r\n        </IconButton>\r\n        <IconButton aria-label=\"show 17 new alerts\" color=\"inherit\">\r\n          <Badge badgeContent={17} color=\"secondary\">\r\n            <Notifications />\r\n          </Badge>\r\n        </IconButton>\r\n        <IconButton\r\n          edge=\"end\"\r\n          aria-label=\"account of current user\"\r\n          aria-controls={menuId}\r\n          aria-haspopup=\"true\"\r\n          onClick={profileMenuOpen}\r\n          color=\"inherit\"\r\n        >\r\n          <AccountCircle />\r\n        </IconButton>\r\n      </div>\r\n      <div className={classes.sectionMobile}>\r\n        <IconButton\r\n          aria-label=\"show more\"\r\n          aria-controls={mobileMenuId}\r\n          aria-haspopup=\"true\"\r\n          onClick={mobileMenuOpen}\r\n          color=\"inherit\"\r\n        >\r\n          <MoreHoriz />\r\n        </IconButton>\r\n      </div>\r\n    </React.Fragment>\r\n  ) : (\r\n    <IconButton\r\n      edge=\"end\"\r\n      aria-label=\"account of current user\"\r\n      aria-controls={menuId}\r\n      aria-haspopup=\"true\"\r\n      onClick={profileMenuOpen}\r\n      color=\"inherit\"\r\n    >\r\n      <AccountCircle />\r\n    </IconButton>\r\n  );\r\n};\r\nexport default IconController;\r\n","import React from \"react\";\r\nimport InputBase from \"@material-ui/core/InputBase\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport {\r\n  createStyles,\r\n  fade,\r\n  Theme,\r\n  WithStyles,\r\n  withStyles,\r\n} from \"@material-ui/core\";\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    search: {\r\n      position: \"relative\",\r\n      borderRadius: theme.shape.borderRadius,\r\n      backgroundColor: fade(theme.palette.common.white, 0.15),\r\n      \"&:hover\": {\r\n        backgroundColor: fade(theme.palette.common.white, 0.25),\r\n      },\r\n      width: \"100%\",\r\n      marginLeft: theme.spacing(1),\r\n      [theme.breakpoints.up(420)]: {\r\n        width: \"auto\",\r\n      },\r\n    },\r\n    searchIcon: {\r\n      padding: theme.spacing(0, 2),\r\n      height: \"100%\",\r\n      position: \"absolute\",\r\n      top: 0,\r\n      pointerEvents: \"none\",\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n      cursor: \"pointer\",\r\n    },\r\n    inputRoot: {\r\n      color: \"inherit\",\r\n    },\r\n    inputInput: {\r\n      padding: theme.spacing(1, 1, 1, 0),\r\n      // vertical padding + font size from searchIcon\r\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n      transition: theme.transitions.create(\"width\"),\r\n      width: \"0\",\r\n      \"&:focus\": {\r\n        width: \"12ch\",\r\n      },\r\n      [theme.breakpoints.down(420)]: {\r\n        width: \"7ch\",\r\n      },\r\n      [theme.breakpoints.down(350)]: {\r\n        width: \"0\",\r\n      },\r\n    },\r\n  });\r\n\r\ninterface SearchProps extends WithStyles<typeof styles> {}\r\ninterface SearchStates {\r\n  query: string;\r\n  results: any;\r\n  loading: boolean;\r\n  message: string;\r\n}\r\n\r\nclass SearchInput extends React.Component<SearchProps, SearchStates> {\r\n  constructor(props: SearchProps) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      query: \"\",\r\n      results: {},\r\n      loading: false,\r\n      message: \"\",\r\n    };\r\n  }\r\n  handleOnInputChange = (\r\n    event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\r\n  ) => {\r\n    const query = event.target.value;\r\n    this.setState({ query, loading: true });\r\n  };\r\n\r\n  fetchSearchResult = () => {};\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { query } = this.state;\r\n    return (\r\n      <div className={classes.search}>\r\n        <div className={classes.searchIcon}>\r\n          <SearchIcon />\r\n        </div>\r\n        <InputBase\r\n          placeholder=\"جستجو...\"\r\n          classes={{\r\n            root: classes.inputRoot,\r\n            input: classes.inputInput,\r\n          }}\r\n          inputProps={{ \"aria-label\": \"search\" }}\r\n          type=\"text\"\r\n          value={query}\r\n          onChange={(event) => this.handleOnInputChange(event)}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default withStyles(styles)(SearchInput);\r\n","import React from \"react\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport { Badge, IconButton, Menu, MenuItem } from \"@material-ui/core\";\r\nimport { AccountCircle, Stars, Notifications } from \"@material-ui/icons\";\r\nimport { AppBarInterface } from \"./MainAppBar\";\r\n\r\nconst MobileMenu = (props: AppBarInterface) => {\r\n  const { mobileMenuId, mobileMoreAnchor } = props.state;\r\n  const mobileMenuIsOpen = Boolean(mobileMoreAnchor);\r\n  const handleProfileMenu = (\r\n    event: React.MouseEvent<HTMLLIElement, MouseEvent>\r\n  ) => {\r\n    props.dispatch({ type: \"profile-anchor\", payload: event.currentTarget });\r\n  };\r\n  const handleMobileMenu = () => {\r\n    props.dispatch({ type: \"mobile-close\" });\r\n  };\r\n  const handleSignOut = () => {\r\n    handleMobileMenu();\r\n    if (props.logout) props.logout();\r\n  };\r\n  return props.loggedIn ? (\r\n    <Menu\r\n      anchorEl={mobileMoreAnchor}\r\n      anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      id={mobileMenuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      open={mobileMenuIsOpen}\r\n      onClose={handleMobileMenu}\r\n    >\r\n      <MenuItem>\r\n        <IconButton aria-label=\"show 4 new mails\" color=\"inherit\">\r\n          <Badge badgeContent={4} color=\"secondary\">\r\n            <Stars />\r\n          </Badge>\r\n        </IconButton>\r\n        <p>Messages</p>\r\n      </MenuItem>\r\n      <MenuItem>\r\n        <IconButton aria-label=\"show 11 new alerts\" color=\"inherit\">\r\n          <Badge badgeContent={11} color=\"secondary\">\r\n            <Notifications />\r\n          </Badge>\r\n        </IconButton>\r\n        <p>Notification</p>\r\n      </MenuItem>\r\n      <MenuItem onClick={handleProfileMenu}>\r\n        <IconButton\r\n          aria-label=\"account of current user\"\r\n          aria-controls=\"primary-search-account-menu\"\r\n          aria-haspopup=\"true\"\r\n          color=\"inherit\"\r\n        >\r\n          <AccountCircle />\r\n        </IconButton>\r\n        <p>Account</p>\r\n      </MenuItem>\r\n      <MenuItem onClick={handleSignOut}>\r\n        <IconButton\r\n          aria-label=\"account of current user\"\r\n          aria-controls=\"primary-search-account-menu\"\r\n          aria-haspopup=\"true\"\r\n          color=\"inherit\"\r\n        >\r\n          <AccountCircle />\r\n        </IconButton>\r\n        <p>Sign Out</p>\r\n      </MenuItem>\r\n    </Menu>\r\n  ) : (\r\n    <Menu\r\n      anchorEl={mobileMoreAnchor}\r\n      anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      id={mobileMenuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      open={mobileMenuIsOpen}\r\n      onClose={handleMobileMenu}\r\n    >\r\n      <Link to=\"/login\" component={RouterLink} color=\"secondary\">\r\n        <MenuItem onClick={handleMobileMenu}>\r\n          <IconButton\r\n            aria-label=\"account of current user\"\r\n            aria-controls=\"primary-search-account-menu\"\r\n            aria-haspopup=\"true\"\r\n            color=\"inherit\"\r\n          >\r\n            <AccountCircle />\r\n          </IconButton>\r\n          <p>ورود</p>\r\n        </MenuItem>\r\n      </Link>\r\n      <Link to=\"/register\" component={RouterLink} color=\"secondary\">\r\n        <MenuItem onClick={handleMobileMenu}>\r\n          <IconButton\r\n            aria-label=\"account of current user\"\r\n            aria-controls=\"primary-search-account-menu\"\r\n            aria-haspopup=\"true\"\r\n            color=\"inherit\"\r\n          >\r\n            <AccountCircle />\r\n          </IconButton>\r\n          <p>ثبت نام</p>\r\n        </MenuItem>\r\n      </Link>\r\n    </Menu>\r\n  );\r\n};\r\nexport default MobileMenu;\r\n","import React from \"react\";\r\nimport {\r\n  SettingsApplications,\r\n  AccountBox,\r\n  Home,\r\n  FileCopy,\r\n  Info,\r\n} from \"@material-ui/icons\";\r\n\r\nexport const sideLink = {\r\n  in: [\r\n    { name: \"پروفایل\", to: \"/profile\", icon: <SettingsApplications /> },\r\n    { name: \"کابری من\", to: \"/dashboard\", icon: <AccountBox /> },\r\n  ],\r\n  out: [\r\n    { name: \"ورود\", to: \"/login\", icon: <AccountBox /> },\r\n    { name: \"ثبت نام\", to: \"/register\", icon: <AccountBox /> },\r\n  ],\r\n};\r\nexport const links = [\r\n  { to: \"/\", title: \"خانه‌\", icon: <Home /> },\r\n  { to: \"/learning\", title: \"درس ها‌\", icon: <FileCopy /> },\r\n  { to: \"/about\", title: \"درباره‌\", icon: <Info /> },\r\n];\r\n","import React from \"react\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport { sideLink } from \"./Links\";\r\nimport { AppBarInterface } from \"./MainAppBar\";\r\n\r\nconst MenuRender = (props: AppBarInterface) => {\r\n  const { loggedIn, state, logout, dispatch } = props;\r\n  const { profileMoreAnchor, menuId } = state;\r\n  const profileMenuIsOpen = Boolean(profileMoreAnchor);\r\n  const handleSignOut = () => {\r\n    if (logout) logout();\r\n    handleDrawerClose();\r\n  };\r\n  const handleDrawerClose = () => {\r\n    dispatch({ type: \"profile-close\" });\r\n  };\r\n  const botLinks = loggedIn ? sideLink.in : sideLink.out;\r\n  return (\r\n    <Menu\r\n      anchorEl={profileMoreAnchor}\r\n      anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      id={menuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n      open={profileMenuIsOpen}\r\n      onClose={handleDrawerClose}\r\n    >\r\n      {botLinks.map((item, index) => (\r\n        <Link\r\n          to={item.to}\r\n          key={\"menuitem-\" + index}\r\n          onClick={handleDrawerClose}\r\n          component={RouterLink}\r\n          color=\"secondary\"\r\n        >\r\n          <MenuItem onClick={handleDrawerClose}>{item.name}</MenuItem>\r\n        </Link>\r\n      ))}\r\n      {loggedIn && <MenuItem onClick={handleSignOut}>خروج</MenuItem>}\r\n    </Menu>\r\n  );\r\n};\r\nexport default MenuRender;\r\n","import React from \"react\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport {\r\n  createStyles,\r\n  makeStyles,\r\n  Theme,\r\n  useTheme,\r\n} from \"@material-ui/core/styles\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport List from \"@material-ui/core/List\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport {\r\n  Brightness7,\r\n  Brightness4,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n} from \"@material-ui/icons\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport { links, sideLink } from \"./Links\";\r\nimport { AppBarInterface } from \"./MainAppBar\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n    },\r\n    hide: {\r\n      display: \"none\",\r\n    },\r\n    drawer: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n    drawerPaper: {\r\n      width: drawerWidth,\r\n    },\r\n    drawerHeader: {\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      padding: theme.spacing(0, 1),\r\n      // necessary for content to be below app bar\r\n      ...theme.mixins.toolbar,\r\n      justifyContent: \"flex-start\",\r\n    },\r\n    toolbar: {\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"space-between\",\r\n      padding: theme.spacing(0, 1, 0, 4),\r\n      // necessary for content to be below app bar\r\n      ...theme.mixins.toolbar,\r\n    },\r\n  })\r\n);\r\n\r\nexport default function MiniDrawer({\r\n  state,\r\n  loggedIn,\r\n  theme,\r\n  changeTheme,\r\n  dispatch,\r\n}: AppBarInterface) {\r\n  const classes = useStyles();\r\n  const { direction } = useTheme();\r\n  const handleDrawerClose = () => {\r\n    dispatch({ type: \"menu-toggle\" });\r\n  };\r\n\r\n  const handleThemeChanger = () => {\r\n    if (theme === \"light\") changeTheme(\"dark\");\r\n    else changeTheme(\"light\");\r\n  };\r\n\r\n  const botLinks = loggedIn ? sideLink.in : sideLink.out;\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <Drawer\r\n        className={classes.drawer}\r\n        variant=\"temporary\"\r\n        anchor={direction === \"ltr\" ? \"right\" : \"left\"}\r\n        open={state.menuIsOpen}\r\n        onClose={handleDrawerClose}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n      >\r\n        <div className={classes.toolbar}>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleThemeChanger}\r\n            edge=\"start\"\r\n          >\r\n            {theme === \"light\" ? <Brightness7 /> : <Brightness4 />}\r\n          </IconButton>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            {direction === \"ltr\" ? <ChevronLeft /> : <ChevronRight />}\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        <List>\r\n          {links.map((text, index) => (\r\n            <Link\r\n              to={text.to}\r\n              key={\"sidelink-\" + index}\r\n              onClick={handleDrawerClose}\r\n              component={RouterLink}\r\n              color=\"secondary\"\r\n            >\r\n              <ListItem button>\r\n                <ListItemIcon>{text.icon}</ListItemIcon>\r\n                <ListItemText primary={text.title} />\r\n              </ListItem>\r\n            </Link>\r\n          ))}\r\n        </List>\r\n        <Divider />\r\n        <List>\r\n          {botLinks.map((item, index) => (\r\n            <Link\r\n              to={item.to}\r\n              key={\"sidelink-\" + index}\r\n              onClick={handleDrawerClose}\r\n              component={RouterLink}\r\n              color=\"secondary\"\r\n            >\r\n              <ListItem button>\r\n                <ListItemIcon>{item.icon}</ListItemIcon>\r\n                <ListItemText primary={item.name} />\r\n              </ListItem>\r\n            </Link>\r\n          ))}\r\n        </List>\r\n      </Drawer>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport { createStyles, Theme, Collapse } from \"@material-ui/core\";\r\nimport { links } from \"./Links\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"none\",\r\n      [theme.breakpoints.up(420)]: {\r\n        marginLeft: theme.spacing(1),\r\n        display: \"inline-block\",\r\n      },\r\n      [theme.breakpoints.up(\"sm\")]: {\r\n        marginLeft: theme.spacing(2),\r\n        display: \"inline-block\",\r\n      },\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        marginLeft: theme.spacing(4),\r\n        display: \"inline-block\",\r\n      },\r\n      [theme.breakpoints.up(\"lg\")]: {\r\n        marginLeft: theme.spacing(8),\r\n        display: \"inline-block\",\r\n      },\r\n    },\r\n    linkKeeper: {\r\n      overflow: \"hidden\",\r\n      height: \"1.2em\",\r\n      lineHeight: \"1.2em\",\r\n    },\r\n    links: {\r\n      textAlign: \"center\",\r\n      flexGrow: 1,\r\n    },\r\n  })\r\n);\r\n\r\ninterface LinkConstProps {\r\n  openStatus: boolean;\r\n}\r\n\r\nconst LinkConst = ({ openStatus }: LinkConstProps) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <Collapse in={!openStatus} className={classes.links}>\r\n      <div className={classes.linkKeeper}>\r\n        {links.map((link, i) => (\r\n          <Link\r\n            key={\"link-\" + i}\r\n            to={link.to}\r\n            className={classes.root}\r\n            component={RouterLink}\r\n            color=\"secondary\"\r\n          >\r\n            {link.title}\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    </Collapse>\r\n  );\r\n};\r\nexport default LinkConst;\r\n","import React, { Dispatch } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport { makeStyles, Theme, createStyles } from \"@material-ui/core/styles\";\r\nimport { HeaderState, HeaderAction } from \"../../../_reducers/header.reducer\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport IconController from \"./LeftIcons\";\r\nimport { IHeaderProps } from \"./Header\";\r\nimport SearchInput from \"./SearchInput\";\r\nimport MobileMenu from \"./MobileMenu\";\r\nimport MenuRender from \"./MenuRender\";\r\nimport MiniDrawer from \"./MiniDrawer\";\r\nimport LinkConst from \"./LinkConst\";\r\n\r\nconst drawerWidth = 240;\r\nconst version = process.env.REACT_APP_VERSION;\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    appBar: {\r\n      zIndex: theme.zIndex.drawer + 1,\r\n      transition: theme.transitions.create([\"width\", \"margin\"], {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.leavingScreen,\r\n      }),\r\n    },\r\n    appBarShift: {\r\n      marginLeft: drawerWidth,\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n      transition: theme.transitions.create([\"width\", \"margin\"], {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n    },\r\n    hide: {\r\n      display: \"none\",\r\n    },\r\n    menuButton: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n  })\r\n);\r\n\r\nexport type AppBarInterface = AppBarProps & IHeaderProps;\r\n\r\ninterface AppBarProps {\r\n  state: HeaderState;\r\n  dispatch: Dispatch<HeaderAction>;\r\n}\r\nconst MainAppBar = (props: AppBarInterface) => {\r\n  const classes = useStyles();\r\n\r\n  const { menuIsOpen } = props.state;\r\n\r\n  const handleDrawerOpen = () => {\r\n    props.dispatch({ type: \"menu-toggle\" });\r\n  };\r\n\r\n  return (\r\n    <AppBar\r\n      color={\"default\"}\r\n      position=\"relative\"\r\n      className={clsx(classes.appBar, {\r\n        [classes.appBarShift]: menuIsOpen,\r\n      })}\r\n    >\r\n      <Toolbar>\r\n        <IconButton\r\n          color=\"inherit\"\r\n          aria-label=\"open drawer\"\r\n          onClick={handleDrawerOpen}\r\n          edge=\"start\"\r\n          className={clsx(classes.menuButton, {\r\n            [classes.hide]: menuIsOpen,\r\n          })}\r\n        >\r\n          <MenuIcon />\r\n        </IconButton>\r\n        <Link component={RouterLink} color=\"secondary\" to=\"/\">\r\n          ملودیشن\r\n        </Link>\r\n        <p onClick={() => sessionStorage.clear()}>({version})</p>\r\n        <LinkConst openStatus={menuIsOpen} />\r\n        <SearchInput />\r\n        <IconController {...props} />\r\n      </Toolbar>\r\n      <MiniDrawer {...props} />\r\n      <MobileMenu {...props} />\r\n      <MenuRender {...props} />\r\n    </AppBar>\r\n  );\r\n};\r\nexport default MainAppBar;\r\n","export interface HeaderState {\r\n    menuId: string;\r\n    menuIsOpen: boolean;\r\n    mobileMenuId: string;\r\n    profileMoreAnchor: null | HTMLElement;\r\n    mobileMoreAnchor: null | HTMLElement;\r\n}\r\n\r\nexport const initialState: HeaderState = {\r\n    menuId: \"primary-search-account-menu\",\r\n    mobileMenuId: \"primary-search-account-menu-mobile\",\r\n    profileMoreAnchor: null,\r\n    mobileMoreAnchor: null,\r\n    menuIsOpen: false,\r\n};\r\n\r\nexport type HeaderAction =\r\n    | { type: \"menu-toggle\" | \"profile-close\" | \"mobile-close\" }\r\n    | { type: \"field\"; fieldName: string; payload: string }\r\n    | { type: \"loggedIn\"; payload: boolean }\r\n    | { type: \"profile-anchor\"; payload: null | HTMLElement }\r\n    | { type: \"mobile-anchor\"; payload: null | HTMLElement };\r\n\r\nexport default function HeaderReducer(state: HeaderState, action: HeaderAction) {\r\n    switch (action.type) {\r\n        case \"field\":\r\n            return {\r\n                ...state,\r\n                [action.fieldName]: action.payload,\r\n            };\r\n        case \"menu-toggle\":\r\n            return {\r\n                ...state,\r\n                menuIsOpen: !state.menuIsOpen,\r\n            };\r\n        case \"profile-close\":\r\n            return {\r\n                ...state,\r\n                profileMoreAnchor: null,\r\n            };\r\n        case \"mobile-close\":\r\n            return {\r\n                ...state,\r\n                mobileMoreAnchor: null,\r\n            };\r\n        case \"mobile-anchor\":\r\n            return {\r\n                ...state,\r\n                mobileMoreAnchor: action.payload,\r\n            };\r\n        case \"profile-anchor\":\r\n            return {\r\n                ...state,\r\n                profileMoreAnchor: action.payload,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import React, { ComponentType, useReducer } from \"react\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { AppState } from \"../../../_types\";\r\nimport { AppActions } from \"../../../_types\";\r\nimport MainAppBar from \"./MainAppBar\";\r\nimport { changeTheme, logoutRequest } from \"../../../_actions/user.actions\";\r\nimport HeaderReducer, { initialState } from \"../../../_reducers/header.reducer\";\r\n\r\ninterface MapProps {\r\n  loggedIn: boolean;\r\n  theme: \"light\" | \"dark\";\r\n}\r\n\r\nexport type IHeaderProps = LinkDispatchProps & MapProps;\r\n\r\nconst Header: React.FC<IHeaderProps> = ({ ...rest }) => {\r\n  const [state, dispatch] = useReducer(HeaderReducer, initialState);\r\n\r\n  return <MainAppBar state={state} dispatch={dispatch} {...rest} />;\r\n};\r\n\r\ninterface LinkDispatchProps {\r\n  logout: () => void;\r\n  changeTheme: (theme: \"light\" | \"dark\") => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState): MapProps => {\r\n  const { loggedIn, theme } = state.auth;\r\n  return { loggedIn, theme };\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n  logout: bindActionCreators(logoutRequest, dispatch),\r\n  changeTheme: bindActionCreators(changeTheme, dispatch),\r\n});\r\n\r\nexport default (connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Header) as unknown) as ComponentType<unknown>;\r\n","import {\r\n  SHOW_SNACKBAR,\r\n  REMOVE_SNACKBAR,\r\n  DefaultSnackState,\r\n} from \"../_types/snackbar.types\";\r\n\r\nexport const snackbarShow = (snackbar: DefaultSnackState) => ({\r\n  type: SHOW_SNACKBAR,\r\n  snackbar: {\r\n    ...snackbar,\r\n  },\r\n})\r\n\r\nexport const snackbarRemove = (key: string) => ({ type: REMOVE_SNACKBAR, key })\r\n","import { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { ThunkDispatch } from \"redux-thunk\";\r\nimport { AppState, AppActions } from \"../../../_types\";\r\nimport { ISnack } from \"../../../_types/snackbar.types\";\r\nimport { snackbarRemove } from \"../../../_actions/snackbar.actions\";\r\n\r\nlet displayed: string[] = [];\r\n\r\ninterface NotifierProps {\r\n  snackbars?: ISnack[];\r\n}\r\n\r\ntype Props = NotifierProps & LinkDispatchProps;\r\n\r\nconst Notifier = ({ snackbars, removeSnack }: Props): null => {\r\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n\r\n  const storeDisplayed = (id: string) => {\r\n    displayed = [...displayed, id];\r\n  };\r\n\r\n  const removeDisplayed = (id: string) => {\r\n    displayed = [...displayed.filter((key) => id !== key)];\r\n  };\r\n\r\n  useEffect(() => {\r\n    snackbars?.forEach(\r\n      ({ key, message, options = {}, dismissed = false }: ISnack) => {\r\n        if (dismissed) {\r\n          closeSnackbar(key);\r\n          return;\r\n        }\r\n        if (displayed.includes(key)) return;\r\n        enqueueSnackbar(message, {\r\n          key,\r\n          ...options,\r\n          onClose: (event, reason, myKey) => {\r\n            if (options.onClose) {\r\n              options.onClose(event, reason, myKey);\r\n            }\r\n          },\r\n          onExited: (event, myKey) => {\r\n            if (removeSnack) removeSnack(String(myKey));\r\n            removeDisplayed(String(myKey));\r\n          },\r\n        });\r\n        storeDisplayed(key);\r\n      }\r\n    );\r\n  }, [snackbars, closeSnackbar, enqueueSnackbar, removeSnack]);\r\n\r\n  return null;\r\n};\r\ninterface LinkDispatchProps {\r\n  removeSnack?: (key: string) => void;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState): NotifierProps => {\r\n  const { snackbar } = state;\r\n  return {\r\n    snackbars: snackbar.snackbars,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (\r\n  dispatch: ThunkDispatch<any, any, AppActions>\r\n): LinkDispatchProps => ({\r\n  removeSnack: bindActionCreators(snackbarRemove, dispatch),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Notifier);\r\n","import React from \"react\";\r\nimport { create } from \"jss\";\r\nimport jssRTL from \"jss-rtl\";\r\nimport { connect } from \"react-redux\";\r\nimport { ConnectedRouter } from \"connected-react-router\";\r\nimport { SnackbarProvider } from \"notistack\";\r\nimport { history } from \"./_store/store.config\";\r\nimport AppRouter from \"./router\";\r\nimport \"./App.css\";\r\nimport {\r\n  Box,\r\n  createStyles,\r\n  jssPreset,\r\n  makeStyles,\r\n  Paper,\r\n  responsiveFontSizes,\r\n  Slide,\r\n  StylesProvider,\r\n  Theme,\r\n  ThemeProvider,\r\n} from \"@material-ui/core\";\r\nimport LessonPlayerMode from \"./components/Layout/Instruments/Piano/PlayMode/LessonPlayMode\";\r\nimport { LightTheme, DarkTheme } from \"./plugin/Themes\";\r\nimport Breadcrumb from \"./components/Layout/Breadcrumbs\";\r\nimport Header from \"./components/Layout/Header/Header\";\r\nimport Notifier from \"./components/Layout/SnackBar/Notifier\";\r\nimport { AppState } from \"./_types\";\r\n\r\nconst jss = create({ plugins: [...jssPreset().plugins, jssRTL()] });\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    app: {\r\n      width: \"100vw\",\r\n      height: \"100vh\",\r\n      overflowX: \"hidden\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      overflow: \"hidden\",\r\n    },\r\n    mainBody: {\r\n      height: \"inherit\",\r\n      overflowX: \"hidden\",\r\n      overflowY: \"auto\",\r\n    },\r\n    paper: {\r\n      zIndex: 999999,\r\n      position: \"absolute\",\r\n    },\r\n  })\r\n);\r\n\r\ninterface AppProps {\r\n  playMode: boolean;\r\n  theme: \"light\" | \"dark\";\r\n}\r\ntype Props = AppProps & LinkDispatchProps;\r\n\r\nconst App: React.FC<Props> = ({ theme, playMode }) => {\r\n  const classes = useStyles();\r\n  const currentTheme = theme === \"light\" ? LightTheme : DarkTheme;\r\n  const responsTheme = responsiveFontSizes(currentTheme);\r\n  return (\r\n    <ConnectedRouter history={history}>\r\n      <StylesProvider jss={jss}>\r\n        <ThemeProvider theme={responsTheme}>\r\n          <SnackbarProvider>\r\n            <Slide direction=\"right\" in={playMode} mountOnEnter unmountOnExit>\r\n              <Paper elevation={4} className={classes.paper}>\r\n                <LessonPlayerMode />\r\n              </Paper>\r\n            </Slide>\r\n            <Box className={classes.app}>\r\n              <Header />\r\n              <Breadcrumb />\r\n              <Notifier />\r\n              <Box id=\"main-body\" className={classes.mainBody}>\r\n                <AppRouter />\r\n              </Box>\r\n            </Box>\r\n          </SnackbarProvider>\r\n        </ThemeProvider>\r\n      </StylesProvider>\r\n    </ConnectedRouter>\r\n  );\r\n};\r\n\r\ninterface LinkDispatchProps {}\r\n\r\nconst mapStateToProps = (state: AppState) => {\r\n  const { theme } = state.auth;\r\n  const { playMode } = state.melodition;\r\n  return { theme, playMode };\r\n};\r\n\r\nconst conectedApp = connect(mapStateToProps, {})(App);\r\n\r\nexport default conectedApp;\r\n","import App from \"./App\";\r\nimport React from \"react\";\r\nimport { render } from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from \"./_store/store.config\";\r\n\r\nrender(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n","export const REQUEST_PLAYER = \"REQUEST_PLAYER\";\r\nexport const ENTER_PLAYMODE = \"ENTER_PLAYMODE\";\r\nexport const EXIT_PLAYMODE = \"EXIT_PLAYMODE\";\r\nexport const RESIZE_PLAYER = \"RESIZE_PLAYER\";\r\nexport const RESET_PLAYER = \"RESET_PLAYER\";\r\nexport const START_PLAYER = \"START_PLAYER\";\r\nexport const STOP_PLAYER = \"STOP_PLAYER\";\r\n\r\nexport const DRAW_SEEKBAR = \"DRAW_SEEKBAR\";\r\nexport const DRAW_FINGER = \"DRAW_FINGER\";\r\nexport const DRAW_PIANO = \"DRAW_PIANO\";\r\nexport const DRAW_GAME = \"DRAW_GAME\";\r\n\r\nexport interface IMelodition {\r\n  playMode: boolean,\r\n  loading: boolean,\r\n  octave: number,\r\n  tapSize: number,\r\n  songLength: number,\r\n  fingerLoading: boolean,\r\n  pianoLoading: boolean,\r\n  gameLoading: boolean,\r\n  seekLoading: boolean,\r\n  canvasSize?: ICanvas,\r\n  pianoSize?: IPianoSizes[],\r\n  handRefs?: HTMLCollection,\r\n}\r\n\r\nexport interface PlayerDataInfo {\r\n  fingers: string[];\r\n  song: {\r\n    content: string;\r\n    edited: string;\r\n    id: number;\r\n    name: string;\r\n  }\r\n  track: {\r\n    id: number;\r\n    name: string;\r\n  }\r\n}\r\nexport interface IQueue {\r\n  target: any,\r\n  preset: any,\r\n  when: any,\r\n  pitches: any,\r\n  duration: any,\r\n  volume: any,\r\n  slides?: any\r\n}\r\nexport interface IEnvelope {\r\n  envelope: any,\r\n  zone: any,\r\n  volume: any,\r\n  startWhen: any,\r\n  waveDuration: any,\r\n  duration: any\r\n}\r\nexport interface ISetup {\r\n  target: any,\r\n  when: any,\r\n  duration: any\r\n}\r\nexport interface IPianoSizes {\r\n  left: number,\r\n  center: number,\r\n  width: number\r\n  key: string\r\n}\r\nexport interface ICanvas {\r\n  width: number;\r\n  height: number;\r\n  baseLine: number;\r\n  pianoLeft: number;\r\n}\r\nexport interface DrawPiano {\r\n  type: typeof DRAW_PIANO;\r\n  payload?: {\r\n    pianoSize: IPianoSizes[]\r\n    canvasSize: ICanvas\r\n    tapSize: number\r\n  }\r\n}\r\nexport interface DrawGame {\r\n  type: typeof DRAW_GAME;\r\n}\r\nexport interface DrawFinger {\r\n  type: typeof DRAW_FINGER;\r\n}\r\nexport interface DrawSeekbar {\r\n  type: typeof DRAW_SEEKBAR;\r\n}\r\n\r\nexport interface StartPlayers {\r\n  type: typeof START_PLAYER;\r\n}\r\nexport interface StopPlayers {\r\n  type: typeof STOP_PLAYER;\r\n}\r\nexport interface ResizePlayers {\r\n  type: typeof RESIZE_PLAYER;\r\n}\r\n\r\nexport interface ResetPlayers {\r\n  type: typeof RESET_PLAYER;\r\n}\r\nexport interface RequestPlayers {\r\n  type: typeof REQUEST_PLAYER;\r\n  payload: { songLength: number };\r\n}\r\nexport interface EnterPlayModeAction {\r\n  type: typeof ENTER_PLAYMODE;\r\n}\r\nexport interface ExitPlayModeAction {\r\n  type: typeof EXIT_PLAYMODE;\r\n}\r\n\r\nexport type PlayerActionTypes =\r\n  | DrawSeekbar\r\n  | DrawFinger\r\n  | DrawPiano\r\n  | DrawGame\r\n  | ResizePlayers\r\n  | RequestPlayers\r\n  | StartPlayers\r\n  | StopPlayers\r\n  | ResetPlayers\r\n  | EnterPlayModeAction\r\n  | ExitPlayModeAction;\r\n","import {\r\n  LOST_FAILURE,\r\n  LOST_REQUEST,\r\n  LOST_SUCCESS,\r\n  LOGIN_REQUEST,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAILURE,\r\n  REGISTER_FAILURE,\r\n  REGISTER_REQUEST,\r\n  REGISTER_SUCCESS,\r\n  USER_LOGOUT,\r\n  CHANGE_THEME,\r\n  UserActionTypes,\r\n  DefaultUserState,\r\n} from \"../_types/user.types\";\r\nimport { getUserLocal } from \"../_helpers/constants\";\r\n\r\nconst user = getUserLocal(\"user\");\r\nconst storedTheme = localStorage.getItem(\"theme\");\r\nconst theme = storedTheme === \"dark\" ? \"dark\" : \"light\"\r\n\r\nconst initialState: DefaultUserState = user\r\n  ? { loggedIn: true, loading: false, user, theme }\r\n  : { loggedIn: false, loading: false, theme };\r\n\r\nexport function authReducer(\r\n  state = initialState,\r\n  action: UserActionTypes\r\n): DefaultUserState {\r\n  switch (action.type) {\r\n    case LOGIN_REQUEST:\r\n      return { ...state, loading: true };\r\n    case LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loggedIn: true,\r\n        loading: false,\r\n        user: action.user,\r\n      };\r\n    case LOGIN_FAILURE:\r\n      return { ...state, loading: false };\r\n    case REGISTER_REQUEST:\r\n      return { ...state, loggedIn: false, loading: true };\r\n    case REGISTER_SUCCESS:\r\n      return { ...state, loading: false };\r\n    case REGISTER_FAILURE:\r\n      return { ...state, loading: false };\r\n    case LOST_REQUEST:\r\n      return { ...state, loggedIn: false, loading: true };\r\n    case LOST_SUCCESS:\r\n      return { ...state, loading: false };\r\n    case LOST_FAILURE:\r\n      return { ...state, loading: false };\r\n    case USER_LOGOUT:\r\n      return { ...state, loggedIn: false, loading: false };\r\n    case CHANGE_THEME:\r\n      localStorage.setItem(\"theme\", action.theme);\r\n      return { ...state, theme: action.theme };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  // ADD_REQUEST,\r\n  // ADD_SUCCESS,\r\n  // ADD_FAILURE,\r\n  INFO_REQUEST,\r\n  INFO_FAILURE,\r\n  INFO_SUCCESS,\r\n  // REMOVE_REQUEST,\r\n  // REMOVE_SUCCESS,\r\n  // REMOVE_FAILURE,\r\n  ProfileActionTypes,\r\n  SAVE_PROFILE,\r\n  DefaultProfileState,\r\n} from \"../_types/profile.types\";\r\n\r\nconst profileReducerDefaultState: DefaultProfileState = {\r\n  loading: true,\r\n};\r\n\r\nexport function profileReducer(\r\n  state = profileReducerDefaultState,\r\n  action: ProfileActionTypes\r\n): DefaultProfileState {\r\n  switch (action.type) {\r\n    case SAVE_PROFILE:\r\n      return {\r\n        loading: true,\r\n        profile: action.userData,\r\n      };\r\n    case INFO_REQUEST:\r\n      return state;\r\n    case INFO_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        profile: action.profile,\r\n      };\r\n    case INFO_FAILURE:\r\n      return {\r\n        loading: false,\r\n        error: action.error,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  REQUEST_FAVORITES,\r\n  SUCCESS_FAVORITES,\r\n  FAILURE_FAVORITES,\r\n  FavoriteActionTypes,\r\n  DefaultFavoritesState,\r\n} from \"../_types/favorite.types\";\r\n\r\nconst favoriteReducerDefaultState: DefaultFavoritesState = {\r\n  data: [],\r\n  loading: true,\r\n  error: 'Not Found',\r\n  nextLoad: 0,\r\n};\r\n\r\nexport const favoriteReducer = (\r\n  state = favoriteReducerDefaultState,\r\n  action: FavoriteActionTypes\r\n): DefaultFavoritesState => {\r\n  switch (action.type) {\r\n    case REQUEST_FAVORITES:\r\n      return state;\r\n    case SUCCESS_FAVORITES:\r\n      return {\r\n        ...state,\r\n        nextLoad: action.payload.nextLoad,\r\n        data: action.payload.data,\r\n        loading: false,\r\n      };\r\n    case FAILURE_FAVORITES:\r\n      return {\r\n        data: [],\r\n        error: action.error,\r\n        nextLoad: 0,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  DefaultSnackState,\r\n  CLEAR_SNACKBAR,\r\n  SHOW_SNACKBAR,\r\n  SnackActionTypes,\r\n  REMOVE_SNACKBAR,\r\n} from \"../_types/snackbar.types\";\r\n\r\nconst snackbarReducerDefaultState: DefaultSnackState = {\r\n  snackbars: [],\r\n};\r\n\r\nexport const snackbarReducer = (\r\n  state = snackbarReducerDefaultState,\r\n  action: SnackActionTypes\r\n): DefaultSnackState => {\r\n  switch (action.type) {\r\n    case SHOW_SNACKBAR:\r\n      return {\r\n        ...state,\r\n        snackbars: [\r\n          ...state.snackbars,\r\n          {\r\n            ...action.snackbar,\r\n          },\r\n        ],\r\n      };\r\n    case CLEAR_SNACKBAR:\r\n      return {\r\n        ...state,\r\n        snackbars: state.snackbars?.map((snackbar) =>\r\n          action.dismissAll || snackbar.key === action.key\r\n            ? { ...snackbar, dismissed: true }\r\n            : { ...snackbar }\r\n        ),\r\n      };\r\n    case REMOVE_SNACKBAR:\r\n      return {\r\n        ...state,\r\n        snackbars: state.snackbars?.filter(\r\n          (snackbar) => snackbar.key !== action.key\r\n        ),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  PlayerActionTypes,\r\n  REQUEST_PLAYER,\r\n  RESET_PLAYER,\r\n  ENTER_PLAYMODE,\r\n  EXIT_PLAYMODE,\r\n  DRAW_PIANO,\r\n  IMelodition,\r\n  DRAW_GAME,\r\n  DRAW_FINGER,\r\n  RESIZE_PLAYER,\r\n  DRAW_SEEKBAR\r\n} from \"../_types/player.types\";\r\nconst loadings = {\r\n  fingerLoading: true,\r\n  pianoLoading: true,\r\n  gameLoading: true,\r\n  seekLoading: true,\r\n  loading: true,\r\n}\r\nconst defaultPlayer: IMelodition = {\r\n  ...loadings,\r\n  playMode: false,\r\n  octave: 5,\r\n  songLength: 272,\r\n  tapSize: 32,\r\n};\r\nconst resetState: IMelodition = JSON.parse(JSON.stringify(defaultPlayer))\r\n\r\nexport const playerReducer = (\r\n  state = defaultPlayer,\r\n  action: PlayerActionTypes\r\n): IMelodition => {\r\n  switch (action.type) {\r\n    case REQUEST_PLAYER:\r\n      return { ...state, loading: false, ...action.payload };\r\n    case DRAW_PIANO:\r\n      return { ...state, ...action.payload, pianoLoading: false };\r\n    case DRAW_GAME:\r\n      return { ...state, gameLoading: false };\r\n    case DRAW_FINGER:\r\n      return { ...state, fingerLoading: false };\r\n    case DRAW_SEEKBAR:\r\n      return { ...state, seekLoading: false };\r\n    case ENTER_PLAYMODE:\r\n      return {\r\n        ...state,\r\n        ...loadings,\r\n        loading: false,\r\n        playMode: true,\r\n        canvasSize: undefined\r\n      };\r\n    case EXIT_PLAYMODE:\r\n      return {\r\n        ...state,\r\n        ...loadings,\r\n        loading: false,\r\n        playMode: false,\r\n      };\r\n    case RESIZE_PLAYER:\r\n      return { ...state, pianoLoading: true, gameLoading: true };\r\n    case RESET_PLAYER:\r\n      return resetState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  REQUEST_POST,\r\n  SUCCESS_POST,\r\n  FAILURE_POST,\r\n  REQUEST_POSTS,\r\n  SUCCESS_POSTS,\r\n  FAILURE_POSTS,\r\n  PostActionTypes,\r\n  DefaultPostState,\r\n  DefaultPostsState,\r\n} from \"../_types/post.types\";\r\n\r\nconst postsReducerDefaultState: DefaultPostsState = {\r\n  data: [],\r\n  loading: true,\r\n  error: 'Not Found',\r\n  nextLoad: 0,\r\n};\r\n\r\nexport const postsReducer = (\r\n  state = postsReducerDefaultState,\r\n  action: PostActionTypes\r\n): DefaultPostsState => {\r\n  switch (action.type) {\r\n    case REQUEST_POSTS:\r\n      return state;\r\n    case SUCCESS_POSTS:\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n        nextLoad: action.payload.nextLoad,\r\n        loading: false,\r\n      };\r\n    case FAILURE_POSTS:\r\n      return {\r\n        data: [],\r\n        error: action.error,\r\n        nextLoad: 0,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst postReducerDefaultState: DefaultPostState = {\r\n  loading: true,\r\n  error: 'Not Found'\r\n};\r\n\r\nexport const postReducer = (\r\n  state = postReducerDefaultState,\r\n  action: PostActionTypes\r\n): DefaultPostState => {\r\n  switch (action.type) {\r\n    case REQUEST_POST:\r\n      return { ...state, loading: true, data: undefined };\r\n    case SUCCESS_POST:\r\n      if (action.data === undefined) {\r\n        return {\r\n          ...state,\r\n          data: action.data,\r\n          loading: false,\r\n        }\r\n      } else {\r\n        return {\r\n          ...state,\r\n          data: action.data,\r\n          loading: false,\r\n        };\r\n      }\r\n    case FAILURE_POST:\r\n      return {\r\n        ...state,\r\n        error: action.error,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  SAVE_GUIDES,\r\n  REQUEST_GUIDE,\r\n  SUCCESS_GUIDE,\r\n  FAILURE_GUIDE,\r\n  REQUEST_GUIDES,\r\n  SUCCESS_GUIDES,\r\n  FAILURE_GUIDES,\r\n  GuideActionTypes,\r\n  DefaultGuideState,\r\n  DefaultGuidesState,\r\n} from \"../_types/guide.types\";\r\n\r\nconst guidesReducerDefaultState: DefaultGuidesState = {\r\n  data: [],\r\n  loading: true,\r\n  error: \"Not Found\",\r\n  nextLoad: 0,\r\n};\r\n\r\nexport const guidesReducer = (\r\n  state = guidesReducerDefaultState,\r\n  action: GuideActionTypes\r\n): DefaultGuidesState => {\r\n  switch (action.type) {\r\n    case REQUEST_GUIDES:\r\n      return state;\r\n    case SUCCESS_GUIDES:\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n        nextLoad: action.payload.nextLoad,\r\n        loading: false,\r\n      };\r\n    case SAVE_GUIDES:\r\n      let match = false;\r\n      if (state.data.length)\r\n        match = action.data.every(item => state.data.map(_ => _.id === item.id));\r\n      return {\r\n        ...state,\r\n        data: match ? state.data : action.data,\r\n      };\r\n    case FAILURE_GUIDES:\r\n      return {\r\n        data: [],\r\n        error: action.error,\r\n        nextLoad: 0,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst guideReducerDefaultState: DefaultGuideState = {\r\n  loading: true,\r\n  error: \"Not Found\",\r\n};\r\n\r\nexport const guideReducer = (\r\n  state = guideReducerDefaultState,\r\n  action: GuideActionTypes\r\n): DefaultGuideState => {\r\n  switch (action.type) {\r\n    case REQUEST_GUIDE:\r\n      return { ...state, loading: true, data: undefined };\r\n    case SUCCESS_GUIDE:\r\n      return {\r\n        ...state,\r\n        data: action.data,\r\n        loading: false,\r\n      };\r\n    case FAILURE_GUIDE:\r\n      return {\r\n        ...state,\r\n        error: action.error,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  SAVE_LESSONS,\r\n  REQUEST_LESSON,\r\n  SUCCESS_LESSON,\r\n  FAILURE_LESSON,\r\n  REQUEST_LESSONS,\r\n  SUCCESS_LESSONS,\r\n  FAILURE_LESSONS,\r\n  LessonActionTypes,\r\n  DefaultLessonState,\r\n  DefaultLessonsState,\r\n} from \"../_types/lesson.types\";\r\n\r\nconst lessonsReducerDefaultState: DefaultLessonsState = {\r\n  data: [],\r\n  loading: true,\r\n  error: \"Not Found\",\r\n  nextLoad: 0,\r\n};\r\n\r\nexport const lessonsReducer = (\r\n  state = lessonsReducerDefaultState,\r\n  action: LessonActionTypes\r\n): DefaultLessonsState => {\r\n  switch (action.type) {\r\n    case REQUEST_LESSONS:\r\n      return state;\r\n    case SUCCESS_LESSONS:\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n        nextLoad: action.payload.nextLoad,\r\n        loading: false,\r\n      };\r\n    case SAVE_LESSONS:\r\n      let match = false;\r\n      if (state.data.length)\r\n        match = action.data.every(item => state.data.map(_ => _.id === item.id));\r\n      return {\r\n        ...state,\r\n        data: match ? state.data : action.data,\r\n      };\r\n    case FAILURE_LESSONS:\r\n      return {\r\n        data: [],\r\n        error: action.error,\r\n        nextLoad: 0,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst lessonReducerDefaultState: DefaultLessonState = {\r\n  loading: true,\r\n  error: \"Not Found\",\r\n};\r\n\r\nexport const lessonReducer = (\r\n  state = lessonReducerDefaultState,\r\n  action: LessonActionTypes\r\n): DefaultLessonState => {\r\n  switch (action.type) {\r\n    case REQUEST_LESSON:\r\n      return { ...state, loading: true, data: undefined };\r\n    case SUCCESS_LESSON:\r\n      return {\r\n        ...state,\r\n        data: action.data,\r\n        loading: false,\r\n      };\r\n    case FAILURE_LESSON:\r\n      return {\r\n        ...state,\r\n        error: action.error,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  SAVE_COURSES,\r\n  REQUEST_COURSE,\r\n  SUCCESS_COURSE,\r\n  FAILURE_COURSE,\r\n  REQUEST_COURSES,\r\n  SUCCESS_COURSES,\r\n  FAILURE_COURSES,\r\n  CourseActionTypes,\r\n  DefaultCourseState,\r\n  DefaultCoursesState,\r\n} from \"../_types/course.types\";\r\n\r\nconst coursesReducerDefaultState: DefaultCoursesState = {\r\n  data: [],\r\n  loading: true,\r\n  error: \"Not Found\",\r\n  nextLoad: 0,\r\n};\r\n\r\nexport const coursesReducer = (\r\n  state = coursesReducerDefaultState,\r\n  action: CourseActionTypes\r\n): DefaultCoursesState => {\r\n  switch (action.type) {\r\n    case REQUEST_COURSES:\r\n      return state;\r\n    case SUCCESS_COURSES:\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n        nextLoad: action.payload.nextLoad,\r\n        loading: false,\r\n      };\r\n    case SAVE_COURSES:\r\n      let match = false;\r\n      if (state.data.length)\r\n        match = action.data.every(item => state.data.map(_ => _.id === item.id));\r\n      return {\r\n        ...state,\r\n        data: match ? state.data : action.data,\r\n      };\r\n    case FAILURE_COURSES:\r\n      return {\r\n        data: [],\r\n        nextLoad: 0,\r\n        error: action.error,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst courseReducerDefaultState: DefaultCourseState = {\r\n  loading: true,\r\n  error: 'Not Found',\r\n};\r\n\r\nexport const courseReducer = (\r\n  state = courseReducerDefaultState,\r\n  action: CourseActionTypes\r\n): DefaultCourseState => {\r\n  switch (action.type) {\r\n    case REQUEST_COURSE:\r\n      return { ...state, loading: true, data: undefined };\r\n    case SUCCESS_COURSE:\r\n      if (action.data === undefined) {\r\n        return {\r\n          ...state,\r\n          loading: false,\r\n        }\r\n      } else {\r\n        return {\r\n          ...state,\r\n          data: action.data,\r\n          loading: false,\r\n        };\r\n      }\r\n    case FAILURE_COURSE:\r\n      return {\r\n        ...state,\r\n        error: action.error,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  SAVE_EXERCISES,\r\n  REQUEST_EXERCISE,\r\n  SUCCESS_EXERCISE,\r\n  FAILURE_EXERCISE,\r\n  REQUEST_EXERCISES,\r\n  SUCCESS_EXERCISES,\r\n  FAILURE_EXERCISES,\r\n  ExerciseActionTypes,\r\n  DefaultExerciseState,\r\n  DefaultExercisesState,\r\n} from \"../_types/exercise.types\";\r\n\r\nconst exercisesReducerDefaultState: DefaultExercisesState = {\r\n  data: [],\r\n  loading: true,\r\n  error: \"Not Found\",\r\n  nextLoad: 0,\r\n};\r\n\r\nexport const exercisesReducer = (\r\n  state = exercisesReducerDefaultState,\r\n  action: ExerciseActionTypes\r\n): DefaultExercisesState => {\r\n  switch (action.type) {\r\n    case REQUEST_EXERCISES:\r\n      return state;\r\n    case SUCCESS_EXERCISES:\r\n      return {\r\n        ...state,\r\n        data: action.payload.data,\r\n        nextLoad: action.payload.nextLoad,\r\n        loading: false,\r\n      };\r\n    case SAVE_EXERCISES:\r\n      let match = false;\r\n      if (state.data.length)\r\n        match = action.data.every(item => state.data.map(_ => _.id === item.id));\r\n      return {\r\n        ...state,\r\n        data: match ? state.data : action.data,\r\n      };\r\n    case FAILURE_EXERCISES:\r\n      return {\r\n        data: [],\r\n        error: action.error,\r\n        nextLoad: 0,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst exerciseReducerDefaultState: DefaultExerciseState = {\r\n  loading: true,\r\n  error: \"Not Found\",\r\n};\r\n\r\nexport const exerciseReducer = (\r\n  state = exerciseReducerDefaultState,\r\n  action: ExerciseActionTypes\r\n): DefaultExerciseState => {\r\n  switch (action.type) {\r\n    case REQUEST_EXERCISE:\r\n      return { ...state, loading: true, data: undefined };\r\n    case SUCCESS_EXERCISE:\r\n      if (action.data === undefined) {\r\n        return {\r\n          ...state,\r\n          data: action.data,\r\n          loading: false,\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n          data: action.data,\r\n          loading: false,\r\n        };;\r\n      }\r\n    case FAILURE_EXERCISE:\r\n      return {\r\n        ...state,\r\n        error: action.error,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { History } from 'history';\r\nimport { combineReducers } from \"redux\";\r\nimport { connectRouter } from 'connected-react-router'\r\n\r\nimport { authReducer } from \"./user.reducer\";\r\nimport { profileReducer } from \"./profile.reducer\";\r\nimport { favoriteReducer } from \"./favorite.reducer\";\r\nimport { snackbarReducer } from \"./snackbar.reducer\";\r\nimport { playerReducer } from './player.reducer';\r\nimport { postReducer, postsReducer } from \"./post.reducer\";\r\nimport { guideReducer, guidesReducer } from \"./guide.reducer\";\r\nimport { lessonReducer, lessonsReducer } from \"./lesson.reducer\";\r\nimport { courseReducer, coursesReducer } from \"./course.reducer\";\r\nimport { exerciseReducer, exercisesReducer } from \"./exercise.reducer\";\r\n\r\nconst rootReducer = (history: History) => combineReducers({\r\n    router: connectRouter(history),\r\n    single: combineReducers({\r\n        post: postReducer,\r\n        guide: guideReducer,\r\n        course: courseReducer,\r\n        lesson: lessonReducer,\r\n        exercise: exerciseReducer,\r\n    }),\r\n    bank: combineReducers({\r\n        posts: postsReducer,\r\n        guides: guidesReducer,\r\n        courses: coursesReducer,\r\n        lessons: lessonsReducer,\r\n        exercises: exercisesReducer,\r\n    }),\r\n    melodition: playerReducer,\r\n    user: combineReducers({\r\n        profile: profileReducer,\r\n        favorites: favoriteReducer,\r\n    }),\r\n    snackbar: snackbarReducer,\r\n    auth: authReducer,\r\n});\r\n\r\nexport default rootReducer","import { createBrowserHistory } from 'history'\nimport thunk, { ThunkMiddleware } from \"redux-thunk\";\n\nimport { applyMiddleware, compose, createStore } from 'redux'\nimport { routerMiddleware } from 'connected-react-router'\nimport createRootReducer from '../_reducers'\nimport { AppActions, AppState } from '../_types';\n\nexport const history = createBrowserHistory()\n\nexport const store = configureStore();\n\nexport default function configureStore(preloadingState?: any) {\n  const composeEnhancer: typeof compose = (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\n  const store = createStore(\n    createRootReducer(history),\n    preloadingState,\n    composeEnhancer(\n      applyMiddleware(\n        routerMiddleware(history),\n        thunk as ThunkMiddleware<AppState, AppActions>,\n      ),\n    ),\n  )\n\n  return store\n}","import { TransitionProps } from \"@material-ui/core/transitions/transition\";\r\nimport { TransitionHandler, VariantType, TransitionCloseHandler, SnackbarOrigin } from \"notistack/dist\";\r\n\r\nexport const SHOW_SNACKBAR = \"SHOW_SNACKBAR\";\r\nexport const CLEAR_SNACKBAR = \"CLEAR_SNACKBAR\";\r\nexport const REMOVE_SNACKBAR = \"REMOVE_SNACKBAR\";\r\n\r\nexport interface DefaultSnackState {\r\n  type?: string;\r\n  snackbars?: ISnack[];\r\n}\r\nexport type ISnack = {\r\n  message: string;\r\n  key: string;\r\n  dismissed?: boolean;\r\n  options: SnackOption;\r\n};\r\ninterface SnackOption {\r\n  TransitionComponent?: (props: TransitionProps) => JSX.Element;\r\n  autoHideDuration?: number | null;\r\n  anchorOrigin?: SnackbarOrigin;\r\n  variant?: VariantType;\r\n  action?: (key: string) => JSX.Element;\r\n  onClose?: TransitionCloseHandler\r\n  onExited?: TransitionHandler;\r\n}\r\nexport interface SeccessSnackAction {\r\n  type: typeof SHOW_SNACKBAR;\r\n  snackbar: ISnack;\r\n}\r\nexport interface ClearSnackAction {\r\n  type: typeof CLEAR_SNACKBAR;\r\n  dismissAll?: boolean;\r\n  key?: string;\r\n}\r\nexport interface RemoveSnackAction {\r\n  type: typeof REMOVE_SNACKBAR;\r\n  key: string;\r\n}\r\n\r\nexport type SnackActionTypes =\r\n  | SeccessSnackAction\r\n  | ClearSnackAction\r\n  | RemoveSnackAction;\r\n","export const REQUEST_POSTS = \"REQUEST_POSTS\";\r\nexport const SUCCESS_POSTS = \"SUCCESS_POSTS\";\r\nexport const FAILURE_POSTS = \"FAILURE_POSTS\";\r\n\r\nexport const REQUEST_POST = \"REQUEST_POST\";\r\nexport const SUCCESS_POST = \"SUCCESS_POST\";\r\nexport const FAILURE_POST = \"FAILURE_POST\";\r\n\r\nexport interface DefaultPostsState {\r\n  data: IPost[];\r\n  error: string;\r\n  loading: boolean;\r\n  nextLoad: number;\r\n}\r\nexport interface DefaultPostState {\r\n  data?: IPost;\r\n  error: string;\r\n  loading: boolean;\r\n}\r\n\r\nexport interface IPost {\r\n  id: number,\r\n  title: string,\r\n  content: string,\r\n  slug: string,\r\n  excerpt: string,\r\n  date: string,\r\n  author: string,\r\n  featured_img: string,\r\n  categories: string[]\r\n  tags: string[]\r\n}\r\n\r\nexport interface RequestPosts {\r\n  type: typeof REQUEST_POSTS;\r\n}\r\nexport interface SeccessPosts {\r\n  type: typeof SUCCESS_POSTS;\r\n  payload: {\r\n    data: IPost[];\r\n    nextLoad: number;\r\n  }\r\n}\r\nexport interface FailurePosts {\r\n  type: typeof FAILURE_POSTS;\r\n  error: string;\r\n}\r\n\r\nexport interface RequestPost {\r\n  type: typeof REQUEST_POST;\r\n}\r\nexport interface SeccessPost {\r\n  type: typeof SUCCESS_POST;\r\n  data: IPost;\r\n}\r\nexport interface FailurePost {\r\n  type: typeof FAILURE_POST;\r\n  error: string;\r\n}\r\n\r\nexport type PostActionTypes =\r\n  | RequestPosts\r\n  | SeccessPosts\r\n  | FailurePosts\r\n  | RequestPost\r\n  | SeccessPost\r\n  | FailurePost;\r\n","import React from \"react\";\r\nimport { Close } from \"@material-ui/icons\";\r\nimport { store } from \"../../../_store/store.config\";\r\nimport { IconButton, Slide } from \"@material-ui/core\";\r\nimport { TransitionProps } from \"@material-ui/core/transitions/transition\";\r\nimport { UniqId } from \"../../../_helpers/constants\";\r\nimport {\r\n  ISnack,\r\n  CLEAR_SNACKBAR,\r\n  SHOW_SNACKBAR,\r\n} from \"../../../_types/snackbar.types\";\r\nimport { VariantType } from \"notistack\";\r\n\r\nexport const errorHandler = (err: any, target: any): void => {\r\n  const error: string = err.response?.data.message.toString();\r\n  if (error) {\r\n    store.dispatch({ type: target, error });\r\n    store.dispatch({\r\n      type: SHOW_SNACKBAR,\r\n      snackbar: snackBarMaker(error, \"error\"),\r\n    });\r\n  }\r\n};\r\nexport const seccessHandler = (err: any, target: any): void => {\r\n  const error: string = err.response.data.message.toString();\r\n  store.dispatch({ type: target, error });\r\n  store.dispatch({\r\n    type: SHOW_SNACKBAR,\r\n    snackbar: snackBarMaker(error, \"success\"),\r\n  });\r\n};\r\nexport const warningHandler = (err: any, target: any): void => {\r\n  const error: string = err.response.data.message.toString();\r\n  store.dispatch({ type: target, error });\r\n  store.dispatch({\r\n    type: SHOW_SNACKBAR,\r\n    snackbar: snackBarMaker(error, \"warning\"),\r\n  });\r\n};\r\n\r\nexport const snackBarMaker = (\r\n  message: string,\r\n  variant: VariantType\r\n): ISnack => {\r\n  return {\r\n    message: message.replace(/<[^>]+>/g, \"\"),\r\n    key: UniqId(),\r\n    options: {\r\n      TransitionComponent: (props: TransitionProps) => (\r\n        <Slide {...props} direction=\"left\" />\r\n      ),\r\n      anchorOrigin: { horizontal: \"left\", vertical: \"bottom\" },\r\n      variant: variant,\r\n      autoHideDuration: variant === \"error\" ? null : 5000,\r\n      action: (key: string) => (\r\n        <IconButton\r\n          style={{ borderRadius: 5 }}\r\n          color=\"inherit\"\r\n          size=\"small\"\r\n          aria-label=\"close\"\r\n          component=\"span\"\r\n          onClick={() =>\r\n            store.dispatch({\r\n              type: CLEAR_SNACKBAR,\r\n              dismissAll: !key,\r\n              key,\r\n            })\r\n          }\r\n        >\r\n          <Close />\r\n        </IconButton>\r\n      ),\r\n    },\r\n  };\r\n};\r\n","import Axios from \"axios\";\r\nimport { store } from \"../_store/store.config\";\r\nimport { logoutRequest } from \"../_actions/user.actions\";\r\n\r\nexport const authHeader = (): HeadersInit => {\r\n  const localUser = localStorage.getItem(\"user\");\r\n  let user: { token: string } = localUser ? JSON.parse(localUser) : null;\r\n  if (user?.token) {\r\n    return { Authorization: \"Bearer \" + user.token };\r\n  } else {\r\n    return {};\r\n  }\r\n}\r\nexport const API = Axios.create({\r\n  baseURL: \"https://panel.melodition.com/wp-json\",\r\n  headers: authHeader(),\r\n});\r\n\r\nAPI.interceptors.response.use(\r\n  res => {\r\n    return res;\r\n  },\r\n  err => {\r\n    console.log(err)\r\n    if (err.response.status === 403) {\r\n      if (/Expire/.test(err.response.data.code)) {\r\n        store.dispatch(logoutRequest())\r\n      }\r\n    }\r\n    return Promise.reject(err);\r\n  }\r\n)\r\nexport const AudioApi = Axios.create({ method: \"get\", responseType: \"arraybuffer\" });\r\n","import { LoginResponse } from \"../_types/user.types\";\r\nimport fallImg from \"../assets/img/melodition.jpg\";\r\nimport { ThumbnailsInfo } from \"../_types/guide.types\";\r\n\r\nexport interface PathFinder {\r\n  post?: number;\r\n  guide?: number;\r\n  course?: number;\r\n  lesson?: number;\r\n  exercise?: number;\r\n  length: number;\r\n}\r\nexport const pathFinder = (path: string): PathFinder => {\r\n  const pathSplit = path.split(\"/\");\r\n  let compiledPath: PathFinder = { length: 0 };\r\n  if (pathSplit.length === 3) {\r\n    compiledPath = {\r\n      [pathSplit[1]]: Number(pathSplit[2]),\r\n      length: 1,\r\n    };\r\n  } else if (pathSplit.length === 4) {\r\n    const typeSplit = pathSplit[3].split(\"=\");\r\n    compiledPath = {\r\n      [pathSplit[1]]: Number(pathSplit[2]),\r\n      [typeSplit[0]]: Number(typeSplit[1]),\r\n      length: 2,\r\n    };\r\n  } else if (pathSplit.length === 5) {\r\n    const type1Split = pathSplit[3].split(\"=\");\r\n    const type2Split = pathSplit[4].split(\"=\");\r\n    compiledPath = {\r\n      [pathSplit[1]]: Number(pathSplit[2]),\r\n      [type1Split[0]]: Number(type1Split[1]),\r\n      [type2Split[0]]: Number(type2Split[1]),\r\n      length: 3,\r\n    };\r\n  }\r\n  return compiledPath;\r\n};\r\n\r\nexport const getUserLocal = (key: string): LoginResponse => {\r\n  const item = localStorage.getItem(key);\r\n  return item !== null ? JSON.parse(item) : undefined;\r\n};\r\n\r\nexport const getTheTime = (minutes: number = 0): number => {\r\n  var d = new Date();\r\n  var t = d.getTime();\r\n  const ms = minutes * 60000;\r\n  return t + ms;\r\n};\r\n\r\nexport const UniqId = (): string => {\r\n  return getTheTime(Math.random()).toString(36);\r\n};\r\n\r\nexport const thumbnailsFinder = (\r\n  img: string | ThumbnailsInfo | null\r\n): string => {\r\n  let image = fallImg;\r\n  if (img) {\r\n    if (typeof img === \"object\") image = img.medium;\r\n    else if (typeof img === \"string\") image = img;\r\n  }\r\n  return image;\r\n};\r\n\r\nexport const season = [\r\n  \"\",\r\n  \"شروع\",\r\n  \"بخش اول\",\r\n  \"بخش دوم\",\r\n  \"بخش سوم\",\r\n  \"بخش چهارم\",\r\n  \"بخش پنجم\",\r\n  \"بخش ششم\",\r\n  \"بخش هفتم\",\r\n  \"بخش هشتم\",\r\n  \"بخش نهم\",\r\n  \"بخش دهم\",\r\n];","import { Dispatch } from \"react\";\r\nimport { go, goBack, push } from 'connected-react-router'\r\nimport {\r\n  LOGIN_FAILURE,\r\n  LOGIN_REQUEST,\r\n  LOGIN_SUCCESS,\r\n  USER_LOGOUT,\r\n  REGISTER_FAILURE,\r\n  REGISTER_REQUEST,\r\n  REGISTER_SUCCESS,\r\n  LOST_REQUEST,\r\n  LOST_SUCCESS,\r\n  CHANGE_THEME,\r\n  LOST_FAILURE,\r\n  IRegister,\r\n  IUser,\r\n  ILost,\r\n} from \"../_types/user.types\";\r\nimport { AppActions } from \"../_types\";\r\nimport { SHOW_SNACKBAR } from \"../_types/snackbar.types\";\r\nimport { errorHandler, snackBarMaker } from \"../components/Layout/SnackBar/alert\";\r\nimport { API } from \"../_helpers/api\";\r\n\r\nexport const loginRequest = (user: IUser) => (\r\n  (dispatch: Dispatch<AppActions>) => {\r\n    dispatch({ type: LOGIN_REQUEST });\r\n    API.post(`/jwt-auth/v1/token`, user)\r\n      .then(res => {\r\n        dispatch({ type: LOGIN_SUCCESS, user: res.data });\r\n        localStorage.setItem(\"user\", JSON.stringify(res.data));\r\n        API.defaults.headers.common = { Authorization: \"Bearer \" + res.data.token };\r\n        dispatch(goBack());\r\n        dispatch({\r\n          type: SHOW_SNACKBAR,\r\n          snackbar: snackBarMaker(\r\n            `${res.data.user_display_name} logged in successfully.`,\r\n            \"success\"\r\n          ),\r\n        });\r\n      })\r\n      .catch(err => errorHandler(err, LOGIN_FAILURE))\r\n  }\r\n)\r\nexport const changeTheme = (theme: \"light\" | \"dark\") => (\r\n  (dispatch: Dispatch<AppActions>) => {\r\n    dispatch({ type: CHANGE_THEME, theme });\r\n  }\r\n)\r\n\r\nexport const logoutRequest = () => (\r\n  (dispatch: Dispatch<AppActions>) => {\r\n    localStorage.removeItem(\"user\");\r\n    API.defaults.headers.common = {};\r\n    dispatch(go(0));\r\n    dispatch({ type: USER_LOGOUT });\r\n  }\r\n)\r\n\r\nexport const registerRequest = (user: IRegister) => (\r\n  (dispatch: Dispatch<AppActions>) => {\r\n    dispatch({ type: REGISTER_REQUEST });\r\n    API.post(`/jwt-auth/v1/register`, user)\r\n      .then(\r\n        (res) => {\r\n          dispatch({ type: REGISTER_SUCCESS, user: res.data });\r\n          dispatch(push(\"/login\"));\r\n          dispatch({\r\n            type: SHOW_SNACKBAR,\r\n            snackbar: snackBarMaker(res.data.message, \"success\"),\r\n          });\r\n        })\r\n      .catch(err => errorHandler(err, REGISTER_FAILURE))\r\n  }\r\n)\r\n\r\nexport const lostRequest = (user: ILost) => (\r\n  (dispatch: Dispatch<AppActions>) => {\r\n    dispatch({ type: LOST_REQUEST });\r\n\r\n    API.post(`/jwt-auth/v1/lostpassword`, user)\r\n      .then(\r\n        (res) => {\r\n          const message: string = res.data.message.toString();\r\n          dispatch({ type: LOST_SUCCESS, message });\r\n          dispatch(push(\"/login\"));\r\n          dispatch({\r\n            type: SHOW_SNACKBAR,\r\n            snackbar: snackBarMaker(message, \"success\"),\r\n          });\r\n        })\r\n      .catch(err => {\r\n        errorHandler(err, LOST_FAILURE)\r\n      })\r\n  }\r\n)\r\n","export const INFO_REQUEST = \"PROFILE_INFO_REQUEST\";\r\nexport const INFO_SUCCESS = \"PROFILE_INFO_SUCCESS\";\r\nexport const INFO_FAILURE = \"PROFILE_INFO_FAILURE\";\r\n\r\nexport const ADD_REQUEST = \"PROFILE_ADD_REQUEST\";\r\nexport const ADD_SUCCESS = \"PROFILE_ADD_SUCCESS\";\r\nexport const ADD_FAILURE = \"PROFILE_ADD_FAILURE\";\r\n\r\nexport const REMOVE_REQUEST = \"PROFILE_REMOVE_REQUEST\";\r\nexport const REMOVE_SUCCESS = \"PROFILE_REMOVE_SUCCESS\";\r\nexport const REMOVE_FAILURE = \"PROFILE_REMOVE_FAILURE\";\r\n\r\nexport const SAVE_PROFILE = \"SAVE_PROFILE\";\r\nexport const DELETE_PROFILE = \"DELETE_PROFILE\";\r\n\r\nexport interface DefaultProfileState {\r\n  error?: string;\r\n  loading: boolean;\r\n  profile?: IProfile;\r\n}\r\nexport type IProfile = {\r\n  id: string;\r\n  name: string;\r\n  slug: string;\r\n  meta: {\r\n    playtime: Playtime[];\r\n  };\r\n  title: { rendered: string };\r\n  score: { rendered: string };\r\n  favorite: favorite[];\r\n  info?: UserInfo;\r\n};\r\nexport type UserInfo = {\r\n  userID: string;\r\n  expire: number;\r\n  issued: number;\r\n  before: number;\r\n};\r\ntype Playtime = {\r\n  song: {\r\n    name: string;\r\n    id: number;\r\n    notes: number;\r\n  };\r\n  time: string;\r\n  score: string;\r\n  date: string;\r\n  progress: string;\r\n};\r\ninterface favorite {\r\n  id: string;\r\n}\r\n\r\nexport interface SaveProfileInfoAction {\r\n  type: typeof SAVE_PROFILE;\r\n  userData: any;\r\n}\r\nexport interface DeleteProfileInfoAction {\r\n  type: typeof DELETE_PROFILE;\r\n}\r\n\r\nexport interface ProfileInfoRequestAction {\r\n  type: typeof INFO_REQUEST;\r\n}\r\nexport interface ProfileInfoSuccessAction {\r\n  type: typeof INFO_SUCCESS;\r\n  profile: IProfile;\r\n}\r\nexport interface ProfileInfoFailureAction {\r\n  type: typeof INFO_FAILURE;\r\n  error: string;\r\n}\r\n\r\nexport interface ProfileAddRequestAction {\r\n  type: typeof ADD_REQUEST;\r\n}\r\nexport interface ProfileAddSuccessAction {\r\n  type: typeof ADD_SUCCESS;\r\n  items: IProfile;\r\n}\r\nexport interface ProfileAddFailureAction {\r\n  type: typeof ADD_FAILURE;\r\n  items: IProfile;\r\n}\r\n\r\nexport interface ProfileRemoveRequestAction {\r\n  type: typeof REMOVE_REQUEST;\r\n  id: number;\r\n}\r\nexport interface ProfileRemoveSuccessAction {\r\n  type: typeof REMOVE_SUCCESS;\r\n  id: number;\r\n}\r\nexport interface ProfileRemoveFailureAction {\r\n  type: typeof REMOVE_FAILURE;\r\n  error: boolean;\r\n  id: number;\r\n}\r\n\r\nexport type ProfileActionTypes =\r\n  | SaveProfileInfoAction\r\n  | DeleteProfileInfoAction\r\n  | ProfileInfoRequestAction\r\n  | ProfileInfoSuccessAction\r\n  | ProfileInfoFailureAction\r\n  | ProfileAddRequestAction\r\n  | ProfileAddSuccessAction\r\n  | ProfileAddFailureAction\r\n  | ProfileRemoveRequestAction\r\n  | ProfileRemoveSuccessAction\r\n  | ProfileRemoveFailureAction;\r\n","import { ILesson } from \"./lesson.types\";\r\n\r\nexport const REQUEST_EXERCISES = \"REQUEST_EXERCISES\";\r\nexport const SUCCESS_EXERCISES = \"SUCCESS_EXERCISES\";\r\nexport const FAILURE_EXERCISES = \"FAILURE_EXERCISES\";\r\n\r\nexport const SAVE_EXERCISES = \"SAVE_EXERCISES\";\r\n\r\nexport const REQUEST_EXERCISE = \"REQUEST_EXERCISE\";\r\nexport const SUCCESS_EXERCISE = \"SUCCESS_EXERCISE\";\r\nexport const FAILURE_EXERCISE = \"FAILURE_EXERCISE\";\r\n\r\nexport interface DefaultExercisesState {\r\n  data: ILesson[];\r\n  error: string;\r\n  loading: boolean;\r\n  nextLoad: number;\r\n}\r\nexport interface DefaultExerciseState {\r\n  data?: ILesson;\r\n  error: string;\r\n  loading: boolean;\r\n}\r\n\r\nexport interface RequestExercises {\r\n  type: typeof REQUEST_EXERCISES;\r\n}\r\nexport interface SeccessExercises {\r\n  type: typeof SUCCESS_EXERCISES;\r\n  payload: {\r\n    data: ILesson[];\r\n    nextLoad: number;\r\n  }\r\n}\r\n\r\nexport interface SaveExercises {\r\n  type: typeof SAVE_EXERCISES;\r\n  data: ILesson[];\r\n}\r\n\r\nexport interface FailureExercises {\r\n  type: typeof FAILURE_EXERCISES;\r\n  error: string;\r\n}\r\n\r\nexport interface RequestExercise {\r\n  type: typeof REQUEST_EXERCISE;\r\n}\r\nexport interface SeccessExercise {\r\n  type: typeof SUCCESS_EXERCISE;\r\n  data: ILesson;\r\n  error?: string;\r\n}\r\nexport interface FailureExercise {\r\n  type: typeof FAILURE_EXERCISE;\r\n  error: string;\r\n}\r\n\r\nexport type ExerciseActionTypes =\r\n  | RequestExercises\r\n  | SeccessExercises\r\n  | FailureExercises\r\n  | RequestExercise\r\n  | SeccessExercise\r\n  | FailureExercise\r\n  | SaveExercises;\r\n","export const REQUEST_LESSONS = \"REQUEST_LESSONS\";\r\nexport const SUCCESS_LESSONS = \"SUCCESS_LESSONS\";\r\nexport const FAILURE_LESSONS = \"FAILURE_LESSONS\";\r\n\r\nexport const SAVE_LESSONS = \"SAVE_LESSONS\";\r\n\r\nexport const REQUEST_LESSON = \"REQUEST_LESSON\";\r\nexport const SUCCESS_LESSON = \"SUCCESS_LESSON\";\r\nexport const FAILURE_LESSON = \"FAILURE_LESSON\";\r\n\r\nexport interface DefaultLessonsState {\r\n  data: ILesson[];\r\n  error: string;\r\n  loading: boolean;\r\n  nextLoad: number;\r\n}\r\nexport interface DefaultLessonState {\r\n  data?: ILesson;\r\n  error: string;\r\n  loading: boolean;\r\n}\r\n\r\nexport interface ILesson {\r\n  id: number;\r\n  title: string;\r\n  content: string;\r\n  author: string;\r\n  excerpt: string;\r\n  featured_img: string;\r\n  slug: string;\r\n  info: LessonInfo;\r\n}\r\nexport type LessonInfo = {\r\n  series: infoDetails;\r\n  instrument: infoDetails;\r\n  grade: infoDetails;\r\n  genre: infoDetails;\r\n};\r\n\r\ntype infoDetails = {\r\n  name: string,\r\n  id: number,\r\n  img: string,\r\n  color: string,\r\n  description: string\r\n}\r\n\r\nexport interface RequestLessons {\r\n  type: typeof REQUEST_LESSONS;\r\n}\r\nexport interface SeccessLessons {\r\n  type: typeof SUCCESS_LESSONS;\r\n  payload: {\r\n    data: ILesson[];\r\n    nextLoad: number;\r\n  }\r\n}\r\nexport interface FailureLessons {\r\n  type: typeof FAILURE_LESSONS;\r\n  error: string;\r\n}\r\n\r\nexport interface SaveLessons {\r\n  type: typeof SAVE_LESSONS;\r\n  data: ILesson[];\r\n}\r\n\r\nexport interface RequestLesson {\r\n  type: typeof REQUEST_LESSON;\r\n}\r\nexport interface SeccessLesson {\r\n  type: typeof SUCCESS_LESSON;\r\n  data: ILesson;\r\n}\r\nexport interface FailureLesson {\r\n  type: typeof FAILURE_LESSON;\r\n  error: string;\r\n}\r\n\r\n\r\nexport type LessonActionTypes =\r\n  | RequestLessons\r\n  | SeccessLessons\r\n  | FailureLessons\r\n  | RequestLesson\r\n  | SeccessLesson\r\n  | FailureLesson\r\n  | SaveLessons;\r\n","import { ThumbnailsInfo } from \"./guide.types\";\r\nimport { ILesson } from \"./lesson.types\";\r\n\r\nexport const REQUEST_COURSES = \"REQUEST_COURSES\";\r\nexport const SUCCESS_COURSES = \"SUCCESS_COURSES\";\r\nexport const FAILURE_COURSES = \"FAILURE_COURSES\";\r\n\r\nexport const SAVE_COURSES = \"SAVE_COURSES\";\r\n\r\nexport const REQUEST_COURSE = \"REQUEST_COURSE\";\r\nexport const SUCCESS_COURSE = \"SUCCESS_COURSE\";\r\nexport const FAILURE_COURSE = \"FAILURE_COURSE\";\r\n\r\nexport interface DefaultCoursesState {\r\n    data: ICourse[];\r\n    error: string;\r\n    loading: boolean;\r\n    nextLoad: number;\r\n}\r\n\r\nexport interface DefaultCourseState {\r\n    data?: ICourse;\r\n    error: string;\r\n    loading: boolean;\r\n}\r\n\r\nexport interface ICourse {\r\n    title: string;\r\n    id: number;\r\n    slug: string;\r\n    content: string;\r\n    teacher: string;\r\n    description: string;\r\n    instrument_id: number,\r\n    instrument_name: string,\r\n    genre_id: number,\r\n    genre_name: string,\r\n    grade: string,\r\n    color: string,\r\n    thumbnails: ThumbnailsInfo;\r\n    course_select: ILesson[];\r\n}\r\n\r\nexport interface RequestCourses {\r\n    type: typeof REQUEST_COURSES;\r\n}\r\nexport interface SeccessCourses {\r\n    type: typeof SUCCESS_COURSES;\r\n    payload: {\r\n        data: ICourse[];\r\n        nextLoad: number;\r\n    }\r\n}\r\nexport interface FailureCourses {\r\n    type: typeof FAILURE_COURSES;\r\n    error: string;\r\n}\r\n\r\nexport interface SaveGuides {\r\n    type: typeof SAVE_COURSES;\r\n    data: ICourse[];\r\n}\r\n\r\nexport interface RequestCourse {\r\n    type: typeof REQUEST_COURSE;\r\n}\r\nexport interface SeccessCourse {\r\n    type: typeof SUCCESS_COURSE;\r\n    data: ICourse;\r\n}\r\nexport interface FailureCourse {\r\n    type: typeof FAILURE_COURSE;\r\n    error: string;\r\n}\r\n\r\nexport type CourseActionTypes =\r\n    | RequestCourses\r\n    | SeccessCourses\r\n    | FailureCourses\r\n    | RequestCourse\r\n    | SeccessCourse\r\n    | FailureCourse\r\n    | SaveGuides;\r\n","import { ICourse } from \"./course.types\";\r\nimport { ILesson } from \"./lesson.types\";\r\n\r\nexport const REQUEST_GUIDES = \"REQUEST_GUIDES\";\r\nexport const SUCCESS_GUIDES = \"SUCCESS_GUIDES\";\r\nexport const FAILURE_GUIDES = \"FAILURE_GUIDES\";\r\n\r\nexport const SAVE_GUIDES = \"SAVE_GUIDES\";\r\n\r\nexport const REQUEST_GUIDE = \"REQUEST_GUIDE\";\r\nexport const SUCCESS_GUIDE = \"SUCCESS_GUIDE\";\r\nexport const FAILURE_GUIDE = \"FAILURE_GUIDE\";\r\n\r\nexport interface DefaultGuidesState {\r\n    data: IGuide[];\r\n    error: string;\r\n    loading: boolean;\r\n    nextLoad: number;\r\n}\r\nexport interface DefaultGuideState {\r\n    data?: IGuide;\r\n    error: string;\r\n    loading: boolean;\r\n}\r\n\r\nexport interface IGuide {\r\n    title: string;\r\n    id: number;\r\n    slug: string;\r\n    teacher: string;\r\n    description: string;\r\n    instrument_id: number;\r\n    instrument_name: string;\r\n    color: string;\r\n    thumbnails: ThumbnailsInfo;\r\n    guide_select: GuideSelect[];\r\n}\r\nexport type GuideSelect = {\r\n    exercise_description: string;\r\n    exercise: ILesson[];\r\n    course_description: string;\r\n    course: ICourse[];\r\n}\r\nexport type ThumbnailsInfo = {\r\n    thumbnail: string;\r\n    medium: string;\r\n    medium_large: string;\r\n    large: string;\r\n    '1536x1536': string;\r\n    '2048x2048': string;\r\n};\r\n\r\nexport interface RequestGuides {\r\n    type: typeof REQUEST_GUIDES;\r\n}\r\nexport interface SeccessGuides {\r\n    type: typeof SUCCESS_GUIDES;\r\n    payload: {\r\n        data: IGuide[];\r\n        nextLoad: number;\r\n    }\r\n}\r\n\r\nexport interface SaveGuides {\r\n    type: typeof SAVE_GUIDES;\r\n    data: IGuide[];\r\n}\r\n\r\nexport interface FailureGuides {\r\n    type: typeof FAILURE_GUIDES;\r\n    error: string;\r\n}\r\n\r\nexport interface RequestGuide {\r\n    type: typeof REQUEST_GUIDE;\r\n}\r\nexport interface SeccessGuide {\r\n    type: typeof SUCCESS_GUIDE;\r\n    data: IGuide;\r\n}\r\nexport interface FailureGuide {\r\n    type: typeof FAILURE_GUIDE;\r\n    error: string;\r\n}\r\n\r\nexport type GuideActionTypes =\r\n    | RequestGuides\r\n    | SeccessGuides\r\n    | FailureGuides\r\n    | RequestGuide\r\n    | SeccessGuide\r\n    | FailureGuide\r\n    | SaveGuides;\r\n"],"sourceRoot":""}