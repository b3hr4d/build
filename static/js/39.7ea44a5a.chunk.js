(this["webpackJsonpmelodition-typescript"]=this["webpackJsonpmelodition-typescript"]||[]).push([[39],{484:function(e,t,a){"use strict";a.r(t);var n=a(67),r=a(11),c=a(0),i=a.n(c),o=a(24),l=a(33),s=a(22),u=a(143),m=a(479),d=a(260),p=a(142),b=a(485),f=a(480),h=a(295),g=a(255),E=a(256),v=a(257),y=a(258),j=a(259),O=a(2),k=a(76),C=a(197),w=a(245),N=a(477),x=a(403),S=a(432),q=a(486),I=a(271),L=Object(u.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:80}}})),W=function(e){var t=e.input,a=e.value,n=e.data,r=e.handleChange,c=L();return i.a.createElement(x.a,{className:c.formControl},i.a.createElement(S.a,{color:"secondary",shrink:!0},t),i.a.createElement(q.a,{color:"secondary",name:t,value:a?decodeURI(a):"",onChange:r,displayEmpty:!0},i.a.createElement(I.a,{value:""},"\u0647\u06cc\u0686"),n.map((function(e,t){return i.a.createElement(I.a,{key:t,value:e},e)}))))},R=a(26),z=a(38),F=a(90),H=a(9),U=a(23),A=function(e){return function(t,a){var n=a().bank[e],r=Object(z.c)()-n.nextLoad;(!n.data||r>=0)&&(t({type:H.a[e].request}),R.a.get(H.a[e].api).then((function(a){t({type:F.b,payload:B(e,a.data)}),t({type:H.a[e].success,payload:{data:a.data,nextLoad:Object(z.c)(10)}})})).catch((function(t){return Object(U.a)(t,H.a[e].failure)})))}},B=function(e,t){var a=Object(r.a)({},e,{});return t.forEach((function(t){Object.keys(t.info).forEach((function(n){a[e][n]||(a[e][n]=[]),-1===a[e][n].indexOf(t.info[n].name)&&a[e][n].push(t.info[n].name)}))})),a},M=Object(u.a)((function(e){return{header:{position:"relative",display:"flex",justifyContent:"space-between",alignItems:"center"},chips:{"& > *":{margin:e.spacing(.5)}},paper:{margin:e.spacing(1),height:e.spacing(8),display:"flex",justifyContent:"space-evenly"}}})),D=Object(l.c)((function(e,t){return{page:t.page,query:e.router.location.query,filterList:e.search.filterList}}),(function(e){return{requestBank:Object(s.b)(A,e),push:Object(s.b)(o.e,e)}}))((function(e){var t=M(),a=e.page,o=e.filterList,l=e.query,s=e.push,u=e.requestBank,m=Object(c.useState)(!0),d=Object(n.a)(m,2),b=d[0],f=d[1],h=l,g=function(e){delete h[e],v()},E=function(e){var t=e.target.value,a=e.target.name;a&&(t?h=Object(O.a)(Object(O.a)({},h),{},Object(r.a)({},a,t)):g(a)),v()},v=function(){var e="?";Object.keys(h).map((function(t){return t&&(e+=t+"="+h[t]+"&")})),s(e)};Object(c.useEffect)((function(){u(a.name)}),[a,u]);var y=o[a.name];return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:t.header},i.a.createElement(k.a,{variant:"h3"},a.title),i.a.createElement("div",{className:t.chips},Object.keys(h).map((function(e){return e&&i.a.createElement(C.a,{onDelete:function(){return g(e)},key:e,color:"secondary",label:decodeURI(h[e])})})),i.a.createElement(C.a,{icon:i.a.createElement(N.a,null),color:b?"secondary":void 0,label:"\u0641\u06cc\u0644\u062a\u0631",onClick:function(){f((function(e){return!e}))}}))),i.a.createElement(w.a,{in:b},i.a.createElement(p.a,{elevation:4,className:t.paper},Object.keys(y).map((function(e){return i.a.createElement(W,{key:e,input:e,data:y[e],value:l[e],handleChange:E})})))))})),J=a(56),P=a(57),G=a(59),T=a(58),V=a(243),X=a(252),K=a(6),Q=a(247),Y=a(248),Z=a(249),$=a(250),_=a(251),ee=a(193),te=a(144),ae=a(192),ne=a(478),re=a(112),ce=Object(u.a)((function(e){return{rightChip:{backgroundColor:e.palette.background.default,position:"absolute",zIndex:30,width:34,height:34,right:e.spacing(1),top:e.spacing(1)},svgSize:{color:e.palette.secondary.main,width:24,height:24,"&:hover":{color:e.palette.primary.main}},loading:{maxWidth:24,maxHeight:24,color:e.palette.secondary.main}}})),ie=Object(l.c)((function(e){return{user:e.user}}),(function(e){return{addFavorites:Object(s.b)(re.a,e)}}))((function(e){var t,a=e.data,r=e.user,o=e.addFavorites,l=ce(),s=Object(c.useState)(!1),u=Object(n.a)(s,2),m=u[0],d=u[1],p=a.title,b=a.thumbnails,f=a.description,h=a.teacher,g=a.id,E=a.type,v=null===(t=r.favorite)||void 0===t?void 0:t.some((function(e){return e.id===g}));Object(c.useEffect)((function(){r.loading||d(!1)}),[r]);return i.a.createElement(te.a,{size:"small","aria-label":"add to favorites",className:l.rightChip,onClick:function(){d(!0),o({title:p,thumbnails:b,description:f,teacher:h,id:g,type:E})}},m?i.a.createElement(ae.a,{className:l.loading}):v?i.a.createElement(j.a,{className:l.svgSize}):i.a.createElement(ne.a,{className:l.svgSize}))})),oe=a(21),le=Object(u.a)((function(e){return{root:Object(r.a)({width:300,maxHeight:360,position:"relative",margin:e.spacing(2)},e.breakpoints.down(350),{margin:e.spacing(1)}),cardAction:{justifyContent:"space-between",margin:"inherit"},content:{minHeight:150}}})),se=function(e){var t=e.favorite,a=le(),n=t.title,r=t.thumbnails,c=t.description,l=t.teacher,s=t.id,u=t.type,m=function(){oe.b.dispatch(Object(o.e)("/".concat(u,"/").concat(s)))};return i.a.createElement(Q.a,{className:a.root},i.a.createElement(ie,{data:t}),i.a.createElement(Y.a,{onClick:m},i.a.createElement(Z.a,{component:"img",alt:n,height:"140",image:Object(z.g)(r),title:n}),i.a.createElement($.a,{className:a.content},i.a.createElement(k.a,{gutterBottom:!0,variant:"h5",component:"h2"},n),i.a.createElement(k.a,{variant:"body2",color:"textSecondary",component:"p"},c))),i.a.createElement(_.a,{className:a.cardAction},i.a.createElement(k.a,{variant:"body2",color:"textSecondary",component:"p"},"\u0627\u0632 ",l),i.a.createElement(ee.a,{size:"medium",color:"secondary",onClick:m},"\u0627\u062f\u0627\u0645\u0647 \u062f\u0631\u0633")))},ue=a(61),me=function(e){Object(G.a)(a,e);var t=Object(T.a)(a);function a(){return Object(J.a)(this,a),t.apply(this,arguments)}return Object(P.a)(a,[{key:"shouldComponentUpdate",value:function(e){return!e.loading}},{key:"componentDidMount",value:function(){this.props.loading&&this.props.profileRequest()}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.favorite,n=e.error,r=e.classes,c=a?a.length:0;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:r.header},i.a.createElement(k.a,{variant:"h3"},"\u0645\u0648\u0631\u062f\u0639\u0644\u0627\u0642\u0647 \u0647\u0627"),i.a.createElement(C.a,{className:r.chip,color:"secondary",label:"\u062a\u0639\u062f\u0627\u062f: "+c})),i.a.createElement(X.a,{container:!0,justify:"center",className:r.cardList},t?i.a.createElement(ue.a,null):a?a.slice(0).reverse().map((function(e){return i.a.createElement(se,{key:e.id,favorite:e})})):i.a.createElement(k.a,{component:"div",className:r.autoMargin},n)))}}]),a}(c.Component),de=Object(l.c)((function(e,t){return Object(O.a)({classes:t.classes},e.user)}),(function(e){return{profileRequest:Object(s.b)(re.d,e)}}))(Object(K.a)((function(e){return Object(V.a)({header:{position:"relative"},cardList:{minHeight:"calc(100vh - 240px)"},chip:{position:"absolute",right:0,top:0},autoMargin:{margin:"auto"}})}))(me)),pe=a(120),be=Object(u.a)((function(e){return{root:Object(r.a)({width:300,maxHeight:360,position:"relative",margin:e.spacing(2)},e.breakpoints.down(350),{margin:e.spacing(1)}),cardAction:{justifyContent:"space-between",margin:"inherit"},content:{minHeight:150}}})),fe=Object(l.c)((function(){return{}}),(function(e){return{push:Object(s.b)(o.e,e)}}))((function(e){var t=e.lesson,a=e.page,n=e.push,r=be(),c=t.title,o=t.thumbnails,l=t.description,s=t.teacher,u=t.id,m=t.info,d=a.type,p=a.link,b=function(){n(p+"/"+u)};return i.a.createElement(Q.a,{className:r.root},"exercise"===d||"lesson"===d?i.a.createElement(ie,{data:Object(O.a)(Object(O.a)({},t),{},{type:d})}):null,i.a.createElement(pe.a,{labels:m}),i.a.createElement(Y.a,{onClick:b},i.a.createElement(Z.a,{component:"img",alt:c,height:"140",image:Object(z.g)(o),title:c}),i.a.createElement($.a,{className:r.content},i.a.createElement(k.a,{gutterBottom:!0,variant:"h5",component:"h2"},c),i.a.createElement(k.a,{variant:"body2",color:"textSecondary",component:"p"},l))),i.a.createElement(_.a,{className:r.cardAction},i.a.createElement(k.a,{variant:"body2",color:"textSecondary",component:"p"},"\u0627\u0632 ",s),i.a.createElement(ee.a,{size:"medium",color:"secondary",onClick:b},"\u0627\u062f\u0627\u0645\u0647 \u062f\u0631\u0633")))})),he=Object(u.a)((function(e){return{cardList:{minHeight:"calc(100vh - 240px)"},autoMargin:{margin:"auto"}}})),ge=Object(l.c)((function(e){var t=e.router.location.query;return Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]})),{bank:e.bank,query:t}}))((function(e){var t=e.page,a=e.bank,n=e.query,r=he(),c=a[t.name],o=c.loading,l=c.data,s=c.error,u=l.filter((function(e){return Object.keys(n).every((function(t){var a;return(null===(a=e.info[t])||void 0===a?void 0:a.name)===decodeURI(n[t])}))}));return i.a.createElement(X.a,{container:!0,justify:"center",className:r.cardList},o?i.a.createElement(ue.a,null):u.length?u.map((function(e){return i.a.createElement(fe,{key:e.id,lesson:e,page:t})})):i.a.createElement(k.a,{component:"div",className:r.autoMargin},s))})),Ee=[{title:"\u0645\u062c\u0645\u0648\u0639\u0647 \u0647\u0627",type:"guide",link:"/guide",name:"guides",icon:i.a.createElement(g.a,null),label:"GUIDES"},{title:"\u0622\u0645\u0648\u0632\u0634 \u0647\u0627",type:"course",link:"/course",name:"courses",icon:i.a.createElement(E.a,null),label:"COURSES"},{title:"\u062f\u0631\u0633 \u0647\u0627",type:"lesson",link:"/lesson",name:"lessons",icon:i.a.createElement(v.a,null),label:"LESSONS"},{title:"\u062a\u0645\u0631\u06cc\u0646 \u0647\u0627",type:"exercise",link:"/exercise",name:"exercises",icon:i.a.createElement(y.a,null),label:"EXERCISES"},{title:"\u0645\u0648\u0631\u062f\u0639\u0644\u0627\u0642\u0647 \u0647\u0627",type:"favorite",link:"/favorite",name:"favorites",icon:i.a.createElement(j.a,null),label:"FAVORITES"}],ve=function(e){return Ee[e].link},ye=function(e){var t=Ee.find((function(t){return t.link===e}));return t?Ee.indexOf(t):0},je=Object(u.a)((function(e){var t;return{root:{width:"100vw"},tabControl:(t={},Object(r.a)(t,e.breakpoints.down(880),{minWidth:150}),Object(r.a)(t,e.breakpoints.down(830),{minWidth:140}),Object(r.a)(t,e.breakpoints.down(780),{minWidth:120}),Object(r.a)(t,e.breakpoints.down(680),{minWidth:100}),Object(r.a)(t,e.breakpoints.down(500),{minWidth:80}),Object(r.a)(t,e.breakpoints.down(370),{minWidth:65}),Object(r.a)(t,e.breakpoints.down(320),{minWidth:55}),t),tabPanel:{padding:e.spacing(2)}}}));t.default=Object(l.c)((function(e){return{loggedIn:e.auth.loggedIn,pathName:e.router.location.pathname}}),(function(e){return{push:Object(s.b)(o.e,e)}}))((function(e){var t=e.loggedIn,a=e.pathName,r=e.push,o=je(),l=Object(c.useState)(ye(a)),s=Object(n.a)(l,2),u=s[0],g=s[1];Object(c.useEffect)((function(){"/favorite"!==a||t?g(ye(a)):r(ve(0))}),[a,t,r]);var E=Object(m.a)("(min-width:500px)");return i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,{position:"static"},i.a.createElement(p.a,{square:!0},i.a.createElement(b.a,{value:u,onChange:function(e,t){return g(a=t),void r(ve(a));var a},variant:"scrollable",indicatorColor:"secondary",textColor:"secondary",scrollButtons:"desktop","aria-label":"icon label tabs"},Ee.map((function(e,a){return(4!==a||t)&&i.a.createElement(f.a,{className:o.tabControl,key:e.label,icon:e.icon,label:E?e.label:null,id:"full-width-tab-".concat(a),"aria-controls":"full-width-tabpanel-".concat(a)})}))))),Ee.map((function(e,t){return i.a.createElement("div",{key:e.label+t,role:"tabpanel",hidden:u!==t,id:"full-width-tabpanel-".concat(t),"aria-labelledby":"full-width-tab-".concat(t)},u===t&&i.a.createElement(h.a,{className:o.tabPanel},"favorites"!==e.name?i.a.createElement(i.a.Fragment,null,i.a.createElement(D,{page:e}),i.a.createElement(ge,{page:e})):i.a.createElement(de,null)))})))}))}}]);
//# sourceMappingURL=39.7ea44a5a.chunk.js.map